(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Sm={exports:{}},Xo={};var Yv;function RS(){if(Yv)return Xo;Yv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:i,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Xo.Fragment=e,Xo.jsx=n,Xo.jsxs=n,Xo}var Qv;function CS(){return Qv||(Qv=1,Sm.exports=RS()),Sm.exports}var f=CS(),Am={exports:{}},ze={};var $v;function IS(){if($v)return ze;$v=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function V(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,F={};function ie(O,Z,he){this.props=O,this.context=Z,this.refs=F,this.updater=he||G}ie.prototype.isReactComponent={},ie.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},ie.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function se(){}se.prototype=ie.prototype;function re(O,Z,he){this.props=O,this.context=Z,this.refs=F,this.updater=he||G}var Ae=re.prototype=new se;Ae.constructor=re,U(Ae,ie.prototype),Ae.isPureReactComponent=!0;var Ve=Array.isArray;function Oe(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(O,Z,he){var ge=he.ref;return{$$typeof:i,type:O,key:Z,ref:ge!==void 0?ge:null,props:he}}function M(O,Z){return N(O.type,Z,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function P(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return Z[he]})}var R=/\/+/g;function xt(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):Z.toString(36)}function Pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Oe,Oe):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,Z,he,ge,Ie){var qe=typeof O;(qe==="undefined"||qe==="boolean")&&(O=null);var Ke=!1;if(O===null)Ke=!0;else switch(qe){case"bigint":case"string":case"number":Ke=!0;break;case"object":switch(O.$$typeof){case i:case e:Ke=!0;break;case x:return Ke=O._init,Q(Ke(O._payload),Z,he,ge,Ie)}}if(Ke)return Ie=Ie(O),Ke=ge===""?"."+xt(O,0):ge,Ve(Ie)?(he="",Ke!=null&&(he=Ke.replace(R,"$&/")+"/"),Q(Ie,Z,he,"",function(ci){return ci})):Ie!=null&&(D(Ie)&&(Ie=M(Ie,he+(Ie.key==null||O&&O.key===Ie.key?"":(""+Ie.key).replace(R,"$&/")+"/")+Ke)),Z.push(Ie)),1;Ke=0;var Lt=ge===""?".":ge+":";if(Ve(O))for(var Ye=0;Ye<O.length;Ye++)ge=O[Ye],qe=Lt+xt(ge,Ye),Ke+=Q(ge,Z,he,qe,Ie);else if(Ye=V(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(ge=O.next()).done;)ge=ge.value,qe=Lt+xt(ge,Ye++),Ke+=Q(ge,Z,he,qe,Ie);else if(qe==="object"){if(typeof O.then=="function")return Q(Pt(O),Z,he,ge,Ie);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ke}function ce(O,Z,he){if(O==null)return O;var ge=[],Ie=0;return Q(O,ge,"","",function(qe){return Z.call(he,qe,Ie++)}),ge}function Ne(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var it=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},lt={map:ce,forEach:function(O,Z,he){ce(O,function(){Z.apply(this,arguments)},he)},count:function(O){var Z=0;return ce(O,function(){Z++}),Z},toArray:function(O){return ce(O,function(Z){return Z})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ze.Activity=E,ze.Children=lt,ze.Component=ie,ze.Fragment=n,ze.Profiler=l,ze.PureComponent=re,ze.StrictMode=r,ze.Suspense=g,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ze.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},ze.cache=function(O){return function(){return O.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(O,Z,he){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ge=U({},O.props),Ie=O.key;if(Z!=null)for(qe in Z.key!==void 0&&(Ie=""+Z.key),Z)!A.call(Z,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&Z.ref===void 0||(ge[qe]=Z[qe]);var qe=arguments.length-2;if(qe===1)ge.children=he;else if(1<qe){for(var Ke=Array(qe),Lt=0;Lt<qe;Lt++)Ke[Lt]=arguments[Lt+2];ge.children=Ke}return N(O.type,Ie,ge)},ze.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},ze.createElement=function(O,Z,he){var ge,Ie={},qe=null;if(Z!=null)for(ge in Z.key!==void 0&&(qe=""+Z.key),Z)A.call(Z,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ie[ge]=Z[ge]);var Ke=arguments.length-2;if(Ke===1)Ie.children=he;else if(1<Ke){for(var Lt=Array(Ke),Ye=0;Ye<Ke;Ye++)Lt[Ye]=arguments[Ye+2];Ie.children=Lt}if(O&&O.defaultProps)for(ge in Ke=O.defaultProps,Ke)Ie[ge]===void 0&&(Ie[ge]=Ke[ge]);return N(O,qe,Ie)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(O){return{$$typeof:p,render:O}},ze.isValidElement=D,ze.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:Ne}},ze.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},ze.startTransition=function(O){var Z=C.T,he={};C.T=he;try{var ge=O(),Ie=C.S;Ie!==null&&Ie(he,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(Oe,it)}catch(qe){it(qe)}finally{Z!==null&&he.types!==null&&(Z.types=he.types),C.T=Z}},ze.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ze.use=function(O){return C.H.use(O)},ze.useActionState=function(O,Z,he){return C.H.useActionState(O,Z,he)},ze.useCallback=function(O,Z){return C.H.useCallback(O,Z)},ze.useContext=function(O){return C.H.useContext(O)},ze.useDebugValue=function(){},ze.useDeferredValue=function(O,Z){return C.H.useDeferredValue(O,Z)},ze.useEffect=function(O,Z){return C.H.useEffect(O,Z)},ze.useEffectEvent=function(O){return C.H.useEffectEvent(O)},ze.useId=function(){return C.H.useId()},ze.useImperativeHandle=function(O,Z,he){return C.H.useImperativeHandle(O,Z,he)},ze.useInsertionEffect=function(O,Z){return C.H.useInsertionEffect(O,Z)},ze.useLayoutEffect=function(O,Z){return C.H.useLayoutEffect(O,Z)},ze.useMemo=function(O,Z){return C.H.useMemo(O,Z)},ze.useOptimistic=function(O,Z){return C.H.useOptimistic(O,Z)},ze.useReducer=function(O,Z,he){return C.H.useReducer(O,Z,he)},ze.useRef=function(O){return C.H.useRef(O)},ze.useState=function(O){return C.H.useState(O)},ze.useSyncExternalStore=function(O,Z,he){return C.H.useSyncExternalStore(O,Z,he)},ze.useTransition=function(){return C.H.useTransition()},ze.version="19.2.3",ze}var Xv;function Sp(){return Xv||(Xv=1,Am.exports=IS()),Am.exports}var k=Sp(),Nm={exports:{}},Wo={},Rm={exports:{}},Cm={};var Wv;function DS(){return Wv||(Wv=1,(function(i){function e(Q,ce){var Ne=Q.length;Q.push(ce);e:for(;0<Ne;){var it=Ne-1>>>1,lt=Q[it];if(0<l(lt,ce))Q[it]=ce,Q[Ne]=lt,Ne=it;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ce=Q[0],Ne=Q.pop();if(Ne!==ce){Q[0]=Ne;e:for(var it=0,lt=Q.length,O=lt>>>1;it<O;){var Z=2*(it+1)-1,he=Q[Z],ge=Z+1,Ie=Q[ge];if(0>l(he,Ne))ge<lt&&0>l(Ie,he)?(Q[it]=Ie,Q[ge]=Ne,it=ge):(Q[it]=he,Q[Z]=Ne,it=Z);else if(ge<lt&&0>l(Ie,Ne))Q[it]=Ie,Q[ge]=Ne,it=ge;else break e}}return ce}function l(Q,ce){var Ne=Q.sortIndex-ce.sortIndex;return Ne!==0?Ne:Q.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var g=[],y=[],x=1,E=null,S=3,V=!1,G=!1,U=!1,F=!1,ie=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Ae(Q){for(var ce=n(y);ce!==null;){if(ce.callback===null)r(y);else if(ce.startTime<=Q)r(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(y)}}function Ve(Q){if(U=!1,Ae(Q),!G)if(n(g)!==null)G=!0,Oe||(Oe=!0,P());else{var ce=n(y);ce!==null&&Pt(Ve,ce.startTime-Q)}}var Oe=!1,C=-1,A=5,N=-1;function M(){return F?!0:!(i.unstable_now()-N<A)}function D(){if(F=!1,Oe){var Q=i.unstable_now();N=Q;var ce=!0;try{e:{G=!1,U&&(U=!1,se(C),C=-1),V=!0;var Ne=S;try{t:{for(Ae(Q),E=n(g);E!==null&&!(E.expirationTime>Q&&M());){var it=E.callback;if(typeof it=="function"){E.callback=null,S=E.priorityLevel;var lt=it(E.expirationTime<=Q);if(Q=i.unstable_now(),typeof lt=="function"){E.callback=lt,Ae(Q),ce=!0;break t}E===n(g)&&r(g),Ae(Q)}else r(g);E=n(g)}if(E!==null)ce=!0;else{var O=n(y);O!==null&&Pt(Ve,O.startTime-Q),ce=!1}}break e}finally{E=null,S=Ne,V=!1}ce=void 0}}finally{ce?P():Oe=!1}}}var P;if(typeof re=="function")P=function(){re(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,xt=R.port2;R.port1.onmessage=D,P=function(){xt.postMessage(null)}}else P=function(){ie(D,0)};function Pt(Q,ce){C=ie(function(){Q(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var Ne=S;S=ce;try{return Q()}finally{S=Ne}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Ne=S;S=Q;try{return ce()}finally{S=Ne}},i.unstable_scheduleCallback=function(Q,ce,Ne){var it=i.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?it+Ne:it):Ne=it,Q){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=Ne+lt,Q={id:x++,callback:ce,priorityLevel:Q,startTime:Ne,expirationTime:lt,sortIndex:-1},Ne>it?(Q.sortIndex=Ne,e(y,Q),n(g)===null&&Q===n(y)&&(U?(se(C),C=-1):U=!0,Pt(Ve,Ne-it))):(Q.sortIndex=lt,e(g,Q),G||V||(G=!0,Oe||(Oe=!0,P()))),Q},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Q){var ce=S;return function(){var Ne=S;S=ce;try{return Q.apply(this,arguments)}finally{S=Ne}}}})(Cm)),Cm}var Jv;function jS(){return Jv||(Jv=1,Rm.exports=DS()),Rm.exports}var Im={exports:{}},bn={};var Zv;function OS(){if(Zv)return bn;Zv=1;var i=Sp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},bn.flushSync=function(g){var y=d.T,x=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=x,r.d.f()}},bn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},bn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},bn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:V}):x==="script"&&r.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},bn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},bn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},bn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},bn.requestFormReset=function(g){r.d.r(g)},bn.unstable_batchedUpdates=function(g,y){return g(y)},bn.useFormState=function(g,y,x){return d.H.useFormState(g,y,x)},bn.useFormStatus=function(){return d.H.useHostTransitionStatus()},bn.version="19.2.3",bn}var eb;function kS(){if(eb)return Im.exports;eb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=OS(),Im.exports}var tb;function MS(){if(tb)return Wo;tb=1;var i=jS(),e=Sp(),n=kS();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return g(h),t;if(m===o)return g(h),s;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=m;else{for(var b=!1,T=h.child;T;){if(T===a){b=!0,a=h,o=m;break}if(T===o){b=!0,o=h,a=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===a){b=!0,a=m,o=h;break}if(T===o){b=!0,o=m,a=h;break}T=T.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function x(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=x(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case ie:return"Profiler";case F:return"StrictMode";case Ve:return"Suspense";case Oe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case Ae:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return s=t.displayName||null,s!==null?s:xt(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return xt(t(s))}catch{}}return null}var Pt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},it=[],lt=-1;function O(t){return{current:t}}function Z(t){0>lt||(t.current=it[lt],it[lt]=null,lt--)}function he(t,s){lt++,it[lt]=t.current,t.current=s}var ge=O(null),Ie=O(null),qe=O(null),Ke=O(null);function Lt(t,s){switch(he(qe,s),he(Ie,t),he(ge,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?gv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=gv(s),t=yv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ge),he(ge,t)}function Ye(){Z(ge),Z(Ie),Z(qe)}function ci(t){t.memoizedState!==null&&he(Ke,t);var s=ge.current,a=yv(s,t.type);s!==a&&(he(Ie,t),he(ge,a))}function ys(t){Ie.current===t&&(Z(ge),Z(Ie)),Ke.current===t&&(Z(Ke),Ko._currentValue=Ne)}var ui,hi;function Pn(t){if(ui===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ui=s&&s[1]||"",hi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ui+t+hi}var Gi=!1;function di(t,s){if(!t||Gi)return"";Gi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var H=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){H=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){H=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var I=b.split(`
`),q=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===q.length)for(o=I.length-1,h=q.length-1;1<=o&&0<=h&&I[o]!==q[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==q[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==q[h]){var $=`
`+I[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=h);break}}}finally{Gi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Pn(a):""}function on(t,s){switch(t.tag){case 26:case 27:case 5:return Pn(t.type);case 16:return Pn("Lazy");case 13:return t.child!==s&&s!==null?Pn("Suspense Fallback"):Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 15:return di(t.type,!1);case 11:return di(t.type.render,!1);case 1:return di(t.type,!0);case 31:return Pn("Activity");default:return""}}function $r(t){try{var s="",a=null;do s+=on(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Dt=Object.prototype.hasOwnProperty,Ut=i.unstable_scheduleCallback,ks=i.unstable_cancelCallback,Wl=i.unstable_shouldYield,Va=i.unstable_requestPaint,cn=i.unstable_now,fi=i.unstable_getCurrentPriorityLevel,Xr=i.unstable_ImmediatePriority,Wr=i.unstable_UserBlockingPriority,Ms=i.unstable_NormalPriority,te=i.unstable_LowPriority,W=i.unstable_IdlePriority,ae=i.log,le=i.unstable_setDisableYieldValue,me=null,De=null;function Ue(t){if(typeof ae=="function"&&le(t),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(me,t)}catch{}}var ve=Math.clz32?Math.clz32:Te,$e=Math.log,Ee=Math.LN2;function Te(t){return t>>>=0,t===0?32:31-($e(t)/Ee|0)|0}var pe=256,we=262144,be=4194304;function xe(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xe(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~m,o!==0?h=xe(o):(b&=T,b!==0?h=xe(b):a||(a=T&~t,a!==0&&(h=xe(a))))):(T=o&~m,T!==0?h=xe(T):b!==0?h=xe(b):a||(a=o&~t,a!==0&&(h=xe(a)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:h}function St(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Tt(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function Pe(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Qe(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ue(t,s,a,o,h,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=b&~a;0<a;){var $=31-ve(a),ee=1<<$;T[$]=0,I[$]=-1;var H=q[$];if(H!==null)for(q[$]=null,$=0;$<H.length;$++){var Y=H[$];Y!==null&&(Y.lane&=-536870913)}a&=~ee}o!==0&&Ln(t,o,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~s))}function Ln(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-ve(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ki(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-ve(a),h=1<<o;h&s|t[o]&s&&(t[o]|=s),a&=~h}}function Jr(t,s){var a=s&-s;return a=(a&42)!==0?1:Yi(a),(a&(t.suspendedLanes|s))!==0?0:a}function Yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pa(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:zv(t.type))}function Wn(t,s){var a=ce.p;try{return ce.p=t,s()}finally{ce.p=a}}var Un=Math.random().toString(36).slice(2),jt="__reactFiber$"+Un,en="__reactProps$"+Un,Jn="__reactContainer$"+Un,Qi="__reactEvents$"+Un,zc="__reactListeners$"+Un,La="__reactHandles$"+Un,Ot="__reactResources$"+Un,Vs="__reactMarker$"+Un;function Ua(t){delete t[jt],delete t[en],delete t[Qi],delete t[zc],delete t[La]}function Ps(t){var s=t[jt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Jn]||a[jt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=wv(t);t!==null;){if(a=t[jt])return a;t=wv(t)}return s}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[jt]||t[Jn]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function zn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Ls(t){var s=t[Ot];return s||(s=t[Ot]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gt(t){t[Vs]=!0}var Jl=new Set,Zl={};function Us(t,s){zs(t,s),zs(t+"Capture",s)}function zs(t,s){for(Zl[t]=s,t=0;t<s.length;t++)Jl.add(s[t])}var eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),to={},no={};function Bc(t){return Dt.call(no,t)?!0:Dt.call(to,t)?!1:eo.test(t)?no[t]=!0:(to[t]=!0,!1)}function za(t,s,a){if(Bc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Bn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Kt(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $i(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function so(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ft(t){if(!t._valueTracker){var s=$i(t)?"checked":"value";t._valueTracker=so(t,s,""+t[s])}}function Zr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=$i(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function Bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ea=/[\n"\\]/g;function An(t){return t.replace(ea,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ba(t,s,a,o,h,m,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+rn(s)):t.value!==""+rn(s)&&(t.value=""+rn(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?io(t,b,rn(s)):a!=null?io(t,b,rn(a)):o!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+rn(T):t.removeAttribute("name")}function qc(t,s,a,o,h,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){ft(t);return}a=a!=null?""+rn(a):"",s=s!=null?""+rn(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),ft(t)}function io(t,s,a){s==="number"&&Bs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,s,a,o){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Fc(t,s,a){if(s!=null&&(s=""+rn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+rn(a):""}function Wi(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if(Pt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=rn(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),ft(t)}function Nn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ro(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||Hc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function ao(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in s)o=s[h],s.hasOwnProperty(h)&&a[h]!==o&&ro(t,h,o)}else for(var m in s)s.hasOwnProperty(m)&&ro(t,m,s[m])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return Ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function bs(){}var lo=null;function es(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,qs=null;function ta(t){var s=Zn(t);if(s&&(t=s.stateNode)){var a=t[en]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var h=o[en]||null;if(!h)throw Error(r(90));Ba(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&Zr(o)}break e;case"textarea":Fc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Xi(t,!!a.multiple,s,!1)}}}var Ha=!1;function er(t,s,a){if(Ha)return t(s,a);Ha=!0;try{var o=t(s);return o}finally{if(Ha=!1,(Zi!==null||qs!==null)&&(Lu(),Zi&&(s=Zi,t=qs,qs=Zi=null,ta(s),t)))for(s=0;s<t.length;s++)ta(t[s])}}function _s(t,s){var a=t.stateNode;if(a===null)return null;var o=a[en]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(ts)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){na=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{na=!1}var Fs=null,oo=null,sa=null;function co(){if(sa)return sa;var t,s=oo,a=s.length,o,h="value"in Fs?Fs.value:Fs.textContent,m=h.length;for(t=0;t<a&&s[t]===h[t];t++);var b=a-t;for(o=1;o<=b&&s[a-o]===h[m-o];o++);return sa=h.slice(t,1<o?1-o:void 0)}function ia(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function xs(){return!1}function un(t){function s(a,o,h,m,b){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?mi:xs,this.isPropagationStopped=xs,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),s}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=un(pi),tr=E({},pi,{view:0,detail:0}),uo=un(tr),nr,Ga,Gs,Ka=E({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gs&&(Gs&&t.type==="mousemove"?(nr=t.screenX-Gs.screenX,Ga=t.screenY-Gs.screenY):Ga=nr=0,Gs=t),nr)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),ho=un(Ka),ra=E({},Ka,{dataTransfer:0}),Kc=un(ra),Yc=E({},tr,{relatedTarget:0}),aa=un(Yc),fo=E({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=un(fo),Ya=E({},pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$c=un(Ya),Xc=E({},pi,{data:0}),Ks=un(Xc),Wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Zc[t])?!!s[t]:!1}function sr(){return eu}var wn=E({},tr,{key:function(t){if(t.key){var s=Wc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ia(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(t){return t.type==="keypress"?ia(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ia(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tu=un(wn),nu=E({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gi=un(nu),u=E({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),v=un(u),_=E({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=un(_),z=E({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=un(z),oe=E({},pi,{newState:0,oldState:0}),Fe=un(oe),zt=[9,13,27,32],ut=ts&&"CompositionEvent"in window,Rt=null;ts&&"documentMode"in document&&(Rt=document.documentMode);var ns=ts&&"TextEvent"in window&&!Rt,Ys=ts&&(!ut||Rt&&8<Rt&&11>=Rt),Es=" ",Ts=!1;function la(t,s){switch(t){case"keyup":return zt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function JT(t,s){switch(t){case"compositionend":return Qa(s);case"keypress":return s.which!==32?null:(Ts=!0,Es);case"textInput":return t=s.data,t===Es&&Ts?null:t;default:return null}}function ZT(t,s){if($a)return t==="compositionend"||!ut&&la(t,s)?(t=co(),sa=oo=Fs=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ys&&s.locale!=="ko"?null:s.data;default:return null}}var ew={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!ew[t.type]:s==="textarea"}function Rg(t,s,a,o){Zi?qs?qs.push(o):qs=[o]:Zi=o,s=Gu(s,"onChange"),0<s.length&&(a=new Hs("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var mo=null,po=null;function tw(t){uv(t,0)}function su(t){var s=zn(t);if(Zr(s))return t}function Cg(t,s){if(t==="change")return s}var Ig=!1;if(ts){var Dd;if(ts){var jd="oninput"in document;if(!jd){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),jd=typeof Dg.oninput=="function"}Dd=jd}else Dd=!1;Ig=Dd&&(!document.documentMode||9<document.documentMode)}function jg(){mo&&(mo.detachEvent("onpropertychange",Og),po=mo=null)}function Og(t){if(t.propertyName==="value"&&su(po)){var s=[];Rg(s,po,t,es(t)),er(tw,s)}}function nw(t,s,a){t==="focusin"?(jg(),mo=s,po=a,mo.attachEvent("onpropertychange",Og)):t==="focusout"&&jg()}function sw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(po)}function iw(t,s){if(t==="click")return su(s)}function rw(t,s){if(t==="input"||t==="change")return su(s)}function aw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var qn=typeof Object.is=="function"?Object.is:aw;function go(t,s){if(qn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Dt.call(s,h)||!qn(t[h],s[h]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,s){var a=kg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Vg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Vg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Bs(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Bs(t.document)}return s}function Od(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var lw=ts&&"documentMode"in document&&11>=document.documentMode,Xa=null,kd=null,yo=null,Md=!1;function Lg(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Md||Xa==null||Xa!==Bs(o)||(o=Xa,"selectionStart"in o&&Od(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),yo&&go(yo,o)||(yo=o,o=Gu(kd,"onSelect"),0<o.length&&(s=new Hs("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Xa)))}function oa(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Wa={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Vd={},Ug={};ts&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function ca(t){if(Vd[t])return Vd[t];if(!Wa[t])return t;var s=Wa[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ug)return Vd[t]=s[a];return t}var zg=ca("animationend"),Bg=ca("animationiteration"),qg=ca("animationstart"),ow=ca("transitionrun"),cw=ca("transitionstart"),uw=ca("transitioncancel"),Fg=ca("transitionend"),Hg=new Map,Pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pd.push("scrollEnd");function ws(t,s){Hg.set(t,s),Us(s,[t])}var iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ss=[],Ja=0,Ld=0;function ru(){for(var t=Ja,s=Ld=Ja=0;s<t;){var a=ss[s];ss[s++]=null;var o=ss[s];ss[s++]=null;var h=ss[s];ss[s++]=null;var m=ss[s];if(ss[s++]=null,o!==null&&h!==null){var b=o.pending;b===null?h.next=h:(h.next=b.next,b.next=h),o.pending=h}m!==0&&Gg(a,h,m)}}function au(t,s,a,o){ss[Ja++]=t,ss[Ja++]=s,ss[Ja++]=a,ss[Ja++]=o,Ld|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ud(t,s,a,o){return au(t,s,a,o),lu(t)}function ua(t,s){return au(t,null,null,s),lu(t)}function Gg(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&s!==null&&(h=31-ve(a),t=m.hiddenUpdates,o=t[h],o===null?t[h]=[s]:o.push(s),s.lane=a|536870912),m):null}function lu(t){if(50<Uo)throw Uo=0,$f=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Za={};function hw(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,s,a,o){return new hw(t,s,a,o)}function zd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,s){var a=t.alternate;return a===null?(a=Fn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function ou(t,s,a,o,h,m){var b=0;if(o=t,typeof t=="function")zd(t)&&(b=1);else if(typeof t=="string")b=gS(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Fn(31,a,s,h),t.elementType=N,t.lanes=m,t;case U:return ha(a.children,h,m,s);case F:b=8,h|=24;break;case ie:return t=Fn(12,a,s,h|2),t.elementType=ie,t.lanes=m,t;case Ve:return t=Fn(13,a,s,h),t.elementType=Ve,t.lanes=m,t;case Oe:return t=Fn(19,a,s,h),t.elementType=Oe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:b=10;break e;case se:b=9;break e;case Ae:b=11;break e;case C:b=14;break e;case A:b=16,o=null;break e}b=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=Fn(b,a,s,h),s.elementType=t,s.type=o,s.lanes=m,s}function ha(t,s,a,o){return t=Fn(7,t,o,s),t.lanes=a,t}function Bd(t,s,a){return t=Fn(6,t,null,s),t.lanes=a,t}function Yg(t){var s=Fn(18,null,null,0);return s.stateNode=t,s}function qd(t,s,a){return s=Fn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Qg=new WeakMap;function is(t,s){if(typeof t=="object"&&t!==null){var a=Qg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:$r(s)},Qg.set(t,s),s)}return{value:t,source:s,stack:$r(s)}}var el=[],tl=0,cu=null,vo=0,rs=[],as=0,ir=null,Qs=1,$s="";function vi(t,s){el[tl++]=vo,el[tl++]=cu,cu=t,vo=s}function $g(t,s,a){rs[as++]=Qs,rs[as++]=$s,rs[as++]=ir,ir=t;var o=Qs;t=$s;var h=32-ve(o)-1;o&=~(1<<h),a+=1;var m=32-ve(s)+h;if(30<m){var b=h-h%5;m=(o&(1<<b)-1).toString(32),o>>=b,h-=b,Qs=1<<32-ve(s)+h|a<<h|o,$s=m+t}else Qs=1<<m|a<<h|o,$s=t}function Fd(t){t.return!==null&&(vi(t,1),$g(t,1,0))}function Hd(t){for(;t===cu;)cu=el[--tl],el[tl]=null,vo=el[--tl],el[tl]=null;for(;t===ir;)ir=rs[--as],rs[as]=null,$s=rs[--as],rs[as]=null,Qs=rs[--as],rs[as]=null}function Xg(t,s){rs[as++]=Qs,rs[as++]=$s,rs[as++]=ir,Qs=s.id,$s=s.overflow,ir=t}var hn=null,At=null,rt=!1,rr=null,ls=!1,Gd=Error(r(519));function ar(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bo(is(s,t)),Gd}function Wg(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[jt]=t,s[en]=o,a){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(a=0;a<Bo.length;a++)Je(Bo[a],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),qc(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),Wi(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||mv(s.textContent,a)?(o.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),o.onScroll!=null&&Je("scroll",s),o.onScrollEnd!=null&&Je("scrollend",s),o.onClick!=null&&(s.onclick=bs),s=!0):s=!1,s||ar(t,!0)}function Jg(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 31:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:hn=hn.return}}function nl(t){if(t!==hn)return!1;if(!rt)return Jg(t),rt=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||um(t.type,t.memoizedProps)),a=!a),a&&At&&ar(t),Jg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));At=Tv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));At=Tv(t)}else s===27?(s=At,_r(t.type)?(t=pm,pm=null,At=t):At=s):At=hn?cs(t.stateNode.nextSibling):null;return!0}function da(){At=hn=null,rt=!1}function Kd(){var t=rr;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),rr=null),t}function bo(t){rr===null?rr=[t]:rr.push(t)}var Yd=O(null),fa=null,bi=null;function lr(t,s,a){he(Yd,s._currentValue),s._currentValue=a}function _i(t){t._currentValue=Yd.current,Z(Yd)}function Qd(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function $d(t,s,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=h;for(var I=0;I<s.length;I++)if(T.context===s[I]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Qd(m.return,a,t),o||(b=null);break e}m=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(r(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Qd(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function sl(t,s,a,o){t=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var T=h.type;qn(h.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ke.current){if(b=h.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ko):t=[Ko])}h=h.return}t!==null&&$d(s,t,a,o),s.flags|=262144}function uu(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){fa=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function dn(t){return Zg(fa,t)}function hu(t,s){return fa===null&&ma(t),Zg(t,s)}function Zg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},bi===null){if(t===null)throw Error(r(308));bi=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else bi=bi.next=s;return a}var dw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},fw=i.unstable_scheduleCallback,mw=i.unstable_NormalPriority,Yt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new dw,data:new Map,refCount:0}}function _o(t){t.refCount--,t.refCount===0&&fw(mw,function(){t.controller.abort()})}var xo=null,Wd=0,il=0,rl=null;function pw(t,s){if(xo===null){var a=xo=[];Wd=0,il=tm(),rl={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Wd++,s.then(ey,ey),s}function ey(){if(--Wd===0&&xo!==null){rl!==null&&(rl.status="fulfilled");var t=xo;xo=null,il=0,rl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function gw(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ty=Q.S;Q.S=function(t,s){L0=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&pw(t,s),ty!==null&&ty(t,s)};var pa=O(null);function Jd(){var t=pa.current;return t!==null?t:Et.pooledCache}function du(t,s){s===null?he(pa,pa.current):he(pa,s.pool)}function ny(){var t=Jd();return t===null?null:{parent:Yt._currentValue,pool:t}}var al=Error(r(460)),Zd=Error(r(474)),fu=Error(r(542)),mu={then:function(){}};function sy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iy(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(bs,bs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ay(t),t;default:if(typeof s.status=="string")s.then(bs,bs);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=o}},function(o){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ay(t),t}throw ya=s,al}}function ga(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ya=a,al):a}}var ya=null;function ry(){if(ya===null)throw Error(r(459));var t=ya;return ya=null,t}function ay(t){if(t===al||t===fu)throw Error(r(483))}var ll=null,Eo=0;function pu(t){var s=Eo;return Eo+=1,ll===null&&(ll=[]),iy(ll,t,s)}function To(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function gu(t,s){throw s.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function ly(t){function s(L,j){if(t){var B=L.deletions;B===null?(L.deletions=[j],L.flags|=16):B.push(j)}}function a(L,j){if(!t)return null;for(;j!==null;)s(L,j),j=j.sibling;return null}function o(L){for(var j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function h(L,j){return L=yi(L,j),L.index=0,L.sibling=null,L}function m(L,j,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<j?(L.flags|=67108866,j):B):(L.flags|=67108866,j)):(L.flags|=1048576,j)}function b(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,j,B,X){return j===null||j.tag!==6?(j=Bd(B,L.mode,X),j.return=L,j):(j=h(j,B),j.return=L,j)}function I(L,j,B,X){var Re=B.type;return Re===U?$(L,j,B.props.children,X,B.key):j!==null&&(j.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&ga(Re)===j.type)?(j=h(j,B.props),To(j,B),j.return=L,j):(j=ou(B.type,B.key,B.props,null,L.mode,X),To(j,B),j.return=L,j)}function q(L,j,B,X){return j===null||j.tag!==4||j.stateNode.containerInfo!==B.containerInfo||j.stateNode.implementation!==B.implementation?(j=qd(B,L.mode,X),j.return=L,j):(j=h(j,B.children||[]),j.return=L,j)}function $(L,j,B,X,Re){return j===null||j.tag!==7?(j=ha(B,L.mode,X,Re),j.return=L,j):(j=h(j,B),j.return=L,j)}function ee(L,j,B){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Bd(""+j,L.mode,B),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return B=ou(j.type,j.key,j.props,null,L.mode,B),To(B,j),B.return=L,B;case G:return j=qd(j,L.mode,B),j.return=L,j;case A:return j=ga(j),ee(L,j,B)}if(Pt(j)||P(j))return j=ha(j,L.mode,B,null),j.return=L,j;if(typeof j.then=="function")return ee(L,pu(j),B);if(j.$$typeof===re)return ee(L,hu(L,j),B);gu(L,j)}return null}function H(L,j,B,X){var Re=j!==null?j.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Re!==null?null:T(L,j,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return B.key===Re?I(L,j,B,X):null;case G:return B.key===Re?q(L,j,B,X):null;case A:return B=ga(B),H(L,j,B,X)}if(Pt(B)||P(B))return Re!==null?null:$(L,j,B,X,null);if(typeof B.then=="function")return H(L,j,pu(B),X);if(B.$$typeof===re)return H(L,j,hu(L,B),X);gu(L,B)}return null}function Y(L,j,B,X,Re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,T(j,L,""+X,Re);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case V:return L=L.get(X.key===null?B:X.key)||null,I(j,L,X,Re);case G:return L=L.get(X.key===null?B:X.key)||null,q(j,L,X,Re);case A:return X=ga(X),Y(L,j,B,X,Re)}if(Pt(X)||P(X))return L=L.get(B)||null,$(j,L,X,Re,null);if(typeof X.then=="function")return Y(L,j,B,pu(X),Re);if(X.$$typeof===re)return Y(L,j,B,hu(j,X),Re);gu(j,X)}return null}function _e(L,j,B,X){for(var Re=null,ot=null,Se=j,Ge=j=0,et=null;Se!==null&&Ge<B.length;Ge++){Se.index>Ge?(et=Se,Se=null):et=Se.sibling;var ct=H(L,Se,B[Ge],X);if(ct===null){Se===null&&(Se=et);break}t&&Se&&ct.alternate===null&&s(L,Se),j=m(ct,j,Ge),ot===null?Re=ct:ot.sibling=ct,ot=ct,Se=et}if(Ge===B.length)return a(L,Se),rt&&vi(L,Ge),Re;if(Se===null){for(;Ge<B.length;Ge++)Se=ee(L,B[Ge],X),Se!==null&&(j=m(Se,j,Ge),ot===null?Re=Se:ot.sibling=Se,ot=Se);return rt&&vi(L,Ge),Re}for(Se=o(Se);Ge<B.length;Ge++)et=Y(Se,L,Ge,B[Ge],X),et!==null&&(t&&et.alternate!==null&&Se.delete(et.key===null?Ge:et.key),j=m(et,j,Ge),ot===null?Re=et:ot.sibling=et,ot=et);return t&&Se.forEach(function(Sr){return s(L,Sr)}),rt&&vi(L,Ge),Re}function je(L,j,B,X){if(B==null)throw Error(r(151));for(var Re=null,ot=null,Se=j,Ge=j=0,et=null,ct=B.next();Se!==null&&!ct.done;Ge++,ct=B.next()){Se.index>Ge?(et=Se,Se=null):et=Se.sibling;var Sr=H(L,Se,ct.value,X);if(Sr===null){Se===null&&(Se=et);break}t&&Se&&Sr.alternate===null&&s(L,Se),j=m(Sr,j,Ge),ot===null?Re=Sr:ot.sibling=Sr,ot=Sr,Se=et}if(ct.done)return a(L,Se),rt&&vi(L,Ge),Re;if(Se===null){for(;!ct.done;Ge++,ct=B.next())ct=ee(L,ct.value,X),ct!==null&&(j=m(ct,j,Ge),ot===null?Re=ct:ot.sibling=ct,ot=ct);return rt&&vi(L,Ge),Re}for(Se=o(Se);!ct.done;Ge++,ct=B.next())ct=Y(Se,L,Ge,ct.value,X),ct!==null&&(t&&ct.alternate!==null&&Se.delete(ct.key===null?Ge:ct.key),j=m(ct,j,Ge),ot===null?Re=ct:ot.sibling=ct,ot=ct);return t&&Se.forEach(function(NS){return s(L,NS)}),rt&&vi(L,Ge),Re}function bt(L,j,B,X){if(typeof B=="object"&&B!==null&&B.type===U&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case V:e:{for(var Re=B.key;j!==null;){if(j.key===Re){if(Re=B.type,Re===U){if(j.tag===7){a(L,j.sibling),X=h(j,B.props.children),X.return=L,L=X;break e}}else if(j.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&ga(Re)===j.type){a(L,j.sibling),X=h(j,B.props),To(X,B),X.return=L,L=X;break e}a(L,j);break}else s(L,j);j=j.sibling}B.type===U?(X=ha(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=ou(B.type,B.key,B.props,null,L.mode,X),To(X,B),X.return=L,L=X)}return b(L);case G:e:{for(Re=B.key;j!==null;){if(j.key===Re)if(j.tag===4&&j.stateNode.containerInfo===B.containerInfo&&j.stateNode.implementation===B.implementation){a(L,j.sibling),X=h(j,B.children||[]),X.return=L,L=X;break e}else{a(L,j);break}else s(L,j);j=j.sibling}X=qd(B,L.mode,X),X.return=L,L=X}return b(L);case A:return B=ga(B),bt(L,j,B,X)}if(Pt(B))return _e(L,j,B,X);if(P(B)){if(Re=P(B),typeof Re!="function")throw Error(r(150));return B=Re.call(B),je(L,j,B,X)}if(typeof B.then=="function")return bt(L,j,pu(B),X);if(B.$$typeof===re)return bt(L,j,hu(L,B),X);gu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,j!==null&&j.tag===6?(a(L,j.sibling),X=h(j,B),X.return=L,L=X):(a(L,j),X=Bd(B,L.mode,X),X.return=L,L=X),b(L)):a(L,j)}return function(L,j,B,X){try{Eo=0;var Re=bt(L,j,B,X);return ll=null,Re}catch(Se){if(Se===al||Se===fu)throw Se;var ot=Fn(29,Se,null,L.mode);return ot.lanes=X,ot.return=L,ot}}}var va=ly(!0),oy=ly(!1),or=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ht&2)!==0){var h=o.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),o.pending=s,s=lu(t),Gg(t,null,a),s}return au(t,o,s,a),lu(t)}function wo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Ki(t,a)}}function nf(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var sf=!1;function So(){if(sf){var t=rl;if(t!==null)throw t}}function Ao(t,s,a,o){sf=!1;var h=t.updateQueue;or=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,b===null?m=q:b.next=q,b=I;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==b&&(T===null?$.firstBaseUpdate=q:T.next=q,$.lastBaseUpdate=I))}if(m!==null){var ee=h.baseState;b=0,$=q=I=null,T=m;do{var H=T.lane&-536870913,Y=H!==T.lane;if(Y?(Ze&H)===H:(o&H)===H){H!==0&&H===il&&(sf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var _e=t,je=T;H=s;var bt=a;switch(je.tag){case 1:if(_e=je.payload,typeof _e=="function"){ee=_e.call(bt,ee,H);break e}ee=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=je.payload,H=typeof _e=="function"?_e.call(bt,ee,H):_e,H==null)break e;ee=E({},ee,H);break e;case 2:or=!0}}H=T.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(q=$=Y,I=ee):$=$.next=Y,b|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=$,m===null&&(h.shared.lanes=0),pr|=b,t.lanes=b,t.memoizedState=ee}}function cy(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function uy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cy(a[t],s)}var ol=O(null),yu=O(0);function hy(t,s){t=Ci,he(yu,t),he(ol,s),Ci=t|s.baseLanes}function rf(){he(yu,Ci),he(ol,ol.current)}function af(){Ci=yu.current,Z(ol),Z(yu)}var Hn=O(null),os=null;function hr(t){var s=t.alternate;he(Bt,Bt.current&1),he(Hn,t),os===null&&(s===null||ol.current!==null||s.memoizedState!==null)&&(os=t)}function lf(t){he(Bt,Bt.current),he(Hn,t),os===null&&(os=t)}function dy(t){t.tag===22?(he(Bt,Bt.current),he(Hn,t),os===null&&(os=t)):dr()}function dr(){he(Bt,Bt.current),he(Hn,Hn.current)}function Gn(t){Z(Hn),os===t&&(os=null),Z(Bt)}var Bt=O(0);function vu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fm(a)||mm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xi=0,He=null,yt=null,Qt=null,bu=!1,cl=!1,ba=!1,_u=0,No=0,ul=null,yw=0;function kt(){throw Error(r(321))}function of(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!qn(t[a],s[a]))return!1;return!0}function cf(t,s,a,o,h,m){return xi=m,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=t===null||t.memoizedState===null?$y:wf,ba=!1,m=a(o,h),ba=!1,cl&&(m=my(s,a,o,h)),fy(t),m}function fy(t){Q.H=Io;var s=yt!==null&&yt.next!==null;if(xi=0,Qt=yt=He=null,bu=!1,No=0,ul=null,s)throw Error(r(300));t===null||$t||(t=t.dependencies,t!==null&&uu(t)&&($t=!0))}function my(t,s,a,o){He=t;var h=0;do{if(cl&&(ul=null),No=0,cl=!1,25<=h)throw Error(r(301));if(h+=1,Qt=yt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=Xy,m=s(a,o)}while(cl);return m}function vw(){var t=Q.H,s=t.useState()[0];return s=typeof s.then=="function"?Ro(s):s,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(He.flags|=1024),s}function uf(){var t=_u!==0;return _u=0,t}function hf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function df(t){if(bu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}bu=!1}xi=0,Qt=yt=He=null,cl=!1,No=_u=0,ul=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?He.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function qt(){if(yt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var s=Qt===null?He.memoizedState:Qt.next;if(s!==null)Qt=s,yt=t;else{if(t===null)throw He.alternate===null?Error(r(467)):Error(r(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Qt===null?He.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(t){var s=No;return No+=1,ul===null&&(ul=[]),t=iy(ul,t,s),s=He,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?$y:wf),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ro(t);if(t.$$typeof===re)return dn(t)}throw Error(r(438,String(t)))}function ff(t){var s=null,a=He.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=He.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=xu(),He.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=M;return s.index++,a}function Ei(t,s){return typeof s=="function"?s(t):s}function Tu(t){var s=qt();return mf(s,yt,t)}function mf(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,m=o.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}s.baseQueue=h=m,o.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{s=h.next;var T=b=null,I=null,q=s,$=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Ze&ee)===ee:(xi&ee)===ee){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===il&&($=!0);else if((xi&H)===H){q=q.next,H===il&&($=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=ee,b=m):I=I.next=ee,He.lanes|=H,pr|=H;ee=q.action,ba&&a(m,ee),m=q.hasEagerState?q.eagerState:a(m,ee)}else H={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=H,b=m):I=I.next=H,He.lanes|=ee,pr|=ee;q=q.next}while(q!==null&&q!==s);if(I===null?b=m:I.next=T,!qn(m,t.memoizedState)&&($t=!0,$&&(a=rl,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=I,o.lastRenderedState=m}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function pf(t){var s=qt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);qn(m,s.memoizedState)||($t=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,o]}function py(t,s,a){var o=He,h=qt(),m=rt;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var b=!qn((yt||h).memoizedState,a);if(b&&(h.memoizedState=a,$t=!0),h=h.queue,vf(vy.bind(null,o,h,t),[t]),h.getSnapshot!==s||b||Qt!==null&&Qt.memoizedState.tag&1){if(o.flags|=2048,hl(9,{destroy:void 0},yy.bind(null,o,h,a,s),null),Et===null)throw Error(r(349));m||(xi&127)!==0||gy(o,s,a)}return a}function gy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=He.updateQueue,s===null?(s=xu(),He.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function yy(t,s,a,o){s.value=a,s.getSnapshot=o,by(s)&&_y(t)}function vy(t,s,a){return a(function(){by(s)&&_y(t)})}function by(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!qn(t,a)}catch{return!0}}function _y(t){var s=ua(t,2);s!==null&&jn(s,t,2)}function gf(t){var s=Sn();if(typeof t=="function"){var a=t;if(t=a(),ba){Ue(!0);try{a()}finally{Ue(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},s}function xy(t,s,a,o){return t.baseState=a,mf(t,yt,typeof o=="function"?o:Ei)}function bw(t,s,a,o,h){if(Au(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Q.T!==null?a(!0):m.isTransition=!1,o(m),a=s.pending,a===null?(m.next=s.pending=m,Ey(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Ey(t,s){var a=s.action,o=s.payload,h=t.state;if(s.isTransition){var m=Q.T,b={};Q.T=b;try{var T=a(h,o),I=Q.S;I!==null&&I(b,T),Ty(t,s,T)}catch(q){yf(t,s,q)}finally{m!==null&&b.types!==null&&(m.types=b.types),Q.T=m}}else try{m=a(h,o),Ty(t,s,m)}catch(q){yf(t,s,q)}}function Ty(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){wy(t,s,o)},function(o){return yf(t,s,o)}):wy(t,s,a)}function wy(t,s,a){s.status="fulfilled",s.value=a,Sy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Ey(t,a)))}function yf(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,Sy(s),s=s.next;while(s!==o)}t.action=null}function Sy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ay(t,s){return s}function Ny(t,s){if(rt){var a=Et.formState;if(a!==null){e:{var o=He;if(rt){if(At){t:{for(var h=At,m=ls;h.nodeType!==8;){if(!m){h=null;break t}if(h=cs(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){At=cs(h.nextSibling),o=h.data==="F!";break e}}ar(o)}o=!1}o&&(s=a[0])}}return a=Sn(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:s},a.queue=o,a=Ky.bind(null,He,o),o.dispatch=a,o=gf(!1),m=Tf.bind(null,He,!1,o.queue),o=Sn(),h={state:s,dispatch:null,action:t,pending:null},o.queue=h,a=bw.bind(null,He,h,m,a),h.dispatch=a,o.memoizedState=t,[s,a,!1]}function Ry(t){var s=qt();return Cy(s,yt,t)}function Cy(t,s,a){if(s=mf(t,s,Ay)[0],t=Tu(Ei)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=Ro(s)}catch(b){throw b===al?fu:b}else o=s;s=qt();var h=s.queue,m=h.dispatch;return a!==s.memoizedState&&(He.flags|=2048,hl(9,{destroy:void 0},_w.bind(null,h,a),null)),[o,m,t]}function _w(t,s){t.action=s}function Iy(t){var s=qt(),a=yt;if(a!==null)return Cy(s,a,t);qt(),s=s.memoizedState,a=qt();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function hl(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=He.updateQueue,s===null&&(s=xu(),He.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function Dy(){return qt().memoizedState}function wu(t,s,a,o){var h=Sn();He.flags|=t,h.memoizedState=hl(1|s,{destroy:void 0},a,o===void 0?null:o)}function Su(t,s,a,o){var h=qt();o=o===void 0?null:o;var m=h.memoizedState.inst;yt!==null&&o!==null&&of(o,yt.memoizedState.deps)?h.memoizedState=hl(s,m,a,o):(He.flags|=t,h.memoizedState=hl(1|s,m,a,o))}function jy(t,s){wu(8390656,8,t,s)}function vf(t,s){Su(2048,8,t,s)}function xw(t){He.flags|=4;var s=He.updateQueue;if(s===null)s=xu(),He.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Oy(t){var s=qt().memoizedState;return xw({ref:s,nextImpl:t}),function(){if((ht&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function ky(t,s){return Su(4,2,t,s)}function My(t,s){return Su(4,4,t,s)}function Vy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Py(t,s,a){a=a!=null?a.concat([t]):null,Su(4,4,Vy.bind(null,s,t),a)}function bf(){}function Ly(t,s){var a=qt();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&of(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Uy(t,s){var a=qt();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&of(s,o[1]))return o[0];if(o=t(),ba){Ue(!0);try{t()}finally{Ue(!1)}}return a.memoizedState=[o,s],o}function _f(t,s,a){return a===void 0||(xi&1073741824)!==0&&(Ze&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=z0(),He.lanes|=t,pr|=t,a)}function zy(t,s,a,o){return qn(a,s)?a:ol.current!==null?(t=_f(t,a,o),qn(t,s)||($t=!0),t):(xi&42)===0||(xi&1073741824)!==0&&(Ze&261930)===0?($t=!0,t.memoizedState=a):(t=z0(),He.lanes|=t,pr|=t,s)}function By(t,s,a,o,h){var m=ce.p;ce.p=m!==0&&8>m?m:8;var b=Q.T,T={};Q.T=T,Tf(t,!1,s,a);try{var I=h(),q=Q.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=gw(I,o);Co(t,s,$,Qn(t))}else Co(t,s,o,Qn(t))}catch(ee){Co(t,s,{then:function(){},status:"rejected",reason:ee},Qn())}finally{ce.p=m,b!==null&&T.types!==null&&(b.types=T.types),Q.T=b}}function Ew(){}function xf(t,s,a,o){if(t.tag!==5)throw Error(r(476));var h=qy(t).queue;By(t,h,s,Ne,a===null?Ew:function(){return Fy(t),a(o)})}function qy(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:Ne},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Fy(t){var s=qy(t);s.next===null&&(s=t.alternate.memoizedState),Co(t,s.next.queue,{},Qn())}function Ef(){return dn(Ko)}function Hy(){return qt().memoizedState}function Gy(){return qt().memoizedState}function Tw(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Qn();t=cr(a);var o=ur(s,t,a);o!==null&&(jn(o,s,a),wo(o,s,a)),s={cache:Xd()},t.payload=s;return}s=s.return}}function ww(t,s,a){var o=Qn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Au(t)?Yy(s,a):(a=Ud(t,s,a,o),a!==null&&(jn(a,t,o),Qy(a,s,o)))}function Ky(t,s,a){var o=Qn();Co(t,s,a,o)}function Co(t,s,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Au(t))Yy(s,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,T=m(b,a);if(h.hasEagerState=!0,h.eagerState=T,qn(T,b))return au(t,s,h,0),Et===null&&ru(),!1}catch{}if(a=Ud(t,s,h,o),a!==null)return jn(a,t,o),Qy(a,s,o),!0}return!1}function Tf(t,s,a,o){if(o={lane:2,revertLane:tm(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Au(t)){if(s)throw Error(r(479))}else s=Ud(t,a,o,2),s!==null&&jn(s,t,2)}function Au(t){var s=t.alternate;return t===He||s!==null&&s===He}function Yy(t,s){cl=bu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Qy(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,Ki(t,a)}}var Io={readContext:dn,use:Eu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Io.useEffectEvent=kt;var $y={readContext:dn,use:Eu,useCallback:function(t,s){return Sn().memoizedState=[t,s===void 0?null:s],t},useContext:dn,useEffect:jy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,wu(4194308,4,Vy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return wu(4194308,4,t,s)},useInsertionEffect:function(t,s){wu(4,2,t,s)},useMemo:function(t,s){var a=Sn();s=s===void 0?null:s;var o=t();if(ba){Ue(!0);try{t()}finally{Ue(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=Sn();if(a!==void 0){var h=a(s);if(ba){Ue(!0);try{a(s)}finally{Ue(!1)}}}else h=s;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=ww.bind(null,He,t),[o.memoizedState,t]},useRef:function(t){var s=Sn();return t={current:t},s.memoizedState=t},useState:function(t){t=gf(t);var s=t.queue,a=Ky.bind(null,He,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(t,s){var a=Sn();return _f(a,t,s)},useTransition:function(){var t=gf(!1);return t=By.bind(null,He,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=He,h=Sn();if(rt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),Et===null)throw Error(r(349));(Ze&127)!==0||gy(o,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,jy(vy.bind(null,o,m,t),[t]),o.flags|=2048,hl(9,{destroy:void 0},yy.bind(null,o,m,a,s),null),a},useId:function(){var t=Sn(),s=Et.identifierPrefix;if(rt){var a=$s,o=Qs;a=(o&~(1<<32-ve(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=_u++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=yw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Ef,useFormState:Ny,useActionState:Ny,useOptimistic:function(t){var s=Sn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Tf.bind(null,He,!0,a),a.dispatch=s,[t,s]},useMemoCache:ff,useCacheRefresh:function(){return Sn().memoizedState=Tw.bind(null,He)},useEffectEvent:function(t){var s=Sn(),a={impl:t};return s.memoizedState=a,function(){if((ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},wf={readContext:dn,use:Eu,useCallback:Ly,useContext:dn,useEffect:vf,useImperativeHandle:Py,useInsertionEffect:ky,useLayoutEffect:My,useMemo:Uy,useReducer:Tu,useRef:Dy,useState:function(){return Tu(Ei)},useDebugValue:bf,useDeferredValue:function(t,s){var a=qt();return zy(a,yt.memoizedState,t,s)},useTransition:function(){var t=Tu(Ei)[0],s=qt().memoizedState;return[typeof t=="boolean"?t:Ro(t),s]},useSyncExternalStore:py,useId:Hy,useHostTransitionStatus:Ef,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,s){var a=qt();return xy(a,yt,t,s)},useMemoCache:ff,useCacheRefresh:Gy};wf.useEffectEvent=Oy;var Xy={readContext:dn,use:Eu,useCallback:Ly,useContext:dn,useEffect:vf,useImperativeHandle:Py,useInsertionEffect:ky,useLayoutEffect:My,useMemo:Uy,useReducer:pf,useRef:Dy,useState:function(){return pf(Ei)},useDebugValue:bf,useDeferredValue:function(t,s){var a=qt();return yt===null?_f(a,t,s):zy(a,yt.memoizedState,t,s)},useTransition:function(){var t=pf(Ei)[0],s=qt().memoizedState;return[typeof t=="boolean"?t:Ro(t),s]},useSyncExternalStore:py,useId:Hy,useHostTransitionStatus:Ef,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,s){var a=qt();return yt!==null?xy(a,yt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Gy};Xy.useEffectEvent=Oy;function Sf(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Af={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Qn(),h=cr(o);h.payload=s,a!=null&&(h.callback=a),s=ur(t,h,o),s!==null&&(jn(s,t,o),wo(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Qn(),h=cr(o);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=ur(t,h,o),s!==null&&(jn(s,t,o),wo(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Qn(),o=cr(a);o.tag=2,s!=null&&(o.callback=s),s=ur(t,o,a),s!==null&&(jn(s,t,a),wo(s,t,a))}};function Wy(t,s,a,o,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):s.prototype&&s.prototype.isPureReactComponent?!go(a,o)||!go(h,m):!0}function Jy(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&Af.enqueueReplaceState(s,s.state,null)}function _a(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Zy(t){iu(t)}function e0(t){console.error(t)}function t0(t){iu(t)}function Nu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function n0(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,s,a){return a=cr(a),a.tag=3,a.payload={element:null},a.callback=function(){Nu(t,s)},a}function s0(t){return t=cr(t),t.tag=3,t}function i0(t,s,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;t.payload=function(){return h(m)},t.callback=function(){n0(s,a,o)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){n0(s,a,o),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Sw(t,s,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&sl(s,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 31:case 13:return os===null?Uu():a.alternate===null&&Mt===0&&(Mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===mu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Jf(t,o,h)),!1;case 22:return a.flags|=65536,o===mu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Jf(t,o,h)),!1}throw Error(r(435,a.tag))}return Jf(t,o,h),Uu(),!1}if(rt)return s=Hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,o!==Gd&&(t=Error(r(422),{cause:o}),bo(is(t,a)))):(o!==Gd&&(s=Error(r(423),{cause:o}),bo(is(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=is(o,a),h=Nf(t.stateNode,o,h),nf(t,h),Mt!==4&&(Mt=2)),!1;var m=Error(r(520),{cause:o});if(m=is(m,a),Lo===null?Lo=[m]:Lo.push(m),Mt!==4&&(Mt=2),s===null)return!0;o=is(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Nf(a.stateNode,o,t),nf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(gr===null||!gr.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=s0(h),i0(h,t,a,o),nf(a,h),!1}a=a.return}while(a!==null);return!1}var Rf=Error(r(461)),$t=!1;function fn(t,s,a,o){s.child=t===null?oy(s,null,a,o):va(s,t.child,a,o)}function r0(t,s,a,o,h){a=a.render;var m=s.ref;if("ref"in o){var b={};for(var T in o)T!=="ref"&&(b[T]=o[T])}else b=o;return ma(s),o=cf(t,s,a,b,m,h),T=uf(),t!==null&&!$t?(hf(t,s,h),Ti(t,s,h)):(rt&&T&&Fd(s),s.flags|=1,fn(t,s,o,h),s.child)}function a0(t,s,a,o,h){if(t===null){var m=a.type;return typeof m=="function"&&!zd(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,l0(t,s,m,o,h)):(t=ou(a.type,null,o,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Vf(t,h)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:go,a(b,o)&&t.ref===s.ref)return Ti(t,s,h)}return s.flags|=1,t=yi(m,o),t.ref=s.ref,t.return=s,s.child=t}function l0(t,s,a,o,h){if(t!==null){var m=t.memoizedProps;if(go(m,o)&&t.ref===s.ref)if($t=!1,s.pendingProps=o=m,Vf(t,h))(t.flags&131072)!==0&&($t=!0);else return s.lanes=t.lanes,Ti(t,s,h)}return Cf(t,s,a,o,h)}function o0(t,s,a,o){var h=o.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=s.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,s.child=null;return c0(t,s,m,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(s,m!==null?m.cachePool:null),m!==null?hy(s,m):rf(),dy(s);else return o=s.lanes=536870912,c0(t,s,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(du(s,m.cachePool),hy(s,m),dr(),s.memoizedState=null):(t!==null&&du(s,null),rf(),dr());return fn(t,s,h,a),s.child}function Do(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function c0(t,s,a,o,h){var m=Jd();return m=m===null?null:{parent:Yt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&du(s,null),rf(),dy(s),t!==null&&sl(t,s,o,!0),s.childLanes=h,null}function Ru(t,s){return s=Iu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function u0(t,s,a){return va(s,t.child,null,a),t=Ru(s,s.pendingProps),t.flags|=2,Gn(s),s.memoizedState=null,t}function Aw(t,s,a){var o=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(rt){if(o.mode==="hidden")return t=Ru(s,o),s.lanes=536870912,Do(null,t);if(lf(s),(t=At)?(t=Ev(t,ls),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ir!==null?{id:Qs,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},a=Yg(t),a.return=s,s.child=a,hn=s,At=null)):t=null,t===null)throw ar(s);return s.lanes=536870912,null}return Ru(s,o)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(lf(s),h)if(s.flags&256)s.flags&=-257,s=u0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if($t||sl(t,s,a,!1),h=(a&t.childLanes)!==0,$t||h){if(o=Et,o!==null&&(b=Jr(o,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,ua(t,b),jn(o,t,b),Rf;Uu(),s=u0(t,s,a)}else t=m.treeContext,At=cs(b.nextSibling),hn=s,rt=!0,rr=null,ls=!1,t!==null&&Xg(s,t),s=Ru(s,o),s.flags|=4096;return s}return t=yi(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Cu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Cf(t,s,a,o,h){return ma(s),a=cf(t,s,a,o,void 0,h),o=uf(),t!==null&&!$t?(hf(t,s,h),Ti(t,s,h)):(rt&&o&&Fd(s),s.flags|=1,fn(t,s,a,h),s.child)}function h0(t,s,a,o,h,m){return ma(s),s.updateQueue=null,a=my(s,o,a,h),fy(t),o=uf(),t!==null&&!$t?(hf(t,s,m),Ti(t,s,m)):(rt&&o&&Fd(s),s.flags|=1,fn(t,s,a,m),s.child)}function d0(t,s,a,o,h){if(ma(s),s.stateNode===null){var m=Za,b=a.contextType;typeof b=="object"&&b!==null&&(m=dn(b)),m=new a(o,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Af,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=o,m.state=s.memoizedState,m.refs={},ef(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?dn(b):Za,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Sf(s,a,b,o),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Af.enqueueReplaceState(m,m.state,null),Ao(s,o,m,h),So(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){m=s.stateNode;var T=s.memoizedProps,I=_a(a,T);m.props=I;var q=m.context,$=a.contextType;b=Za,typeof $=="object"&&$!==null&&(b=dn($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||q!==b)&&Jy(s,m,o,b),or=!1;var H=s.memoizedState;m.state=H,Ao(s,o,m,h),So(),q=s.memoizedState,T||H!==q||or?(typeof ee=="function"&&(Sf(s,a,ee,o),q=s.memoizedState),(I=or||Wy(s,a,I,o,H,q,b))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=q),m.props=o,m.state=q,m.context=b,o=I):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{m=s.stateNode,tf(t,s),b=s.memoizedProps,$=_a(a,b),m.props=$,ee=s.pendingProps,H=m.context,q=a.contextType,I=Za,typeof q=="object"&&q!==null&&(I=dn(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ee||H!==I)&&Jy(s,m,o,I),or=!1,H=s.memoizedState,m.state=H,Ao(s,o,m,h),So();var Y=s.memoizedState;b!==ee||H!==Y||or||t!==null&&t.dependencies!==null&&uu(t.dependencies)?(typeof T=="function"&&(Sf(s,a,T,o),Y=s.memoizedState),($=or||Wy(s,a,$,o,H,Y,I)||t!==null&&t.dependencies!==null&&uu(t.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,Y,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,Y,I)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=Y),m.props=o,m.state=Y,m.context=I,o=$):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(s.flags|=1024),o=!1)}return m=o,Cu(t,s),o=(s.flags&128)!==0,m||o?(m=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&o?(s.child=va(s,t.child,null,h),s.child=va(s,null,a,h)):fn(t,s,a,h),s.memoizedState=m.state,t=s.child):t=Ti(t,s,h),t}function f0(t,s,a,o){return da(),s.flags|=256,fn(t,s,a,o),s.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:ny()}}function jf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Yn),t}function m0(t,s,a){var o=s.pendingProps,h=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(rt){if(h?hr(s):dr(),(t=At)?(t=Ev(t,ls),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ir!==null?{id:Qs,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},a=Yg(t),a.return=s,s.child=a,hn=s,At=null)):t=null,t===null)throw ar(s);return mm(t)?s.lanes=32:s.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(dr(),h=s.mode,T=Iu({mode:"hidden",children:T},h),o=ha(o,h,a,null),T.return=s,o.return=s,T.sibling=o,s.child=T,o=s.child,o.memoizedState=Df(a),o.childLanes=jf(t,b,a),s.memoizedState=If,Do(null,o)):(hr(s),Of(s,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(m)s.flags&256?(hr(s),s.flags&=-257,s=kf(t,s,a)):s.memoizedState!==null?(dr(),s.child=t.child,s.flags|=128,s=null):(dr(),T=o.fallback,h=s.mode,o=Iu({mode:"visible",children:o.children},h),T=ha(T,h,a,null),T.flags|=2,o.return=s,T.return=s,o.sibling=T,s.child=o,va(s,t.child,null,a),o=s.child,o.memoizedState=Df(a),o.childLanes=jf(t,b,a),s.memoizedState=If,s=Do(null,o));else if(hr(s),mm(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var q=b.dgst;b=q,o=Error(r(419)),o.stack="",o.digest=b,bo({value:o,source:null,stack:null}),s=kf(t,s,a)}else if($t||sl(t,s,a,!1),b=(a&t.childLanes)!==0,$t||b){if(b=Et,b!==null&&(o=Jr(b,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,ua(t,o),jn(b,t,o),Rf;fm(T)||Uu(),s=kf(t,s,a)}else fm(T)?(s.flags|=192,s.child=t.child,s=null):(t=I.treeContext,At=cs(T.nextSibling),hn=s,rt=!0,rr=null,ls=!1,t!==null&&Xg(s,t),s=Of(s,o.children),s.flags|=4096);return s}return h?(dr(),T=o.fallback,h=s.mode,I=t.child,q=I.sibling,o=yi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,q!==null?T=yi(q,T):(T=ha(T,h,a,null),T.flags|=2),T.return=s,o.return=s,o.sibling=T,s.child=o,Do(null,o),o=s.child,T=t.child.memoizedState,T===null?T=Df(a):(h=T.cachePool,h!==null?(I=Yt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ny(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=jf(t,b,a),s.memoizedState=If,Do(t.child,o)):(hr(s),a=t.child,t=a.sibling,a=yi(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=a,s.memoizedState=null,a)}function Of(t,s){return s=Iu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Iu(t,s){return t=Fn(22,t,null,s),t.lanes=0,t}function kf(t,s,a){return va(s,t.child,null,a),t=Of(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function p0(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Qd(t.return,s,a)}function Mf(t,s,a,o,h,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=o,b.tail=a,b.tailMode=h,b.treeForkCount=m)}function g0(t,s,a){var o=s.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var b=Bt.current,T=(b&2)!==0;if(T?(b=b&1|2,s.flags|=128):b&=1,he(Bt,b),fn(t,s,o,a),o=rt?vo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p0(t,a,s);else if(t.tag===19)p0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&vu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Mf(s,!1,h,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&vu(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Mf(s,!0,a,null,m,o);break;case"together":Mf(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function Ti(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),pr|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(sl(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=yi(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=yi(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Vf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&uu(t)))}function Nw(t,s,a){switch(s.tag){case 3:Lt(s,s.stateNode.containerInfo),lr(s,Yt,t.memoizedState.cache),da();break;case 27:case 5:ci(s);break;case 4:Lt(s,s.stateNode.containerInfo);break;case 10:lr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,lf(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(hr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?m0(t,s,a):(hr(s),t=Ti(t,s,a),t!==null?t.sibling:null);hr(s);break;case 19:var h=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(sl(t,s,a,!1),o=(a&s.childLanes)!==0),h){if(o)return g0(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),he(Bt,Bt.current),o)break;return null;case 22:return s.lanes=0,o0(t,s,a,s.pendingProps);case 24:lr(s,Yt,t.memoizedState.cache)}return Ti(t,s,a)}function y0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)$t=!0;else{if(!Vf(t,a)&&(s.flags&128)===0)return $t=!1,Nw(t,s,a);$t=(t.flags&131072)!==0}else $t=!1,rt&&(s.flags&1048576)!==0&&$g(s,vo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=ga(s.elementType),s.type=t,typeof t=="function")zd(t)?(o=_a(t,o),s.tag=1,s=d0(null,s,t,o,a)):(s.tag=0,s=Cf(null,s,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ae){s.tag=11,s=r0(null,s,t,o,a);break e}else if(h===C){s.tag=14,s=a0(null,s,t,o,a);break e}}throw s=xt(t)||t,Error(r(306,s,""))}}return s;case 0:return Cf(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,h=_a(o,s.pendingProps),d0(t,s,o,h,a);case 3:e:{if(Lt(s,s.stateNode.containerInfo),t===null)throw Error(r(387));o=s.pendingProps;var m=s.memoizedState;h=m.element,tf(t,s),Ao(s,o,null,a);var b=s.memoizedState;if(o=b.cache,lr(s,Yt,o),o!==m.cache&&$d(s,[Yt],a,!0),So(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=f0(t,s,o,a);break e}else if(o!==h){h=is(Error(r(424)),s),bo(h),s=f0(t,s,o,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,At=cs(t.firstChild),hn=s,rt=!0,rr=null,ls=!0,a=oy(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(da(),o===h){s=Ti(t,s,a);break e}fn(t,s,o,a)}s=s.child}return s;case 26:return Cu(t,s),t===null?(a=Rv(s.type,null,s.pendingProps,null))?s.memoizedState=a:rt||(a=s.type,t=s.pendingProps,o=Ku(qe.current).createElement(a),o[jt]=s,o[en]=t,mn(o,a,t),Gt(o),s.stateNode=o):s.memoizedState=Rv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ci(s),t===null&&rt&&(o=s.stateNode=Sv(s.type,s.pendingProps,qe.current),hn=s,ls=!0,h=At,_r(s.type)?(pm=h,At=cs(o.firstChild)):At=h),fn(t,s,s.pendingProps.children,a),Cu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&rt&&((h=o=At)&&(o=sS(o,s.type,s.pendingProps,ls),o!==null?(s.stateNode=o,hn=s,At=cs(o.firstChild),ls=!1,h=!0):h=!1),h||ar(s)),ci(s),h=s.type,m=s.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,um(h,m)?o=null:b!==null&&um(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=cf(t,s,vw,null,null,a),Ko._currentValue=h),Cu(t,s),fn(t,s,o,a),s.child;case 6:return t===null&&rt&&((t=a=At)&&(a=iS(a,s.pendingProps,ls),a!==null?(s.stateNode=a,hn=s,At=null,t=!0):t=!1),t||ar(s)),null;case 13:return m0(t,s,a);case 4:return Lt(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=va(s,null,o,a):fn(t,s,o,a),s.child;case 11:return r0(t,s,s.type,s.pendingProps,a);case 7:return fn(t,s,s.pendingProps,a),s.child;case 8:return fn(t,s,s.pendingProps.children,a),s.child;case 12:return fn(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,lr(s,s.type,o.value),fn(t,s,o.children,a),s.child;case 9:return h=s.type._context,o=s.pendingProps.children,ma(s),h=dn(h),o=o(h),s.flags|=1,fn(t,s,o,a),s.child;case 14:return a0(t,s,s.type,s.pendingProps,a);case 15:return l0(t,s,s.type,s.pendingProps,a);case 19:return g0(t,s,a);case 31:return Aw(t,s,a);case 22:return o0(t,s,a,s.pendingProps);case 24:return ma(s),o=dn(Yt),t===null?(h=Jd(),h===null&&(h=Et,m=Xd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),s.memoizedState={parent:o,cache:h},ef(s),lr(s,Yt,h)):((t.lanes&a)!==0&&(tf(t,s),Ao(s,null,null,a),So()),h=t.memoizedState,m=s.memoizedState,h.parent!==o?(h={parent:o,cache:o},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),lr(s,Yt,o)):(o=m.cache,lr(s,Yt,o),o!==h.cache&&$d(s,[Yt],a,!0))),fn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function wi(t){t.flags|=4}function Pf(t,s,a,o,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(H0())t.flags|=8192;else throw ya=mu,Zd}else t.flags&=-16777217}function v0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ov(s))if(H0())t.flags|=8192;else throw ya=mu,Zd}function Du(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?de():536870912,t.lanes|=s,pl|=s)}function jo(t,s){if(!rt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Nt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function Rw(t,s,a){var o=s.pendingProps;switch(Hd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),_i(Yt),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(nl(s)?wi(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kd())),Nt(s),null;case 26:var h=s.type,m=s.memoizedState;return t===null?(wi(s),m!==null?(Nt(s),v0(s,m)):(Nt(s),Pf(s,h,null,o,a))):m?m!==t.memoizedState?(wi(s),Nt(s),v0(s,m)):(Nt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&wi(s),Nt(s),Pf(s,h,t,o,a)),null;case 27:if(ys(s),a=qe.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&wi(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return Nt(s),null}t=ge.current,nl(s)?Wg(s):(t=Sv(h,o,a),s.stateNode=t,wi(s))}return Nt(s),null;case 5:if(ys(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&wi(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return Nt(s),null}if(m=ge.current,nl(s))Wg(s);else{var b=Ku(qe.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?b.createElement("select",{is:o.is}):b.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?b.createElement(h,{is:o.is}):b.createElement(h)}}m[jt]=s,m[en]=o;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(mn(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&wi(s)}}return Nt(s),Pf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&wi(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=qe.current,nl(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,h=hn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[jt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||mv(t.nodeValue,a)),t||ar(s,!0)}else t=Ku(t).createTextNode(o),t[jt]=s,s.stateNode=t}return Nt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=nl(s),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[jt]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),t=!1}else a=Kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Gn(s),s):(Gn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Nt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=nl(s),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[jt]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),h=!1}else h=Kd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Gn(s),s):(Gn(s),null)}return Gn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Du(s,s.updateQueue),Nt(s),null);case 4:return Ye(),t===null&&rm(s.stateNode.containerInfo),Nt(s),null;case 10:return _i(s.type),Nt(s),null;case 19:if(Z(Bt),o=s.memoizedState,o===null)return Nt(s),null;if(h=(s.flags&128)!==0,m=o.rendering,m===null)if(h)jo(o,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=vu(t),m!==null){for(s.flags|=128,jo(o,!1),t=m.updateQueue,s.updateQueue=t,Du(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Kg(a,t),a=a.sibling;return he(Bt,Bt.current&1|2),rt&&vi(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&cn()>Vu&&(s.flags|=128,h=!0,jo(o,!1),s.lanes=4194304)}else{if(!h)if(t=vu(m),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,Du(s,t),jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!rt)return Nt(s),null}else 2*cn()-o.renderingStartTime>Vu&&a!==536870912&&(s.flags|=128,h=!0,jo(o,!1),s.lanes=4194304);o.isBackwards?(m.sibling=s.child,s.child=m):(t=o.last,t!==null?t.sibling=m:s.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=cn(),t.sibling=null,a=Bt.current,he(Bt,h?a&1|2:a&1),rt&&vi(s,o.treeForkCount),t):(Nt(s),null);case 22:case 23:return Gn(s),af(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),a=s.updateQueue,a!==null&&Du(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&Z(pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),_i(Yt),Nt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Cw(t,s){switch(Hd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return _i(Yt),Ye(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ys(s),null;case 31:if(s.memoizedState!==null){if(Gn(s),s.alternate===null)throw Error(r(340));da()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Gn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));da()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Z(Bt),null;case 4:return Ye(),null;case 10:return _i(s.type),null;case 22:case 23:return Gn(s),af(),t!==null&&Z(pa),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return _i(Yt),null;case 25:return null;default:return null}}function b0(t,s){switch(Hd(s),s.tag){case 3:_i(Yt),Ye();break;case 26:case 27:case 5:ys(s);break;case 4:Ye();break;case 31:s.memoizedState!==null&&Gn(s);break;case 13:Gn(s);break;case 19:Z(Bt);break;case 10:_i(s.type);break;case 22:case 23:Gn(s),af(),t!==null&&Z(pa);break;case 24:_i(Yt)}}function Oo(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var m=a.create,b=a.inst;o=m(),b.destroy=o}a=a.next}while(a!==h)}}catch(T){pt(s,s.return,T)}}function fr(t,s,a){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&t)===t){var b=o.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=s;var I=a,q=T;try{q()}catch($){pt(h,I,$)}}}o=o.next}while(o!==m)}}catch($){pt(s,s.return,$)}}function _0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{uy(s,a)}catch(o){pt(t,t.return,o)}}}function x0(t,s,a){a.props=_a(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){pt(t,s,o)}}function ko(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){pt(t,s,h)}}function Xs(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){pt(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){pt(t,s,h)}else a.current=null}function E0(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){pt(t,t.return,h)}}function Lf(t,s,a){try{var o=t.stateNode;Ww(o,t.type,a,s),o[en]=s}catch(h){pt(t,t.return,h)}}function T0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&_r(t.type)||t.tag===4}function Uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&_r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=bs));else if(o!==4&&(o===27&&_r(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(zf(t,s,a),t=t.sibling;t!==null;)zf(t,s,a),t=t.sibling}function ju(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&_r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ju(t,s,a),t=t.sibling;t!==null;)ju(t,s,a),t=t.sibling}function w0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);mn(s,o,a),s[jt]=t,s[en]=a}catch(m){pt(t,t.return,m)}}var Si=!1,Xt=!1,Bf=!1,S0=typeof WeakSet=="function"?WeakSet:Set,an=null;function Iw(t,s){if(t=t.containerInfo,om=Zu,t=Pg(t),Od(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,T=-1,I=-1,q=0,$=0,ee=t,H=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(T=b+h),ee!==m||o!==0&&ee.nodeType!==3||(I=b+o),ee.nodeType===3&&(b+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)H=ee,ee=Y;for(;;){if(ee===t)break t;if(H===a&&++q===h&&(T=b),H===m&&++$===o&&(I=b),(Y=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=Y}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(cm={focusedElem:t,selectionRange:a},Zu=!1,an=s;an!==null;)if(s=an,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,an=t;else for(;an!==null;){switch(s=an,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,h=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var _e=_a(a.type,h);t=o.getSnapshotBeforeUpdate(_e,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(je){pt(a,a.return,je)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)dm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,an=t;break}an=s.return}}function A0(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ni(t,a),o&4&&Oo(5,a);break;case 1:if(Ni(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(b){pt(a,a.return,b)}else{var h=_a(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){pt(a,a.return,b)}}o&64&&_0(a),o&512&&ko(a,a.return);break;case 3:if(Ni(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{uy(t,s)}catch(b){pt(a,a.return,b)}}break;case 27:s===null&&o&4&&w0(a);case 26:case 5:Ni(t,a),s===null&&o&4&&E0(a),o&512&&ko(a,a.return);break;case 12:Ni(t,a);break;case 31:Ni(t,a),o&4&&C0(t,a);break;case 13:Ni(t,a),o&4&&I0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Uw.bind(null,a),rS(t,a))));break;case 22:if(o=a.memoizedState!==null||Si,!o){s=s!==null&&s.memoizedState!==null||Xt,h=Si;var m=Xt;Si=o,(Xt=s)&&!m?Ri(t,a,(a.subtreeFlags&8772)!==0):Ni(t,a),Si=h,Xt=m}break;case 30:break;default:Ni(t,a)}}function N0(t){var s=t.alternate;s!==null&&(t.alternate=null,N0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ua(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,Rn=!1;function Ai(t,s,a){for(a=a.child;a!==null;)R0(t,s,a),a=a.sibling}function R0(t,s,a){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(me,a)}catch{}switch(a.tag){case 26:Xt||Xs(a,s),Ai(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Xt||Xs(a,s);var o=Ct,h=Rn;_r(a.type)&&(Ct=a.stateNode,Rn=!1),Ai(t,s,a),Fo(a.stateNode),Ct=o,Rn=h;break;case 5:Xt||Xs(a,s);case 6:if(o=Ct,h=Rn,Ct=null,Ai(t,s,a),Ct=o,Rn=h,Ct!==null)if(Rn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(a.stateNode)}catch(m){pt(a,s,m)}else try{Ct.removeChild(a.stateNode)}catch(m){pt(a,s,m)}break;case 18:Ct!==null&&(Rn?(t=Ct,_v(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tl(t)):_v(Ct,a.stateNode));break;case 4:o=Ct,h=Rn,Ct=a.stateNode.containerInfo,Rn=!0,Ai(t,s,a),Ct=o,Rn=h;break;case 0:case 11:case 14:case 15:fr(2,a,s),Xt||fr(4,a,s),Ai(t,s,a);break;case 1:Xt||(Xs(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&x0(a,s,o)),Ai(t,s,a);break;case 21:Ai(t,s,a);break;case 22:Xt=(o=Xt)||a.memoizedState!==null,Ai(t,s,a),Xt=o;break;default:Ai(t,s,a)}}function C0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Tl(t)}catch(a){pt(s,s.return,a)}}}function I0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tl(t)}catch(a){pt(s,s.return,a)}}function Dw(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new S0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new S0),s;default:throw Error(r(435,t.tag))}}function Ou(t,s){var a=Dw(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var h=zw.bind(null,t,o);o.then(h,h)}})}function Cn(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],m=t,b=s,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(_r(T.type)){Ct=T.stateNode,Rn=!1;break e}break;case 5:Ct=T.stateNode,Rn=!1;break e;case 3:case 4:Ct=T.stateNode.containerInfo,Rn=!0;break e}T=T.return}if(Ct===null)throw Error(r(160));R0(m,b,h),Ct=null,Rn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)D0(s,t),s=s.sibling}var Ss=null;function D0(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(s,t),In(t),o&4&&(fr(3,t,t.return),Oo(3,t),fr(5,t,t.return));break;case 1:Cn(s,t),In(t),o&512&&(Xt||a===null||Xs(a,a.return)),o&64&&Si&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ss;if(Cn(s,t),In(t),o&512&&(Xt||a===null||Xs(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Vs]||m[jt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),mn(m,o,a),m[jt]=t,Gt(m),o=m;break e;case"link":var b=Dv("link","href",h).get(o+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}m=h.createElement(o),mn(m,o,a),h.head.appendChild(m);break;case"meta":if(b=Dv("meta","content",h).get(o+(a.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}m=h.createElement(o),mn(m,o,a),h.head.appendChild(m);break;default:throw Error(r(468,o))}m[jt]=t,Gt(m),o=m}t.stateNode=o}else jv(h,t.type,t.stateNode);else t.stateNode=Iv(h,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?jv(h,t.type,t.stateNode):Iv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Lf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Cn(s,t),In(t),o&512&&(Xt||a===null||Xs(a,a.return)),a!==null&&o&4&&Lf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Cn(s,t),In(t),o&512&&(Xt||a===null||Xs(a,a.return)),t.flags&32){h=t.stateNode;try{Nn(h,"")}catch(_e){pt(t,t.return,_e)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Lf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(Cn(s,t),In(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(_e){pt(t,t.return,_e)}}break;case 3:if($u=null,h=Ss,Ss=Yu(s.containerInfo),Cn(s,t),Ss=h,In(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(s.containerInfo)}catch(_e){pt(t,t.return,_e)}Bf&&(Bf=!1,j0(t));break;case 4:o=Ss,Ss=Yu(t.stateNode.containerInfo),Cn(s,t),In(t),Ss=o;break;case 12:Cn(s,t),In(t);break;case 31:Cn(s,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 13:Cn(s,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mu=cn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Si,$=Xt;if(Si=q||h,Xt=$||I,Cn(s,t),Xt=$,Si=q,In(t),o&8192)e:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(a===null||I||Si||Xt||xa(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){I=a=s;try{if(m=I.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(_e){pt(I,I.return,_e)}}}else if(s.tag===6){if(a===null){I=s;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(_e){pt(I,I.return,_e)}}}else if(s.tag===18){if(a===null){I=s;try{var Y=I.stateNode;h?xv(Y,!0):xv(I.stateNode,!1)}catch(_e){pt(I,I.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ou(t,a))));break;case 19:Cn(s,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 30:break;case 21:break;default:Cn(s,t),In(t)}}function In(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(T0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,m=Uf(t);ju(t,m,h);break;case 5:var b=a.stateNode;a.flags&32&&(Nn(b,""),a.flags&=-33);var T=Uf(t);ju(t,T,b);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Uf(t);zf(t,q,I);break;default:throw Error(r(161))}}catch($){pt(t,t.return,$)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function j0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;j0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ni(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)A0(t,s.alternate,s),s=s.sibling}function xa(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:fr(4,s,s.return),xa(s);break;case 1:Xs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&x0(s,s.return,a),xa(s);break;case 27:Fo(s.stateNode);case 26:case 5:Xs(s,s.return),xa(s);break;case 22:s.memoizedState===null&&xa(s);break;case 30:xa(s);break;default:xa(s)}t=t.sibling}}function Ri(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,h=t,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ri(h,m,a),Oo(4,m);break;case 1:if(Ri(h,m,a),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){pt(o,o.return,q)}if(o=m,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)cy(I[h],T)}catch(q){pt(o,o.return,q)}}a&&b&64&&_0(m),ko(m,m.return);break;case 27:w0(m);case 26:case 5:Ri(h,m,a),a&&o===null&&b&4&&E0(m),ko(m,m.return);break;case 12:Ri(h,m,a);break;case 31:Ri(h,m,a),a&&b&4&&C0(h,m);break;case 13:Ri(h,m,a),a&&b&4&&I0(h,m);break;case 22:m.memoizedState===null&&Ri(h,m,a),ko(m,m.return);break;case 30:break;default:Ri(h,m,a)}s=s.sibling}}function qf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_o(a))}function Ff(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_o(t))}function As(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)O0(t,s,a,o),s=s.sibling}function O0(t,s,a,o){var h=s.flags;switch(s.tag){case 0:case 11:case 15:As(t,s,a,o),h&2048&&Oo(9,s);break;case 1:As(t,s,a,o);break;case 3:As(t,s,a,o),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_o(t)));break;case 12:if(h&2048){As(t,s,a,o),t=s.stateNode;try{var m=s.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){pt(s,s.return,I)}}else As(t,s,a,o);break;case 31:As(t,s,a,o);break;case 13:As(t,s,a,o);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?As(t,s,a,o):Mo(t,s):m._visibility&2?As(t,s,a,o):(m._visibility|=2,dl(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),h&2048&&qf(b,s);break;case 24:As(t,s,a,o),h&2048&&Ff(s.alternate,s);break;default:As(t,s,a,o)}}function dl(t,s,a,o,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,b=s,T=a,I=o,q=b.flags;switch(b.tag){case 0:case 11:case 15:dl(m,b,T,I,h),Oo(8,b);break;case 23:break;case 22:var $=b.stateNode;b.memoizedState!==null?$._visibility&2?dl(m,b,T,I,h):Mo(m,b):($._visibility|=2,dl(m,b,T,I,h)),h&&q&2048&&qf(b.alternate,b);break;case 24:dl(m,b,T,I,h),h&&q&2048&&Ff(b.alternate,b);break;default:dl(m,b,T,I,h)}s=s.sibling}}function Mo(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,h=o.flags;switch(o.tag){case 22:Mo(a,o),h&2048&&qf(o.alternate,o);break;case 24:Mo(a,o),h&2048&&Ff(o.alternate,o);break;default:Mo(a,o)}s=s.sibling}}var Vo=8192;function fl(t,s,a){if(t.subtreeFlags&Vo)for(t=t.child;t!==null;)k0(t,s,a),t=t.sibling}function k0(t,s,a){switch(t.tag){case 26:fl(t,s,a),t.flags&Vo&&t.memoizedState!==null&&yS(a,Ss,t.memoizedState,t.memoizedProps);break;case 5:fl(t,s,a);break;case 3:case 4:var o=Ss;Ss=Yu(t.stateNode.containerInfo),fl(t,s,a),Ss=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Vo,Vo=16777216,fl(t,s,a),Vo=o):fl(t,s,a));break;default:fl(t,s,a)}}function M0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Po(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];an=o,P0(o,t)}M0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)V0(t),t=t.sibling}function V0(t){switch(t.tag){case 0:case 11:case 15:Po(t),t.flags&2048&&fr(9,t,t.return);break;case 3:Po(t);break;case 12:Po(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,ku(t)):Po(t);break;default:Po(t)}}function ku(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];an=o,P0(o,t)}M0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:fr(8,s,s.return),ku(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ku(s));break;default:ku(s)}t=t.sibling}}function P0(t,s){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:fr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:_o(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,an=o;else e:for(a=t;an!==null;){o=an;var h=o.sibling,m=o.return;if(N0(o),o===a){an=null;break e}if(h!==null){h.return=m,an=h;break e}an=m}}}var jw={getCacheForType:function(t){var s=dn(Yt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return dn(Yt).controller.signal}},Ow=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,We=null,Ze=0,mt=0,Kn=null,mr=!1,ml=!1,Hf=!1,Ci=0,Mt=0,pr=0,Ea=0,Gf=0,Yn=0,pl=0,Lo=null,Dn=null,Kf=!1,Mu=0,L0=0,Vu=1/0,Pu=null,gr=null,tn=0,yr=null,gl=null,Ii=0,Yf=0,Qf=null,U0=null,Uo=0,$f=null;function Qn(){return(ht&2)!==0&&Ze!==0?Ze&-Ze:Q.T!==null?tm():Pa()}function z0(){if(Yn===0)if((Ze&536870912)===0||rt){var t=we;we<<=1,(we&3932160)===0&&(we=262144),Yn=t}else Yn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Yn}function jn(t,s,a){(t===Et&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(yl(t,0),vr(t,Ze,Yn,!1)),Qe(t,a),((ht&2)===0||t!==Et)&&(t===Et&&((ht&2)===0&&(Ea|=a),Mt===4&&vr(t,Ze,Yn,!1)),Ws(t))}function B0(t,s,a){if((ht&6)!==0)throw Error(r(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||St(t,s),h=o?Vw(t,s):Wf(t,s,!0),m=o;do{if(h===0){ml&&!o&&vr(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!kw(a)){h=Wf(t,s,!1),m=!1;continue}if(h===2){if(m=s,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var T=t;h=Lo;var I=T.current.memoizedState.isDehydrated;if(I&&(yl(T,b).flags|=256),b=Wf(T,b,!1),b!==2){if(Hf&&!I){T.errorRecoveryDisabledLanes|=m,Ea|=m,h=4;break e}m=Dn,Dn=h,m!==null&&(Dn===null?Dn=m:Dn.push.apply(Dn,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){yl(t,0),vr(t,s,0,!0);break}e:{switch(o=t,m=h,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:vr(o,s,Yn,!mr);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=Mu+300-cn(),10<h)){if(vr(o,s,Yn,!mr),Xe(o,0,!0)!==0)break e;Ii=s,o.timeoutHandle=vv(q0.bind(null,o,a,Dn,Pu,Kf,s,Yn,Ea,pl,mr,m,"Throttled",-0,0),h);break e}q0(o,a,Dn,Pu,Kf,s,Yn,Ea,pl,mr,m,null,-0,0)}}break}while(!0);Ws(t)}function q0(t,s,a,o,h,m,b,T,I,q,$,ee,H,Y){if(t.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},k0(s,m,ee);var _e=(m&62914560)===m?Mu-cn():(m&4194048)===m?L0-cn():0;if(_e=vS(ee,_e),_e!==null){Ii=m,t.cancelPendingCommit=_e(X0.bind(null,t,s,m,a,o,h,b,T,I,$,ee,null,H,Y)),vr(t,m,b,!q);return}}X0(t,s,m,a,o,h,b,T,I)}function kw(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],m=h.getSnapshot;h=h.value;try{if(!qn(m(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vr(t,s,a,o){s&=~Gf,s&=~Ea,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var h=s;0<h;){var m=31-ve(h),b=1<<m;o[m]=-1,h&=~b}a!==0&&Ln(t,a,s)}function Lu(){return(ht&6)===0?(zo(0),!1):!0}function Xf(){if(We!==null){if(mt===0)var t=We.return;else t=We,bi=fa=null,df(t),ll=null,Eo=0,t=We;for(;t!==null;)b0(t.alternate,t),t=t.return;We=null}}function yl(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ii=0,Xf(),Et=t,We=a=yi(t.current,null),Ze=s,mt=0,Kn=null,mr=!1,ml=St(t,s),Hf=!1,pl=Yn=Gf=Ea=pr=Mt=0,Dn=Lo=null,Kf=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var h=31-ve(o),m=1<<h;s|=t[h],o&=~m}return Ci=s,ru(),a}function F0(t,s){He=null,Q.H=Io,s===al||s===fu?(s=ry(),mt=3):s===Zd?(s=ry(),mt=4):mt=s===Rf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,We===null&&(Mt=1,Nu(t,is(s,t.current)))}function H0(){var t=Hn.current;return t===null?!0:(Ze&4194048)===Ze?os===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?t===os:!1}function G0(){var t=Q.H;return Q.H=Io,t===null?Io:t}function K0(){var t=Q.A;return Q.A=jw,t}function Uu(){Mt=4,mr||(Ze&4194048)!==Ze&&Hn.current!==null||(ml=!0),(pr&134217727)===0&&(Ea&134217727)===0||Et===null||vr(Et,Ze,Yn,!1)}function Wf(t,s,a){var o=ht;ht|=2;var h=G0(),m=K0();(Et!==t||Ze!==s)&&(Pu=null,yl(t,s)),s=!1;var b=Mt;e:do try{if(mt!==0&&We!==null){var T=We,I=Kn;switch(mt){case 8:Xf(),b=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(s=!0);var q=mt;if(mt=0,Kn=null,vl(t,T,I,q),a&&ml){b=0;break e}break;default:q=mt,mt=0,Kn=null,vl(t,T,I,q)}}Mw(),b=Mt;break}catch($){F0(t,$)}while(!0);return s&&t.shellSuspendCounter++,bi=fa=null,ht=o,Q.H=h,Q.A=m,We===null&&(Et=null,Ze=0,ru()),b}function Mw(){for(;We!==null;)Y0(We)}function Vw(t,s){var a=ht;ht|=2;var o=G0(),h=K0();Et!==t||Ze!==s?(Pu=null,Vu=cn()+500,yl(t,s)):ml=St(t,s);e:do try{if(mt!==0&&We!==null){s=We;var m=Kn;t:switch(mt){case 1:mt=0,Kn=null,vl(t,s,m,1);break;case 2:case 9:if(sy(m)){mt=0,Kn=null,Q0(s);break}s=function(){mt!==2&&mt!==9||Et!==t||(mt=7),Ws(t)},m.then(s,s);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:sy(m)?(mt=0,Kn=null,Q0(s)):(mt=0,Kn=null,vl(t,s,m,7));break;case 5:var b=null;switch(We.tag){case 26:b=We.memoizedState;case 5:case 27:var T=We;if(b?Ov(b):T.stateNode.complete){mt=0,Kn=null;var I=T.sibling;if(I!==null)We=I;else{var q=T.return;q!==null?(We=q,zu(q)):We=null}break t}}mt=0,Kn=null,vl(t,s,m,5);break;case 6:mt=0,Kn=null,vl(t,s,m,6);break;case 8:Xf(),Mt=6;break e;default:throw Error(r(462))}}Pw();break}catch($){F0(t,$)}while(!0);return bi=fa=null,Q.H=o,Q.A=h,ht=a,We!==null?0:(Et=null,Ze=0,ru(),Mt)}function Pw(){for(;We!==null&&!Wl();)Y0(We)}function Y0(t){var s=y0(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,s===null?zu(t):We=s}function Q0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=h0(a,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=h0(a,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:df(s);default:b0(a,s),s=We=Kg(s,Ci),s=y0(a,s,Ci)}t.memoizedProps=t.pendingProps,s===null?zu(t):We=s}function vl(t,s,a,o){bi=fa=null,df(s),ll=null,Eo=0;var h=s.return;try{if(Sw(t,h,s,a,Ze)){Mt=1,Nu(t,is(a,t.current)),We=null;return}}catch(m){if(h!==null)throw We=h,m;Mt=1,Nu(t,is(a,t.current)),We=null;return}s.flags&32768?(rt||o===1?t=!0:ml||(Ze&536870912)!==0?t=!1:(mr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Hn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$0(s,t)):zu(s)}function zu(t){var s=t;do{if((s.flags&32768)!==0){$0(s,mr);return}t=s.return;var a=Rw(s.alternate,s,Ci);if(a!==null){We=a;return}if(s=s.sibling,s!==null){We=s;return}We=s=t}while(s!==null);Mt===0&&(Mt=5)}function $0(t,s){do{var a=Cw(t.alternate,t);if(a!==null){a.flags&=32767,We=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){We=t;return}We=t=a}while(t!==null);Mt=6,We=null}function X0(t,s,a,o,h,m,b,T,I){t.cancelPendingCommit=null;do Bu();while(tn!==0);if((ht&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Ld,ue(t,a,m,b,T,I),t===Et&&(We=Et=null,Ze=0),gl=s,yr=t,Ii=a,Yf=m,Qf=h,U0=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Bw(Ms,function(){return tv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=ce.p,ce.p=2,b=ht,ht|=4;try{Iw(t,s,a)}finally{ht=b,ce.p=h,Q.T=o}}tn=1,W0(),J0(),Z0()}}function W0(){if(tn===1){tn=0;var t=yr,s=gl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=ce.p;ce.p=2;var h=ht;ht|=4;try{D0(s,t);var m=cm,b=Pg(t.containerInfo),T=m.focusedElem,I=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&Vg(T.ownerDocument.documentElement,T)){if(I!==null&&Od(T)){var q=I.start,$=I.end;if($===void 0&&($=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min($,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var Y=H.getSelection(),_e=T.textContent.length,je=Math.min(I.start,_e),bt=I.end===void 0?je:Math.min(I.end,_e);!Y.extend&&je>bt&&(b=bt,bt=je,je=b);var L=Mg(T,je),j=Mg(T,bt);if(L&&j&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var B=ee.createRange();B.setStart(L.node,L.offset),Y.removeAllRanges(),je>bt?(Y.addRange(B),Y.extend(j.node,j.offset)):(B.setEnd(j.node,j.offset),Y.addRange(B))}}}}for(ee=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var X=ee[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Zu=!!om,cm=om=null}finally{ht=h,ce.p=o,Q.T=a}}t.current=s,tn=2}}function J0(){if(tn===2){tn=0;var t=yr,s=gl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=ce.p;ce.p=2;var h=ht;ht|=4;try{A0(t,s.alternate,s)}finally{ht=h,ce.p=o,Q.T=a}}tn=3}}function Z0(){if(tn===4||tn===3){tn=0,Va();var t=yr,s=gl,a=Ii,o=U0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,gl=yr=null,ev(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(gr=null),vs(a),s=s.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(me,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=Q.T,h=ce.p,ce.p=2,Q.T=null;try{for(var m=t.onRecoverableError,b=0;b<o.length;b++){var T=o[b];m(T.value,{componentStack:T.stack})}}finally{Q.T=s,ce.p=h}}(Ii&3)!==0&&Bu(),Ws(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===$f?Uo++:(Uo=0,$f=t):Uo=0,zo(0)}}function ev(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,_o(s)))}function Bu(){return W0(),J0(),Z0(),tv()}function tv(){if(tn!==5)return!1;var t=yr,s=Yf;Yf=0;var a=vs(Ii),o=Q.T,h=ce.p;try{ce.p=32>a?32:a,Q.T=null,a=Qf,Qf=null;var m=yr,b=Ii;if(tn=0,gl=yr=null,Ii=0,(ht&6)!==0)throw Error(r(331));var T=ht;if(ht|=4,V0(m.current),O0(m,m.current,b,a),ht=T,zo(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(me,m)}catch{}return!0}finally{ce.p=h,Q.T=o,ev(t,s)}}function nv(t,s,a){s=is(a,s),s=Nf(t.stateNode,s,2),t=ur(t,s,2),t!==null&&(Qe(t,2),Ws(t))}function pt(t,s,a){if(t.tag===3)nv(t,t,a);else for(;s!==null;){if(s.tag===3){nv(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(gr===null||!gr.has(o))){t=is(a,t),a=s0(2),o=ur(s,a,2),o!==null&&(i0(a,o,s,t),Qe(o,2),Ws(o));break}}s=s.return}}function Jf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new Ow;var h=new Set;o.set(s,h)}else h=o.get(s),h===void 0&&(h=new Set,o.set(s,h));h.has(a)||(Hf=!0,h.add(a),t=Lw.bind(null,t,s,a),s.then(t,t))}function Lw(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Et===t&&(Ze&a)===a&&(Mt===4||Mt===3&&(Ze&62914560)===Ze&&300>cn()-Mu?(ht&2)===0&&yl(t,0):Gf|=a,pl===Ze&&(pl=0)),Ws(t)}function sv(t,s){s===0&&(s=de()),t=ua(t,s),t!==null&&(Qe(t,s),Ws(t))}function Uw(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),sv(t,a)}function zw(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),sv(t,a)}function Bw(t,s){return Ut(t,s)}var qu=null,bl=null,Zf=!1,Fu=!1,em=!1,br=0;function Ws(t){t!==bl&&t.next===null&&(bl===null?qu=bl=t:bl=bl.next=t),Fu=!0,Zf||(Zf=!0,Fw())}function zo(t,s){if(!em&&Fu){em=!0;do for(var a=!1,o=qu;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var b=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-ve(42|t)+1)-1,m&=h&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,lv(o,m))}else m=Ze,m=Xe(o,o===Et?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||St(o,m)||(a=!0,lv(o,m));o=o.next}while(a);em=!1}}function qw(){iv()}function iv(){Fu=Zf=!1;var t=0;br!==0&&Zw()&&(t=br);for(var s=cn(),a=null,o=qu;o!==null;){var h=o.next,m=rv(o,s);m===0?(o.next=null,a===null?qu=h:a.next=h,h===null&&(bl=a)):(a=o,(t!==0||(m&3)!==0)&&(Fu=!0)),o=h}tn!==0&&tn!==5||zo(t),br!==0&&(br=0)}function rv(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-ve(m),T=1<<b,I=h[b];I===-1?((T&a)===0||(T&o)!==0)&&(h[b]=Tt(T,s)):I<=s&&(t.expiredLanes|=T),m&=~T}if(s=Et,a=Ze,a=Xe(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ks(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||St(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&ks(o),vs(a)){case 2:case 8:a=Wr;break;case 32:a=Ms;break;case 268435456:a=W;break;default:a=Ms}return o=av.bind(null,t),a=Ut(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&ks(o),t.callbackPriority=2,t.callbackNode=null,2}function av(t,s){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bu()&&t.callbackNode!==a)return null;var o=Ze;return o=Xe(t,t===Et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(B0(t,o,s),rv(t,cn()),t.callbackNode!=null&&t.callbackNode===a?av.bind(null,t):null)}function lv(t,s){if(Bu())return null;B0(t,s,!0)}function Fw(){tS(function(){(ht&6)!==0?Ut(Xr,qw):iv()})}function tm(){if(br===0){var t=il;t===0&&(t=pe,pe<<=1,(pe&261888)===0&&(pe=256)),br=t}return br}function ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function cv(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Hw(t,s,a,o,h){if(s==="submit"&&a&&a.stateNode===h){var m=ov((h[en]||null).action),b=o.submitter;b&&(s=(s=b[en]||null)?ov(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var T=new Hs("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(br!==0){var I=b?cv(h,b):new FormData(h);xf(a,{pending:!0,data:I,method:h.method,action:m},null,I)}}else typeof m=="function"&&(T.preventDefault(),I=b?cv(h,b):new FormData(h),xf(a,{pending:!0,data:I,method:h.method,action:m},m,I))},currentTarget:h}]})}}for(var nm=0;nm<Pd.length;nm++){var sm=Pd[nm],Gw=sm.toLowerCase(),Kw=sm[0].toUpperCase()+sm.slice(1);ws(Gw,"on"+Kw)}ws(zg,"onAnimationEnd"),ws(Bg,"onAnimationIteration"),ws(qg,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(ow,"onTransitionRun"),ws(cw,"onTransitionStart"),ws(uw,"onTransitionCancel"),ws(Fg,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Us("onBeforeInput",["compositionend","keypress","textInput","paste"]),Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function uv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var b=o.length-1;0<=b;b--){var T=o[b],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=q;try{m(h)}catch($){iu($)}h.currentTarget=null,m=I}else for(b=0;b<o.length;b++){if(T=o[b],I=T.instance,q=T.currentTarget,T=T.listener,I!==m&&h.isPropagationStopped())break e;m=T,h.currentTarget=q;try{m(h)}catch($){iu($)}h.currentTarget=null,m=I}}}}function Je(t,s){var a=s[Qi];a===void 0&&(a=s[Qi]=new Set);var o=t+"__bubble";a.has(o)||(hv(s,t,2,!1),a.add(o))}function im(t,s,a){var o=0;s&&(o|=4),hv(a,t,o,s)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function rm(t){if(!t[Hu]){t[Hu]=!0,Jl.forEach(function(a){a!=="selectionchange"&&(Yw.has(a)||im(a,!1,t),im(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Hu]||(s[Hu]=!0,im("selectionchange",!1,s))}}function hv(t,s,a,o){switch(zv(s)){case 2:var h=xS;break;case 8:h=ES;break;default:h=_m}a=h.bind(null,s,a,t),h=void 0,!na||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function am(t,s,a,o,h){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var T=o.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=o.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=Ps(T),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){o=m=b;continue e}T=T.parentNode}}o=o.return}er(function(){var q=m,$=es(a),ee=[];e:{var H=Hg.get(t);if(H!==void 0){var Y=Hs,_e=t;switch(t){case"keypress":if(ia(a)===0)break e;case"keydown":case"keyup":Y=tu;break;case"focusin":_e="focus",Y=aa;break;case"focusout":_e="blur",Y=aa;break;case"beforeblur":case"afterblur":Y=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case zg:case Bg:case qg:Y=Qc;break;case Fg:Y=w;break;case"scroll":case"scrollend":Y=uo;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=gi;break;case"toggle":case"beforetoggle":Y=Fe}var je=(s&4)!==0,bt=!je&&(t==="scroll"||t==="scrollend"),L=je?H!==null?H+"Capture":null:H;je=[];for(var j=q,B;j!==null;){var X=j;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=_s(j,L),X!=null&&je.push(qo(j,X,B))),bt)break;j=j.return}0<je.length&&(H=new Y(H,_e,null,a,$),ee.push({event:H,listeners:je}))}}if((s&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==lo&&(_e=a.relatedTarget||a.fromElement)&&(Ps(_e)||_e[Jn]))break e;if((Y||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(_e=a.relatedTarget||a.toElement,Y=q,_e=_e?Ps(_e):null,_e!==null&&(bt=c(_e),je=_e.tag,_e!==bt||je!==5&&je!==27&&je!==6)&&(_e=null)):(Y=null,_e=q),Y!==_e)){if(je=ho,X="onMouseLeave",L="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(je=gi,X="onPointerLeave",L="onPointerEnter",j="pointer"),bt=Y==null?H:zn(Y),B=_e==null?H:zn(_e),H=new je(X,j+"leave",Y,a,$),H.target=bt,H.relatedTarget=B,X=null,Ps($)===q&&(je=new je(L,j+"enter",_e,a,$),je.target=B,je.relatedTarget=bt,X=je),bt=X,Y&&_e)t:{for(je=Qw,L=Y,j=_e,B=0,X=L;X;X=je(X))B++;X=0;for(var Re=j;Re;Re=je(Re))X++;for(;0<B-X;)L=je(L),B--;for(;0<X-B;)j=je(j),X--;for(;B--;){if(L===j||j!==null&&L===j.alternate){je=L;break t}L=je(L),j=je(j)}je=null}else je=null;Y!==null&&dv(ee,H,Y,je,!1),_e!==null&&bt!==null&&dv(ee,bt,_e,je,!0)}}e:{if(H=q?zn(q):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var ot=Cg;else if(Ng(H))if(Ig)ot=rw;else{ot=sw;var Se=nw}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&qa(q.elementType)&&(ot=Cg):ot=iw;if(ot&&(ot=ot(t,q))){Rg(ee,ot,a,$);break e}Se&&Se(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&io(H,"number",H.value)}switch(Se=q?zn(q):window,t){case"focusin":(Ng(Se)||Se.contentEditable==="true")&&(Xa=Se,kd=q,yo=null);break;case"focusout":yo=kd=Xa=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,Lg(ee,a,$);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":Lg(ee,a,$)}var Ge;if(ut)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else $a?la(t,a)&&(et="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(et="onCompositionStart");et&&(Ys&&a.locale!=="ko"&&($a||et!=="onCompositionStart"?et==="onCompositionEnd"&&$a&&(Ge=co()):(Fs=$,oo="value"in Fs?Fs.value:Fs.textContent,$a=!0)),Se=Gu(q,et),0<Se.length&&(et=new Ks(et,t,null,a,$),ee.push({event:et,listeners:Se}),Ge?et.data=Ge:(Ge=Qa(a),Ge!==null&&(et.data=Ge)))),(Ge=ns?JT(t,a):ZT(t,a))&&(et=Gu(q,"onBeforeInput"),0<et.length&&(Se=new Ks("onBeforeInput","beforeinput",null,a,$),ee.push({event:Se,listeners:et}),Se.data=Ge)),Hw(ee,t,q,a,$)}uv(ee,s)})}function qo(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Gu(t,s){for(var a=s+"Capture",o=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=_s(t,a),h!=null&&o.unshift(qo(t,h,m)),h=_s(t,s),h!=null&&o.push(qo(t,h,m))),t.tag===3)return o;t=t.return}return[]}function Qw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dv(t,s,a,o,h){for(var m=s._reactName,b=[];a!==null&&a!==o;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=_s(a,m),q!=null&&b.unshift(qo(a,q,I))):h||(q=_s(a,m),q!=null&&b.push(qo(a,q,I)))),a=a.return}b.length!==0&&t.push({event:s,listeners:b})}var $w=/\r\n?/g,Xw=/\u0000|\uFFFD/g;function fv(t){return(typeof t=="string"?t:""+t).replace($w,`
`).replace(Xw,"")}function mv(t,s){return s=fv(s),fv(t)===s}function vt(t,s,a,o,h,m){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||Nn(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&Nn(t,""+o);break;case"className":Bn(t,"class",o);break;case"tabIndex":Bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,a,o);break;case"style":ao(t,o,m);break;case"data":if(s!=="object"){Bn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Fa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&vt(t,s,"name",h.name,h,null),vt(t,s,"formEncType",h.formEncType,h,null),vt(t,s,"formMethod",h.formMethod,h,null),vt(t,s,"formTarget",h.formTarget,h,null)):(vt(t,s,"encType",h.encType,h,null),vt(t,s,"method",h.method,h,null),vt(t,s,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Fa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=bs);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Fa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Je("beforetoggle",t),Je("toggle",t),za(t,"popover",o);break;case"xlinkActuate":Kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":za(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gc.get(a)||a,za(t,a,o))}}function lm(t,s,a,o,h,m){switch(a){case"style":ao(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Nn(t,o):(typeof o=="number"||typeof o=="bigint")&&Nn(t,""+o);break;case"onScroll":o!=null&&Je("scroll",t);break;case"onScrollEnd":o!=null&&Je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),m=t[en]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):za(t,a,o)}}}function mn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",t),Je("load",t);var o=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:vt(t,s,m,b,a,null)}}h&&vt(t,s,"srcSet",a.srcSet,a,null),o&&vt(t,s,"src",a.src,a,null);return;case"input":Je("invalid",t);var T=m=b=h=null,I=null,q=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":h=$;break;case"type":b=$;break;case"checked":I=$;break;case"defaultChecked":q=$;break;case"value":m=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:vt(t,s,o,$,a,null)}}qc(t,m,T,I,q,b,h,!1);return;case"select":Je("invalid",t),o=b=m=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":o=T;default:vt(t,s,h,T,a,null)}s=m,a=b,t.multiple=!!o,s!=null?Xi(t,!!o,s,!1):a!=null&&Xi(t,!!o,a,!0);return;case"textarea":Je("invalid",t),m=h=o=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":o=T;break;case"defaultValue":h=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:vt(t,s,b,T,a,null)}Wi(t,o,h,m);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":vt(t,s,I,o,a,null));return;case"dialog":Je("beforetoggle",t),Je("toggle",t),Je("cancel",t),Je("close",t);break;case"iframe":case"object":Je("load",t);break;case"video":case"audio":for(o=0;o<Bo.length;o++)Je(Bo[o],t);break;case"image":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"embed":case"source":case"link":Je("error",t),Je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(o=a[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:vt(t,s,q,o,a,null)}return;default:if(qa(s)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&lm(t,s,$,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&vt(t,s,T,o,a,null))}function Ww(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,T=null,I=null,q=null,$=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ee;default:o.hasOwnProperty(Y)||vt(t,s,Y,null,o,ee)}}for(var H in o){var Y=o[H];if(ee=a[H],o.hasOwnProperty(H)&&(Y!=null||ee!=null))switch(H){case"type":m=Y;break;case"name":h=Y;break;case"checked":q=Y;break;case"defaultChecked":$=Y;break;case"value":b=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==ee&&vt(t,s,H,Y,o,ee)}}Ba(t,b,T,I,q,$,m,h);return;case"select":Y=b=T=H=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Y=I;default:o.hasOwnProperty(m)||vt(t,s,m,null,o,I)}for(h in o)if(m=o[h],I=a[h],o.hasOwnProperty(h)&&(m!=null||I!=null))switch(h){case"value":H=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==I&&vt(t,s,h,m,o,I)}s=T,a=b,o=Y,H!=null?Xi(t,!!a,H,!1):!!o!=!!a&&(s!=null?Xi(t,!!a,s,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:vt(t,s,T,null,o,h)}for(b in o)if(h=o[b],m=a[b],o.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":H=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==m&&vt(t,s,b,h,o,m)}Fc(t,H,Y);return;case"option":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!o.hasOwnProperty(_e)&&(_e==="selected"?t.selected=!1:vt(t,s,_e,null,o,H));for(I in o)H=o[I],Y=a[I],o.hasOwnProperty(I)&&H!==Y&&(H!=null||Y!=null)&&(I==="selected"?t.selected=H&&typeof H!="function"&&typeof H!="symbol":vt(t,s,I,H,o,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in a)H=a[je],a.hasOwnProperty(je)&&H!=null&&!o.hasOwnProperty(je)&&vt(t,s,je,null,o,H);for(q in o)if(H=o[q],Y=a[q],o.hasOwnProperty(q)&&H!==Y&&(H!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:vt(t,s,q,H,o,Y)}return;default:if(qa(s)){for(var bt in a)H=a[bt],a.hasOwnProperty(bt)&&H!==void 0&&!o.hasOwnProperty(bt)&&lm(t,s,bt,void 0,o,H);for($ in o)H=o[$],Y=a[$],!o.hasOwnProperty($)||H===Y||H===void 0&&Y===void 0||lm(t,s,$,H,o,Y);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!o.hasOwnProperty(L)&&vt(t,s,L,null,o,H);for(ee in o)H=o[ee],Y=a[ee],!o.hasOwnProperty(ee)||H===Y||H==null&&Y==null||vt(t,s,ee,H,o,Y)}function pv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],m=h.transferSize,b=h.initiatorType,T=h.duration;if(m&&T&&pv(b)){for(b=0,T=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],q=I.startTime;if(q>T)break;var $=I.transferSize,ee=I.initiatorType;$&&pv(ee)&&(I=I.responseEnd,b+=$*(I<T?1:(T-q)/(I-q)))}if(--o,s+=8*(m+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var om=null,cm=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function gv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function um(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hm=null;function Zw(){var t=window.event;return t&&t.type==="popstate"?t===hm?!1:(hm=t,!0):(hm=null,!1)}var vv=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(t){return bv.resolve(null).then(t).catch(nS)}:vv;function nS(t){setTimeout(function(){throw t})}function _r(t){return t==="head"}function _v(t,s){var a=s,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Tl(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Fo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Fo(a);for(var m=a.firstChild;m;){var b=m.nextSibling,T=m.nodeName;m[Vs]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&Fo(t.ownerDocument.body);a=h}while(a);Tl(s)}function xv(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function dm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dm(a),Ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sS(t,s,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Vs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=cs(t.nextSibling),t===null)break}return null}function iS(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=cs(t.nextSibling),t===null))return null;return t}function Ev(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=cs(t.nextSibling),t===null))return null;return t}function fm(t){return t.data==="$?"||t.data==="$~"}function mm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rS(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function cs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var pm=null;function Tv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return cs(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function wv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Sv(t,s,a){switch(s=Ku(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Fo(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ua(t)}var us=new Map,Av=new Set;function Yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=ce.d;ce.d={f:aS,r:lS,D:oS,C:cS,L:uS,m:hS,X:fS,S:dS,M:mS};function aS(){var t=Di.f(),s=Lu();return t||s}function lS(t){var s=Zn(t);s!==null&&s.tag===5&&s.type==="form"?Fy(s):Di.r(t)}var _l=typeof document>"u"?null:document;function Nv(t,s,a){var o=_l;if(o&&typeof s=="string"&&s){var h=An(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Av.has(h)||(Av.add(h),t={rel:t,crossOrigin:a,href:s},o.querySelector(h)===null&&(s=o.createElement("link"),mn(s,"link",t),Gt(s),o.head.appendChild(s)))}}function oS(t){Di.D(t),Nv("dns-prefetch",t,null)}function cS(t,s){Di.C(t,s),Nv("preconnect",t,s)}function uS(t,s,a){Di.L(t,s,a);var o=_l;if(o&&t&&s){var h='link[rel="preload"][as="'+An(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var m=h;switch(s){case"style":m=xl(t);break;case"script":m=El(t)}us.has(m)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),us.set(m,t),o.querySelector(h)!==null||s==="style"&&o.querySelector(Ho(m))||s==="script"&&o.querySelector(Go(m))||(s=o.createElement("link"),mn(s,"link",t),Gt(s),o.head.appendChild(s)))}}function hS(t,s){Di.m(t,s);var a=_l;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+An(o)+'"][href="'+An(t)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=El(t)}if(!us.has(m)&&(t=E({rel:"modulepreload",href:t},s),us.set(m,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Go(m)))return}o=a.createElement("link"),mn(o,"link",t),Gt(o),a.head.appendChild(o)}}}function dS(t,s,a){Di.S(t,s,a);var o=_l;if(o&&t){var h=Ls(o).hoistableStyles,m=xl(t);s=s||"default";var b=h.get(m);if(!b){var T={loading:0,preload:null};if(b=o.querySelector(Ho(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=us.get(m))&&gm(t,a);var I=b=o.createElement("link");Gt(I),mn(I,"link",t),I._p=new Promise(function(q,$){I.onload=q,I.onerror=$}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qu(b,s,o)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(m,b)}}}function fS(t,s){Di.X(t,s);var a=_l;if(a&&t){var o=Ls(a).hoistableScripts,h=El(t),m=o.get(h);m||(m=a.querySelector(Go(h)),m||(t=E({src:t,async:!0},s),(s=us.get(h))&&ym(t,s),m=a.createElement("script"),Gt(m),mn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function mS(t,s){Di.M(t,s);var a=_l;if(a&&t){var o=Ls(a).hoistableScripts,h=El(t),m=o.get(h);m||(m=a.querySelector(Go(h)),m||(t=E({src:t,async:!0,type:"module"},s),(s=us.get(h))&&ym(t,s),m=a.createElement("script"),Gt(m),mn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Rv(t,s,a,o){var h=(h=qe.current)?Yu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=xl(a.href),a=Ls(h).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=xl(a.href);var m=Ls(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(Ho(t)))&&!m._p&&(b.instance=m,b.state.loading=5),us.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},us.set(t,a),m||pS(h,t,a,b.state))),s&&o===null)throw Error(r(528,""));return b}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=El(a),a=Ls(h).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function xl(t){return'href="'+An(t)+'"'}function Ho(t){return'link[rel="stylesheet"]['+t+"]"}function Cv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function pS(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),mn(s,"link",a),Gt(s),t.head.appendChild(s))}function El(t){return'[src="'+An(t)+'"]'}function Go(t){return"script[async]"+t}function Iv(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+An(a.href)+'"]');if(o)return s.instance=o,Gt(o),o;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Gt(o),mn(o,"style",h),Qu(o,a.precedence,t),s.instance=o;case"stylesheet":h=xl(a.href);var m=t.querySelector(Ho(h));if(m)return s.state.loading|=4,s.instance=m,Gt(m),m;o=Cv(a),(h=us.get(h))&&gm(o,h),m=(t.ownerDocument||t).createElement("link"),Gt(m);var b=m;return b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),mn(m,"link",o),s.state.loading|=4,Qu(m,a.precedence,t),s.instance=m;case"script":return m=El(a.src),(h=t.querySelector(Go(m)))?(s.instance=h,Gt(h),h):(o=a,(h=us.get(m))&&(o=E({},a),ym(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Gt(h),mn(h,"link",o),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Qu(o,a.precedence,t));return s.instance}function Qu(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,b=0;b<o.length;b++){var T=o[b];if(T.dataset.precedence===s)m=T;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function gm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function ym(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var $u=null;function Dv(t,s,a){if($u===null){var o=new Map,h=$u=new Map;h.set(a,o)}else h=$u,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var m=a[h];if(!(m[Vs]||m[jt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=t+b;var T=o.get(b);T?T.push(m):o.set(b,[m])}}return o}function jv(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function gS(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ov(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function yS(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=xl(o.href),m=s.querySelector(Ho(h));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Xu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,Gt(m);return}m=s.ownerDocument||s,o=Cv(o),(h=us.get(h))&&gm(o,h),m=m.createElement("link"),Gt(m);var b=m;b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),mn(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Xu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var vm=0;function vS(t,s){return t.stylesheets&&t.count===0&&Ju(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ju(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&vm===0&&(vm=62500*Jw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ju(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>vm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wu=null;function Ju(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wu=new Map,s.forEach(bS,t),Wu=null,Xu.call(t))}function bS(t,s){if(!(s.state.loading&4)){var a=Wu.get(t);if(a)var o=a.get(null);else{a=new Map,Wu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),o=b)}o&&a.set(null,o)}h=s.instance,b=h.getAttribute("data-precedence"),m=a.get(b)||o,m===o&&a.set(null,h),a.set(b,h),this.count++,o=Xu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Ko={$$typeof:re,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function _S(t,s,a,o,h,m,b,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function kv(t,s,a,o,h,m,b,T,I,q,$,ee){return t=new _S(t,s,a,b,I,q,$,ee,T),s=1,m===!0&&(s|=24),m=Fn(3,null,null,s),t.current=m,m.stateNode=t,s=Xd(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:s},ef(m),t}function Mv(t){return t?(t=Za,t):Za}function Vv(t,s,a,o,h,m){h=Mv(h),o.context===null?o.context=h:o.pendingContext=h,o=cr(s),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=ur(t,o,s),a!==null&&(jn(a,t,s),wo(a,t,s))}function Pv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function bm(t,s){Pv(t,s),(t=t.alternate)&&Pv(t,s)}function Lv(t){if(t.tag===13||t.tag===31){var s=ua(t,67108864);s!==null&&jn(s,t,67108864),bm(t,67108864)}}function Uv(t){if(t.tag===13||t.tag===31){var s=Qn();s=Yi(s);var a=ua(t,s);a!==null&&jn(a,t,s),bm(t,s)}}var Zu=!0;function xS(t,s,a,o){var h=Q.T;Q.T=null;var m=ce.p;try{ce.p=2,_m(t,s,a,o)}finally{ce.p=m,Q.T=h}}function ES(t,s,a,o){var h=Q.T;Q.T=null;var m=ce.p;try{ce.p=8,_m(t,s,a,o)}finally{ce.p=m,Q.T=h}}function _m(t,s,a,o){if(Zu){var h=xm(o);if(h===null)am(t,s,o,eh,a),Bv(t,o);else if(wS(h,t,s,a,o))o.stopPropagation();else if(Bv(t,o),s&4&&-1<TS.indexOf(t)){for(;h!==null;){var m=Zn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=xe(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var I=1<<31-ve(b);T.entanglements[1]|=I,b&=~I}Ws(m),(ht&6)===0&&(Vu=cn()+500,zo(0))}}break;case 31:case 13:T=ua(m,2),T!==null&&jn(T,m,2),Lu(),bm(m,2)}if(m=xm(o),m===null&&am(t,s,o,eh,a),m===h)break;h=m}h!==null&&o.stopPropagation()}else am(t,s,o,null,a)}}function xm(t){return t=es(t),Em(t)}var eh=null;function Em(t){if(eh=null,t=Ps(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return eh=t,null}function zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fi()){case Xr:return 2;case Wr:return 8;case Ms:case te:return 32;case W:return 268435456;default:return 32}default:return 32}}var Tm=!1,xr=null,Er=null,Tr=null,Yo=new Map,Qo=new Map,wr=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(t,s){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Yo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(s.pointerId)}}function $o(t,s,a,o,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Zn(s),s!==null&&Lv(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function wS(t,s,a,o,h){switch(s){case"focusin":return xr=$o(xr,t,s,a,o,h),!0;case"dragenter":return Er=$o(Er,t,s,a,o,h),!0;case"mouseover":return Tr=$o(Tr,t,s,a,o,h),!0;case"pointerover":var m=h.pointerId;return Yo.set(m,$o(Yo.get(m)||null,t,s,a,o,h)),!0;case"gotpointercapture":return m=h.pointerId,Qo.set(m,$o(Qo.get(m)||null,t,s,a,o,h)),!0}return!1}function qv(t){var s=Ps(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,Wn(t.priority,function(){Uv(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Wn(t.priority,function(){Uv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=xm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);lo=o,a.target.dispatchEvent(o),lo=null}else return s=Zn(a),s!==null&&Lv(s),t.blockedOn=a,!1;s.shift()}return!0}function Fv(t,s,a){th(t)&&a.delete(s)}function SS(){Tm=!1,xr!==null&&th(xr)&&(xr=null),Er!==null&&th(Er)&&(Er=null),Tr!==null&&th(Tr)&&(Tr=null),Yo.forEach(Fv),Qo.forEach(Fv)}function nh(t,s){t.blockedOn===s&&(t.blockedOn=null,Tm||(Tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,SS)))}var sh=null;function Hv(t){sh!==t&&(sh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){sh===t&&(sh=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],h=t[s+2];if(typeof o!="function"){if(Em(o||a)===null)continue;break}var m=Zn(a);m!==null&&(t.splice(s,3),s-=3,xf(m,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Tl(t){function s(I){return nh(I,t)}xr!==null&&nh(xr,t),Er!==null&&nh(Er,t),Tr!==null&&nh(Tr,t),Yo.forEach(s),Qo.forEach(s);for(var a=0;a<wr.length;a++){var o=wr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<wr.length&&(a=wr[0],a.blockedOn===null);)qv(a),a.blockedOn===null&&wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],m=a[o+1],b=h[en]||null;if(typeof m=="function")b||Hv(a);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[en]||null)T=b.formAction;else if(Em(h)!==null)continue}else T=b.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Hv(a)}}}function Gv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function wm(t){this._internalRoot=t}ih.prototype.render=wm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Qn();Vv(a,o,t,s,null,null)},ih.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Vv(t.current,2,null,t,null,null),Lu(),s[Jn]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var s=Pa();t={blockedOn:null,target:t,priority:s};for(var a=0;a<wr.length&&s!==0&&s<wr[a].priority;a++);wr.splice(a,0,t),a===0&&qv(t)}};var Kv=e.version;if(Kv!=="19.2.3")throw Error(r(527,Kv,"19.2.3"));ce.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(s),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var AS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{me=rh.inject(AS),De=rh}catch{}}return Wo.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",h=Zy,m=e0,b=t0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=kv(t,1,!1,null,null,a,o,null,h,m,b,Gv),t[Jn]=s.current,rm(t),new wm(s)},Wo.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,h="",m=Zy,b=e0,T=t0,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),s=kv(t,1,!0,s,a??null,o,h,I,m,b,T,Gv),s.context=Mv(null),a=s.current,o=Qn(),o=Yi(o),h=cr(o),h.callback=null,ur(a,h,o),a=o,s.current.lanes=a,Qe(s,a),Ws(s),t[Jn]=s.current,rm(t),new ih(s)},Wo.version="19.2.3",Wo}var nb;function VS(){if(nb)return Nm.exports;nb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nm.exports=MS(),Nm.exports}var PS=VS();var sb="popstate";function LS(i={}){function e(r,l){let{pathname:c,search:d,hash:p}=r.location;return Wm("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:dc(l)}return zS(e,n,null,i)}function nn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Is(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function US(){return Math.random().toString(36).substring(2,10)}function ib(i,e){return{usr:i.state,key:i.key,idx:e}}function Wm(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?wc(e):e,state:n,key:e&&e.key||r||US()}}function dc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function wc(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function zS(i,e,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,d=l.history,p="POP",g=null,y=x();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function x(){return(d.state||{idx:null}).idx}function E(){p="POP";let F=x(),ie=F==null?null:F-y;y=F,g&&g({action:p,location:U.location,delta:ie})}function S(F,ie){p="PUSH";let se=Wm(U.location,F,ie);y=x()+1;let re=ib(se,y),Ae=U.createHref(se);try{d.pushState(re,"",Ae)}catch(Ve){if(Ve instanceof DOMException&&Ve.name==="DataCloneError")throw Ve;l.location.assign(Ae)}c&&g&&g({action:p,location:U.location,delta:1})}function V(F,ie){p="REPLACE";let se=Wm(U.location,F,ie);y=x();let re=ib(se,y),Ae=U.createHref(se);d.replaceState(re,"",Ae),c&&g&&g({action:p,location:U.location,delta:0})}function G(F){return BS(F)}let U={get action(){return p},get location(){return i(l,d)},listen(F){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(sb,E),g=F,()=>{l.removeEventListener(sb,E),g=null}},createHref(F){return e(l,F)},createURL:G,encodeLocation(F){let ie=G(F);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:S,replace:V,go(F){return d.go(F)}};return U}function BS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nn(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:dc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $_(i,e,n="/"){return qS(i,e,n,!1)}function qS(i,e,n,r){let l=typeof e=="string"?wc(e):e,c=Pi(l.pathname||"/",n);if(c==null)return null;let d=X_(i);FS(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=eA(c);p=JS(d[g],y,r)}return p}function X_(i,e=[],n=[],r="",l=!1){let c=(d,p,g=l,y)=>{let x={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&g)return;nn(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let E=ki([r,x.relativePath]),S=n.concat(x);d.children&&d.children.length>0&&(nn(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),X_(d.children,e,S,E,g)),!(d.path==null&&!d.index)&&e.push({path:E,score:XS(E,d.index),routesMeta:S})};return i.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of W_(d.path))c(d,p,!0,g)}),e}function W_(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let d=W_(r.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...d),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function FS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:WS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var HS=/^:[\w-]+$/,GS=3,KS=2,YS=1,QS=10,$S=-2,rb=i=>i==="*";function XS(i,e){let n=i.split("/"),r=n.length;return n.some(rb)&&(r+=$S),e&&(r+=KS),n.filter(l=>!rb(l)).reduce((l,c)=>l+(HS.test(c)?GS:c===""?YS:QS),r)}function WS(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function JS(i,e,n=!1){let{routesMeta:r}=i,l={},c="/",d=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),S=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:ki([c,E.pathname]),pathnameBase:iA(ki([c,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(c=ki([c,E.pathnameBase]))}return d}function Oh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=ZS(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:x,isOptional:E},S)=>{if(x==="*"){let G=p[S]||"";d=c.slice(0,c.length-G.length).replace(/(.)\/+$/,"$1")}const V=p[S];return E&&!V?y[x]=void 0:y[x]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function ZS(i,e=!1,n=!0){Is(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function eA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Is(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Pi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tA=i=>J_.test(i);function nA(i,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof i=="string"?wc(i):i,c;if(n)if(tA(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Is(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=ab(n.substring(1),"/"):c=ab(n,e)}else c=e;return{pathname:c,search:rA(r),hash:aA(l)}}function ab(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Dm(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Z_(i){let e=sA(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ex(i,e,n,r=!1){let l;typeof i=="string"?l=wc(i):(l={...i},nn(!l.pathname||!l.pathname.includes("?"),Dm("?","pathname","search",l)),nn(!l.pathname||!l.pathname.includes("#"),Dm("#","pathname","hash",l)),nn(!l.search||!l.search.includes("#"),Dm("#","search","hash",l)));let c=i===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let E=e.length-1;if(!r&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),E-=1;l.pathname=S.join("/")}p=E>=0?e[E]:"/"}let g=nA(l,p),y=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var ki=i=>i.join("/").replace(/\/\/+/g,"/"),iA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),rA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,aA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,lA=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function oA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function cA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nx(i,e){let n=i;if(typeof n!="string"||!J_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(tx)try{let c=new URL(window.location.href),d=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=Pi(d.pathname,e);d.origin===c.origin&&p!=null?n=p+d.search+d.hash:l=!0}catch{Is(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sx=["POST","PUT","PATCH","DELETE"];new Set(sx);var uA=["GET",...sx];new Set(uA);var Fl=k.createContext(null);Fl.displayName="DataRouter";var sd=k.createContext(null);sd.displayName="DataRouterState";var hA=k.createContext(!1),ix=k.createContext({isTransitioning:!1});ix.displayName="ViewTransition";var dA=k.createContext(new Map);dA.displayName="Fetchers";var fA=k.createContext(null);fA.displayName="Await";var gs=k.createContext(null);gs.displayName="Navigation";var id=k.createContext(null);id.displayName="Location";var Fi=k.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var Ap=k.createContext(null);Ap.displayName="RouteError";var rx="REACT_ROUTER_ERROR",mA="REDIRECT",pA="ROUTE_ERROR_RESPONSE";function gA(i){if(i.startsWith(`${rx}:${mA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function yA(i){if(i.startsWith(`${rx}:${pA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new lA(e.status,e.statusText,e.data)}catch{}}function vA(i,{relative:e}={}){nn(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(gs),{hash:l,pathname:c,search:d}=Ac(i,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ki([n,c])),r.createHref({pathname:p,search:d,hash:l})}function Sc(){return k.useContext(id)!=null}function Fr(){return nn(Sc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(id).location}var ax="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lx(i){k.useContext(gs).static||k.useLayoutEffect(i)}function ox(){let{isDataRoute:i}=k.useContext(Fi);return i?DA():bA()}function bA(){nn(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(Fl),{basename:e,navigator:n}=k.useContext(gs),{matches:r}=k.useContext(Fi),{pathname:l}=Fr(),c=JSON.stringify(Z_(r)),d=k.useRef(!1);return lx(()=>{d.current=!0}),k.useCallback((g,y={})=>{if(Is(d.current,ax),!d.current)return;if(typeof g=="number"){n.go(g);return}let x=ex(g,JSON.parse(c),l,y.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ki([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,l,i])}k.createContext(null);function Ac(i,{relative:e}={}){let{matches:n}=k.useContext(Fi),{pathname:r}=Fr(),l=JSON.stringify(Z_(n));return k.useMemo(()=>ex(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function _A(i,e,n,r,l){nn(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=k.useContext(gs),{matches:d}=k.useContext(Fi),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let se=E&&E.path||"";ux(y,!E||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let S=Fr(),V;V=S;let G=V.pathname||"/",U=G;if(x!=="/"){let se=x.replace(/^\//,"").split("/");U="/"+G.replace(/^\//,"").split("/").slice(se.length).join("/")}let F=$_(i,{pathname:U});return Is(E||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Is(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),SA(F&&F.map(se=>Object.assign({},se,{params:Object.assign({},g,se.params),pathname:ki([x,c.encodeLocation?c.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?x:ki([x,c.encodeLocation?c.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),d,n,r,l)}function xA(){let i=IA(),e=oA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:l},n):null,d)}var EA=k.createElement(xA,null),cx=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=yA(i.digest);n&&(i=n)}let e=i!==void 0?k.createElement(Fi.Provider,{value:this.props.routeContext},k.createElement(Ap.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?k.createElement(TA,{error:i},e):e}};cx.contextType=hA;var jm=new WeakMap;function TA({children:i,error:e}){let{basename:n}=k.useContext(gs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=gA(e.digest);if(r){let l=jm.get(e);if(l)throw l;let c=nx(r.location,n);if(tx&&!jm.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw jm.set(e,d),d}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function wA({routeContext:i,match:e,children:n}){let r=k.useContext(Fl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Fi.Provider,{value:i},n)}function SA(i,e=[],n=null,r=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,d=n?.errors;if(d!=null){let x=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);nn(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:S,errors:V}=n,G=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!V||V[E.route.id]===void 0);if(E.route.lazy||G){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(x,E)=>{r(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:cA(n.matches),errorInfo:E})}:void 0;return c.reduceRight((x,E,S)=>{let V,G=!1,U=null,F=null;n&&(V=d&&E.route.id?d[E.route.id]:void 0,U=E.route.errorElement||EA,p&&(g<0&&S===0?(ux("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,F=null):g===S&&(G=!0,F=E.route.hydrateFallbackElement||null)));let ie=e.concat(c.slice(0,S+1)),se=()=>{let re;return V?re=U:G?re=F:E.route.Component?re=k.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=x,k.createElement(wA,{match:E,routeContext:{outlet:x,matches:ie,isDataRoute:n!=null},children:re})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?k.createElement(cx,{location:n.location,revalidation:n.revalidation,component:U,error:V,children:se(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:y}):se()},null)}function Np(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AA(i){let e=k.useContext(Fl);return nn(e,Np(i)),e}function NA(i){let e=k.useContext(sd);return nn(e,Np(i)),e}function RA(i){let e=k.useContext(Fi);return nn(e,Np(i)),e}function Rp(i){let e=RA(i),n=e.matches[e.matches.length-1];return nn(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function CA(){return Rp("useRouteId")}function IA(){let i=k.useContext(Ap),e=NA("useRouteError"),n=Rp("useRouteError");return i!==void 0?i:e.errors?.[n]}function DA(){let{router:i}=AA("useNavigate"),e=Rp("useNavigate"),n=k.useRef(!1);return lx(()=>{n.current=!0}),k.useCallback(async(l,c={})=>{Is(n.current,ax),n.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...c}))},[i,e])}var lb={};function ux(i,e,n){!e&&!lb[i]&&(lb[i]=!0,Is(!1,n))}k.memo(jA);function jA({routes:i,future:e,state:n,onError:r}){return _A(i,void 0,n,r,e)}function OA({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){nn(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=k.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[p,l,c,d]);typeof n=="string"&&(n=wc(n));let{pathname:y="/",search:x="",hash:E="",state:S=null,key:V="default"}=n,G=k.useMemo(()=>{let U=Pi(y,p);return U==null?null:{location:{pathname:U,search:x,hash:E,state:S,key:V},navigationType:r}},[p,y,x,E,S,V,r]);return Is(G!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:k.createElement(gs.Provider,{value:g},k.createElement(id.Provider,{children:e,value:G}))}var xh="get",Eh="application/x-www-form-urlencoded";function rd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function kA(i){return rd(i)&&i.tagName.toLowerCase()==="button"}function MA(i){return rd(i)&&i.tagName.toLowerCase()==="form"}function VA(i){return rd(i)&&i.tagName.toLowerCase()==="input"}function PA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function LA(i,e){return i.button===0&&(!e||e==="_self")&&!PA(i)}var ah=null;function UA(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var zA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(i){return i!=null&&!zA.has(i)?(Is(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):i}function BA(i,e){let n,r,l,c,d;if(MA(i)){let p=i.getAttribute("action");r=p?Pi(p,e):null,n=i.getAttribute("method")||xh,l=Om(i.getAttribute("enctype"))||Eh,c=new FormData(i)}else if(kA(i)||VA(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(r=g?Pi(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||xh,l=Om(i.getAttribute("formenctype"))||Om(p.getAttribute("enctype"))||Eh,c=new FormData(p,i),!UA()){let{name:y,type:x,value:E}=i;if(x==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,E)}}else{if(rd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xh,r=null,l=Eh,d=i}return c&&l==="text/plain"&&(d=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function qA(i,e,n,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:e&&Pi(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function FA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function GA(i,e,n){let r=await Promise.all(i.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await FA(c,n);return d.links?d.links():[]}return[]}));return $A(r.flat(1).filter(HA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ob(i,e,n,r,l,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function KA(i,e,{includeHydrateFallback:n}={}){return YA(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function YA(i){return[...new Set(i)]}function QA(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function $A(i,e){let n=new Set;return new Set(e),i.reduce((r,l)=>{let c=JSON.stringify(QA(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function hx(){let i=k.useContext(Fl);return Cp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function XA(){let i=k.useContext(sd);return Cp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ip=k.createContext(void 0);Ip.displayName="FrameworkContext";function dx(){let i=k.useContext(Ip);return Cp(i,"You must render this element inside a <HydratedRouter> element"),i}function WA(i,e){let n=k.useContext(Ip),[r,l]=k.useState(!1),[c,d]=k.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,S=k.useRef(null);k.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let U=ie=>{ie.forEach(se=>{d(se.isIntersecting)})},F=new IntersectionObserver(U,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[i]),k.useEffect(()=>{if(r){let U=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(U)}}},[r]);let V=()=>{l(!0)},G=()=>{l(!1),d(!1)};return n?i!=="intent"?[c,S,{}]:[c,S,{onFocus:Jo(p,V),onBlur:Jo(g,G),onMouseEnter:Jo(y,V),onMouseLeave:Jo(x,G),onTouchStart:Jo(E,V)}]:[!1,S,{}]}function Jo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function JA({page:i,...e}){let{router:n}=hx(),r=k.useMemo(()=>$_(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?k.createElement(eN,{page:i,matches:r,...e}):null}function ZA(i){let{manifest:e,routeModules:n}=dx(),[r,l]=k.useState([]);return k.useEffect(()=>{let c=!1;return GA(i,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[i,e,n]),r}function eN({page:i,matches:e,...n}){let r=Fr(),{future:l,manifest:c,routeModules:d}=dx(),{basename:p}=hx(),{loaderData:g,matches:y}=XA(),x=k.useMemo(()=>ob(i,e,y,c,r,"data"),[i,e,y,c,r]),E=k.useMemo(()=>ob(i,e,y,c,r,"assets"),[i,e,y,c,r]),S=k.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let U=new Set,F=!1;if(e.forEach(se=>{let re=c.routes[se.route.id];!re||!re.hasLoader||(!x.some(Ae=>Ae.route.id===se.route.id)&&se.route.id in g&&d[se.route.id]?.shouldRevalidate||re.hasClientLoader?F=!0:U.add(se.route.id))}),U.size===0)return[];let ie=qA(i,p,l.unstable_trailingSlashAwareDataRequests,"data");return F&&U.size>0&&ie.searchParams.set("_routes",e.filter(se=>U.has(se.route.id)).map(se=>se.route.id).join(",")),[ie.pathname+ie.search]},[p,l.unstable_trailingSlashAwareDataRequests,g,r,c,x,e,i,d]),V=k.useMemo(()=>KA(E,c),[E,c]),G=ZA(E);return k.createElement(k.Fragment,null,S.map(U=>k.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),V.map(U=>k.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),G.map(({key:U,link:F})=>k.createElement("link",{key:U,nonce:n.nonce,...F})))}function tN(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nN&&(window.__reactRouterVersion="7.12.0")}catch{}function sN({basename:i,children:e,unstable_useTransitions:n,window:r}){let l=k.useRef();l.current==null&&(l.current=LS({window:r,v5Compat:!0}));let c=l.current,[d,p]=k.useState({action:c.action,location:c.location}),g=k.useCallback(y=>{n===!1?p(y):k.startTransition(()=>p(y))},[n]);return k.useLayoutEffect(()=>c.listen(g),[c,g]),k.createElement(OA,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n})}var fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mx=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...V},G){let{basename:U,unstable_useTransitions:F}=k.useContext(gs),ie=typeof y=="string"&&fx.test(y),se=nx(y,U);y=se.to;let re=vA(y,{relative:l}),[Ae,Ve,Oe]=WA(r,V),C=lN(y,{replace:d,state:p,target:g,preventScrollReset:x,relative:l,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:F});function A(M){e&&e(M),M.defaultPrevented||C(M)}let N=k.createElement("a",{...V,...Oe,href:se.absoluteURL||re,onClick:se.isExternal||c?e:A,ref:tN(G,Ve),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return Ae&&!ie?k.createElement(k.Fragment,null,N,k.createElement(JA,{page:re})):N});mx.displayName="Link";var iN=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:d,viewTransition:p,children:g,...y},x){let E=Ac(d,{relative:y.relative}),S=Fr(),V=k.useContext(sd),{navigator:G,basename:U}=k.useContext(gs),F=V!=null&&dN(E)&&p===!0,ie=G.encodeLocation?G.encodeLocation(E).pathname:E.pathname,se=S.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(se=se.toLowerCase(),re=re?re.toLowerCase():null,ie=ie.toLowerCase()),re&&U&&(re=Pi(re,U)||re);const Ae=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let Ve=se===ie||!l&&se.startsWith(ie)&&se.charAt(Ae)==="/",Oe=re!=null&&(re===ie||!l&&re.startsWith(ie)&&re.charAt(ie.length)==="/"),C={isActive:Ve,isPending:Oe,isTransitioning:F},A=Ve?e:void 0,N;typeof r=="function"?N=r(C):N=[r,Ve?"active":null,Oe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(C):c;return k.createElement(mx,{...y,"aria-current":A,className:N,ref:x,style:M,to:d,viewTransition:p},typeof g=="function"?g(C):g)});iN.displayName="NavLink";var rN=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:c,method:d=xh,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S,...V},G)=>{let{unstable_useTransitions:U}=k.useContext(gs),F=uN(),ie=hN(p,{relative:y}),se=d.toLowerCase()==="get"?"get":"post",re=typeof p=="string"&&fx.test(p),Ae=Ve=>{if(g&&g(Ve),Ve.defaultPrevented)return;Ve.preventDefault();let Oe=Ve.nativeEvent.submitter,C=Oe?.getAttribute("formmethod")||d,A=()=>F(Oe||Ve.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:l,state:c,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:S});U&&n!==!1?k.startTransition(()=>A()):A()};return k.createElement("form",{ref:G,method:se,action:ie,onSubmit:r?g:Ae,...V,"data-discover":!re&&i==="render"?"true":void 0})});rN.displayName="Form";function aN(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function px(i){let e=k.useContext(Fl);return nn(e,aN(i)),e}function lN(i,{target:e,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=ox(),x=Fr(),E=Ac(i,{relative:c});return k.useCallback(S=>{if(LA(S,e)){S.preventDefault();let V=n!==void 0?n:dc(x)===dc(E),G=()=>y(i,{replace:V,state:r,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:p});g?k.startTransition(()=>G()):G()}},[x,y,E,n,r,e,i,l,c,d,p,g])}var oN=0,cN=()=>`__${String(++oN)}__`;function uN(){let{router:i}=px("useSubmit"),{basename:e}=k.useContext(gs),n=CA(),r=i.fetch,l=i.navigate;return k.useCallback(async(c,d={})=>{let{action:p,method:g,encType:y,formData:x,body:E}=BA(c,e);if(d.navigate===!1){let S=d.fetcherKey||cN();await r(S,n,d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:E,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await l(d.action||p,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:E,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,e,n])}function hN(i,{relative:e}={}){let{basename:n}=k.useContext(gs),r=k.useContext(Fi);nn(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...Ac(i||".",{relative:e})},d=Fr();if(i==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ki([n,c.pathname])),dc(c)}function dN(i,{relative:e}={}){let n=k.useContext(ix);nn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=px("useViewTransitionState"),l=Ac(i,{relative:e});if(!n.isTransitioning)return!1;let c=Pi(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=Pi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Oh(l.pathname,d)!=null||Oh(l.pathname,c)!=null}const fN=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mN=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),cb=i=>{const e=mN(i);return e.charAt(0).toUpperCase()+e.slice(1)},gx=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),pN=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yN=k.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},g)=>k.createElement("svg",{ref:g,...gN,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:gx("lucide",l),...!c&&!pN(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,x])=>k.createElement(y,x)),...Array.isArray(c)?c:[c]]));const vn=(i,e)=>{const n=k.forwardRef(({className:r,...l},c)=>k.createElement(yN,{ref:c,iconNode:e,className:gx(`lucide-${fN(cb(i))}`,`lucide-${i}`,r),...l}));return n.displayName=cb(i),n};const vN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lh=vn("check",vN);const bN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_N=vn("chevron-down",bN);const xN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],EN=vn("chevron-right",xN);const TN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wN=vn("circle-check",TN);const SN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],AN=vn("file-text",SN);const NN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RN=vn("mail",NN);const CN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ub=vn("map-pin",CN);const IN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],DN=vn("menu",IN);const jN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hb=vn("plus",jN);const ON=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kN=vn("settings",ON);const MN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zo=vn("shield",MN);const VN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],PN=vn("square-pen",VN);const LN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oh=vn("trending-up",LN);const UN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],km=vn("triangle-alert",UN);const zN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ch=vn("users",zN);const BN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hs=vn("x",BN);const qN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uh=vn("zap",qN),FN=()=>{};var db={};const yx=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},HN=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[n++],d=i[n++],p=i[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],d=i[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const c=i[l],d=l+1<i.length,p=d?i[l+1]:0,g=l+2<i.length,y=g?i[l+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,V=y&63;g||(V=64,d||(S=64)),r.push(n[x],n[E],n[S],n[V])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(yx(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):HN(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const c=n[i.charAt(l++)],p=l<i.length?n[i.charAt(l)]:0;++l;const y=l<i.length?n[i.charAt(l)]:64;++l;const E=l<i.length?n[i.charAt(l)]:64;if(++l,c==null||p==null||y==null||E==null)throw new GN;const S=c<<2|p>>4;if(r.push(S),y!==64){const V=p<<4&240|y>>2;if(r.push(V),E!==64){const G=y<<6&192|E;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class GN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KN=function(i){const e=yx(i);return vx.encodeByteArray(e,!0)},kh=function(i){return KN(i).replace(/\./g,"")},bx=function(i){try{return vx.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QN=()=>YN().__FIREBASE_DEFAULTS__,$N=()=>{if(typeof process>"u"||typeof db>"u")return;const i=db.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},XN=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&bx(i[1]);return e&&JSON.parse(e)},ad=()=>{try{return FN()||QN()||$N()||XN()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_x=i=>ad()?.emulatorHosts?.[i],Dp=i=>{const e=_x(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xx=()=>ad()?.config,Ex=i=>ad()?.[`_${i}`];class WN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Hi(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ld(i){return(await fetch(i,{credentials:"include"})).ok}function Tx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[kh(JSON.stringify(n)),kh(JSON.stringify(d)),""].join(".")}const ac={};function JN(){const i={prod:[],emulator:[]};for(const e of Object.keys(ac))ac[e]?i.emulator.push(e):i.prod.push(e);return i}function ZN(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let fb=!1;function od(i,e){if(typeof window>"u"||typeof document>"u"||!Hi(window.location.host)||ac[i]===e||ac[i]||fb)return;ac[i]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=JN().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{fb=!0,d()},S}function x(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=ZN(r),V=n("text"),G=document.getElementById(V)||document.createElement("span"),U=n("learnmore"),F=document.getElementById(U)||document.createElement("a"),ie=n("preprendIcon"),se=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const re=S.element;p(re),x(F,U);const Ae=y();g(se,ie),re.append(se,G,F,Ae),document.body.appendChild(re)}c?(G.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function t1(){const i=ad()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function i1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r1(){const i=Tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function a1(){return!t1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l1(){try{return typeof indexedDB=="object"}catch{return!1}}function o1(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const c1="FirebaseError";class Os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c1,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?u1(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Os(l,p,r)}}function u1(i,e){return i.replace(h1,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const h1=/\{\$([^}]+)}/g;function d1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Na(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=i[l],d=e[l];if(mb(c)&&mb(d)){if(!Na(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function mb(i){return i!==null&&typeof i=="object"}function Rc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function tc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function f1(i,e){const n=new m1(i,e);return n.subscribe.bind(n)}class m1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");p1(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Mm),l.error===void 0&&(l.error=Mm),l.complete===void 0&&(l.complete=Mm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Mm(){}function Vt(i){return i&&i._delegate?i._delegate:i}class Li{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wa="[DEFAULT]";class g1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v1(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y1(i){return i===wa?void 0:i}function v1(i){return i.instantiationMode==="EAGER"}class b1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var tt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(tt||(tt={}));const _1={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},x1=tt.INFO,E1={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},T1=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=E1[e];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jp{constructor(e){this.name=e,this._logLevel=x1,this._logHandler=T1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const w1=(i,e)=>e.some(n=>i instanceof n);let pb,gb;function S1(){return pb||(pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A1(){return gb||(gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wx=new WeakMap,Jm=new WeakMap,Sx=new WeakMap,Vm=new WeakMap,Op=new WeakMap;function N1(i){const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(jr(i.result)),l()},d=()=>{r(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&wx.set(n,i)}).catch(()=>{}),Op.set(e,i),e}function R1(i){if(Jm.has(i))return;const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Jm.set(i,e)}let Zm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Sx.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function C1(i){Zm=i(Zm)}function I1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Pm(this),e,...n);return Sx.set(r,e.sort?e.sort():[e]),jr(r)}:A1().includes(i)?function(...e){return i.apply(Pm(this),e),jr(wx.get(this))}:function(...e){return jr(i.apply(Pm(this),e))}}function D1(i){return typeof i=="function"?I1(i):(i instanceof IDBTransaction&&R1(i),w1(i,S1())?new Proxy(i,Zm):i)}function jr(i){if(i instanceof IDBRequest)return N1(i);if(Vm.has(i))return Vm.get(i);const e=D1(i);return e!==i&&(Vm.set(i,e),Op.set(e,i)),e}const Pm=i=>Op.get(i);function j1(i,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(i,e),p=jr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(jr(d.result),g.oldVersion,g.newVersion,jr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const O1=["get","getKey","getAll","getAllKeys","count"],k1=["put","add","delete","clear"],Lm=new Map;function yb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=k1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||O1.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Lm.set(e,c),c}C1(i=>({...i,get:(e,n,r)=>yb(e,n)||i.get(e,n,r),has:(e,n)=>!!yb(e,n)||i.has(e,n)}));class M1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V1(i){return i.getComponent()?.type==="VERSION"}const ep="@firebase/app",vb="0.14.6";const Ui=new jp("@firebase/app"),P1="@firebase/app-compat",L1="@firebase/analytics-compat",U1="@firebase/analytics",z1="@firebase/app-check-compat",B1="@firebase/app-check",q1="@firebase/auth",F1="@firebase/auth-compat",H1="@firebase/database",G1="@firebase/data-connect",K1="@firebase/database-compat",Y1="@firebase/functions",Q1="@firebase/functions-compat",$1="@firebase/installations",X1="@firebase/installations-compat",W1="@firebase/messaging",J1="@firebase/messaging-compat",Z1="@firebase/performance",eR="@firebase/performance-compat",tR="@firebase/remote-config",nR="@firebase/remote-config-compat",sR="@firebase/storage",iR="@firebase/storage-compat",rR="@firebase/firestore",aR="@firebase/ai",lR="@firebase/firestore-compat",oR="firebase",cR="12.6.0";const tp="[DEFAULT]",uR={[ep]:"fire-core",[P1]:"fire-core-compat",[U1]:"fire-analytics",[L1]:"fire-analytics-compat",[B1]:"fire-app-check",[z1]:"fire-app-check-compat",[q1]:"fire-auth",[F1]:"fire-auth-compat",[H1]:"fire-rtdb",[G1]:"fire-data-connect",[K1]:"fire-rtdb-compat",[Y1]:"fire-fn",[Q1]:"fire-fn-compat",[$1]:"fire-iid",[X1]:"fire-iid-compat",[W1]:"fire-fcm",[J1]:"fire-fcm-compat",[Z1]:"fire-perf",[eR]:"fire-perf-compat",[tR]:"fire-rc",[nR]:"fire-rc-compat",[sR]:"fire-gcs",[iR]:"fire-gcs-compat",[rR]:"fire-fst",[lR]:"fire-fst-compat",[aR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};const Mh=new Map,hR=new Map,np=new Map;function bb(i,e){try{i.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Vr(i){const e=i.name;if(np.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,i);for(const n of Mh.values())bb(n,i);for(const n of hR.values())bb(n,i);return!0}function Cc(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function kn(i){return i==null?!1:i.settings!==void 0}const dR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Nc("app","Firebase",dR);class fR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}const ja=cR;function Ax(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:tp,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Or.create("bad-app-name",{appName:String(l)});if(n||(n=xx()),!n)throw Or.create("no-options");const c=Mh.get(l);if(c){if(Na(n,c.options)&&Na(r,c.config))return c;throw Or.create("duplicate-app",{appName:l})}const d=new b1(l);for(const g of np.values())d.addComponent(g);const p=new fR(n,r,d);return Mh.set(l,p),p}function cd(i=tp){const e=Mh.get(i);if(!e&&i===tp&&xx())return Ax();if(!e)throw Or.create("no-app",{appName:i});return e}function ps(i,e,n){let r=uR[i]??i;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}Vr(new Li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const mR="firebase-heartbeat-database",pR=1,fc="firebase-heartbeat-store";let Um=null;function Nx(){return Um||(Um=j1(mR,pR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Or.create("idb-open",{originalErrorMessage:i.message})})),Um}async function gR(i){try{const n=(await Nx()).transaction(fc),r=await n.objectStore(fc).get(Rx(i));return await n.done,r}catch(e){if(e instanceof Os)Ui.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(n.message)}}}async function _b(i,e){try{const r=(await Nx()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,Rx(i)),await r.done}catch(n){if(n instanceof Os)Ui.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n?.message});Ui.warn(r.message)}}}function Rx(i){return`${i.name}!${i.options.appId}`}const yR=1024,vR=30;class bR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>vR){const l=ER(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xb(),{heartbeatsToSend:n,unsentEntries:r}=_R(this._heartbeatsCache.heartbeats),l=kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ui.warn(e),""}}}function xb(){return new Date().toISOString().substring(0,10)}function _R(i,e=yR){const n=[];let r=i.slice();for(const l of i){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Eb(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Eb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l1()?o1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _b(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _b(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Eb(i){return kh(JSON.stringify({version:2,heartbeats:i})).length}function ER(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function TR(i){Vr(new Li("platform-logger",e=>new M1(e),"PRIVATE")),Vr(new Li("heartbeat",e=>new bR(e),"PRIVATE")),ps(ep,vb,i),ps(ep,vb,"esm2020"),ps("fire-js","")}TR("");function Cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wR=Cx,Ix=new Nc("auth","Firebase",Cx());const Vh=new jp("@firebase/auth");function SR(i,...e){Vh.logLevel<=tt.WARN&&Vh.warn(`Auth (${ja}): ${i}`,...e)}function Th(i,...e){Vh.logLevel<=tt.ERROR&&Vh.error(`Auth (${ja}): ${i}`,...e)}function Ds(i,...e){throw kp(i,...e)}function Zs(i,...e){return kp(i,...e)}function Dx(i,e,n){const r={...wR(),[e]:n};return new Nc("auth","Firebase",r).create(e,{appName:i.name})}function Mi(i){return Dx(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return Ix.create(i,...e)}function ke(i,e,...n){if(!i)throw kp(e,...n)}function ji(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Th(e),new Error(e)}function zi(i,e){i||ji(e)}function sp(){return typeof self<"u"&&self.location?.href||""}function AR(){return Tb()==="http:"||Tb()==="https:"}function Tb(){return typeof self<"u"&&self.location?.protocol||null}function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AR()||s1()||"connection"in navigator)?navigator.onLine:!0}function RR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=e1()||i1()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mp(i,e){zi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class jx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DR=new Ic(3e4,6e4);function Hr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Gr(i,e,n,r,l={}){return Ox(i,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=Rc({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return n1()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Hi(i.emulatorConfig.host)&&(y.credentials="include"),jx.fetch()(await kx(i,i.config.apiHost,n,p),y)})}async function Ox(i,e,n){i._canInitEmulator=!1;const r={...CR,...e};try{const l=new OR(i),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw hh(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw hh(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw hh(i,"user-disabled",d);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Dx(i,x,y);Ds(i,x)}}catch(l){if(l instanceof Os)throw l;Ds(i,"network-request-failed",{message:String(l)})}}async function Dc(i,e,n,r,l={}){const c=await Gr(i,e,n,r,l);return"mfaPendingCredential"in c&&Ds(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function kx(i,e,n,r){const l=`${e}${n}?${r}`,c=i,d=c.config.emulator?Mp(i.config,l):`${i.config.apiScheme}://${l}`;return IR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function jR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zs(this.auth,"network-request-failed")),DR.get())})}}function hh(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Zs(i,e,r);return l.customData._tokenResponse=n,l}function wb(i){return i!==void 0&&i.enterprise!==void 0}class kR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MR(i,e){return Gr(i,"GET","/v2/recaptchaConfig",Hr(i,e))}async function VR(i,e){return Gr(i,"POST","/v1/accounts:delete",e)}async function Ph(i,e){return Gr(i,"POST","/v1/accounts:lookup",e)}function lc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PR(i,e=!1){const n=Vt(i),r=await n.getIdToken(e),l=Vp(r);ke(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:lc(zm(l.auth_time)),issuedAtTime:lc(zm(l.iat)),expirationTime:lc(zm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zm(i){return Number(i)*1e3}function Vp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const l=bx(n);return l?JSON.parse(l):(Th("Failed to decode base64 JWT payload"),null)}catch(l){return Th("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Sb(i){const e=Vp(i);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mc(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Os&&LR(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function LR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class UR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(i){const e=i.auth,n=await i.getIdToken(),r=await mc(i,Ph(e,{idToken:n}));ke(r?.users.length,e,"internal-error");const l=r.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?Mx(l.providerUserInfo):[],d=BR(i.providerData,c),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!d?.length,y=p?g:!1,x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ip(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,x)}async function zR(i){const e=Vt(i);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BR(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Mx(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function qR(i,e){const n=await Ox(i,{},async()=>{const r=Rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,d=await kx(i,l,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return i.emulatorConfig&&Hi(i.emulatorConfig.host)&&(g.credentials="include"),jx.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FR(i,e){return Gr(i,"POST","/v2/accounts:revokeToken",Hr(i,e))}class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=Sb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await qR(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new Il;return r&&(ke(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ke(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ke(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return ji("not implemented")}}function Ar(i,e){ke(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new UR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ip(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PR(this,e)}reload(){return zR(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await mc(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:V,providerData:G,stsTokenManager:U}=n;ke(E&&U,e,"internal-error");const F=Il.fromJSON(this.name,U);ke(typeof E=="string",e,"internal-error"),Ar(r,e.name),Ar(l,e.name),ke(typeof S=="boolean",e,"internal-error"),ke(typeof V=="boolean",e,"internal-error"),Ar(c,e.name),Ar(d,e.name),Ar(p,e.name),Ar(g,e.name),Ar(y,e.name),Ar(x,e.name);const ie=new Ns({uid:E,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:V,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:F,createdAt:y,lastLoginAt:x});return G&&Array.isArray(G)&&(ie.providerData=G.map(se=>({...se}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,r=!1){const l=new Il;l.updateFromServerResponse(n);const c=new Ns({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Lh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];ke(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Mx(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Il;p.updateFromIdToken(r);const g=new Ns({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ip(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const Ab=new Map;function Oi(i){zi(i instanceof Function,"Expected a class definition");let e=Ab.get(i);return e?(zi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Ab.set(i,e),e)}class Vx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vx.type="NONE";const Nb=Vx;function wh(i,e,n){return`firebase:${i}:${e}:${n}`}class Dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=wh(this.userKey,l.apiKey,c),this.fullPersistenceKey=wh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?Ns._fromGetAccountInfoResponse(this.auth,n,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dl(Oi(Nb),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Oi(Nb);const d=wh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(d);if(x){let E;if(typeof x=="string"){const S=await Ph(e,{idToken:x}).catch(()=>{});if(!S)break;E=await Ns._fromGetAccountInfoResponse(e,S,x)}else E=Ns._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Dl(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Dl(c,e,r))}}function Rb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qx(e))return"Blackberry";if(Fx(e))return"Webos";if(Lx(e))return"Safari";if((e.includes("chrome/")||Ux(e))&&!e.includes("edge/"))return"Chrome";if(Bx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function Px(i=Tn()){return/firefox\//i.test(i)}function Lx(i=Tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ux(i=Tn()){return/crios\//i.test(i)}function zx(i=Tn()){return/iemobile/i.test(i)}function Bx(i=Tn()){return/android/i.test(i)}function qx(i=Tn()){return/blackberry/i.test(i)}function Fx(i=Tn()){return/webos/i.test(i)}function Pp(i=Tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function HR(i=Tn()){return Pp(i)&&!!window.navigator?.standalone}function GR(){return r1()&&document.documentMode===10}function Hx(i=Tn()){return Pp(i)||Bx(i)||Fx(i)||qx(i)||/windows phone/i.test(i)||zx(i)}function Gx(i,e=[]){let n;switch(i){case"Browser":n=Rb(Tn());break;case"Worker":n=`${Rb(Tn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ja}/${r}`}class KR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function YR(i,e={}){return Gr(i,"GET","/v2/passwordPolicy",Hr(i,e))}const QR=6;class $R{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class XR{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cb(this),this.idTokenSubscription=new Cb(this),this.beforeStateQueue=new KR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ix,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),r=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Mi(this));const n=e?Vt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YR(this),n=new $R(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oi(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oa(i){return Vt(i)}class Cb{constructor(e){this.auth=e,this.observer=null,this.addObserver=f1(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WR(i){ud=i}function Kx(i){return ud.loadJS(i)}function JR(){return ud.recaptchaEnterpriseScript}function ZR(){return ud.gapiScript}function eC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class tC{constructor(){this.enterprise=new nC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sC="recaptcha-enterprise",Yx="NO_RECAPTCHA";class iC{constructor(e){this.type=sC,this.auth=Oa(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{MR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new kR(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;wb(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(Yx)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!n&&wb(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=JR();g.length!==0&&(g+=p),Kx(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function Ib(i,e,n,r=!1,l=!1){const c=new iC(i);let d;if(l)d=Yx;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function rp(i,e,n,r,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Ib(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Ib(i,e,n,n==="getOobCode");return r(i,d)}else return Promise.reject(c)})}function rC(i,e){const n=Cc(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Na(c,e??{}))return l;Ds(l,"already-initialized")}return n.initialize({options:e})}function aC(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Oi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function lC(i,e,n){const r=Oa(i);ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=Qx(e),{host:d,port:p}=oC(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},x=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ke(Na(y,r.config.emulator)&&Na(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Hi(d)?(ld(`${c}//${d}${g}`),od("Auth",!0)):cC()}function Qx(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function oC(i){const e=Qx(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Db(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Db(d)}}}function Db(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function cC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,n){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function uC(i,e){return Gr(i,"POST","/v1/accounts:signUp",e)}async function hC(i,e){return Dc(i,"POST","/v1/accounts:signInWithPassword",Hr(i,e))}async function dC(i,e){return Dc(i,"POST","/v1/accounts:signInWithEmailLink",Hr(i,e))}async function fC(i,e){return Dc(i,"POST","/v1/accounts:signInWithEmailLink",Hr(i,e))}class pc extends Lp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rp(e,n,"signInWithPassword",hC);case"emailLink":return dC(e,{email:this._email,oobCode:this._password});default:Ds(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rp(e,r,"signUpPassword",uC);case"emailLink":return fC(e,{idToken:n,email:this._email,oobCode:this._password});default:Ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function jl(i,e){return Dc(i,"POST","/v1/accounts:signInWithIdp",Hr(i,e))}const mC="http://localhost";class Ra extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new Ra(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return jl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jl(e,n)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rc(n)}return e}}function pC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gC(i){const e=ec(tc(i)).link,n=e?ec(tc(e)).deep_link_id:null,r=ec(tc(i)).deep_link_id;return(r?ec(tc(r)).link:null)||r||n||e||i}class Up{constructor(e){const n=ec(tc(e)),r=n.apiKey??null,l=n.oobCode??null,c=pC(n.mode??null);ke(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gC(e);try{return new Up(n)}catch{return null}}}class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Up.parseLink(n);return ke(r,"argument-error"),pc._fromEmailAndCode(e,r.code,r.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $x{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jc extends $x{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Nr extends jc{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";class Rr extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";class Cr extends jc{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";class Ir extends jc{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";async function yC(i,e){return Dc(i,"POST","/v1/accounts:signUp",Hr(i,e))}class Ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await Ns._fromIdTokenResponse(e,r,l),d=jb(r);return new Ca({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=jb(r);return new Ca({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function jb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Uh extends Os{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Uh(e,n,r,l)}}function Xx(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(i,c,e,r):c})}async function vC(i,e,n=!1){const r=await mc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ca._forOperation(i,"link",r)}async function bC(i,e,n=!1){const{auth:r}=i;if(kn(r.app))return Promise.reject(Mi(r));const l="reauthenticate";try{const c=await mc(i,Xx(r,l,e,i),n);ke(c.idToken,r,"internal-error");const d=Vp(c.idToken);ke(d,r,"internal-error");const{sub:p}=d;return ke(i.uid===p,r,"user-mismatch"),Ca._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ds(r,"user-mismatch"),c}}async function Wx(i,e,n=!1){if(kn(i.app))return Promise.reject(Mi(i));const r="signIn",l=await Xx(i,r,e),c=await Ca._fromIdTokenResponse(i,r,l);return n||await i._updateCurrentUser(c.user),c}async function _C(i,e){return Wx(Oa(i),e)}async function Jx(i){const e=Oa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xC(i,e,n){if(kn(i.app))return Promise.reject(Mi(i));const r=Oa(i),d=await rp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Jx(i),g}),p=await Ca._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function EC(i,e,n){return kn(i.app)?Promise.reject(Mi(i)):_C(Vt(i),Hl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jx(i),r})}function TC(i,e,n,r){return Vt(i).onIdTokenChanged(e,n,r)}function wC(i,e,n){return Vt(i).beforeAuthStateChanged(e,n)}function SC(i,e,n,r){return Vt(i).onAuthStateChanged(e,n,r)}function AC(i){return Vt(i).signOut()}const zh="__sak";class Zx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const NC=1e3,RC=10;class eE extends Zx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);GR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,RC):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eE.type="LOCAL";const CC=eE;class tE extends Zx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tE.type="SESSION";const nE=tE;function IC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await IC(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];function zp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class DC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=zp("",20);l.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ei(){return window}function jC(i){ei().location.href=i}function sE(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kC(){return navigator?.serviceWorker?.controller||null}function MC(){return sE()?self:null}const iE="firebaseLocalStorageDb",VC=1,Bh="firebaseLocalStorage",rE="fbase_key";class Oc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(i,e){return i.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function PC(){const i=indexedDB.deleteDatabase(iE);return new Oc(i).toPromise()}function ap(){const i=indexedDB.open(iE,VC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Bh,{keyPath:rE})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),await PC(),e(await ap()))})})}async function Ob(i,e,n){const r=dd(i,!0).put({[rE]:e,value:n});return new Oc(r).toPromise()}async function LC(i,e){const n=dd(i,!1).get(e),r=await new Oc(n).toPromise();return r===void 0?null:r.value}function kb(i,e){const n=dd(i,!0).delete(e);return new Oc(n).toPromise()}const UC=800,zC=3;class aE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(MC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new DC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await Ob(e,zh,"1"),await kb(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ob(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=dd(l,!1).getAll();return new Oc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aE.type="LOCAL";const BC=aE;new Ic(3e4,6e4);function qC(i,e){return e?Oi(e):(ke(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Bp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FC(i){return Wx(i.auth,new Bp(i),i.bypassAuthState)}function HC(i){const{auth:e,user:n}=i;return ke(n,e,"internal-error"),bC(n,new Bp(i),i.bypassAuthState)}async function GC(i){const{auth:e,user:n}=i;return ke(n,e,"internal-error"),vC(n,new Bp(i),i.bypassAuthState)}class lE{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FC;case"linkViaPopup":case"linkViaRedirect":return GC;case"reauthViaPopup":case"reauthViaRedirect":return HC;default:Ds(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KC=new Ic(2e3,1e4);class Cl extends lE{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Cl.currentPopupAction&&Cl.currentPopupAction.cancel(),Cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KC.get())};e()}}Cl.currentPopupAction=null;const YC="pendingRedirect",Sh=new Map;class QC extends lE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const r=await $C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $C(i,e){const n=JC(e),r=WC(i);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function XC(i,e){Sh.set(i._key(),e)}function WC(i){return Oi(i._redirectPersistence)}function JC(i){return wh(YC,i.config.apiKey,i.name)}async function ZC(i,e,n=!1){if(kn(i.app))return Promise.reject(Mi(i));const r=Oa(i),l=qC(r,e),d=await new QC(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const e2=600*1e3;class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!oE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mb(e))}saveEventToCache(e){this.cachedEventUids.add(Mb(e)),this.lastProcessedEventTime=Date.now()}}function Mb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function oE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function n2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oE(i);default:return!1}}async function s2(i,e={}){return Gr(i,"GET","/v1/projects",e)}const i2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r2=/^https?/;async function a2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await s2(i);for(const n of e)try{if(l2(n))return}catch{}Ds(i,"unauthorized-domain")}function l2(i){const e=sp(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!r2.test(n))return!1;if(i2.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const o2=new Ic(3e4,6e4);function Vb(){const i=ei().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function c2(i){return new Promise((e,n)=>{function r(){Vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vb(),n(Zs(i,"network-request-failed"))},timeout:o2.get()})}if(ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ei().gapi?.load)r();else{const l=eC("iframefcb");return ei()[l]=()=>{gapi.load?r():n(Zs(i,"network-request-failed"))},Kx(`${ZR()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function u2(i){return Ah=Ah||c2(i),Ah}const h2=new Ic(5e3,15e3),d2="__/auth/iframe",f2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(i){const e=i.config;ke(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Mp(e,f2):`https://${i.config.authDomain}/${d2}`,r={apiKey:e.apiKey,appName:i.name,v:ja},l=p2.get(i.config.apiHost);l&&(r.eid=l);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Rc(r).slice(1)}`}async function y2(i){const e=await u2(i),n=ei().gapi;return ke(n,i,"internal-error"),e.open({where:document.body,url:g2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Zs(i,"network-request-failed"),p=ei().setTimeout(()=>{c(d)},h2.get());function g(){ei().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b2=500,_2=600,x2="_blank",E2="http://localhost";class Pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T2(i,e,n,r=b2,l=_2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...v2,width:r.toString(),height:l.toString(),top:c,left:d},y=Tn().toLowerCase();n&&(p=Ux(y)?x2:n),Px(y)&&(e=e||E2,g.scrollbars="yes");const x=Object.entries(g).reduce((S,[V,G])=>`${S}${V}=${G},`,"");if(HR(y)&&p!=="_self")return w2(e||"",p),new Pb(null);const E=window.open(e||"",p,x);ke(E,i,"popup-blocked");try{E.focus()}catch{}return new Pb(E)}function w2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const S2="__/auth/handler",A2="emulator/auth/handler",N2=encodeURIComponent("fac");async function Lb(i,e,n,r,l,c){ke(i.config.authDomain,i,"auth-domain-config-required"),ke(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:ja,eventId:l};if(e instanceof $x){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",d1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))d[x]=E}if(e instanceof jc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(d.scopes=x.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await i._getAppCheckToken(),y=g?`#${N2}=${encodeURIComponent(g)}`:"";return`${R2(i)}?${Rc(p).slice(1)}${y}`}function R2({config:i}){return i.emulator?Mp(i,A2):`https://${i.authDomain}/${S2}`}const Bm="webStorageSupport";class C2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nE,this._completeRedirectFn=ZC,this._overrideRedirectResult=XC}async _openPopup(e,n,r,l){zi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Lb(e,n,r,sp(),l);return T2(e,c,zp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await Lb(e,n,r,sp(),l);return jC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(zi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y2(e),r=new t2(e);return n.register("authEvent",l=>(ke(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bm,{type:Bm},l=>{const c=l?.[0]?.[Bm];c!==void 0&&n(!!c),Ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hx()||Lx()||Pp()}}const I2=C2;var Ub="@firebase/auth",zb="1.12.0";class D2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function j2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O2(i){Vr(new Li("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;ke(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gx(i)},y=new XR(r,l,c,g);return aC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new Li("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(r=>new D2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Ub,zb,j2(i)),ps(Ub,zb,"esm2020")}const k2=300,M2=Ex("authIdTokenMaxAge")||k2;let Bb=null;const V2=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>M2)return;const l=n?.token;Bb!==l&&(Bb=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function P2(i=cd()){const e=Cc(i,"auth");if(e.isInitialized())return e.getImmediate();const n=rC(i,{popupRedirectResolver:I2,persistence:[BC,CC,nE]}),r=Ex("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=V2(c.toString());wC(n,d,()=>d(n.currentUser)),TC(n,p=>d(p))}}const l=_x("auth");return l&&lC(n,`http://${l}`),n}function L2(){return document.getElementsByTagName("head")?.[0]??document}WR({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const c=Zs("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",L2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O2("Browser");var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kr,cE;(function(){var i;function e(C,A){function N(){}N.prototype=A.prototype,C.F=A.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(M,D,P){for(var R=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)R[xt-2]=arguments[xt];return A.prototype[D].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,N){N||(N=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(D=0;D<16;++D)M[D]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=C.g[0],N=C.g[1],D=C.g[2];let P=C.g[3],R;R=A+(P^N&(D^P))+M[0]+3614090360&4294967295,A=N+(R<<7&4294967295|R>>>25),R=P+(D^A&(N^D))+M[1]+3905402710&4294967295,P=A+(R<<12&4294967295|R>>>20),R=D+(N^P&(A^N))+M[2]+606105819&4294967295,D=P+(R<<17&4294967295|R>>>15),R=N+(A^D&(P^A))+M[3]+3250441966&4294967295,N=D+(R<<22&4294967295|R>>>10),R=A+(P^N&(D^P))+M[4]+4118548399&4294967295,A=N+(R<<7&4294967295|R>>>25),R=P+(D^A&(N^D))+M[5]+1200080426&4294967295,P=A+(R<<12&4294967295|R>>>20),R=D+(N^P&(A^N))+M[6]+2821735955&4294967295,D=P+(R<<17&4294967295|R>>>15),R=N+(A^D&(P^A))+M[7]+4249261313&4294967295,N=D+(R<<22&4294967295|R>>>10),R=A+(P^N&(D^P))+M[8]+1770035416&4294967295,A=N+(R<<7&4294967295|R>>>25),R=P+(D^A&(N^D))+M[9]+2336552879&4294967295,P=A+(R<<12&4294967295|R>>>20),R=D+(N^P&(A^N))+M[10]+4294925233&4294967295,D=P+(R<<17&4294967295|R>>>15),R=N+(A^D&(P^A))+M[11]+2304563134&4294967295,N=D+(R<<22&4294967295|R>>>10),R=A+(P^N&(D^P))+M[12]+1804603682&4294967295,A=N+(R<<7&4294967295|R>>>25),R=P+(D^A&(N^D))+M[13]+4254626195&4294967295,P=A+(R<<12&4294967295|R>>>20),R=D+(N^P&(A^N))+M[14]+2792965006&4294967295,D=P+(R<<17&4294967295|R>>>15),R=N+(A^D&(P^A))+M[15]+1236535329&4294967295,N=D+(R<<22&4294967295|R>>>10),R=A+(D^P&(N^D))+M[1]+4129170786&4294967295,A=N+(R<<5&4294967295|R>>>27),R=P+(N^D&(A^N))+M[6]+3225465664&4294967295,P=A+(R<<9&4294967295|R>>>23),R=D+(A^N&(P^A))+M[11]+643717713&4294967295,D=P+(R<<14&4294967295|R>>>18),R=N+(P^A&(D^P))+M[0]+3921069994&4294967295,N=D+(R<<20&4294967295|R>>>12),R=A+(D^P&(N^D))+M[5]+3593408605&4294967295,A=N+(R<<5&4294967295|R>>>27),R=P+(N^D&(A^N))+M[10]+38016083&4294967295,P=A+(R<<9&4294967295|R>>>23),R=D+(A^N&(P^A))+M[15]+3634488961&4294967295,D=P+(R<<14&4294967295|R>>>18),R=N+(P^A&(D^P))+M[4]+3889429448&4294967295,N=D+(R<<20&4294967295|R>>>12),R=A+(D^P&(N^D))+M[9]+568446438&4294967295,A=N+(R<<5&4294967295|R>>>27),R=P+(N^D&(A^N))+M[14]+3275163606&4294967295,P=A+(R<<9&4294967295|R>>>23),R=D+(A^N&(P^A))+M[3]+4107603335&4294967295,D=P+(R<<14&4294967295|R>>>18),R=N+(P^A&(D^P))+M[8]+1163531501&4294967295,N=D+(R<<20&4294967295|R>>>12),R=A+(D^P&(N^D))+M[13]+2850285829&4294967295,A=N+(R<<5&4294967295|R>>>27),R=P+(N^D&(A^N))+M[2]+4243563512&4294967295,P=A+(R<<9&4294967295|R>>>23),R=D+(A^N&(P^A))+M[7]+1735328473&4294967295,D=P+(R<<14&4294967295|R>>>18),R=N+(P^A&(D^P))+M[12]+2368359562&4294967295,N=D+(R<<20&4294967295|R>>>12),R=A+(N^D^P)+M[5]+4294588738&4294967295,A=N+(R<<4&4294967295|R>>>28),R=P+(A^N^D)+M[8]+2272392833&4294967295,P=A+(R<<11&4294967295|R>>>21),R=D+(P^A^N)+M[11]+1839030562&4294967295,D=P+(R<<16&4294967295|R>>>16),R=N+(D^P^A)+M[14]+4259657740&4294967295,N=D+(R<<23&4294967295|R>>>9),R=A+(N^D^P)+M[1]+2763975236&4294967295,A=N+(R<<4&4294967295|R>>>28),R=P+(A^N^D)+M[4]+1272893353&4294967295,P=A+(R<<11&4294967295|R>>>21),R=D+(P^A^N)+M[7]+4139469664&4294967295,D=P+(R<<16&4294967295|R>>>16),R=N+(D^P^A)+M[10]+3200236656&4294967295,N=D+(R<<23&4294967295|R>>>9),R=A+(N^D^P)+M[13]+681279174&4294967295,A=N+(R<<4&4294967295|R>>>28),R=P+(A^N^D)+M[0]+3936430074&4294967295,P=A+(R<<11&4294967295|R>>>21),R=D+(P^A^N)+M[3]+3572445317&4294967295,D=P+(R<<16&4294967295|R>>>16),R=N+(D^P^A)+M[6]+76029189&4294967295,N=D+(R<<23&4294967295|R>>>9),R=A+(N^D^P)+M[9]+3654602809&4294967295,A=N+(R<<4&4294967295|R>>>28),R=P+(A^N^D)+M[12]+3873151461&4294967295,P=A+(R<<11&4294967295|R>>>21),R=D+(P^A^N)+M[15]+530742520&4294967295,D=P+(R<<16&4294967295|R>>>16),R=N+(D^P^A)+M[2]+3299628645&4294967295,N=D+(R<<23&4294967295|R>>>9),R=A+(D^(N|~P))+M[0]+4096336452&4294967295,A=N+(R<<6&4294967295|R>>>26),R=P+(N^(A|~D))+M[7]+1126891415&4294967295,P=A+(R<<10&4294967295|R>>>22),R=D+(A^(P|~N))+M[14]+2878612391&4294967295,D=P+(R<<15&4294967295|R>>>17),R=N+(P^(D|~A))+M[5]+4237533241&4294967295,N=D+(R<<21&4294967295|R>>>11),R=A+(D^(N|~P))+M[12]+1700485571&4294967295,A=N+(R<<6&4294967295|R>>>26),R=P+(N^(A|~D))+M[3]+2399980690&4294967295,P=A+(R<<10&4294967295|R>>>22),R=D+(A^(P|~N))+M[10]+4293915773&4294967295,D=P+(R<<15&4294967295|R>>>17),R=N+(P^(D|~A))+M[1]+2240044497&4294967295,N=D+(R<<21&4294967295|R>>>11),R=A+(D^(N|~P))+M[8]+1873313359&4294967295,A=N+(R<<6&4294967295|R>>>26),R=P+(N^(A|~D))+M[15]+4264355552&4294967295,P=A+(R<<10&4294967295|R>>>22),R=D+(A^(P|~N))+M[6]+2734768916&4294967295,D=P+(R<<15&4294967295|R>>>17),R=N+(P^(D|~A))+M[13]+1309151649&4294967295,N=D+(R<<21&4294967295|R>>>11),R=A+(D^(N|~P))+M[4]+4149444226&4294967295,A=N+(R<<6&4294967295|R>>>26),R=P+(N^(A|~D))+M[11]+3174756917&4294967295,P=A+(R<<10&4294967295|R>>>22),R=D+(A^(P|~N))+M[2]+718787259&4294967295,D=P+(R<<15&4294967295|R>>>17),R=N+(P^(D|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const N=A-this.blockSize,M=this.C;let D=this.h,P=0;for(;P<A;){if(D==0)for(;P<=N;)l(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<A;)if(M[D++]=C.charCodeAt(P++),D==this.blockSize){l(this,M),D=0;break}}else for(;P<A;)if(M[D++]=C[P++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)C[A++]=this.g[N]>>>M&255;return C};function c(C,A){var N=p;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=A(C)}function d(C,A){this.h=A;const N=[];let M=!0;for(let D=C.length-1;D>=0;D--){const P=C[D]|0;M&&P==A||(N[D]=P,M=!1)}this.g=N}var p={};function g(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return F(y(-C));const A=[];let N=1;for(let M=0;C>=N;M++)A[M]=C/N|0,N*=4294967296;return new d(A,0)}function x(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return F(x(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(A,8));let M=E;for(let P=0;P<C.length;P+=8){var D=Math.min(8,C.length-P);const R=parseInt(C.substring(P,P+D),A);D<8?(D=y(Math.pow(A,D)),M=M.j(D).add(y(R))):(M=M.j(N),M=M.add(y(R)))}return M}var E=g(0),S=g(1),V=g(16777216);i=d.prototype,i.m=function(){if(U(this))return-F(this).m();let C=0,A=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(U(this))return"-"+F(this).toString(C);const A=y(Math.pow(C,6));var N=this;let M="";for(;;){const D=Ae(N,A).g;N=ie(N,D.j(A));let P=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=D,G(N))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function U(C){return C.h==-1}i.l=function(C){return C=ie(this,C),U(C)?-1:G(C)?0:1};function F(C){const A=C.g.length,N=[];for(let M=0;M<A;M++)N[M]=~C.g[M];return new d(N,~C.h).add(S)}i.abs=function(){return U(this)?F(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),N=[];let M=0;for(let D=0;D<=A;D++){let P=M+(this.i(D)&65535)+(C.i(D)&65535),R=(P>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=R>>>16,P&=65535,R&=65535,N[D]=R<<16|P}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ie(C,A){return C.add(F(A))}i.j=function(C){if(G(this)||G(C))return E;if(U(this))return U(C)?F(this).j(F(C)):F(F(this).j(C));if(U(C))return F(this.j(F(C)));if(this.l(V)<0&&C.l(V)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,N=[];for(var M=0;M<2*A;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const P=this.i(M)>>>16,R=this.i(M)&65535,xt=C.i(D)>>>16,Pt=C.i(D)&65535;N[2*M+2*D]+=R*Pt,se(N,2*M+2*D),N[2*M+2*D+1]+=P*Pt,se(N,2*M+2*D+1),N[2*M+2*D+1]+=R*xt,se(N,2*M+2*D+1),N[2*M+2*D+2]+=P*xt,se(N,2*M+2*D+2)}for(C=0;C<A;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=A;C<2*A;C++)N[C]=0;return new d(N,0)};function se(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function re(C,A){this.g=C,this.h=A}function Ae(C,A){if(G(A))throw Error("division by zero");if(G(C))return new re(E,E);if(U(C))return A=Ae(F(C),A),new re(F(A.g),F(A.h));if(U(A))return A=Ae(C,F(A)),new re(F(A.g),A.h);if(C.g.length>30){if(U(C)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var N=S,M=A;M.l(C)<=0;)N=Ve(N),M=Ve(M);var D=Oe(N,1),P=Oe(M,1);for(M=Oe(M,2),N=Oe(N,2);!G(M);){var R=P.add(M);R.l(C)<=0&&(D=D.add(N),P=R),M=Oe(M,1),N=Oe(N,1)}return A=ie(C,D.j(A)),new re(D,A)}for(D=E;C.l(A)>=0;){for(N=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=y(N),R=P.j(A);U(R)||R.l(C)>0;)N-=M,P=y(N),R=P.j(A);G(P)&&(P=S),D=D.add(P),C=ie(C,R)}return new re(D,C)}i.B=function(C){return Ae(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)&C.i(M);return new d(N,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)|C.i(M);return new d(N,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<A;M++)N[M]=this.i(M)^C.i(M);return new d(N,this.h^C.h)};function Ve(C){const A=C.g.length+1,N=[];for(let M=0;M<A;M++)N[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(N,C.h)}function Oe(C,A){const N=A>>5;A%=32;const M=C.g.length-N,D=[];for(let P=0;P<M;P++)D[P]=A>0?C.i(P+N)>>>A|C.i(P+N+1)<<32-A:C.i(P+N);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,kr=d}).apply(typeof qb<"u"?qb:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uE,nc,hE,Nh,lp,dE,fE,mE;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function l(u,v){if(v)e:{var _=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var z=u[w];if(!(z in _))break e;_=_[z]}u=u[u.length-1],w=_[u],v=v(w),v!=w&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(v){var _=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&_.push([w,v[w]]);return _}});var c=c||{},d=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,_){return u.call.apply(u.bind,arguments)}function y(u,v,_){return y=g,y.apply(null,arguments)}function x(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function E(u,v){function _(){}_.prototype=v.prototype,u.Z=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(w,z,K){for(var oe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)oe[Fe-2]=arguments[Fe];return v.prototype[z].apply(w,oe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const v=u.length;if(v>0){const _=Array(v);for(let w=0;w<v;w++)_[w]=u[w];return _}return[]}function G(u,v){for(let w=1;w<arguments.length;w++){const z=arguments[w];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=u.length||0;const K=z.length||0;u.length=_+K;for(let oe=0;oe<K;oe++)u[_+oe]=z[oe]}else u.push(z)}}class U{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(u){d.setTimeout(()=>{throw u},0)}function ie(){var u=C;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class se{constructor(){this.h=this.g=null}add(v,_){const w=re.get();w.set(v,_),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new U(()=>new Ae,u=>u.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,Oe=!1,C=new se,A=()=>{const u=Promise.resolve(void 0);Ve=()=>{u.then(N)}};function N(){for(var u;u=ie();){try{u.h.call(u.g)}catch(_){F(_)}var v=re;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}Oe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function xt(u,v){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(xt,D),xt.prototype.init=function(u,v){const _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(_=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&xt.Z.h.call(this)},xt.prototype.h=function(){xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ce(u,v,_,w,z){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!w,this.ha=z,this.key=++Q,this.da=this.fa=!1}function Ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function it(u,v,_){for(const w in u)v.call(_,u[w],w,u)}function lt(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function O(u){const v={};for(const _ in u)v[_]=u[_];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(u,v){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)u[_]=w[_];for(let K=0;K<Z.length;K++)_=Z[K],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function ge(u){this.src=u,this.g={},this.h=0}ge.prototype.add=function(u,v,_,w,z){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const oe=qe(u,v,w,z);return oe>-1?(v=u[oe],_||(v.fa=!1)):(v=new ce(v,this.src,K,!!w,z),v.fa=_,u.push(v)),v};function Ie(u,v){const _=v.type;if(_ in u.g){var w=u.g[_],z=Array.prototype.indexOf.call(w,v,void 0),K;(K=z>=0)&&Array.prototype.splice.call(w,z,1),K&&(Ne(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function qe(u,v,_,w){for(let z=0;z<u.length;++z){const K=u[z];if(!K.da&&K.listener==v&&K.capture==!!_&&K.ha==w)return z}return-1}var Ke="closure_lm_"+(Math.random()*1e6|0),Lt={};function Ye(u,v,_,w,z){if(Array.isArray(v)){for(let K=0;K<v.length;K++)Ye(u,v[K],_,w,z);return null}return _=$r(_),u&&u[Pt]?u.J(v,_,p(w)?!!w.capture:!1,z):ci(u,v,_,!1,w,z)}function ci(u,v,_,w,z,K){if(!v)throw Error("Invalid event type");const oe=p(z)?!!z.capture:!!z;let Fe=di(u);if(Fe||(u[Ke]=Fe=new ge(u)),_=Fe.add(v,_,w,oe,K),_.proxy)return _;if(w=ys(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)P||(z=oe),z===void 0&&(z=!1),u.addEventListener(v.toString(),w,z);else if(u.attachEvent)u.attachEvent(Pn(v.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ys(){function u(_){return v.call(u.src,u.listener,_)}const v=Gi;return u}function ui(u,v,_,w,z){if(Array.isArray(v))for(var K=0;K<v.length;K++)ui(u,v[K],_,w,z);else w=p(w)?!!w.capture:!!w,_=$r(_),u&&u[Pt]?(u=u.i,K=String(v).toString(),K in u.g&&(v=u.g[K],_=qe(v,_,w,z),_>-1&&(Ne(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete u.g[K],u.h--)))):u&&(u=di(u))&&(v=u.g[v.toString()],u=-1,v&&(u=qe(v,_,w,z)),(_=u>-1?v[u]:null)&&hi(_))}function hi(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Pt])Ie(v.i,u);else{var _=u.type,w=u.proxy;v.removeEventListener?v.removeEventListener(_,w,u.capture):v.detachEvent?v.detachEvent(Pn(_),w):v.addListener&&v.removeListener&&v.removeListener(w),(_=di(v))?(Ie(_,u),_.h==0&&(_.src=null,v[Ke]=null)):Ne(u)}}}function Pn(u){return u in Lt?Lt[u]:Lt[u]="on"+u}function Gi(u,v){if(u.da)u=!0;else{v=new xt(v,this);const _=u.listener,w=u.ha||u.src;u.fa&&hi(u),u=_.call(w,v)}return u}function di(u){return u=u[Ke],u instanceof ge?u:null}var on="__closure_events_fn_"+(Math.random()*1e9>>>0);function $r(u){return typeof u=="function"?u:(u[on]||(u[on]=function(v){return u.handleEvent(v)}),u[on])}function Dt(){M.call(this),this.i=new ge(this),this.M=this,this.G=null}E(Dt,M),Dt.prototype[Pt]=!0,Dt.prototype.removeEventListener=function(u,v,_,w){ui(this,u,v,_,w)};function Ut(u,v){var _,w=u.G;if(w)for(_=[];w;w=w.G)_.push(w);if(u=u.M,w=v.type||v,typeof v=="string")v=new D(v,u);else if(v instanceof D)v.target=v.target||u;else{var z=v;v=new D(w,u),he(v,z)}z=!0;let K,oe;if(_)for(oe=_.length-1;oe>=0;oe--)K=v.g=_[oe],z=ks(K,w,!0,v)&&z;if(K=v.g=u,z=ks(K,w,!0,v)&&z,z=ks(K,w,!1,v)&&z,_)for(oe=0;oe<_.length;oe++)K=v.g=_[oe],z=ks(K,w,!1,v)&&z}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const _=u.g[v];for(let w=0;w<_.length;w++)Ne(_[w]);delete u.g[v],u.h--}}this.G=null},Dt.prototype.J=function(u,v,_,w){return this.i.add(String(u),v,!1,_,w)},Dt.prototype.K=function(u,v,_,w){return this.i.add(String(u),v,!0,_,w)};function ks(u,v,_,w){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let z=!0;for(let K=0;K<v.length;++K){const oe=v[K];if(oe&&!oe.da&&oe.capture==_){const Fe=oe.listener,zt=oe.ha||oe.src;oe.fa&&Ie(u.i,oe),z=Fe.call(zt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Wl(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(u,v||0)}function Va(u){u.g=Wl(()=>{u.g=null,u.i&&(u.i=!1,Va(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class cn extends M{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Va(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(u){M.call(this),this.h=u,this.g={}}E(fi,M);var Xr=[];function Wr(u){it(u.g,function(v,_){this.g.hasOwnProperty(_)&&hi(v)},u),u.g={}}fi.prototype.N=function(){fi.Z.N.call(this),Wr(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ms=d.JSON.stringify,te=d.JSON.parse,W=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ae(){}function le(){}var me={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function De(){D.call(this,"d")}E(De,D);function Ue(){D.call(this,"c")}E(Ue,D);var ve={},$e=null;function Ee(){return $e=$e||new Dt}ve.Ia="serverreachability";function Te(u){D.call(this,ve.Ia,u)}E(Te,D);function pe(u){const v=Ee();Ut(v,new Te(v))}ve.STAT_EVENT="statevent";function we(u,v){D.call(this,ve.STAT_EVENT,u),this.stat=v}E(we,D);function be(u){const v=Ee();Ut(v,new we(v,u))}ve.Ja="timingevent";function xe(u,v){D.call(this,ve.Ja,u),this.size=v}E(xe,D);function Xe(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},v)}function St(){this.g=!0}St.prototype.ua=function(){this.g=!1};function Tt(u,v,_,w,z,K){u.info(function(){if(u.g)if(K){var oe="",Fe=K.split("&");for(let ut=0;ut<Fe.length;ut++){var zt=Fe[ut].split("=");if(zt.length>1){const Rt=zt[0];zt=zt[1];const ns=Rt.split("_");oe=ns.length>=2&&ns[1]=="type"?oe+(Rt+"="+zt+"&"):oe+(Rt+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+v+`
`+_+`
`+oe})}function de(u,v,_,w,z,K,oe){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+v+`
`+_+`
`+K+" "+oe})}function Pe(u,v,_,w){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+ue(u,_)+(w?" "+w:"")})}function Qe(u,v){u.info(function(){return"TIMEOUT: "+v})}St.prototype.info=function(){};function ue(u,v){if(!u.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var _=K[u];if(!(_.length<2)){var w=_[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return Ms(K)}catch{return v}}var Ln={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ki={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jr;function Yi(){}E(Yi,ae),Yi.prototype.g=function(){return new XMLHttpRequest},Jr=new Yi;function vs(u){return encodeURIComponent(String(u))}function Pa(u){var v=1;u=u.split(":");const _=[];for(;v>0&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function Wn(u,v,_,w){this.j=u,this.i=v,this.l=_,this.S=w||1,this.V=new fi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var jt={},en={};function Jn(u,v,_){u.M=1,u.A=Zr(Kt(v)),u.u=_,u.R=!0,Qi(u,null)}function Qi(u,v){u.F=Date.now(),Vs(u),u.B=Kt(u.A);var _=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),qa(_.i,"t",w),u.C=0,_=u.j.L,u.h=new Un,u.g=Zc(u.j,_?v:null,!u.u),u.P>0&&(u.O=new cn(y(u.Y,u,u.g),u.P)),v=u.V,_=u.g,w=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Xr[0]=z.toString()),z=Xr);for(let K=0;K<z.length;K++){const oe=Ye(_,z[K],w||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),pe(),Tt(u.i,u.v,u.B,u.l,u.S,u.u)}Wn.prototype.ba=function(u){u=u.target;const v=this.O;v&&xs(u)==3?v.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)e:{const Fe=xs(this.g),zt=this.g.ya(),ut=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Fe!=4||zt==7||(zt==8||ut<=0?pe(3):pe(2)),Ps(this);var v=this.g.ca();this.X=v;var _=zc(this);if(this.o=v==200,de(this.i,this.v,this.B,this.l,this.S,Fe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var K=w;break t}}K=null}if(u=K)Pe(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ls(this,u);else{this.o=!1,this.m=3,be(12),zn(this),Zn(this);break e}}if(this.R){u=!0;let Rt;for(;!this.K&&this.C<_.length;)if(Rt=Ot(this,_),Rt==en){Fe==4&&(this.m=4,be(14),u=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==jt){this.m=4,be(15),Pe(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Pe(this.i,this.l,Rt,null),Ls(this,Rt);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||_.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)Pe(this.i,this.l,_,"[Invalid Chunked Response]"),zn(this),Zn(this);else if(_.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),fo(oe),oe.P=!0,be(11))}}else Pe(this.i,this.l,_,null),Ls(this,_);Fe==4&&zn(this),this.o&&!this.K&&(Fe==4?$c(this.j,this):(this.o=!1,Vs(this)))}else pi(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),zn(this),Zn(this)}}}catch{}};function zc(u){if(!La(u))return u.g.la();const v=un(u.g);if(v==="")return"";let _="";const w=v.length,z=xs(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return zn(u),Zn(u),"";u.h.i=new d.TextDecoder}for(let K=0;K<w;K++)u.h.h=!0,_+=u.h.i.decode(v[K],{stream:!(z&&K==w-1)});return v.length=0,u.h.g+=_,u.C=0,u.h.g}function La(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ot(u,v){var _=u.C,w=v.indexOf(`
`,_);return w==-1?en:(_=Number(v.substring(_,w)),isNaN(_)?jt:(w+=1,w+_>v.length?en:(v=v.slice(w,w+_),u.C=w+_,v)))}Wn.prototype.cancel=function(){this.K=!0,zn(this)};function Vs(u){u.T=Date.now()+u.H,Ua(u,u.H)}function Ua(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xe(y(u.aa,u),v)}function Ps(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Qe(this.i,this.B),this.M!=2&&(pe(),be(17)),zn(this),this.m=2,Zn(this)):Ua(this,this.T-u)};function Zn(u){u.j.I==0||u.K||$c(u.j,u)}function zn(u){Ps(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Wr(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Ls(u,v){try{var _=u.j;if(_.I!=0&&(_.g==u||zs(_.h,u))){if(!u.L&&zs(_.h,u)&&_.I==3){try{var w=_.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ya(_),nr(_);else break e;aa(_),be(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Xe(y(_.Va,_),6e3));Us(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ks(_,11)}else if((u.L||_.g==u)&&Ya(_),!R(v))for(z=_.Ba.g.parse(v),v=0;v<z.length;v++){let ut=z[v];const Rt=ut[0];if(!(Rt<=_.K))if(_.K=Rt,ut=ut[1],_.I==2)if(ut[0]=="c"){_.M=ut[1],_.ba=ut[2];const ns=ut[3];ns!=null&&(_.ka=ns,_.j.info("VER="+_.ka));const Ys=ut[4];Ys!=null&&(_.za=Ys,_.j.info("SVER="+_.za));const Es=ut[5];Es!=null&&typeof Es=="number"&&Es>0&&(w=1.5*Es,_.O=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Ts=u.g;if(Ts){const la=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var K=w.h;K.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(eo(K,K.h),K.h=null))}if(w.G){const Qa=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(w.wa=Qa,ft(w.J,w.G,Qa))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),w=_;var oe=u;if(w.na=Jc(w,w.L?w.ba:null,w.W),oe.L){to(w.h,oe);var Fe=oe,zt=w.O;zt&&(Fe.H=zt),Fe.D&&(Ps(Fe),Vs(Fe)),w.g=oe}else Yc(w);_.i.length>0&&Gs(_)}else ut[0]!="stop"&&ut[0]!="close"||Ks(_,7);else _.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Ks(_,7):uo(_):ut[0]!="noop"&&_.l&&_.l.qa(ut),_.A=0)}}pe(4)}catch{}}var Gt=class{constructor(u,v){this.g=u,this.map=v}};function Jl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Us(u){return u.h?1:u.g?u.g.size:0}function zs(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function eo(u,v){u.g?u.g.add(v):u.h=v}function to(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Jl.prototype.cancel=function(){if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function no(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.G);return v}return V(u.i)}var Bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(u,v){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const w=u[_].indexOf("=");let z,K=null;w>=0?(z=u[_].substring(0,w),K=u[_].substring(w+1)):z=u[_],v(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Bn?(this.l=u.l,rn(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.u),this.h=u.h,so(this,Gc(u.i)),this.m=u.m):u&&(v=String(u).match(Bc))?(this.l=!1,rn(this,v[1]||"",!0),this.o=Bs(v[2]||""),this.g=Bs(v[3]||"",!0),$i(this,v[4]),this.h=Bs(v[5]||"",!0),so(this,v[6]||"",!0),this.m=Bs(v[7]||"")):(this.l=!1,this.i=new Wi(null,this.l))}Bn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(ea(v,Ba,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(ea(v,Ba,!0),"@"),u.push(vs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ea(_,_.charAt(0)=="/"?io:qc,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ea(_,Fc)),u.join("")},Bn.prototype.resolve=function(u){const v=Kt(this);let _=!!u.j;_?rn(v,u.j):_=!!u.o,_?v.o=u.o:_=!!u.g,_?v.g=u.g:_=u.u!=null;var w=u.h;if(_)$i(v,u.u);else if(_=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=v.h.lastIndexOf("/");z!=-1&&(w=v.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let oe=0;oe<z.length;){const Fe=z[oe++];Fe=="."?w&&oe==z.length&&K.push(""):Fe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&oe==z.length&&K.push("")):(K.push(Fe),w=!0)}w=K.join("/")}else w=z}return _?v.h=w:_=u.i.toString()!=="",_?so(v,Gc(u.i)):_=!!u.m,_&&(v.m=u.m),v};function Kt(u){return new Bn(u)}function rn(u,v,_){u.j=_?Bs(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function so(u,v,_){v instanceof Wi?(u.i=v,Fa(u.i,u.l)):(_||(v=ea(v,Xi)),u.i=new Wi(v,u.l))}function ft(u,v,_){u.i.set(v,_)}function Zr(u){return ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Bs(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ea(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,An),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ba=/[#\/\?@]/g,qc=/[#\?:]/g,io=/[#\?]/g,Xi=/[#\?@]/g,Fc=/#/g;function Wi(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Nn(u){u.g||(u.g=new Map,u.h=0,u.i&&za(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=Wi.prototype,i.add=function(u,v){Nn(this),this.i=null,u=Ji(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function Hc(u,v){Nn(u),v=Ji(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function ro(u,v){return Nn(u),v=Ji(u,v),u.g.has(v)}i.forEach=function(u,v){Nn(this),this.g.forEach(function(_,w){_.forEach(function(z){u.call(v,z,w,this)},this)},this)};function ao(u,v){Nn(u);let _=[];if(typeof v=="string")ro(u,v)&&(_=_.concat(u.g.get(Ji(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)_=_.concat(u[v]);return _}i.set=function(u,v){return Nn(this),this.i=null,u=Ji(this,u),ro(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},i.get=function(u,v){return u?(u=ao(this,u),u.length>0?String(u[0]):v):v};function qa(u,v,_){Hc(u,v),_.length>0&&(u.i=null,u.g.set(Ji(u,v),V(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var _=v[w];const z=vs(_);_=ao(this,_);for(let K=0;K<_.length;K++){let oe=z;_[K]!==""&&(oe+="="+vs(_[K])),u.push(oe)}}return this.i=u.join("&")};function Gc(u){const v=new Wi;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Ji(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Fa(u,v){v&&!u.j&&(Nn(u),u.i=null,u.g.forEach(function(_,w){const z=w.toLowerCase();w!=z&&(Hc(this,w),qa(this,z,_))},u)),u.j=v}function bs(u,v){const _=new St;if(d.Image){const w=new Image;w.onload=x(es,_,"TestLoadImage: loaded",!0,v,w),w.onerror=x(es,_,"TestLoadImage: error",!1,v,w),w.onabort=x(es,_,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(es,_,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else v(!1)}function lo(u,v){const _=new St,w=new AbortController,z=setTimeout(()=>{w.abort(),es(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?es(_,"TestPingServer: ok",!0,v):es(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(z),es(_,"TestPingServer: error",!1,v)})}function es(u,v,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function Zi(){this.g=new W}function qs(u){this.i=u.Sb||null,this.h=u.ab||!1}E(qs,ae),qs.prototype.g=function(){return new ta(this.i,this.h)};function ta(u,v){Dt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ta,Dt),i=ta.prototype,i.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,_s(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?er(this):_s(this),this.readyState==3&&Ha(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,er(this))},i.Na=function(u){this.g&&(this.response=u,er(this))},i.ga=function(){this.g&&er(this)};function er(u){u.readyState=4,u.l=null,u.j=null,u.B=null,_s(u)}i.setRequestHeader=function(u,v){this.A.append(u,v)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function _s(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ts(u){let v="";return it(u,function(_,w){v+=w,v+=":",v+=_,v+=`\r
`}),v}function na(u,v,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=ts(_),typeof u=="string"?_!=null&&vs(_):ft(u,v,_))}function gt(u){Dt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(gt,Dt);var Fs=/^https?$/i,oo=["POST","PUT"];i=gt.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,v,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jr.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(K){sa(this,K);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(oo,v,void 0)>=0)||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of _)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){sa(this,K)}};function sa(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,co(u),mi(u)}function co(u){u.A||(u.A=!0,Ut(u,"complete"),Ut(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ut(this,"complete"),Ut(this,"abort"),mi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),gt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},i.Xa=function(){ia(this)};function ia(u){if(u.h&&typeof c<"u"){if(u.v&&xs(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ut(u,"readystatechange"),xs(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var w;if(w=K===0){let oe=String(u.D).match(Bc)[1]||null;!oe&&d.self&&d.self.location&&(oe=d.self.location.protocol.slice(0,-1)),w=!Fs.test(oe?oe.toLowerCase():"")}_=w}if(_)Ut(u,"complete"),Ut(u,"success");else{u.o=6;try{var z=xs(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",co(u)}}finally{mi(u)}}}}function mi(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,v||Ut(u,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function xs(u){return u.g?u.g.readyState:0}i.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),te(v)}};function un(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function pi(u){const v={};u=(u.g&&xs(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(R(u[w]))continue;var _=Pa(u[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=v[z]||[];v[z]=K,K.push(_)}lt(v,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function tr(u){this.za=0,this.i=[],this.j=new St,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hs("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hs("baseRetryDelayMs",5e3,u),this.Za=Hs("retryDelaySeedMs",1e4,u),this.Ta=Hs("forwardChannelMaxRetries",2,u),this.va=Hs("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Jl(u&&u.concurrentRequestLimit),this.Ba=new Zi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=tr.prototype,i.ka=8,i.I=1,i.connect=function(u,v,_,w){be(0),this.W=u,this.H=v||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.J=Jc(this,null,this.W),Gs(this)};function uo(u){if(Ga(u),u.I==3){var v=u.V++,_=Kt(u.J);if(ft(_,"SID",u.M),ft(_,"RID",v),ft(_,"TYPE","terminate"),ra(u,_),v=new Wn(u,u.j,v),v.M=2,v.A=Zr(Kt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.A,_=!0),_||(v.g=Zc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Vs(v)}Wc(u)}function nr(u){u.g&&(fo(u),u.g.cancel(),u.g=null)}function Ga(u){nr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Gs(u){if(!Zl(u.h)&&!u.m){u.m=!0;var v=u.Ea;Ve||A(),Oe||(Ve(),Oe=!0),C.add(v,u),u.D=0}}function Ka(u,v){return Us(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xe(y(u.Ea,u,v),Xc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Wn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=O(K),he(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Kc(this,z,v),_=Kt(this.J),ft(_,"RID",u),ft(_,"CVER",22),this.G&&ft(_,"X-HTTP-Session-Id",this.G),ra(this,_),K&&(this.R?v="headers="+vs(ts(K))+"&"+v:this.u&&na(_,this.u,K)),eo(this.h,z),this.Ra&&ft(_,"TYPE","init"),this.S?(ft(_,"$req",v),ft(_,"SID","null"),z.U=!0,Jn(z,_,null)):Jn(z,_,v),this.I=2}}else this.I==3&&(u?ho(this,u):this.i.length==0||Zl(this.h)||ho(this))};function ho(u,v){var _;v?_=v.l:_=u.V++;const w=Kt(u.J);ft(w,"SID",u.M),ft(w,"RID",_),ft(w,"AID",u.K),ra(u,w),u.u&&u.o&&na(w,u.u,u.o),_=new Wn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Kc(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),eo(u.h,_),Jn(_,w,v)}function ra(u,v){u.H&&it(u.H,function(_,w){ft(v,w,_)}),u.l&&it({},function(_,w){ft(v,w,_)})}function Kc(u,v,_){_=Math.min(u.i.length,_);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var z=u.i;let Fe=-1;for(;;){const zt=["count="+_];Fe==-1?_>0?(Fe=z[0].g,zt.push("ofs="+Fe)):Fe=0:zt.push("ofs="+Fe);let ut=!0;for(let Rt=0;Rt<_;Rt++){var K=z[Rt].g;const ns=z[Rt].map;if(K-=Fe,K<0)Fe=Math.max(0,z[Rt].g-100),ut=!1;else try{K="req"+K+"_"||"";try{var oe=ns instanceof Map?ns:Object.entries(ns);for(const[Ys,Es]of oe){let Ts=Es;p(Es)&&(Ts=Ms(Es)),zt.push(K+Ys+"="+encodeURIComponent(Ts))}}catch(Ys){throw zt.push(K+"type="+encodeURIComponent("_badmap")),Ys}}catch{w&&w(ns)}}if(ut){oe=zt.join("&");break e}}oe=void 0}return u=u.i.splice(0,_),v.G=u,oe}function Yc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;Ve||A(),Oe||(Ve(),Oe=!0),C.add(v,u),u.A=0}}function aa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xe(y(u.Da,u),Xc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Qc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xe(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),nr(this),Qc(this))};function fo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Qc(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Kt(u.na);ft(v,"RID","rpc"),ft(v,"SID",u.M),ft(v,"AID",u.K),ft(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&ft(v,"TO",u.ia),ft(v,"TYPE","xmlhttp"),ra(u,v),u.u&&u.o&&na(v,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Zr(Kt(v)),_.u=null,_.R=!0,Qi(_,u)}i.Va=function(){this.C!=null&&(this.C=null,nr(this),aa(this),be(19))};function Ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function $c(u,v){var _=null;if(u.g==v){Ya(u),fo(u),u.g=null;var w=2}else if(zs(u.h,v))_=v.G,to(u.h,v),w=1;else return;if(u.I!=0){if(v.o)if(w==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var z=u.D;w=Ee(),Ut(w,new xe(w,_)),Gs(u)}else Yc(u);else if(z=v.m,z==3||z==0&&v.X>0||!(w==1&&Ka(u,v)||w==2&&aa(u)))switch(_&&_.length>0&&(v=u.h,v.i=v.i.concat(_)),z){case 1:Ks(u,5);break;case 4:Ks(u,10);break;case 3:Ks(u,6);break;default:Ks(u,2)}}}function Xc(u,v){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*v}function Ks(u,v){if(u.j.info("Error code "+v),v==2){var _=y(u.bb,u),w=u.Ua;const z=!w;w=new Bn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||rn(w,"https"),Zr(w),z?bs(w.toString(),_):lo(w.toString(),_)}else be(2);u.I=0,u.l&&u.l.pa(v),Wc(u),Ga(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Wc(u){if(u.I=0,u.ja=[],u.l){const v=no(u.h);(v.length!=0||u.i.length!=0)&&(G(u.ja,v),G(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function Jc(u,v,_){var w=_ instanceof Bn?Kt(_):new Bn(_);if(w.g!="")v&&(w.g=v+"."+w.g),$i(w,w.u);else{var z=d.location;w=z.protocol,v=v?v+"."+z.hostname:z.hostname,z=+z.port;const K=new Bn(null);w&&rn(K,w),v&&(K.g=v),z&&$i(K,z),_&&(K.h=_),w=K}return _=u.G,v=u.wa,_&&v&&ft(w,_,v),ft(w,"VER",u.ka),ra(u,w),w}function Zc(u,v,_){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new gt(new qs({ab:_})):new gt(u.ma),v.Fa(u.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}i=eu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function sr(){}sr.prototype.g=function(u,v){return new wn(u,v)};function wn(u,v){Dt.call(this),this.g=new tr(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!R(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new gi(this)}E(wn,Dt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){uo(this.g)},wn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Ms(u),u=_);v.i.push(new Gt(v.Ya++,u)),v.I==3&&Gs(v)},wn.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,wn.Z.N.call(this)};function tu(u){De.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(tu,De);function nu(){Ue.call(this),this.status=1}E(nu,Ue);function gi(u){this.g=u}E(gi,eu),gi.prototype.ra=function(){Ut(this.g,"a")},gi.prototype.qa=function(u){Ut(this.g,new tu(u))},gi.prototype.pa=function(u){Ut(this.g,new nu)},gi.prototype.oa=function(){Ut(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,mE=function(){return new sr},fE=function(){return Ee()},dE=ve,lp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ln.NO_ERROR=0,Ln.TIMEOUT=8,Ln.HTTP_ERROR=6,Nh=Ln,Ki.COMPLETE="complete",hE=Ki,le.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,nc=le,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,uE=gt}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const Fb="@firebase/firestore",Hb="4.9.3";class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Gl="12.7.0";const Ia=new jp("@firebase/firestore");function Sl(){return Ia.logLevel}function ye(i,...e){if(Ia.logLevel<=tt.DEBUG){const n=e.map(qp);Ia.debug(`Firestore (${Gl}): ${i}`,...n)}}function Bi(i,...e){if(Ia.logLevel<=tt.ERROR){const n=e.map(qp);Ia.error(`Firestore (${Gl}): ${i}`,...n)}}function Vl(i,...e){if(Ia.logLevel<=tt.WARN){const n=e.map(qp);Ia.warn(`Firestore (${Gl}): ${i}`,...n)}}function qp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Me(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pE(i,r,n)}function pE(i,e,n){let r=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bi(r),new Error(r)}function dt(i,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,i||pE(e,l,r)}function Be(i,e){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class gE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class z2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class B2{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vi,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vi)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new gE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class q2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new q2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function G2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=G2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function nt(i,e){return i<e?-1:i>e?1:0}function op(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const l=i.charAt(r),c=e.charAt(r);if(l!==c)return qm(l)===qm(c)?nt(l,c):qm(l)?1:-1}return nt(i.length,e.length)}const K2=55296,Y2=57343;function qm(i){const e=i.charCodeAt(0);return e>=K2&&e<=Y2}function Pl(i,e,n){return i.length===e.length&&i.every(((r,l)=>n(r,e[l])))}const Kb="__name__";class Js{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Js.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Js?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Js.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return nt(e.length,n.length)}static compareSegments(e,n){const r=Js.isNumericId(e),l=Js.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Js.extractNumericId(e).compare(Js.extractNumericId(n)):op(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class wt extends Js{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new wt(n)}static emptyPath(){return new wt([])}}const Q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Js{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return Q2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kb}static keyField(){return new gn([Kb])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(wt.fromString(e))}static fromName(e){return new Ce(wt.fromString(e).popFirst(5))}static empty(){return new Ce(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new wt(e.slice()))}}function yE(i,e,n){if(!n)throw new fe(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $2(i,e,n,r){if(e===!0&&r===!0)throw new fe(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Yb(i){if(!Ce.isDocumentKey(i))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Qb(i){if(Ce.isDocumentKey(i))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function fd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Me(12329,{type:typeof i})}function ri(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(i);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Zt(i,e){const n={typeString:i};return e&&(n.value=e),n}function kc(i,e){if(!vE(i))throw new fe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const d=i[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new fe(J.INVALID_ARGUMENT,n);return!0}const $b=-62135596800,Xb=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xb);return new _t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$b)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xb}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kc(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$b;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Zt("string",_t._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new _t(0,0))}static max(){return new Le(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gc=-1;function X2(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=Le.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Pr(l,Ce.empty(),e)}function W2(i){return new Pr(i.readTime,i.key,gc)}class Pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pr(Le.min(),Ce.empty(),gc)}static max(){return new Pr(Le.max(),Ce.empty(),gc)}}function J2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(i.documentKey,e.documentKey),n!==0?n:nt(i.largestBatchId,e.largestBatchId))}const Z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Kl(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==Z2)throw i;ye("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>r(g)))})),d=!0,c===l&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((l=>l?ne.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{d[y]=x,++p,p===c&&r(d)}),(x=>l(x)))}}))}static doWhile(e,n){return new ne(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function tI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(i){return i.name==="IndexedDbTransactionError"}class md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}md.ce=-1;const Hp=-1;function pd(i){return i==null}function qh(i){return i===0&&1/i==-1/0}function nI(i){return typeof i=="number"&&Number.isInteger(i)&&!qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const bE="";function sI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Wb(e)),e=iI(i.get(n),e);return Wb(e)}function iI(i,e){let n=e;const r=i.length;for(let l=0;l<r;l++){const c=i.charAt(l);switch(c){case"\0":n+="";break;case bE:n+="";break;default:n+=c}}return n}function Wb(i){return i+bE+""}function Jb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Kr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function _E(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class It{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new It(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??pn.RED,this.left=l??pn.EMPTY,this.right=c??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new pn(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return pn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zb(this.data.getIterator())}getIteratorFrom(e){return new Zb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class Zb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new sn(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class xE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new xE("Invalid base64 string: "+c):c}})(e);return new yn(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const rI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(i){if(dt(!!i,39018),typeof i=="string"){let e=0;const n=rI.exec(i);if(dt(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(i.seconds),nanos:Ft(i.nanos)}}function Ft(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ur(i){return typeof i=="string"?yn.fromBase64String(i):yn.fromUint8Array(i)}const EE="server_timestamp",TE="__type__",wE="__previous_value__",SE="__local_write_time__";function Gp(i){return(i?.mapValue?.fields||{})[TE]?.stringValue===EE}function gd(i){const e=i.mapValue.fields[wE];return Gp(e)?gd(e):e}function yc(i){const e=Lr(i.mapValue.fields[SE].timestampValue);return new _t(e.seconds,e.nanos)}class aI{constructor(e,n,r,l,c,d,p,g,y,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const Fh="(default)";class vc{constructor(e,n){this.projectId=e,this.database=n||Fh}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}const AE="__type__",lI="__max__",mh={mapValue:{}},NE="__vector__",Hh="value";function zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Gp(i)?4:cI(i)?9007199254740991:oI(i)?10:11:Me(28295,{value:i})}function ai(i,e){if(i===e)return!0;const n=zr(i);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return yc(i).isEqual(yc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Lr(l.timestampValue),p=Lr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return Ur(l.bytesValue).isEqual(Ur(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ft(l.geoPointValue.latitude)===Ft(c.geoPointValue.latitude)&&Ft(l.geoPointValue.longitude)===Ft(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ft(l.integerValue)===Ft(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ft(l.doubleValue),p=Ft(c.doubleValue);return d===p?qh(d)===qh(p):isNaN(d)&&isNaN(p)}return!1})(i,e);case 9:return Pl(i.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Jb(d)!==Jb(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!ai(d[g],p[g])))return!1;return!0})(i,e);default:return Me(52216,{left:i})}}function bc(i,e){return(i.values||[]).find((n=>ai(n,e)))!==void 0}function Ll(i,e){if(i===e)return 0;const n=zr(i),r=zr(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Ft(c.integerValue||c.doubleValue),g=Ft(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return e_(i.timestampValue,e.timestampValue);case 4:return e_(yc(i),yc(e));case 5:return op(i.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ur(c),g=Ur(d);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=nt(p[y],g[y]);if(x!==0)return x}return nt(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=nt(Ft(c.latitude),Ft(d.latitude));return p!==0?p:nt(Ft(c.longitude),Ft(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return t_(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[Hh]?.arrayValue,x=g[Hh]?.arrayValue,E=nt(y?.values?.length||0,x?.values?.length||0);return E!==0?E:t_(y,x)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===mh.mapValue&&d===mh.mapValue)return 0;if(c===mh.mapValue)return 1;if(d===mh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const S=op(g[E],x[E]);if(S!==0)return S;const V=Ll(p[g[E]],y[x[E]]);if(V!==0)return V}return nt(g.length,x.length)})(i.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function e_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return nt(i,e);const n=Lr(i),r=Lr(e),l=nt(n.seconds,r.seconds);return l!==0?l:nt(n.nanos,r.nanos)}function t_(i,e){const n=i.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=Ll(n[l],r[l]);if(c)return c}return nt(n.length,r.length)}function Ul(i){return cp(i)}function cp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=Lr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ur(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ce.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=cp(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${cp(n.fields[d])}`;return l+"}"})(i.mapValue):Me(61005,{value:i})}function Rh(i){switch(zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gd(i);return e?16+Rh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ur(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Rh(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return Kr(r.fields,((c,d)=>{l+=c.length+Rh(d)})),l})(i.mapValue);default:throw Me(13486,{value:i})}}function n_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function up(i){return!!i&&"integerValue"in i}function Kp(i){return!!i&&"arrayValue"in i}function s_(i){return!!i&&"nullValue"in i}function i_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ch(i){return!!i&&"mapValue"in i}function oI(i){return(i?.mapValue?.fields||{})[AE]?.stringValue===NE}function oc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Kr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=oc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(i.arrayValue.values[n]);return e}return{...i}}function cI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lI}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=gn.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=oc(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Ch(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Kr(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Mn(oc(this.value))}}function RE(i){const e=[];return Kr(i.fields,((n,r)=>{const l=new gn([n]);if(Ch(r)){const c=RE(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Xn(e)}class En{constructor(e,n,r,l,c,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new En(e,0,Le.min(),Le.min(),Le.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,l){return new En(e,1,n,Le.min(),r,l,0)}static newNoDocument(e,n){return new En(e,2,n,Le.min(),Le.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Le.min(),Le.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gh{constructor(e,n){this.position=e,this.inclusive=n}}function r_(i,e,n){let r=0;for(let l=0;l<i.position.length;l++){const c=e[l],d=i.position[l];if(c.field.isKeyField()?r=Ce.comparator(Ce.fromName(d.referenceValue),n.key):r=Ll(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ai(i.position[n],e.position[n]))return!1;return!0}class _c{constructor(e,n="asc"){this.field=e,this.dir=n}}function uI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class CE{}class Jt extends CE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dI(e,n,r):n==="array-contains"?new pI(e,r):n==="in"?new gI(e,r):n==="not-in"?new yI(e,r):n==="array-contains-any"?new vI(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fI(e,r):new mI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ll(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class js extends CE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new js(e,n)}matches(e){return IE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IE(i){return i.op==="and"}function DE(i){return hI(i)&&IE(i)}function hI(i){for(const e of i.filters)if(e instanceof js)return!1;return!0}function hp(i){if(i instanceof Jt)return i.field.canonicalString()+i.op.toString()+Ul(i.value);if(DE(i))return i.filters.map((e=>hp(e))).join(",");{const e=i.filters.map((n=>hp(n))).join(",");return`${i.op}(${e})`}}function jE(i,e){return i instanceof Jt?(function(r,l){return l instanceof Jt&&r.op===l.op&&r.field.isEqual(l.field)&&ai(r.value,l.value)})(i,e):i instanceof js?(function(r,l){return l instanceof js&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&jE(d,l.filters[p])),!0):!1})(i,e):void Me(19439)}function OE(i){return i instanceof Jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ul(n.value)}`})(i):i instanceof js?(function(n){return n.op.toString()+" {"+n.getFilters().map(OE).join(" ,")+"}"})(i):"Filter"}class dI extends Jt{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class fI extends Jt{constructor(e,n){super(e,"in",n),this.keys=kE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mI extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=kE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kE(i,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class pI extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kp(n)&&bc(n.arrayValue,this.value)}}class gI extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bc(this.value.arrayValue,n)}}class yI extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bc(this.value.arrayValue,n)}}class vI extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>bc(this.value.arrayValue,r)))}}class bI{constructor(e,n=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function l_(i,e=null,n=[],r=[],l=null,c=null,d=null){return new bI(i,e,n,r,l,c,d)}function Yp(i){const e=Be(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ul(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ul(r))).join(",")),e.Te=n}return e.Te}function Qp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!uI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!jE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!a_(i.startAt,e.startAt)&&a_(i.endAt,e.endAt)}function dp(i){return Ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ql{constructor(e,n=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _I(i,e,n,r,l,c,d,p){return new Ql(i,e,n,r,l,c,d,p)}function $p(i){return new Ql(i)}function o_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ME(i){return i.collectionGroup!==null}function cc(i){const e=Be(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new sn(gn.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new _c(c,r))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new _c(gn.keyField(),r))}return e.Ie}function ti(i){const e=Be(i);return e.Ee||(e.Ee=xI(e,cc(i))),e.Ee}function xI(i,e){if(i.limitType==="F")return l_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new _c(l.field,c)}));const n=i.endAt?new Gh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Gh(i.startAt.position,i.startAt.inclusive):null;return l_(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function fp(i,e){const n=i.filters.concat([e]);return new Ql(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Kh(i,e,n){return new Ql(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function yd(i,e){return Qp(ti(i),ti(e))&&i.limitType===e.limitType}function VE(i){return`${Yp(ti(i))}|lt:${i.limitType}`}function Al(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>OE(l))).join(", ")}]`),pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>Ul(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>Ul(l))).join(",")),`Target(${r})`})(ti(i))}; limitType=${i.limitType})`}function vd(i,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ce.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,l){for(const c of cc(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=r_(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,cc(r),l)||r.endAt&&!(function(d,p,g){const y=r_(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,cc(r),l))})(i,e)}function EI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function PE(i){return(e,n)=>{let r=!1;for(const l of cc(i)){const c=TI(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function TI(i,e,n){const r=i.field.isKeyField()?Ce.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Ll(g,y):Me(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:i.dir})}}class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}const wI=new It(Ce.comparator);function qi(){return wI}const LE=new It(Ce.comparator);function sc(...i){let e=LE;for(const n of i)e=e.insert(n.key,n);return e}function UE(i){let e=LE;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Sa(){return uc()}function zE(){return uc()}function uc(){return new ka((i=>i.toString()),((i,e)=>i.isEqual(e)))}const SI=new It(Ce.comparator),AI=new sn(Ce.comparator);function st(...i){let e=AI;for(const n of i)e=e.add(n);return e}const NI=new sn(nt);function RI(){return NI}function Xp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function BE(i){return{integerValue:""+i}}function CI(i,e){return nI(e)?BE(e):Xp(i,e)}class bd{constructor(){this._=void 0}}function II(i,e,n){return i instanceof xc?(function(l,c){const d={fields:{[TE]:{stringValue:EE},[SE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Gp(c)&&(c=gd(c)),c&&(d.fields[wE]=c),{mapValue:d}})(n,e):i instanceof Ec?FE(i,e):i instanceof Tc?HE(i,e):(function(l,c){const d=qE(l,c),p=c_(d)+c_(l.Ae);return up(d)&&up(l.Ae)?BE(p):Xp(l.serializer,p)})(i,e)}function DI(i,e,n){return i instanceof Ec?FE(i,e):i instanceof Tc?HE(i,e):n}function qE(i,e){return i instanceof Yh?(function(r){return up(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class xc extends bd{}class Ec extends bd{constructor(e){super(),this.elements=e}}function FE(i,e){const n=GE(e);for(const r of i.elements)n.some((l=>ai(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Tc extends bd{constructor(e){super(),this.elements=e}}function HE(i,e){let n=GE(e);for(const r of i.elements)n=n.filter((l=>!ai(l,r)));return{arrayValue:{values:n}}}class Yh extends bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function c_(i){return Ft(i.integerValue||i.doubleValue)}function GE(i){return Kp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class jI{constructor(e,n){this.field=e,this.transform=n}}function OI(i,e){return i.field.isEqual(e.field)&&(function(r,l){return r instanceof Ec&&l instanceof Ec||r instanceof Tc&&l instanceof Tc?Pl(r.elements,l.elements,ai):r instanceof Yh&&l instanceof Yh?ai(r.Ae,l.Ae):r instanceof xc&&l instanceof xc})(i.transform,e.transform)}class kI{constructor(e,n){this.version=e,this.transformResults=n}}class Cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class _d{}function KE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new QE(i.key,Cs.none()):new Mc(i.key,i.data,Cs.none());{const n=i.data,r=Mn.empty();let l=new sn(gn.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Yr(i.key,r,new Xn(l.toArray()),Cs.none())}}function MI(i,e,n){i instanceof Mc?(function(l,c,d){const p=l.value.clone(),g=h_(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(i,e,n):i instanceof Yr?(function(l,c,d){if(!Ih(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=h_(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(YE(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function hc(i,e,n,r){return i instanceof Mc?(function(c,d,p,g){if(!Ih(c.precondition,d))return p;const y=c.value.clone(),x=d_(c.fieldTransforms,g,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Yr?(function(c,d,p,g){if(!Ih(c.precondition,d))return p;const y=d_(c.fieldTransforms,g,d),x=d.data;return x.setAll(YE(c)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(i,e,n,r):(function(c,d,p){return Ih(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(i,e,n)}function VI(i,e){let n=null;for(const r of i.fieldTransforms){const l=e.data.field(r.field),c=qE(r.transform,l||null);c!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,c))}return n||null}function u_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Pl(r,l,((c,d)=>OI(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Mc extends _d{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Yr extends _d{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function h_(i,e,n){const r=new Map;dt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let l=0;l<n.length;l++){const c=i[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,DI(d,p,n[l]))}return r}function d_(i,e,n){const r=new Map;for(const l of i){const c=l.transform,d=n.data.field(l.field);r.set(l.field,II(c,d,e))}return r}class QE extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PI extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&MI(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=KE(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),st())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,((n,r)=>u_(n,r)))&&Pl(this.baseMutations,e.baseMutations,((n,r)=>u_(n,r)))}}class Wp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){dt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return SI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Wp(e,n,r,l)}}class UI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Wt,at;function BI(i){switch(i){case J.OK:return Me(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Me(15467,{code:i})}}function $E(i){if(i===void 0)return Bi("GRPC error has no .code"),J.UNKNOWN;switch(i){case Wt.OK:return J.OK;case Wt.CANCELLED:return J.CANCELLED;case Wt.UNKNOWN:return J.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return J.INTERNAL;case Wt.UNAVAILABLE:return J.UNAVAILABLE;case Wt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Wt.NOT_FOUND:return J.NOT_FOUND;case Wt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Wt.ABORTED:return J.ABORTED;case Wt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Wt.DATA_LOSS:return J.DATA_LOSS;default:return Me(39323,{code:i})}}(at=Wt||(Wt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";function qI(){return new TextEncoder}const FI=new kr([4294967295,4294967295],0);function f_(i){const e=qI().encode(i),n=new cE;return n.update(e),new Uint8Array(n.digest())}function m_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new kr([n,r],0),new kr([l,c],0)]}class Jp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=kr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(kr.fromNumber(r)));return l.compare(FI)===1&&(l=new kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=f_(e),[r,l]=m_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Jp(c,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=f_(e),[r,l]=m_(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xd{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xd(Le.min(),l,new It(nt),qi(),st())}}class Vc{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vc(r,n,st(),st(),st())}}class Dh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class XE{constructor(e,n){this.targetId=e,this.Ce=n}}class WE{constructor(e,n,r=yn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class p_{constructor(){this.ve=0,this.Fe=g_(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),n=st(),r=st();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Me(38017,{changeType:c})}})),new Vc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=g_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HI{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.Je=ph(),this.He=ph(),this.Ye=new It(nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(dp(c))if(r===0){const d=new Ce(c.path);this.et(n,d,En.newNoDocument(d,Le.min()))}else dt(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=Ur(r).toUint8Array()}catch(g){if(g instanceof xE)return Vl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Jp(d,l,c)}catch(g){return Vl(g instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&dp(p.target)){const g=new Ce(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,En.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let r=st();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new xd(e,n,this.Ye,this.je,r);return this.je=qi(),this.Je=ph(),this.He=ph(),this.Ye=new It(nt),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new p_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new sn(nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new sn(nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new p_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ph(){return new It(Ce.comparator)}function g_(){return new It(Ce.comparator)}const GI={asc:"ASCENDING",desc:"DESCENDING"},KI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YI={and:"AND",or:"OR"};class QI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mp(i,e){return i.useProto3Json||pd(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $I(i,e){return Qh(i,e.toTimestamp())}function ni(i){return dt(!!i,49232),Le.fromTimestamp((function(n){const r=Lr(n);return new _t(r.seconds,r.nanos)})(i))}function Zp(i,e){return pp(i,e).canonicalString()}function pp(i,e){const n=(function(l){return new wt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function ZE(i){const e=wt.fromString(i);return dt(iT(e),10190,{key:e.toString()}),e}function gp(i,e){return Zp(i.databaseId,e.path)}function Fm(i,e){const n=ZE(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ce(tT(n))}function eT(i,e){return Zp(i.databaseId,e)}function XI(i){const e=ZE(i);return e.length===4?wt.emptyPath():tT(e)}function yp(i){return new wt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tT(i){return dt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function y_(i,e,n){return{name:gp(i,e),fields:n.value.mapValue.fields}}function WI(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Me(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(dt(x===void 0||typeof x=="string",58123),yn.fromBase64String(x||"")):(dt(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),yn.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const x=y.code===void 0?J.UNKNOWN:$E(y.code);return new fe(x,y.message||"")})(d);n=new WE(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Fm(i,r.document.name),c=ni(r.document.updateTime),d=r.document.createTime?ni(r.document.createTime):Le.min(),p=new Mn({mapValue:{fields:r.document.fields}}),g=En.newFoundDocument(l,c,d,p),y=r.targetIds||[],x=r.removedTargetIds||[];n=new Dh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Fm(i,r.document),c=r.readTime?ni(r.readTime):Le.min(),d=En.newNoDocument(l,c),p=r.removedTargetIds||[];n=new Dh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Fm(i,r.document),c=r.removedTargetIds||[];n=new Dh([],c,l,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new zI(l,c),p=r.targetId;n=new XE(p,d)}}return n}function JI(i,e){let n;if(e instanceof Mc)n={update:y_(i,e.key,e.value)};else if(e instanceof QE)n={delete:gp(i,e.key)};else if(e instanceof Yr)n={update:y_(i,e.key,e.data),updateMask:l4(e.fieldMask)};else{if(!(e instanceof PI))return Me(16599,{Vt:e.type});n={verify:gp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ec)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Tc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Me(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:$I(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Me(27497)})(i,e.precondition)),n}function ZI(i,e){return i&&i.length>0?(dt(e!==void 0,14353),i.map((n=>(function(l,c){let d=l.updateTime?ni(l.updateTime):ni(c);return d.isEqual(Le.min())&&(d=ni(c)),new kI(d,l.transformResults||[])})(n,e)))):[]}function e4(i,e){return{documents:[eT(i,e.path)]}}function t4(i,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eT(i,l);const c=(function(y){if(y.length!==0)return sT(js.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((x=>(function(S){return{field:Nl(S.field),direction:i4(S.dir)}})(x)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=mp(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function n4(i){let e=XI(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){dt(r===1,65062);const x=n.from[0];x.allDescendants?l=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const S=nT(E);return S instanceof js&&DE(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((S=>(function(G){return new _c(Rl(G.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let S;return S=typeof E=="object"?E.value:E,pd(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(E){const S=!!E.before,V=E.values||[];return new Gh(V,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const S=!E.before,V=E.values||[];return new Gh(V,S)})(n.endAt)),_I(e,l,d,c,p,"F",g,y)}function s4(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rl(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Rl(n.unaryFilter.field);return Jt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Rl(n.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Rl(n.unaryFilter.field);return Jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Jt.create(Rl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return js.create(n.compositeFilter.filters.map((r=>nT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(i):Me(30097,{filter:i})}function i4(i){return GI[i]}function r4(i){return KI[i]}function a4(i){return YI[i]}function Nl(i){return{fieldPath:i.canonicalString()}}function Rl(i){return gn.fromServerFormat(i.fieldPath)}function sT(i){return i instanceof Jt?(function(n){if(n.op==="=="){if(i_(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(s_(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(i_(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(s_(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:r4(n.op),value:n.value}}})(i):i instanceof js?(function(n){const r=n.getFilters().map((l=>sT(l)));return r.length===1?r[0]:{compositeFilter:{op:a4(n.op),filters:r}}})(i):Me(54877,{filter:i})}function l4(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Dr{constructor(e,n,r,l,c=Le.min(),d=Le.min(),p=yn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class o4{constructor(e){this.yt=e}}function c4(i){const e=n4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Kh(e,e.limit,"L"):e}class u4{constructor(){this.Cn=new h4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Pr.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class h4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new sn(wt.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new sn(wt.comparator)).toArray()}}const v_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(rT,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class zl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zl(0)}static cr(){return new zl(-1)}}const b_="LruGarbageCollector",d4=1048576;function __([i,e],[n,r]){const l=nt(i,n);return l===0?nt(e,r):l}class f4{constructor(e){this.Ir=e,this.buffer=new sn(__),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();__(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class m4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(b_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yl(n)?ye(b_,"Ignoring IndexedDB error during garbage collection: ",n):await Kl(n)}await this.Vr(3e5)}))}}class p4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(md.ce);const r=new f4(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(v_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,d,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(r=E,p=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),Sl()<=tt.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:E}))))}}function g4(i,e){return new p4(i,e)}class y4{constructor(){this.changes=new ka((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class v4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class b4{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&hc(r.mutation,l,Xn.empty(),_t.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,st()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=st()){const l=Sa();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=sc();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=Sa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,st())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let c=qi();const d=uc(),p=(function(){return uc()})();return n.forEach(((g,y)=>{const x=r.get(y.key);l.has(y.key)&&(x===void 0||x.mutation instanceof Yr)?c=c.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),hc(x.mutation,y,x.mutation.getFieldMask(),_t.now())):d.set(y.key,Xn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>d.set(y,x))),n.forEach(((y,x)=>p.set(y,new v4(x,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=uc();let l=new It(((d,p)=>d-p)),c=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||Xn.empty();x=p.applyToLocalView(y,x),r.set(g,x);const E=(l.get(p.batchId)||st()).add(g);l=l.insert(p.batchId,E)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=zE();x.forEach((S=>{if(!c.has(S)){const V=KE(n.get(S),r.get(S));V!==null&&E.set(S,V),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ne.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return Ce.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ME(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):ne.resolve(Sa());let p=gc,g=c;return d.next((y=>ne.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?ne.resolve():this.remoteDocumentCache.getEntry(e,x).next((S=>{g=g.insert(x,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,st()))).next((x=>({batchId:p,changes:UE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((r=>{let l=sc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=sc();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(g=>{const y=(function(E,S){return new Ql(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((x=>{x.forEach(((E,S)=>{d=d.insert(E,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((g,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,En.newInvalidDocument(x)))}));let p=sc();return d.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&hc(x.mutation,y,Xn.empty(),_t.now()),vd(n,y)&&(p=p.insert(g,y))})),p}))}}class _4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ni(l.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:c4(l.bundledQuery),readTime:ni(l.readTime)}})(n)),ne.resolve()}}class x4{constructor(){this.overlays=new It(Ce.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sa();return ne.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const l=Sa(),c=n.length+1,d=new Ce(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return ne.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new It(((y,x)=>y-x));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=c.get(y.largestBatchId);x===null&&(x=Sa(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=Sa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=l)););return ne.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new UI(n,r));let c=this.qr.get(n);c===void 0&&(c=st(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class E4{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class eg{constructor(){this.Qr=new sn(ln.$r),this.Ur=new sn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ln(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ln(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ce(new wt([])),r=new ln(n,e),l=new ln(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ce(new wt([])),r=new ln(n,e),l=new ln(n,e+1);let c=st();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new ln(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ce.comparator(e.key,n.key)||nt(e.Yr,n.Yr)}static Kr(e,n){return nt(e.Yr,n.Yr)||Ce.comparator(e.key,n.key)}}class T4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new sn(ln.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LI(c,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new ln(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Hp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ln(n,0),l=new ln(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(nt);return n.forEach((l=>{const c=new ln(l,0),d=new ln(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;Ce.isDocumentKey(c)||(c=c.child(""));const d=new ln(new Ce(c),0);let p=new sn(nt);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),ne.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,(l=>{const c=new ln(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ln(n,0),l=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class w4{constructor(e){this.ri=e,this.docs=(function(){return new It(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=qi();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():En.newInvalidDocument(l))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=qi();const d=n.path,p=new Ce(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||J2(W2(x),r)<=0||(l.has(x.key)||vd(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Me(9500)}ii(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new S4(this)}getSize(e){return ne.resolve(this.size)}}class S4 extends y4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class A4{constructor(e){this.persistence=e,this.si=new ka((n=>Yp(n)),Qp),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new eg,this.targetCount=0,this.ai=zl.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ne.waitFor(c).next((()=>l))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class aT{constructor(e,n){this.ui={},this.overlays={},this.ci=new md(0),this.li=!1,this.li=!0,this.hi=new E4,this.referenceDelegate=e(this),this.Pi=new A4(this),this.indexManager=new u4,this.remoteDocumentCache=(function(l){return new w4(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new o4(n),this.Ii=new _4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new T4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const l=new N4(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class N4 extends eI{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Ri=new eg,this.Vi=null}static mi(e){return new tg(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const l=Ce.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.pi=new ka((r=>sI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=g4(this,n)}static mi(e,n){return new $h(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?ne.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,c.removeEntry(d,Le.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rh(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ne.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ng{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=st(),l=st();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ng(e,n.fromCache,r,l)}}class R4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class C4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return a1()?8:tI(Tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new R4;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(Sl()<=tt.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Sl()<=tt.DEBUG&&ye("QueryEngine","Query:",Al(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Sl()<=tt.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):ne.resolve())}ys(e,n){if(o_(n))return ne.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Kh(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=st(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,Kh(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,l){return o_(n)||l.isEqual(Le.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,l)?ne.resolve(null):(Sl()<=tt.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Al(n)),this.vs(e,d,n,X2(l,gc)).next((p=>p)))}))}Ds(e,n){let r=new sn(PE(e));return n.forEach(((l,c)=>{vd(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return Sl()<=tt.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Al(n)),this.ps.getDocumentsMatchingQuery(e,n,Pr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const sg="LocalStore",I4=3e8;class D4{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new It(nt),this.xs=new ka((c=>Yp(c)),Qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function j4(i,e,n,r){return new D4(i,e,n,r)}async function lT(i,e){const n=Be(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=st();for(const y of l){d.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function O4(i,e){const n=Be(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,S=E.keys();let V=ne.resolve();return S.forEach((G=>{V=V.next((()=>x.getEntry(g,G))).next((U=>{const F=y.docVersions.get(G);dt(F!==null,48541),U.version.compareTo(F)<0&&(E.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),x.addEntry(U)))}))})),V.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=st();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function oT(i){const e=Be(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function k4(i,e){const n=Be(i),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((x,E)=>{const S=l.get(E);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(c,x.addedDocuments,E))));let V=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(yn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):x.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(x.resumeToken,r)),l=l.insert(E,V),(function(U,F,ie){return U.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=I4?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(S,V,x)&&p.push(n.Pi.updateTargetData(c,V))}));let g=qi(),y=st();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(M4(c,d,e.documentUpdates).next((x=>{g=x.ks,y=x.qs}))),!r.isEqual(Le.min())){const x=n.Pi.getLastRemoteSnapshotVersion(c).next((E=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(x)}return ne.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function M4(i,e,n){let r=st(),l=st();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let d=qi();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Le.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ye(sg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function V4(i,e){const n=Be(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function P4(i,e){const n=Be(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,ne.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new Dr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function vp(i,e,n){const r=Be(i),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Yl(d))throw d;ye(sg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function x_(i,e,n){const r=Be(i);let l=Le.min(),c=st();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,x){const E=Be(g),S=E.xs.get(x);return S!==void 0?ne.resolve(E.Ms.get(S)):E.Pi.getTargetData(y,x)})(r,d,ti(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:Le.min(),n?c:st()))).next((p=>(L4(r,EI(e),p),{documents:p,Qs:c})))))}function L4(i,e,n){let r=i.Os.get(e)||Le.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class E_{constructor(){this.activeTargetIds=RI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U4{constructor(){this.Mo=new E_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class z4{Oo(e){}shutdown(){}}const T_="ConnectivityMonitor";class w_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(T_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(T_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gh=null;function bp(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}const Hm="RestConnection",B4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Fh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const d=bp(),p=this.zo(e,n.toUriEncodedString());ye(Hm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),x=Hi(y);return this.Jo(e,p,g,r,x).then((E=>(ye(Hm,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw Vl(Hm,`RPC '${e}' ${d} failed with error: `,E,"url: ",p,"request:",r),E}))}Ho(e,n,r,l,c,d){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=B4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class F4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _n="WebChannelConnection";class H4 extends q4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const d=bp();return new Promise(((p,g)=>{const y=new uE;y.setWithCredentials(!0),y.listenOnce(hE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nh.NO_ERROR:const E=y.getResponseJson();ye(_n,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),p(E);break;case Nh.TIMEOUT:ye(_n,`RPC '${e}' ${d} timed out`),g(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const S=y.getStatus();if(ye(_n,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const G=V?.error;if(G&&G.status&&G.message){const U=(function(ie){const se=ie.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(se)>=0?se:J.UNKNOWN})(G.status);g(new fe(U,G.message))}else g(new fe(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(J.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ye(_n,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(l);ye(_n,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const l=bp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=mE(),p=fE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const x=c.join("");ye(_n,`Creating RPC '${e}' stream ${l}: ${x}`,g);const E=d.createWebChannel(x,g);this.I_(E);let S=!1,V=!1;const G=new F4({Yo:F=>{V?ye(_n,`Not sending because RPC '${e}' stream ${l} is closed:`,F):(S||(ye(_n,`Opening RPC '${e}' stream ${l} transport.`),E.open(),S=!0),ye(_n,`RPC '${e}' stream ${l} sending:`,F),E.send(F))},Zo:()=>E.close()}),U=(F,ie,se)=>{F.listen(ie,(re=>{try{se(re)}catch(Ae){setTimeout((()=>{throw Ae}),0)}}))};return U(E,nc.EventType.OPEN,(()=>{V||(ye(_n,`RPC '${e}' stream ${l} transport opened.`),G.o_())})),U(E,nc.EventType.CLOSE,(()=>{V||(V=!0,ye(_n,`RPC '${e}' stream ${l} transport closed`),G.a_(),this.E_(E))})),U(E,nc.EventType.ERROR,(F=>{V||(V=!0,Vl(_n,`RPC '${e}' stream ${l} transport errored. Name:`,F.name,"Message:",F.message),G.a_(new fe(J.UNAVAILABLE,"The operation could not be completed")))})),U(E,nc.EventType.MESSAGE,(F=>{if(!V){const ie=F.data[0];dt(!!ie,16349);const se=ie,re=se?.error||se[0]?.error;if(re){ye(_n,`RPC '${e}' stream ${l} received error:`,re);const Ae=re.status;let Ve=(function(A){const N=Wt[A];if(N!==void 0)return $E(N)})(Ae),Oe=re.message;Ve===void 0&&(Ve=J.INTERNAL,Oe="Unknown error status: "+Ae+" with message "+re.message),V=!0,G.a_(new fe(Ve,Oe)),E.close()}else ye(_n,`RPC '${e}' stream ${l} received:`,ie),G.u_(ie)}})),U(p,dE.STAT_EVENT,(F=>{F.stat===lp.PROXY?ye(_n,`RPC '${e}' stream ${l} detected buffering proxy`):F.stat===lp.NOPROXY&&ye(_n,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Gm(){return typeof document<"u"?document:null}function Ed(i){return new QI(i,!0)}class cT{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&ye("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const S_="PersistentStream";class uT{constructor(e,n,r,l,c,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new fe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(S_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye(S_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G4 extends uT{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Le.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Le.min():d.readTime?ni(d.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=yp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=dp(g)?{documents:e4(c,g)}:{query:t4(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=JE(c,d.resumeToken);const y=mp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Le.min())>0){p.readTime=Qh(c,d.snapshotVersion.toTimestamp());const y=mp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=s4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=yp(this.serializer),n.removeTarget=e,this.q_(n)}}class K4 extends uT{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZI(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=yp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>JI(this.serializer,r)))};this.q_(n)}}class Y4{}class Q4 extends Y4{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pp(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(J.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,pp(n,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Da="RemoteStore";class X4{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ma(this)&&(ye(Da,"Restarting streams for network reachability change."),await(async function(g){const y=Be(g);y.Ea.add(4),await Pc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Td(y)})(this))}))})),this.Ra=new $4(r,l)}}async function Td(i){if(Ma(i))for(const e of i.da)await e(!0)}async function Pc(i){for(const e of i.da)await e(!1)}function hT(i,e){const n=Be(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lg(n)?ag(n):$l(n).O_()&&rg(n,e))}function ig(i,e){const n=Be(i),r=$l(n);n.Ia.delete(e),r.O_()&&dT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ma(n)&&n.Ra.set("Unknown"))}function rg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$l(i).Y_(e)}function dT(i,e){i.Va.Ue(e),$l(i).Z_(e)}function ag(i){i.Va=new HI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),$l(i).start(),i.Ra.ua()}function lg(i){return Ma(i)&&!$l(i).x_()&&i.Ia.size>0}function Ma(i){return Be(i).Ea.size===0}function fT(i){i.Va=void 0}async function W4(i){i.Ra.set("Online")}async function J4(i){i.Ia.forEach(((e,n)=>{rg(i,e)}))}async function Z4(i,e){fT(i),lg(i)?(i.Ra.ha(e),ag(i)):i.Ra.set("Unknown")}async function eD(i,e,n){if(i.Ra.set("Online"),e instanceof WE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(i,e)}catch(r){ye(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xh(i,r)}else if(e instanceof Dh?i.Va.Ze(e):e instanceof XE?i.Va.st(e):i.Va.tt(e),!n.isEqual(Le.min()))try{const r=await oT(i.localStore);n.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(yn.EMPTY_BYTE_STRING,x.snapshotVersion)),dT(c,g);const E=new Dr(x.target,g,y,x.sequenceNumber);rg(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){ye(Da,"Failed to raise snapshot:",r),await Xh(i,r)}}async function Xh(i,e,n){if(!Yl(e))throw e;i.Ea.add(1),await Pc(i),i.Ra.set("Offline"),n||(n=()=>oT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ye(Da,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Td(i)}))}function mT(i,e){return e().catch((n=>Xh(i,n,e)))}async function wd(i){const e=Be(i),n=Br(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hp;for(;tD(e);)try{const l=await V4(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,nD(e,l)}catch(l){await Xh(e,l)}pT(e)&&gT(e)}function tD(i){return Ma(i)&&i.Ta.length<10}function nD(i,e){i.Ta.push(e);const n=Br(i);n.O_()&&n.X_&&n.ea(e.mutations)}function pT(i){return Ma(i)&&!Br(i).x_()&&i.Ta.length>0}function gT(i){Br(i).start()}async function sD(i){Br(i).ra()}async function iD(i){const e=Br(i);for(const n of i.Ta)e.ea(n.mutations)}async function rD(i,e,n){const r=i.Ta.shift(),l=Wp.from(r,e,n);await mT(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await wd(i)}async function aD(i,e){e&&Br(i).X_&&await(async function(r,l){if((function(d){return BI(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();Br(r).B_(),await mT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wd(r)}})(i,e),pT(i)&&gT(i)}async function A_(i,e){const n=Be(i);n.asyncQueue.verifyOperationInProgress(),ye(Da,"RemoteStore received new credentials");const r=Ma(n);n.Ea.add(3),await Pc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Td(n)}async function lD(i,e){const n=Be(i);e?(n.Ea.delete(2),await Td(n)):e||(n.Ea.add(2),await Pc(n),n.Ra.set("Unknown"))}function $l(i){return i.ma||(i.ma=(function(n,r,l){const c=Be(n);return c.sa(),new G4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:W4.bind(null,i),t_:J4.bind(null,i),r_:Z4.bind(null,i),H_:eD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),lg(i)?ag(i):i.Ra.set("Unknown")):(await i.ma.stop(),fT(i))}))),i.ma}function Br(i){return i.fa||(i.fa=(function(n,r,l){const c=Be(n);return c.sa(),new K4(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:sD.bind(null,i),r_:aD.bind(null,i),ta:iD.bind(null,i),na:rD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await wd(i)):(await i.fa.stop(),i.Ta.length>0&&(ye(Da,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class og{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,p=new og(e,n,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(i,e){if(Bi("AsyncQueue",`${e}: ${i}`),Yl(i))return new fe(J.UNAVAILABLE,`${e}: ${i}`);throw i}class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class N_{constructor(){this.ga=new It(Ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Bl{constructor(e,n,r,l,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Bl(e,n,Ol.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class oD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cD{constructor(){this.queries=R_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Be(n),c=l.queries;l.queries=R_(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function R_(){return new ka((i=>VE(i)),yd)}async function yT(i,e){const n=Be(i);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new oD,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=cg(d,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&ug(n)}async function vT(i,e){const n=Be(i),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uD(i,e){const n=Be(i);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&ug(n)}function hD(i,e,n){const r=Be(i),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function ug(i){i.Ca.forEach((e=>{e.next()}))}var _p,C_;(C_=_p||(_p={})).Ma="default",C_.Cache="cache";class bT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_p.Cache}}class _T{constructor(e){this.key=e}}class xT{constructor(e){this.key=e}}class dD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=PE(e),this.tu=new Ol(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new N_,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((x,E)=>{const S=l.get(x),V=vd(this.query,E)?E:null,G=!!S&&this.mutatedKeys.has(S.key),U=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;S&&V?S.data.isEqual(V.data)?G!==U&&(r.track({type:3,doc:V}),F=!0):this.su(S,V)||(r.track({type:2,doc:V}),F=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(p=!0)):!S&&V?(r.track({type:0,doc:V}),F=!0):S&&!V&&(r.track({type:1,doc:S}),F=!0,(g||y)&&(p=!0)),F&&(V?(d=d.add(V),c=U?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,E)=>(function(V,G){const U=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:F})}};return U(V)-U(G)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Bl(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=st(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new xT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new _T(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=st();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hg="SyncEngine";class fD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mD{constructor(e){this.key=e,this.hu=!1}}class pD{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ka((p=>VE(p)),yd),this.Iu=new Map,this.Eu=new Set,this.du=new It(Ce.comparator),this.Au=new Map,this.Ru=new eg,this.Vu={},this.mu=new Map,this.fu=zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gD(i,e,n=!0){const r=NT(i);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ET(r,e,n,!0),l}async function yD(i,e){const n=NT(i);await ET(n,e,!0,!1)}async function ET(i,e,n,r){const l=await P4(i.localStore,ti(e)),c=l.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await vD(i,e,c,d==="current",l.resumeToken)),i.isPrimaryClient&&n&&hT(i.remoteStore,l),p}async function vD(i,e,n,r,l){i.pu=(E,S,V)=>(async function(U,F,ie,se){let re=F.view.ru(ie);re.Cs&&(re=await x_(U.localStore,F.query,!1).then((({documents:C})=>F.view.ru(C,re))));const Ae=se&&se.targetChanges.get(F.targetId),Ve=se&&se.targetMismatches.get(F.targetId)!=null,Oe=F.view.applyChanges(re,U.isPrimaryClient,Ae,Ve);return D_(U,F.targetId,Oe.au),Oe.snapshot})(i,E,S,V);const c=await x_(i.localStore,e,!0),d=new dD(e,c.Qs),p=d.ru(c.documents),g=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",l),y=d.applyChanges(p,i.isPrimaryClient,g);D_(i,n,y.au);const x=new fD(e,n,d);return i.Tu.set(e,x),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function bD(i,e,n){const r=Be(i),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!yd(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await vp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&ig(r.remoteStore,l.targetId),xp(r,l.targetId)})).catch(Kl)):(xp(r,l.targetId),await vp(r.localStore,l.targetId,!0))}async function _D(i,e){const n=Be(i),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ig(n.remoteStore,r.targetId))}async function xD(i,e,n){const r=RD(i);try{const l=await(function(d,p){const g=Be(d),y=_t.now(),x=p.reduce(((V,G)=>V.add(G.key)),st());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let G=qi(),U=st();return g.Ns.getEntries(V,x).next((F=>{G=F,G.forEach(((ie,se)=>{se.isValidDocument()||(U=U.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,G))).next((F=>{E=F;const ie=[];for(const se of p){const re=VI(se,E.get(se.key).overlayedDocument);re!=null&&ie.push(new Yr(se.key,re,RE(re.value.mapValue),Cs.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,ie,p)})).next((F=>{S=F;const ie=F.applyToLocalDocumentSet(E,U);return g.documentOverlayCache.saveOverlays(V,F.batchId,ie)}))})).then((()=>({batchId:S.batchId,changes:UE(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new It(nt)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,n),await Lc(r,l.changes),await wd(r.remoteStore)}catch(l){const c=cg(l,"Failed to persist write");n.reject(c)}}async function TT(i,e){const n=Be(i);try{const r=await k4(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(dt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?dt(d.hu,14607):l.removedDocuments.size>0&&(dt(d.hu,42227),d.hu=!1))})),await Lc(n,r,e)}catch(r){await Kl(r)}}function I_(i,e,n){const r=Be(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Be(d);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const S of E.Sa)S.va(p)&&(y=!0)})),y&&ug(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ED(i,e,n){const r=Be(i);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new It(Ce.comparator);d=d.insert(c,En.newNoDocument(c,Le.min()));const p=st().add(c),g=new xd(Le.min(),new Map,new It(nt),d,p);await TT(r,g),r.du=r.du.remove(c),r.Au.delete(e),dg(r)}else await vp(r.localStore,e,!1).then((()=>xp(r,e,n))).catch(Kl)}async function TD(i,e){const n=Be(i),r=e.batch.batchId;try{const l=await O4(n.localStore,e);ST(n,r,null),wT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(n,l)}catch(l){await Kl(l)}}async function wD(i,e,n){const r=Be(i);try{const l=await(function(d,p){const g=Be(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(dt(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);ST(r,e,n),wT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lc(r,l)}catch(l){await Kl(l)}}function wT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function ST(i,e,n){const r=Be(i);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function xp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||AT(i,r)}))}function AT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(ig(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),dg(i))}function D_(i,e,n){for(const r of n)r instanceof _T?(i.Ru.addReference(r.key,e),SD(i,r)):r instanceof xT?(ye(hg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||AT(i,r.key)):Me(19791,{wu:r})}function SD(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(ye(hg,"New document in limbo: "+n),i.Eu.add(r),dg(i))}function dg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ce(wt.fromString(e)),r=i.fu.next();i.Au.set(r,new mD(n)),i.du=i.du.insert(n,r),hT(i.remoteStore,new Dr(ti($p(n.path)),r,"TargetPurposeLimboResolution",md.ce))}}async function Lc(i,e,n){const r=Be(i),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){l.push(y);const x=ng.As(g.targetId,y);c.push(x)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const x=Be(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ne.forEach(y,(S=>ne.forEach(S.Es,(V=>x.persistence.referenceDelegate.addReference(E,S.targetId,V))).next((()=>ne.forEach(S.ds,(V=>x.persistence.referenceDelegate.removeReference(E,S.targetId,V)))))))))}catch(E){if(!Yl(E))throw E;ye(sg,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const V=x.Ms.get(S),G=V.snapshotVersion,U=V.withLastLimboFreeSnapshotVersion(G);x.Ms=x.Ms.insert(S,U)}}})(r.localStore,c))}async function AD(i,e){const n=Be(i);if(!n.currentUser.isEqual(e)){ye(hg,"User change. New user:",e.toKey());const r=await lT(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new fe(J.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lc(n,r.Ls)}}function ND(i,e){const n=Be(i),r=n.Au.get(e);if(r&&r.hu)return st().add(r.key);{let l=st();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function NT(i){const e=Be(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ND.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ED.bind(null,e),e.Pu.H_=uD.bind(null,e.eventManager),e.Pu.yu=hD.bind(null,e.eventManager),e}function RD(i){const e=Be(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wD.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return j4(this.persistence,new C4,e.initialUser,this.serializer)}Cu(e){return new aT(tg.mi,this.serializer)}Du(e){return new U4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class CD extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof $h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new m4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new aT((r=>$h.mi(r,n)),this.serializer)}}class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AD.bind(null,this.syncEngine),await lD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cD})()}createDatastore(e){const n=Ed(e.databaseInfo.databaseId),r=(function(c){return new H4(c)})(e.databaseInfo);return(function(c,d,p,g){return new Q4(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,p){return new X4(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>I_(this.syncEngine,n,0)),(function(){return w_.v()?new w_:new z4})())}createSyncEngine(e,n){return(function(l,c,d,p,g,y,x){const E=new pD(l,c,d,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Be(n);ye(Da,"RemoteStore shutting down."),r.Ea.add(5),await Pc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};class RT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qr="FirestoreClient";class ID{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=xn.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ye(qr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ye(qr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Km(i,e){i.asyncQueue.verifyOperationInProgress(),ye(qr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await lT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function j_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await DD(i);ye(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>A_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>A_(e.remoteStore,l))),i._onlineComponents=e}async function DD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ye(qr,"Using user provided OfflineComponentProvider");try{await Km(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Vl("Error using user provided cache. Falling back to memory cache: "+n),await Km(i,new Wh)}}else ye(qr,"Using default OfflineComponentProvider"),await Km(i,new CD(void 0));return i._offlineComponents}async function CT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ye(qr,"Using user provided OnlineComponentProvider"),await j_(i,i._uninitializedComponentsProvider._online)):(ye(qr,"Using default OnlineComponentProvider"),await j_(i,new Ep))),i._onlineComponents}function jD(i){return CT(i).then((e=>e.syncEngine))}async function IT(i){const e=await CT(i),n=e.eventManager;return n.onListen=gD.bind(null,e.syncEngine),n.onUnlisten=bD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_D.bind(null,e.syncEngine),n}function OD(i,e,n={}){const r=new Vi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const x=new RT({next:S=>{x.Nu(),d.enqueueAndForget((()=>vT(c,E)));const V=S.docs.has(p);!V&&S.fromCache?y.reject(new fe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&g&&g.source==="server"?y.reject(new fe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new bT($p(p.path),x,{includeMetadataChanges:!0,qa:!0});return yT(c,E)})(await IT(i),i.asyncQueue,e,n,r))),r.promise}function kD(i,e,n={}){const r=new Vi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const x=new RT({next:S=>{x.Nu(),d.enqueueAndForget((()=>vT(c,E))),S.fromCache&&g.source==="server"?y.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new bT(p,x,{includeMetadataChanges:!0,qa:!0});return yT(c,E)})(await IT(i),i.asyncQueue,e,n,r))),r.promise}function DT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const O_=new Map;const jT="firestore.googleapis.com",k_=!0;class M_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=k_}else this.host=e.host,this.ssl=e.ssl??k_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d4)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new U2;switch(r.type){case"firstParty":return new F2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=O_.get(n);r&&(ye("ComponentProvider","Removing Datastore"),O_.delete(n),r.terminate())})(this),Promise.resolve()}}function MD(i,e,n,r={}){i=ri(i,Sd);const l=Hi(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;l&&(ld(`https://${p}`),od("Firestore",!0)),c.host!==jT&&c.host!==p&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!Na(g,d)&&(i._setSettings(g),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=xn.MOCK_USER;else{y=Tx(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new xn(E)}i._authCredentials=new z2(new gE(y,x))}}class Qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qr(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kc(n,Ht._jsonSchema))return new Ht(e,r||null,new Ce(wt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Zt("string",Ht._jsonSchemaVersion),referencePath:Zt("string")};class Mr extends Qr{constructor(e,n,r){super(e,n,$p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Ce(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function Ta(i,e,...n){if(i=Vt(i),yE("collection","path",e),i instanceof Sd){const r=wt.fromString(e,...n);return Qb(r),new Mr(i,null,r)}{if(!(i instanceof Ht||i instanceof Mr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(wt.fromString(e,...n));return Qb(r),new Mr(i.firestore,null,r)}}function kl(i,e,...n){if(i=Vt(i),arguments.length===1&&(e=Fp.newId()),yE("doc","path",e),i instanceof Sd){const r=wt.fromString(e,...n);return Yb(r),new Ht(i,null,new Ce(r))}{if(!(i instanceof Ht||i instanceof Mr))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(wt.fromString(e,...n));return Yb(r),new Ht(i.firestore,i instanceof Mr?i.converter:null,new Ce(r))}}const V_="AsyncQueue";class P_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const r=Gm();r&&ye(V_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;ye(V_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Bi("INTERNAL UNHANDLED ERROR: ",L_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=og.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Me(47125,{Pc:L_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function L_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Xl extends Sd{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new P_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P_(e),this._firestoreClient=void 0,await e}}}function VD(i,e){const n=typeof i=="object"?i:cd(),r=typeof i=="string"?i:Fh,l=Cc(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Dp("firestore");c&&MD(l,...c)}return l}function fg(i){if(i._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||PD(i),i._firestoreClient}function PD(i){const e=i._freezeSettings(),n=(function(l,c,d,p){return new aI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,DT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new ID(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ms(yn.fromBase64String(e))}catch(n){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ms(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ms._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kc(e,ms._jsonSchema))return ms.fromBase64String(e.bytes)}}ms._jsonSchemaVersion="firestore/bytes/1.0",ms._jsonSchema={type:Zt("string",ms._jsonSchemaVersion),bytes:Zt("string")};class Ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nd{constructor(e){this._methodName=e}}class si{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(e){if(kc(e,si._jsonSchema))return new si(e.latitude,e.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:Zt("string",si._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kc(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new fe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Zt("string",ii._jsonSchemaVersion),vectorValues:Zt("object")};const LD=/^__.*__$/;class UD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}class OT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:i})}}class mg{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kT(this.Ac)&&LD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ed(e)}Cc(e,n,r,l=!1){return new mg({Ac:e,methodName:n,Dc:r,path:gn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rd(i){const e=i._freezeSettings(),n=Ed(i._databaseId);return new zD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function MT(i,e,n,r,l,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,l);gg("Data must be an object, but it was:",d,r);const p=VT(r,d);let g,y;if(c.merge)g=new Xn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const S=Tp(e,E,n);if(!d.contains(S))throw new fe(J.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);LT(x,S)||x.push(S)}g=new Xn(x),y=d.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=d.fieldTransforms;return new UD(new Mn(p),g,y)}class Cd extends Nd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cd}}class pg extends Nd{_toFieldTransform(e){return new jI(e.path,new xc)}isEqual(e){return e instanceof pg}}function BD(i,e,n,r){const l=i.Cc(1,e,n);gg("Data must be an object, but it was:",l,r);const c=[],d=Mn.empty();Kr(r,((g,y)=>{const x=yg(e,g,n);y=Vt(y);const E=l.yc(x);if(y instanceof Cd)c.push(x);else{const S=Uc(y,E);S!=null&&(c.push(x),d.set(x,S))}}));const p=new Xn(c);return new OT(d,p,l.fieldTransforms)}function qD(i,e,n,r,l,c){const d=i.Cc(1,e,n),p=[Tp(e,r,n)],g=[l];if(c.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(Tp(e,c[S])),g.push(c[S+1]);const y=[],x=Mn.empty();for(let S=p.length-1;S>=0;--S)if(!LT(y,p[S])){const V=p[S];let G=g[S];G=Vt(G);const U=d.yc(V);if(G instanceof Cd)y.push(V);else{const F=Uc(G,U);F!=null&&(y.push(V),x.set(V,F))}}const E=new Xn(y);return new OT(x,E,d.fieldTransforms)}function FD(i,e,n,r=!1){return Uc(n,i.Cc(r?4:3,e))}function Uc(i,e){if(PT(i=Vt(i)))return gg("Unsupported field value:",e,i),VT(i,e);if(i instanceof Nd)return(function(r,l){if(!kT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=Uc(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(i,e)}return(function(r,l){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=_t.fromDate(r);return{timestampValue:Qh(l.serializer,c)}}if(r instanceof _t){const c=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qh(l.serializer,c)}}if(r instanceof si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ms)return{bytesValue:JE(l.serializer,r._byteString)};if(r instanceof Ht){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ii)return(function(d,p){return{mapValue:{fields:{[AE]:{stringValue:NE},[Hh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Xp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${fd(r)}`)})(i,e)}function VT(i,e){const n={};return _E(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(i,((r,l)=>{const c=Uc(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function PT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof _t||i instanceof si||i instanceof ms||i instanceof Ht||i instanceof Nd||i instanceof ii)}function gg(i,e,n){if(!PT(n)||!vE(n)){const r=fd(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Tp(i,e,n){if((e=Vt(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return yg(i,e);throw Jh("Field path arguments must be of type string or ",i,!1,void 0,n)}const HD=new RegExp("[~\\*/\\[\\]]");function yg(i,e,n){if(e.search(HD)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ad(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jh(i,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new fe(J.INVALID_ARGUMENT,p+i+g)}function LT(i,e){return i.some((n=>n.isEqual(e)))}class UT{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GD extends UT{data(){return super.data()}}function vg(i,e){return typeof e=="string"?yg(i,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}function KD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class _g extends bg{}function Ym(i,e,...n){let r=[];e instanceof bg&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof Eg)).length,p=c.filter((g=>g instanceof xg)).length;if(d>1||d>0&&p>0)throw new fe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class xg extends _g{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xg(e,n,r)}_apply(e){const n=this._parse(e);return zT(e._query,n),new Qr(e.firestore,e.converter,fp(e._query,n))}_parse(e){const n=Rd(e.firestore);return(function(c,d,p,g,y,x,E){let S;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new fe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){z_(E,x);const G=[];for(const U of E)G.push(U_(g,c,U));S={arrayValue:{values:G}}}else S=U_(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||z_(E,x),S=FD(p,d,E,x==="in"||x==="not-in");return Jt.create(y,x,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Eg extends bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:js.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)zT(d,g),d=fp(d,g)})(e._query,n),new Qr(e.firestore,e.converter,fp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tg extends _g{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tg(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new fe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(c,d)})(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ql(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function Qm(i,e="asc"){const n=e,r=vg("orderBy",i);return Tg._create(r,n)}class wg extends _g{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new wg(e,n,r)}_apply(e){return new Qr(e.firestore,e.converter,Kh(e._query,this._limit,this._limitType))}}function $m(i){return wg._create("limit",i,"F")}function U_(i,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new fe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ME(e)&&n.indexOf("/")!==-1)throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wt.fromString(n));if(!Ce.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n_(i,new Ce(r))}if(n instanceof Ht)return n_(i,n._key);throw new fe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function z_(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zT(i,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YD{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Kr(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Hh].arrayValue?.values?.map((r=>Ft(r.doubleValue)));return new ii(n)}convertGeoPoint(e){return new si(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Lr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);dt(iT(r),9688,{name:e});const l=new vc(r.get(1),r.get(3)),c=new Ce(r.popFirst(5));return l.isEqual(n)||Bi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function BT(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends UT{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Zt("string",Aa._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class jh extends Aa{data(e={}){return super.data(e)}}class Ml{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new jh(this._firestore,this._userDataWriter,r.key,r,new rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new jh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new rc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new jh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new rc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,x=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),x=d.indexOf(p.doc.key)),{type:QD(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ml._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:i})}}function qT(i){i=ri(i,Ht);const e=ri(i.firestore,Xl);return OD(fg(e),i._key).then((n=>WD(e,i,n)))}Ml._jsonSchemaVersion="firestore/querySnapshot/1.0",Ml._jsonSchema={type:Zt("string",Ml._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class FT extends YD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function wl(i){i=ri(i,Qr);const e=ri(i.firestore,Xl),n=fg(e),r=new FT(e);return KD(i._query),kD(n,i._query).then((l=>new Ml(e,r,i,l)))}function HT(i,e,n){i=ri(i,Ht);const r=ri(i.firestore,Xl),l=BT(i.converter,e);return Sg(r,[MT(Rd(r),"setDoc",i._key,l,i.converter!==null,n).toMutation(i._key,Cs.none())])}function $D(i,e,n,...r){i=ri(i,Ht);const l=ri(i.firestore,Xl),c=Rd(l);let d;return d=typeof(e=Vt(e))=="string"||e instanceof Ad?qD(c,"updateDoc",i._key,e,n,r):BD(c,"updateDoc",i._key,e),Sg(l,[d.toMutation(i._key,Cs.exists(!0))])}function XD(i,e){const n=ri(i.firestore,Xl),r=kl(i),l=BT(i.converter,e);return Sg(n,[MT(Rd(i.firestore),"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,Cs.exists(!1))]).then((()=>r))}function Sg(i,e){return(function(r,l){const c=new Vi;return r.asyncQueue.enqueueAndForget((async()=>xD(await jD(r),l,c))),c.promise})(fg(i),e)}function WD(i,e,n){const r=n.docs.get(e._key),l=new FT(i);return new Aa(i,l,e._key,r,new rc(n.hasPendingWrites,n.fromCache),e.converter)}function yh(){return new pg("serverTimestamp")}(function(e,n=!0){(function(l){Gl=l})(ja),Vr(new Li("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Xl(new B2(r.getProvider("auth-internal")),new H2(d,r.getProvider("app-check-internal")),(function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(y.options.projectId,x)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ps(Fb,Hb,e),ps(Fb,Hb,"esm2020")})();var JD="firebase",ZD="12.7.0";ps(JD,ZD,"app");const GT="firebasestorage.googleapis.com",ej="storageBucket",tj=120*1e3,nj=600*1e3;class oi extends Os{constructor(e,n,r=0){super(Xm(e),`Firebase Storage: ${n} (${Xm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var li;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(li||(li={}));function Xm(i){return"storage/"+i}function sj(){const i="An unknown error occurred, please check the error payload for server response.";return new oi(li.UNKNOWN,i)}function ij(){return new oi(li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rj(){return new oi(li.CANCELED,"User canceled the upload/download.")}function aj(i){return new oi(li.INVALID_URL,"Invalid URL '"+i+"'.")}function lj(i){return new oi(li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function B_(i){return new oi(li.INVALID_ARGUMENT,i)}function KT(){return new oi(li.APP_DELETED,"The Firebase app was deleted.")}function oj(i){return new oi(li.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Rs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rs.makeFromUrl(e,n)}catch{return new Rs(e,"")}if(r.path==="")return r;throw lj(e)}static makeFromUrl(e,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function c(Ae){Ae.path.charAt(Ae.path.length-1)==="/"&&(Ae.path_=Ae.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+l+d,"i"),g={bucket:1,path:3};function y(Ae){Ae.path_=decodeURIComponent(Ae.path)}const x="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",V=new RegExp(`^https?://${E}/${x}/b/${l}/o${S}`,"i"),G={bucket:1,path:3},U=n===GT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",ie=new RegExp(`^https?://${U}/${l}/${F}`,"i"),re=[{regex:p,indices:g,postModify:c},{regex:V,indices:G,postModify:y},{regex:ie,indices:{bucket:1,path:2},postModify:y}];for(let Ae=0;Ae<re.length;Ae++){const Ve=re[Ae],Oe=Ve.regex.exec(e);if(Oe){const C=Oe[Ve.indices.bucket];let A=Oe[Ve.indices.path];A||(A=""),r=new Rs(C,A),Ve.postModify(r);break}}if(r==null)throw aj(e);return r}}class cj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function uj(i,e,n){let r=1,l=null,c=null,d=!1,p=0;function g(){return p===2}let y=!1;function x(...F){y||(y=!0,e.apply(null,F))}function E(F){l=setTimeout(()=>{l=null,i(V,g())},F)}function S(){c&&clearTimeout(c)}function V(F,...ie){if(y){S();return}if(F){S(),x.call(null,F,...ie);return}if(g()||d){S(),x.call(null,F,...ie);return}r<64&&(r*=2);let re;p===1?(p=2,re=0):re=(r+Math.random())*1e3,E(re)}let G=!1;function U(F){G||(G=!0,S(),!y&&(l!==null?(F||(p=2),clearTimeout(l),E(0)):F||(p=1)))}return E(0),c=setTimeout(()=>{d=!0,U(!0)},n),U}function hj(i){i(!1)}function dj(i){return i!==void 0}function q_(i,e,n,r){if(r<e)throw B_(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw B_(`Invalid value for '${i}'. Expected ${n} or less.`)}function fj(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const l=e(r)+"="+e(i[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var Zh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Zh||(Zh={}));function mj(i,e){const n=i>=500&&i<600,l=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||l||c}class pj{constructor(e,n,r,l,c,d,p,g,y,x,E,S=!0,V=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=E,this.retry=S,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,U)=>{this.resolve_=G,this.reject_=U,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new vh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===Zh.NO_ERROR,g=c.getStatus();if(!p||mj(g,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===Zh.ABORT;r(!1,new vh(!1,null,x));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new vh(y,c))})},n=(r,l)=>{const c=this.resolve_,d=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());dj(g)?c(g):c()}catch(g){d(g)}else if(p!==null){const g=sj();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(l.canceled){const g=this.appDelete_?KT():rj();d(g)}else{const g=ij();d(g)}};this.canceled_?n(!1,new vh(!1,null,!0)):this.backoffId_=uj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gj(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function yj(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vj(i,e){e&&(i["X-Firebase-GMPID"]=e)}function bj(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function _j(i,e,n,r,l,c,d=!0,p=!1){const g=fj(i.urlParams),y=i.url+g,x=Object.assign({},i.headers);return vj(x,e),gj(x,n),yj(x,c),bj(x,r),new pj(y,i.method,x,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l,d,p)}function xj(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Ej(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class ed{constructor(e,n){this._service=e,n instanceof Rs?this._location=n:this._location=Rs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ed(e,n)}get root(){const e=new Rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ej(this._location.path)}get storage(){return this._service}get parent(){const e=xj(this._location.path);if(e===null)return null;const n=new Rs(this._location.bucket,e);return new ed(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oj(e)}}function F_(i,e){const n=e?.[ej];return n==null?null:Rs.makeFromBucketSpec(n,i)}function Tj(i,e,n,r={}){i.host=`${e}:${n}`;const l=Hi(e);l&&(ld(`https://${i.host}/b`),od("Storage",!0)),i._isUsingEmulator=!0,i._protocol=l?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:Tx(c,i.app.options.projectId))}class wj{constructor(e,n,r,l,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=GT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tj,this._maxUploadRetryTime=nj,this._requests=new Set,l!=null?this._bucket=Rs.makeFromBucketSpec(l,this._host):this._bucket=F_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rs.makeFromBucketSpec(this._url,e):this._bucket=F_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ed(this,e)}_makeRequest(e,n,r,l,c=!0){if(this._deleted)return new cj(KT());{const d=_j(e,this._appId,r,l,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,l).getPromise()}}const H_="@firebase/storage",G_="0.14.0";const YT="storage";function Sj(i=cd(),e){i=Vt(i);const r=Cc(i,YT).getImmediate({identifier:e}),l=Dp("storage");return l&&Aj(r,...l),r}function Aj(i,e,n,r={}){Tj(i,e,n,r)}function Nj(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new wj(n,r,l,e,ja)}function Rj(){Vr(new Li(YT,Nj,"PUBLIC").setMultipleInstances(!0)),ps(H_,G_,""),ps(H_,G_,"esm2020")}Rj();const Cj="type.googleapis.com/google.protobuf.Int64Value",Ij="type.googleapis.com/google.protobuf.UInt64Value";function QT(i,e){const n={};for(const r in i)i.hasOwnProperty(r)&&(n[r]=e(i[r]));return n}function td(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>td(e));if(typeof i=="function"||typeof i=="object")return QT(i,e=>td(e));throw new Error("Data cannot be encoded in JSON: "+i)}function ql(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case Cj:case Ij:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>ql(e)):typeof i=="function"||typeof i=="object"?QT(i,e=>ql(e)):i}const Ag="functions";const K_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vn extends Os{constructor(e,n,r){super(`${Ag}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Vn.prototype)}}function Dj(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function nd(i,e){let n=Dj(i),r=n,l;try{const c=e&&e.error;if(c){const d=c.status;if(typeof d=="string"){if(!K_[d])return new Vn("internal","internal");n=K_[d],r=d}const p=c.message;typeof p=="string"&&(r=p),l=c.details,l!==void 0&&(l=ql(l))}}catch{}return n==="ok"?null:new Vn(n,r,l)}class jj{constructor(e,n,r,l){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,kn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||r.get().then(c=>this.messaging=c,()=>{}),this.appCheck||l?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),l=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:l}}}const wp="us-central1",Oj=/^data: (.*?)(?:\n|$)/;function kj(i){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Vn("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class Mj{constructor(e,n,r,l,c=wp,d=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new jj(e,n,r,l),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(c);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=wp}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Vj(i,e,n){const r=Hi(e);i.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(ld(i.emulatorOrigin+"/backends"),od("Functions",!0))}function Pj(i,e,n){const r=l=>Uj(i,e,l,{});return r.stream=(l,c)=>Bj(i,e,l,c),r}function $T(i){return i.emulatorOrigin&&Hi(i.emulatorOrigin)?"include":void 0}async function Lj(i,e,n,r,l){n["Content-Type"]="application/json";let c;try{c=await r(i,{method:"POST",body:JSON.stringify(e),headers:n,credentials:$T(l)})}catch{return{status:0,json:null}}let d=null;try{d=await c.json()}catch{}return{status:c.status,json:d}}async function XT(i,e){const n={},r=await i.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function Uj(i,e,n,r){const l=i._url(e);return zj(i,l,n,r)}async function zj(i,e,n,r){n=td(n);const l={data:n},c=await XT(i,r),d=r.timeout||7e4,p=kj(d),g=await Promise.race([Lj(e,l,c,i.fetchImpl,i),p.promise,i.cancelAllRequests]);if(p.cancel(),!g)throw new Vn("cancelled","Firebase Functions instance was deleted.");const y=nd(g.status,g.json);if(y)throw y;if(!g.json)throw new Vn("internal","Response is not valid JSON object.");let x=g.json.data;if(typeof x>"u"&&(x=g.json.result),typeof x>"u")throw new Vn("internal","Response is missing data field.");return{data:ql(x)}}function Bj(i,e,n,r){const l=i._url(e);return qj(i,l,n,r||{})}async function qj(i,e,n,r){n=td(n);const l={data:n},c=await XT(i,r);c["Content-Type"]="application/json",c.Accept="text/event-stream";let d;try{d=await i.fetchImpl(e,{method:"POST",body:JSON.stringify(l),headers:c,signal:r?.signal,credentials:$T(i)})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const G=new Vn("cancelled","Request was cancelled.");return{data:Promise.reject(G),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(G)}}}}}}const V=nd(0,null);return{data:Promise.reject(V),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(V)}}}}}}let p,g;const y=new Promise((S,V)=>{p=S,g=V});r?.signal?.addEventListener("abort",()=>{const S=new Vn("cancelled","Request was cancelled.");g(S)});const x=d.body.getReader(),E=Fj(x,p,g,r?.signal);return{stream:{[Symbol.asyncIterator](){const S=E.getReader();return{async next(){const{value:V,done:G}=await S.read();return{value:V,done:G}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:y}}function Fj(i,e,n,r){const l=(d,p)=>{const g=d.match(Oj);if(!g)return;const y=g[1];try{const x=JSON.parse(y);if("result"in x){e(ql(x.result));return}if("message"in x){p.enqueue(ql(x.message));return}if("error"in x){const E=nd(0,x);p.error(E),n(E);return}}catch(x){if(x instanceof Vn){p.error(x),n(x);return}}},c=new TextDecoder;return new ReadableStream({start(d){let p="";return g();async function g(){if(r?.aborted){const y=new Vn("cancelled","Request was cancelled");return d.error(y),n(y),Promise.resolve()}try{const{value:y,done:x}=await i.read();if(x){p.trim()&&l(p.trim(),d),d.close();return}if(r?.aborted){const S=new Vn("cancelled","Request was cancelled");d.error(S),n(S),await i.cancel();return}p+=c.decode(y,{stream:!0});const E=p.split(`
`);p=E.pop()||"";for(const S of E)S.trim()&&l(S.trim(),d);return g()}catch(y){const x=y instanceof Vn?y:nd(0,null);d.error(x),n(x)}}},cancel(){return i.cancel()}})}const Y_="@firebase/functions",Q_="0.13.1";const Hj="auth-internal",Gj="app-check-internal",Kj="messaging-internal";function Yj(i){const e=(n,{instanceIdentifier:r})=>{const l=n.getProvider("app").getImmediate(),c=n.getProvider(Hj),d=n.getProvider(Kj),p=n.getProvider(Gj);return new Mj(l,c,d,p,r)};Vr(new Li(Ag,e,"PUBLIC").setMultipleInstances(!0)),ps(Y_,Q_,i),ps(Y_,Q_,"esm2020")}function $n(i=cd(),e=wp){const r=Cc(Vt(i),Ag).getImmediate({identifier:e}),l=Dp("functions");return l&&Qj(r,...l),r}function Qj(i,e,n){Vj(Vt(i),e,n)}function ds(i,e,n){return Pj(Vt(i),e)}Yj();const $j={apiKey:"AIzaSyAZ_SrlZz1glZXeOBuOqg2OFUMQMs7BOAw",authDomain:"innovend-980b3.firebaseapp.com",projectId:"innovend-980b3",storageBucket:"innovend-980b3.firebasestorage.app",messagingSenderId:"522982439138",appId:"1:522982439138:web:bf17d2b52af19e4b6446bb"},Id=Ax($j),bh=P2(Id),fs=VD(Id);Sj(Id);$n(Id);const WT=k.createContext({}),_h=()=>{const i=k.useContext(WT);if(!i)throw new Error("useAuth must be used within AuthProvider");return i},Xj=({children:i})=>{const[e,n]=k.useState(null),[r,l]=k.useState(null),[c,d]=k.useState(!0),[p,g]=k.useState(null);k.useEffect(()=>{const V=SC(bh,async G=>{if(g(null),G){n(G);try{const U=await qT(kl(fs,"users",G.uid));U.exists()?l({uid:G.uid,...U.data()}):(console.warn("User profile not found in Firestore"),l(null))}catch(U){console.error("Error fetching user profile:",U),g("Failed to load user profile")}}else n(null),l(null);d(!1)});return()=>V()},[]);const S={user:e,userProfile:r,loading:c,error:p,signIn:async(V,G)=>{g(null);try{return await EC(bh,V,G)}catch(U){throw g(U.message),U}},signOut:async()=>{g(null);try{await AC(bh),n(null),l(null)}catch(V){throw g(V.message),V}},createAccount:async(V,G,U)=>{g(null);try{const F=await xC(bh,V,G);return await HT(kl(fs,"users",F.user.uid),{uid:F.user.uid,email:V,...U,createdAt:new Date,updatedAt:new Date}),F}catch(F){throw g(F.message),F}},isAdmin:r?.role==="admin",isAuthenticated:!!e};return f.jsx(WT.Provider,{value:S,children:!c&&i})},Wj=()=>{const i=ox(),e=Fr(),{user:n,userProfile:r,signOut:l,isAuthenticated:c,isAdmin:d}=_h(),[p,g]=k.useState(!1),[y,x]=k.useState(!1),[E,S]=k.useState(!1),[V,G]=k.useState(1),[U,F]=k.useState({email:"",firstName:"",lastName:"",businessName:"",phone:"",contactMethod:"",hearAbout:"",referral:"",additionalInfo:"",termsAgreed:!1,finalTermsAgreed:!1}),[ie,se]=k.useState(!1),[re,Ae]=k.useState(!1),[Ve,Oe]=k.useState(!1),[C,A]=k.useState(!1),[N,M]=k.useState(!1),[D,P]=k.useState("home"),[R,xt]=k.useState(!1),[Pt,Q]=k.useState(!1),[ce,Ne]=k.useState(null),[it,lt]=k.useState(!1),[O,Z]=k.useState(""),[he,ge]=k.useState([]),[Ie,qe]=k.useState({}),[Ke,Lt]=k.useState({}),Ye=(te,W)=>{F(ae=>({...ae,[te]:W.trim?W.trim():W})),ui(te,W)},ci=te=>{qe(W=>({...W,[te]:!0})),ui(te,U[te])},ys=te=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(te),ui=(te,W)=>{let ae="";switch(te){case"email":W?ys(W)||(ae="Please enter a valid email address"):ae="Email is required";break;case"firstName":!W||W.trim().length===0?ae="First name is required":W.trim().length<2&&(ae="First name must be at least 2 characters");break;case"lastName":!W||W.trim().length===0?ae="Last name is required":W.trim().length<2&&(ae="Last name must be at least 2 characters");break;case"businessName":(!W||W.trim().length===0)&&(ae="Business name is required");break;case"phone":const le=W.replace(/\D/g,"");W?le.length!==10&&(ae="Phone number must be exactly 10 digits"):ae="Phone number is required";break;case"contactMethod":W||(ae="Please select a contact method");break}return Lt(le=>({...le,[te]:ae})),ae===""},hi=U.email&&ys(U.email)&&U.termsAgreed,Pn=U.firstName&&U.lastName&&U.businessName&&U.phone&&U.contactMethod,Gi=U.finalTermsAgreed,di=async()=>{try{await XD(Ta(fs,"serviceRequests"),{...U,submittedAt:yh(),status:"pending"});try{const te=$n();await ds(te,"sendServiceRequestConfirmation")({email:U.email,firstName:U.firstName,lastName:U.lastName,businessName:U.businessName})}catch(te){console.error("Failed to send confirmation email:",te)}g(!1),G(1),ge([]),F({email:"",firstName:"",lastName:"",businessName:"",phone:"",contactMethod:"",hearAbout:"",referral:"",additionalInfo:"",termsAgreed:!1,finalTermsAgreed:!1}),Z("Your service request has been submitted successfully! We'll contact you within 1-2 business days. Check your email for confirmation."),lt(!0)}catch(te){console.error("Error submitting form:",te),alert("There was an error submitting your request. Please try again.")}},on=te=>{const W=document.getElementById(te);W&&(W.scrollIntoView({behavior:"smooth"}),S(!1))};return k.useEffect(()=>{const te={threshold:.15,rootMargin:"0px 0px -100px 0px"},W=new IntersectionObserver(le=>{le.forEach(me=>{me.isIntersecting&&(me.target.classList.add("animate-fadeInUp"),me.target.classList.remove("opacity-0","translate-y-8"))})},te);return document.querySelectorAll(".scroll-animate").forEach(le=>W.observe(le)),()=>W.disconnect()},[D]),k.useEffect(()=>{e.pathname==="/admin-access-secure-portal"&&!c&&(Oe(!0),P("home"))},[e.pathname,c]),f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-white",children:[f.jsx("nav",{className:"fixed top-0 w-full bg-slate-900/95 backdrop-blur-sm z-50 border-b border-blue-500/20",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-lg flex items-center justify-center font-bold text-slate-900",children:"IV"}),f.jsx("span",{className:"text-xl font-bold",children:"InnoVend LLC"})]}),f.jsxs("div",{className:"hidden md:flex space-x-6 items-center",children:[f.jsx("button",{onClick:()=>{on("home"),P("home")},className:"hover:text-blue-400 transition",children:"Home"}),f.jsx("button",{onClick:()=>{on("about"),P("home")},className:"hover:text-blue-400 transition",children:"About"}),f.jsx("button",{onClick:()=>{on("services"),P("home")},className:"hover:text-blue-400 transition",children:"Services"}),f.jsx("button",{onClick:()=>{on("machines"),P("home")},className:"hover:text-blue-400 transition",children:"Machines"}),f.jsx("button",{onClick:()=>{on("products"),P("home")},className:"hover:text-blue-400 transition",children:"Products"}),f.jsx("button",{onClick:()=>g(!0),className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition",children:"Request Services"}),c?f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>M(!N),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 px-4 py-2 rounded-lg transition flex items-center space-x-2",children:[f.jsx("span",{children:"My Account"}),f.jsx(_N,{className:"w-4 h-4"})]}),N&&f.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-slate-800 rounded-lg shadow-xl border border-blue-400/30 py-2 z-50",children:[f.jsx("button",{onClick:()=>{P("dashboard"),M(!1),window.scrollTo(0,0)},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition",children:"Dashboard"}),d&&f.jsx("button",{onClick:()=>{P("admin"),M(!1),window.scrollTo(0,0)},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition",children:"Admin Panel"}),f.jsx("hr",{className:"my-2 border-gray-700"}),f.jsx("button",{onClick:async()=>{await l(),M(!1),P("home")},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition text-red-400",children:"Log Out"})]})]}):f.jsx("button",{onClick:()=>se(!0),className:"bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded-lg transition",children:"Log In"})]}),f.jsx("button",{onClick:()=>S(!E),className:"md:hidden",children:f.jsx(DN,{className:"w-6 h-6"})})]}),E&&f.jsxs("div",{className:"md:hidden py-4 space-y-2",children:[f.jsx("button",{onClick:()=>{on("home"),P("home"),S(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Home"}),f.jsx("button",{onClick:()=>{on("about"),P("home"),S(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"About"}),f.jsx("button",{onClick:()=>{on("services"),P("home"),S(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Services"}),f.jsx("button",{onClick:()=>{on("machines"),P("home"),S(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Machines"}),f.jsx("button",{onClick:()=>{on("products"),P("home"),S(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Products"}),f.jsx("button",{onClick:()=>{g(!0),S(!1)},className:"block w-full text-left bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition",children:"Request Services"}),c?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>{P("dashboard"),S(!1),window.scrollTo(0,0)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Dashboard"}),d&&f.jsx("button",{onClick:()=>{P("admin"),S(!1),window.scrollTo(0,0)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Admin Panel"}),f.jsx("button",{onClick:async()=>{await l(),S(!1),P("home")},className:"block w-full text-left py-2 hover:text-red-400 transition",children:"Log Out"})]}):f.jsx("button",{onClick:()=>{se(!0),S(!1)},className:"block w-full text-left bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded-lg transition",children:"Log In"})]})]})}),D==="home"&&f.jsxs(f.Fragment,{children:[f.jsx("section",{id:"home",className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[f.jsx("div",{className:"inline-block mb-4 px-4 py-2 bg-blue-500/20 rounded-full border border-blue-400/30",children:f.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"Serving North Potomac, Rockville, Gaithersburg & Surrounding Areas"})}),f.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-cyan-300 to-blue-400 bg-clip-text text-transparent",children:["Innovating Convenience",f.jsx("br",{}),"One Vend at a Time"]}),f.jsx("p",{className:"text-xl sm:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Providing Convenient Vending Solutions for Local Businesses  At No Cost To You"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsxs("button",{onClick:()=>g(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-8 py-4 rounded-lg font-semibold text-lg transition transform hover:scale-105 shadow-lg flex items-center justify-center",children:["Request Services ",f.jsx(EN,{className:"ml-2"})]}),f.jsx("button",{onClick:()=>on("about"),className:"bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-lg font-semibold text-lg transition border border-white/20",children:"Learn More"})]})]})}),f.jsx("section",{id:"about",className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-800/50",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Who We Are"}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"InnoVend LLC is a premier vending machine service provider dedicated to enhancing your business environment with convenient, modern vending solutions. We specialize in placing and maintaining state-of-the-art vending machines at businesses throughout the North Potomac, Rockville, and Gaithersburg areas."}),f.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"Our mission is simple: to provide your customers, employees, or clients with easy access to quality snacks and beverages while improving the overall experience at your facility  all at zero cost to you."}),f.jsx("p",{className:"text-lg text-gray-300",children:"With cutting-edge technology, including touchscreen interfaces and UV sanitization, we bring innovation and convenience to every location we serve. We handle everything from installation to restocking, so you can focus on running your business."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[f.jsx(uh,{className:"w-12 h-12 text-blue-400 mb-4"}),f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Modern Technology"}),f.jsx("p",{className:"text-sm text-gray-300",children:"Touchscreen interfaces & UV sanitization"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[f.jsx(Zo,{className:"w-12 h-12 text-blue-400 mb-4"}),f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Zero Cost"}),f.jsx("p",{className:"text-sm text-gray-300",children:"Free placement & maintenance"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[f.jsx(ch,{className:"w-12 h-12 text-blue-400 mb-4"}),f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Customizable"}),f.jsx("p",{className:"text-sm text-gray-300",children:"Product selection tailored to you"})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[f.jsx(oh,{className:"w-12 h-12 text-blue-400 mb-4"}),f.jsx("h3",{className:"font-bold text-lg mb-2",children:"Full Service"}),f.jsx("p",{className:"text-sm text-gray-300",children:"We handle restocking & cleaning"})]})]})]})]})}),f.jsx("section",{id:"services",className:"py-20 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Why Choose InnoVend?"}),f.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"We provide complete vending solutions that enhance your business and delight your customers  all at no cost to you."}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:f.jsx(lh,{className:"w-8 h-8 text-blue-400"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Completely Free"}),f.jsx("p",{className:"text-gray-300",children:"No upfront costs, no monthly fees, no hidden charges. We cover everything  you only provide power and WiFi. Plus, we may offer commission opportunities to our partners."})]}),f.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:f.jsx(ch,{className:"w-8 h-8 text-blue-400"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Enhance Customer Experience"}),f.jsx("p",{className:"text-gray-300",children:"Improve client satisfaction and drive return visits by offering convenient access to snacks and beverages. A well-placed vending machine can transform your waiting area or break room into a more welcoming space."})]}),f.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:f.jsx(Zo,{className:"w-8 h-8 text-blue-400"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Hassle-Free Maintenance"}),f.jsx("p",{className:"text-gray-300",children:"We handle all restocking, cleaning, and repairs. Our machines feature modern touchscreen technology and UV sanitization to ensure a clean, professional appearance that reflects well on your business."})]}),f.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:f.jsx(uh,{className:"w-8 h-8 text-blue-400"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Customizable Selection"}),f.jsx("p",{className:"text-gray-300",children:"You have input on what products go into your machine. We work with you to stock items that match your clientele's preferences and dietary needs."})]}),f.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:f.jsx(ub,{className:"w-8 h-8 text-blue-400"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Local Service"}),f.jsx("p",{className:"text-gray-300",children:"We're a local business serving North Potomac, Rockville, Gaithersburg, and surrounding areas. Quick response times and personalized service you can count on."})]}),f.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:f.jsx(oh,{className:"w-8 h-8 text-blue-400"})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Perfect For High-Traffic Locations"}),f.jsx("p",{className:"text-gray-300",children:"Ideal for salons, laundromats, fitness centers, office buildings, medical offices, car washes, and any location where customers wait or need convenient refreshments."})]})]})]})}),f.jsx("section",{id:"machines",className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-800/50",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Our Vending Machines"}),f.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"We offer a variety of state-of-the-art vending machines to fit your space and needs."}),f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:f.jsx("span",{className:"text-6xl",children:""})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Snack Machines"}),f.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"MarketOne 6 Wide with 48 selections and up to 738 items. Features touchscreen interface, guaranteed delivery, and UV sanitization."}),f.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[f.jsx("li",{children:' 10.1" Touchscreen'}),f.jsx("li",{children:" iVend Guaranteed Delivery"}),f.jsx("li",{children:" UVend Sanitization"}),f.jsx("li",{children:" 48 Product Selections"})]})]}),f.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:f.jsx("span",{className:"text-6xl",children:""})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Drink Machines"}),f.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'Cold Drink Elevator Machine with 36 selections and 216 items. Features pre-cool storage area and 7" touchscreen.'}),f.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[f.jsx("li",{children:' 7" Touchscreen'}),f.jsx("li",{children:" Pre-Cool Storage"}),f.jsx("li",{children:" UVend Sanitization"}),f.jsx("li",{children:" 36 Product Selections"})]})]}),f.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:f.jsx("span",{className:"text-6xl",children:""})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Combo Machines"}),f.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'MarketOne 5 Wide Combo offering both snacks and drinks. Features anti-fog heated glass and 7" touchscreen.'}),f.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[f.jsx("li",{children:' 7" Touchscreen'}),f.jsx("li",{children:" Snacks & Drinks"}),f.jsx("li",{children:" Anti-Fog Heated Glass"}),f.jsx("li",{children:" 38 Product Selections"})]})]}),f.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:f.jsx("span",{className:"text-6xl",children:""})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Coffee Machines"}),f.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"MarketOne Coffee Machine with 34 combo options including coffee, tea, cappuccino, and espresso. Fresh brew technology."}),f.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[f.jsx("li",{children:" Fresh Brew Technology"}),f.jsx("li",{children:" 34 Beverage Options"}),f.jsx("li",{children:" UVend Sanitization"}),f.jsx("li",{children:" Hot Chocolate & Tea"})]})]}),f.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:f.jsx("span",{className:"text-6xl",children:""})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ice Cream Machines"}),f.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'Specialized ice cream vending with 36 selections. Features anti-fog heated glass and 7" touchscreen for easy selection.'}),f.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[f.jsx("li",{children:' 7" Touchscreen'}),f.jsx("li",{children:" 36 Ice Cream Selections"}),f.jsx("li",{children:" Anti-Fog Heated Glass"}),f.jsx("li",{children:" Temperature Controlled"})]})]}),f.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:f.jsx("span",{className:"text-6xl",children:""})}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Specialty Machines"}),f.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Fitness centers, laundromats, car washes, and more. We have specialized machines for unique business needs."}),f.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[f.jsx("li",{children:" Fitness & Wellness Products"}),f.jsx("li",{children:" Laundry Supplies"}),f.jsx("li",{children:" School Supplies"}),f.jsx("li",{children:" PPE Options"})]})]})]})]})}),f.jsx("section",{id:"products",className:"py-20 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"What We Offer"}),f.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"A wide selection of popular snacks and beverages to keep your customers satisfied."}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20",children:[f.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[f.jsx("span",{className:"text-3xl mr-3",children:""})," Beverages"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Sodas & Soft Drinks"}),f.jsxs("ul",{className:"text-gray-300 space-y-1",children:[f.jsx("li",{children:" Coca-Cola & Diet Coke"}),f.jsx("li",{children:" Pepsi & Diet Pepsi"}),f.jsx("li",{children:" Dr. Pepper"}),f.jsx("li",{children:" Mountain Dew"}),f.jsx("li",{children:" Sprite & Fanta"}),f.jsx("li",{children:" 7-Up & Root Beer"})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Energy & Sports"}),f.jsxs("ul",{className:"text-gray-300 space-y-1",children:[f.jsx("li",{children:" Monster Energy"}),f.jsx("li",{children:" Bang Energy"}),f.jsx("li",{children:" Gatorade"}),f.jsx("li",{children:" Powerade"}),f.jsx("li",{children:" Prime"})]}),f.jsx("p",{className:"font-semibold text-blue-300 mb-2 mt-4",children:"Other"}),f.jsxs("ul",{className:"text-gray-300 space-y-1",children:[f.jsx("li",{children:" Water & Smart Water"}),f.jsx("li",{children:" Starbucks Frappuccino"}),f.jsx("li",{children:" Arizona Tea"}),f.jsx("li",{children:" Gold Peak Tea"})]})]})]})]}),f.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20",children:[f.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[f.jsx("span",{className:"text-3xl mr-3",children:""})," Snacks"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Chips & Savory"}),f.jsxs("ul",{className:"text-gray-300 space-y-1",children:[f.jsx("li",{children:" Doritos"}),f.jsx("li",{children:" Ruffles"}),f.jsx("li",{children:" Takis"}),f.jsx("li",{children:" Sun Chips"}),f.jsx("li",{children:" Pretzels"}),f.jsx("li",{children:" Goldfish"}),f.jsx("li",{children:" Skinny Pop"})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Candy & Sweets"}),f.jsxs("ul",{className:"text-gray-300 space-y-1",children:[f.jsx("li",{children:" Snickers & Twix"}),f.jsx("li",{children:" M&M's & Skittles"}),f.jsx("li",{children:" Reese's"}),f.jsx("li",{children:" KitKat"}),f.jsx("li",{children:" Starburst"}),f.jsx("li",{children:" Sour Patch Kids"})]}),f.jsx("p",{className:"font-semibold text-blue-300 mb-2 mt-4",children:"Healthy Options"}),f.jsxs("ul",{className:"text-gray-300 space-y-1",children:[f.jsx("li",{children:" Nature Valley Bars"}),f.jsx("li",{children:" Kind Bars"}),f.jsx("li",{children:" Rice Krispies"})]})]})]})]})]}),f.jsx("p",{className:"text-center text-gray-400 mt-8",children:"*Prices range from $1.00 - $3.00. Product selection can be customized based on your preferences."})]})}),f.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-600 to-cyan-600",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Get Started?"}),f.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join local businesses who have enhanced their customer experience with InnoVend's convenient vending solutions."}),f.jsx("button",{onClick:()=>g(!0),className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 rounded-lg font-semibold text-lg transition transform hover:scale-105 shadow-lg",children:"Request Services Today"})]})}),f.jsx("footer",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-slate-900 border-t border-blue-500/20",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-lg flex items-center justify-center font-bold text-slate-900",children:"IV"}),f.jsx("span",{className:"text-xl font-bold",children:"InnoVend LLC"})]}),f.jsx("p",{className:"text-gray-400",children:"Innovating Convenience, One Vend at a Time"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold mb-4",children:"Contact Us"}),f.jsxs("div",{className:"space-y-2 text-gray-400",children:[f.jsxs("p",{className:"flex items-center",children:[f.jsx(RN,{className:"w-4 h-4 mr-2"}),f.jsx("a",{href:"mailto:hello@innovend.net",className:"hover:text-blue-400 transition",children:"hello@innovend.net"})]}),f.jsxs("p",{className:"flex items-center",children:[f.jsx(ub,{className:"w-4 h-4 mr-2"})," North Potomac, MD 20878"]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold mb-4",children:"Quick Links"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{onClick:()=>g(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Request Services"}),f.jsx("button",{onClick:()=>x(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Terms & Conditions"})]})]})]}),f.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-gray-400",children:f.jsx("p",{children:" 2026 InnoVend LLC. All Rights Reserved."})})]})})]}),D==="dashboard"&&r&&f.jsx(Wl,{}),D==="admin"&&d&&f.jsx(Va,{}),p&&f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"InnoVend Services Request"}),f.jsx("button",{onClick:()=>{g(!1),G(1)},className:"text-gray-400 hover:text-white",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 overflow-y-auto",children:[f.jsx("div",{className:"flex justify-between mb-8",children:[1,2,3,4].map(te=>f.jsxs("div",{className:"flex items-center flex-1",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${V>=te?"bg-blue-500 text-white":"bg-gray-700 text-gray-400"}`,children:V>te?f.jsx(lh,{className:"w-5 h-5"}):te}),te<4&&f.jsx("div",{className:`flex-1 h-1 mx-2 ${V>te?"bg-blue-500":"bg-gray-700"}`})]},te))}),V===1&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Welcome!"}),f.jsx("p",{className:"text-gray-300 mb-4",children:"Thank you for your interest in requesting our services for your business. Complete the following form accurately and we will get back to you soon regarding placing a machine at your business location."}),f.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 mb-4",children:[f.jsx("p",{className:"text-sm text-gray-300 mb-2",children:f.jsx("strong",{children:"A few things to note:"})}),f.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside",children:[f.jsx("li",{children:"The purpose of this form is for InnoVend LLC to place a machine at your facility/location. This will be of no cost to you, aside from WiFi connectivity and power costs."}),f.jsx("li",{children:"This form does not guarantee that a Vending Machine will be placed at your location. We will be in touch with you shortly regarding your services request."})]})]}),f.jsxs("p",{className:"text-gray-300 mb-4",children:["Again, thank you for your interest in our services and we look forward to speaking with you. If you have any questions, please contact us at ",f.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:underline",children:"hello@innovend.net"})," and we will get back to you as soon as we can."]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),f.jsx("input",{type:"email",value:U.email,onChange:te=>Ye("email",te.target.value),onBlur:()=>ci("email"),className:`w-full px-4 py-3 bg-slate-800 border rounded-lg focus:outline-none transition ${Ie.email&&Ke.email?"border-red-500 focus:border-red-500":Ie.email&&!Ke.email?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"your.email@example.com"}),Ie.email&&Ke.email&&f.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[f.jsx(hs,{className:"w-4 h-4"}),f.jsx("span",{children:Ke.email})]}),Ie.email&&!Ke.email&&U.email&&f.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[f.jsx(lh,{className:"w-4 h-4"}),f.jsx("span",{children:"Valid email address"})]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("input",{type:"checkbox",checked:U.termsAgreed,onChange:te=>Ye("termsAgreed",te.target.checked),className:"mt-1 mr-3"}),f.jsxs("label",{className:"text-sm text-gray-300",children:["By continuing with this form, I confirm that I have read, understood, and agree to the"," ",f.jsx("button",{onClick:()=>x(!0),className:"text-blue-400 hover:underline",children:"Terms and Conditions"}),"."]})]}),f.jsx("button",{onClick:()=>G(2),disabled:!hi,className:`w-full py-3 rounded-lg font-semibold transition ${hi?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Next"})]}),V===2&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Personal Information"}),f.jsx("p",{className:"text-gray-300 mb-4",children:"This section is for your personal information so we can efficiently contact you in the future."})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),f.jsx("input",{type:"text",value:U.firstName,onChange:te=>Ye("firstName",te.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),f.jsx("input",{type:"text",value:U.lastName,onChange:te=>Ye("lastName",te.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Legal Name of Your Business *"}),f.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This should be the official legal entity name your business is filed under."}),f.jsx("input",{type:"text",value:U.businessName,onChange:te=>Ye("businessName",te.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),f.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Message and data rates may apply."}),f.jsx("input",{type:"tel",value:U.phone,onChange:te=>Ye("phone",te.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"(555) 123-4567"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Method of Contact *"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"radio",value:"Email",checked:U.contactMethod==="Email",onChange:te=>Ye("contactMethod",te.target.value),className:"mr-2"}),"Email"]}),f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"radio",value:"Phone",checked:U.contactMethod==="Phone",onChange:te=>Ye("contactMethod",te.target.value),className:"mr-2"}),"Phone"]}),f.jsxs("label",{className:"flex items-center",children:[f.jsx("input",{type:"radio",value:"Other",checked:U.contactMethod==="Other",onChange:te=>Ye("contactMethod",te.target.value),className:"mr-2"}),"Other"]})]})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:()=>G(1),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),f.jsx("button",{onClick:()=>G(3),disabled:!Pn,className:`flex-1 py-3 rounded-lg font-semibold transition ${Pn?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Next"})]})]}),V===3&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Additional Information"}),f.jsx("p",{className:"text-gray-300 mb-4",children:"This section is just some additional information we would like (Optional)."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"How did you hear about us?"}),f.jsx("input",{type:"text",value:U.hearAbout,onChange:te=>Ye("hearAbout",te.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"e.g., Google search, referral, social media"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Do you have a business or person referral?"}),f.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"If so, type it below. Otherwise, leave blank."}),f.jsx("input",{type:"text",value:U.referral,onChange:te=>Ye("referral",te.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Name of person or business"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Would you like to share any additional information?"}),f.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"If so, type it below. Otherwise, leave blank."}),f.jsx("textarea",{value:U.additionalInfo,onChange:te=>Ye("additionalInfo",te.target.value),rows:4,className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Any additional details about your location, business hours, customer demographics, etc."})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:()=>G(2),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),f.jsx("button",{onClick:()=>G(4),className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Next"})]})]}),V===4&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Submission"}),f.jsx("p",{className:"text-gray-300 mb-4",children:"Thank you so much for your continued interest in our services! InnoVend LLC will be in touch with you soon, and we look forward to your business."}),f.jsxs("p",{className:"text-gray-300 mb-4",children:["When you are ready, please click the Submit button below to submit your responses to us. If you have any questions, feel free to email us at"," ",f.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:underline",children:"hello@innovend.net"})," and we will get back to you as soon as we can."]})]}),f.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4",children:[f.jsx("p",{className:"text-sm font-medium mb-2",children:"Review Your Information:"}),f.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Email:"})," ",U.email]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Name:"})," ",U.firstName," ",U.lastName]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Business:"})," ",U.businessName]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Phone:"})," ",U.phone]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Preferred Contact:"})," ",U.contactMethod]})]})]}),f.jsxs("div",{className:"flex items-start",children:[f.jsx("input",{type:"checkbox",checked:U.finalTermsAgreed,onChange:te=>Ye("finalTermsAgreed",te.target.checked),className:"mt-1 mr-3"}),f.jsxs("label",{className:"text-sm text-gray-300",children:["By submitting the form, I confirm that I have read, understood, and agree to the"," ",f.jsx("button",{onClick:()=>x(!0),className:"text-blue-400 hover:underline",children:"Terms and Conditions"}),". *"]})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("button",{onClick:()=>G(3),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),f.jsx("button",{onClick:di,disabled:!Gi,className:`flex-1 py-3 rounded-lg font-semibold transition ${Gi?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Submit Request"})]})]})]})]})}),y&&f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Terms and Conditions for Service Request Form"}),f.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[f.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Last Updated: December 3, 2024"}),f.jsxs("div",{className:"space-y-6 text-gray-300",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"1. Purpose of Information Collection"}),f.jsx("p",{children:"The information collected through this form will be used solely to evaluate and process your service request. By submitting this form, you acknowledge and consent to our use of the provided information for this purpose."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"2. Privacy Policy"}),f.jsx("p",{children:"We respect your privacy. Any personal or contact information submitted through this form will be securely stored and used only to fulfill your request. Your data will not be shared with any third parties without your explicit consent, except as required by law."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"3. Fees and Costs"}),f.jsx("p",{children:"If applicable, fees for services will be clearly communicated to you after your request has been reviewed. Submission of this form does not create a binding contract or obligation to pay unless explicitly agreed upon in writing."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"4. Service Limitations"}),f.jsx("p",{children:"While we strive to fulfill all requests to the best of our ability, submission of this form does not guarantee service. We reserve the right to decline any request that falls outside our scope of offerings or for any reason."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"5. Liability"}),f.jsx("p",{children:"We are not liable for delays, interruptions, or issues arising from unforeseen circumstances beyond our control. Any costs, damages, or inconveniences incurred as a result of using our services are limited to the extent permitted by law."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"6. Consent to Contact"}),f.jsx("p",{children:"By submitting this form, you agree to be contacted using the email or phone number provided. Standard message and data rates may apply for SMS or calls."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"7. Modifications"}),f.jsx("p",{children:"We reserve the right to update or modify these terms and conditions at any time. Changes will be effective immediately upon posting to the form or via direct communication."})]})]})]}),f.jsx("div",{className:"p-6 border-t border-gray-700 flex-shrink-0",children:f.jsx("button",{onClick:()=>x(!1),className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})}),ie&&f.jsx($r,{}),re&&f.jsx(Dt,{}),Ve&&f.jsx(Ut,{}),C&&f.jsx(ks,{}),R&&f.jsx(Xr,{onClose:()=>xt(!1),onSuccess:()=>{}}),it&&f.jsx(Ms,{message:O,onClose:()=>lt(!1)})]});function $r(){const{signIn:te}=_h(),[W,ae]=k.useState({email:"",password:""}),[le,me]=k.useState(""),[De,Ue]=k.useState(!1),[ve,$e]=k.useState(null),[Ee,Te]=k.useState(0),pe=W.email&&W.password&&!ve?.isLocked,we=async xe=>{if(!(!xe||!ys(xe)))try{const Xe=$n(),Tt=await ds(Xe,"checkAccountLockout")({email:xe});Tt.data.isLocked?($e(Tt.data),me(`Account locked due to too many failed attempts. Locked for ${Tt.data.hoursRemaining} more hours. Email hello@innovend.net for immediate unlock.`)):($e(null),Te(Tt.data.attemptCount||0))}catch(Xe){console.error("Error checking lockout:",Xe)}},be=async()=>{if(me(""),Ue(!0),await we(W.email),ve?.isLocked){Ue(!1);return}try{await te(W.email,W.password);try{const xe=$n();await ds(xe,"resetFailedLoginAttempts")({email:W.email})}catch(xe){console.error("Failed to reset attempts:",xe)}se(!1),P("dashboard"),window.scrollTo(0,0)}catch(xe){try{const Xe=$n(),Tt=await ds(Xe,"recordFailedLogin")({email:W.email});if(Tt.data.isLocked)$e(Tt.data),me('Account locked after 5 failed attempts. Locked for 48 hours. Email hello@innovend.net with subject "Account Unlock Request" for immediate assistance.');else{Te(Tt.data.attemptCount);const de=Tt.data.remainingAttempts;xe.code==="auth/user-not-found"?me("No account found with this email. Would you like to sign up?"):xe.code==="auth/wrong-password"||xe.code==="auth/invalid-credential"?me(`Incorrect password. ${de} ${de===1?"attempt":"attempts"} remaining before account lockout.`):xe.code==="auth/invalid-email"?me("Please enter a valid email address."):xe.code==="auth/network-request-failed"?me("Network error. Please check your connection."):me(`Login failed. ${de} ${de===1?"attempt":"attempts"} remaining.`)}}catch(Xe){console.error("Failed to record attempt:",Xe),me("Login failed. Please try again.")}}finally{Ue(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Log In to InnoVend"}),f.jsx("button",{onClick:()=>se(!1),className:"text-gray-400 hover:text-white",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[ve?.isLocked&&f.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx(km,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold",children:"Account Locked"}),f.jsx("p",{className:"mt-1",children:le})]})]})}),!ve?.isLocked&&Ee>0&&Ee<5&&f.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 text-yellow-400 text-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{children:["Failed login attempts: ",Ee,"/5"]}),f.jsxs("span",{className:"font-semibold",children:[5-Ee," remaining"]})]})}),le&&!ve?.isLocked&&f.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:le}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),f.jsx("input",{type:"email",value:W.email,onChange:xe=>ae({...W,email:xe.target.value}),onKeyPress:xe=>xe.key==="Enter"&&pe&&be(),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"your.email@example.com",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Password"}),f.jsx("button",{onClick:()=>{se(!1),A(!0)},className:"text-xs text-blue-400 hover:text-blue-300",children:"Forgot Password?"})]}),f.jsx("input",{type:"password",value:W.password,onChange:xe=>ae({...W,password:xe.target.value}),onKeyPress:xe=>xe.key==="Enter"&&pe&&be(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:""})]}),f.jsx("button",{onClick:be,disabled:!pe||De||ve?.isLocked,className:`w-full py-3 rounded-lg font-semibold transition ${pe&&!De&&!ve?.isLocked?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:ve?.isLocked?"Account Locked":De?"Logging in...":"Log In"}),f.jsx("div",{className:"text-center space-y-2 text-sm",children:f.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[f.jsx("span",{children:"Don't have an account?"}),f.jsx("button",{onClick:()=>{se(!1),Ae(!0)},className:"text-cyan-400 hover:underline font-medium",children:"Sign Up"})]})})]})]})})}function Dt(){const{signIn:te}=_h(),[W,ae]=k.useState({firstName:"",lastName:"",email:"",phone:"",username:"",password:"",confirmPassword:"",clientCode:""}),[le,me]=k.useState(""),[De,Ue]=k.useState(!1),[ve,$e]=k.useState(null),[Ee,Te]=k.useState({});k.useEffect(()=>{W.confirmPassword?$e(W.password===W.confirmPassword):$e(null)},[W.password,W.confirmPassword]);const pe=de=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(de),we=de=>de.replace(/\D/g,"").length===10,be=de=>de.length>=8&&/[A-Z]/.test(de)&&/[a-z]/.test(de)&&/[0-9]/.test(de),xe=de=>{const Pe=de.replace(/\D/g,"").slice(0,10);ae({...W,phone:Pe})},Xe=()=>{const de={};return W.firstName.trim()||(de.firstName="First name is required"),W.lastName.trim()||(de.lastName="Last name is required"),W.email.trim()?pe(W.email)||(de.email="Please enter a valid email address"):de.email="Email is required",W.phone?we(W.phone)||(de.phone="Must be exactly 10 digits"):de.phone="Phone number is required",W.username.trim()||(de.username="Username is required"),W.password?be(W.password)||(de.password="Password must be at least 8 characters with uppercase, lowercase, and number"):de.password="Password is required",W.confirmPassword?W.password!==W.confirmPassword&&(de.confirmPassword="Passwords do not match"):de.confirmPassword="Please confirm your password",W.clientCode.trim()||(de.clientCode="Client code is required"),Te(de),Object.keys(de).length===0},St=W.firstName&&W.lastName&&W.email&&W.phone&&W.username&&W.password&&W.confirmPassword&&W.clientCode&&ve,Tt=async()=>{if(Xe()){me(""),Ue(!0);try{const de=$n();(await ds(de,"validateAndCreateAccount")({email:W.email,password:W.password,firstName:W.firstName,lastName:W.lastName,phone:W.phone,username:W.username,clientCode:W.clientCode})).data.success&&(await te(W.email,W.password),Ae(!1),P("dashboard"),window.scrollTo(0,0))}catch(de){console.error("Signup error:",de),de.code==="functions/not-found"?me("Invalid client code. Please check your code and try again."):de.code==="functions/already-exists"?me(de.message||"This client code has already been used or email is already registered."):de.code==="functions/invalid-argument"?me(de.message||"Your details do not match the client code on file. Please verify and try again."):de.code==="functions/failed-precondition"?me(de.message||"This client code has expired. Please contact support."):de.code==="functions/unauthenticated"?me("Authentication error. Please try again."):me(de.message||"Signup failed. Please try again or contact support.")}finally{Ue(!1)}}};return f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Create Your Account"}),f.jsx("button",{onClick:()=>Ae(!1),className:"text-gray-400 hover:text-white",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[le&&f.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:le}),f.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 text-sm text-gray-300",children:[f.jsx("p",{className:"font-semibold mb-2",children:"Before you start:"}),f.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[f.jsx("li",{children:"You must have a valid Client Code to sign up"}),f.jsx("li",{children:"Your details must match the information on file"}),f.jsx("li",{children:"Client Codes are one-time use only"})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),f.jsx("input",{type:"text",value:W.firstName,onChange:de=>ae({...W,firstName:de.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${Ee.firstName?"border-red-500":"border-gray-700"}`,placeholder:"John"}),Ee.firstName&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:Ee.firstName})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),f.jsx("input",{type:"text",value:W.lastName,onChange:de=>ae({...W,lastName:de.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${Ee.lastName?"border-red-500":"border-gray-700"}`,placeholder:"Doe"}),Ee.lastName&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:Ee.lastName})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),f.jsx("input",{type:"email",value:W.email,onChange:de=>ae({...W,email:de.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${Ee.email?"border-red-500":"border-gray-700"}`,placeholder:"your.email@example.com"}),Ee.email&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:Ee.email})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),f.jsx("input",{type:"tel",value:W.phone,onChange:de=>xe(de.target.value),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${Ee.phone?"border-red-500":"border-gray-700"}`,placeholder:"5551234567",maxLength:10}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"10 digits only (no dashes or spaces)"}),Ee.phone&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:Ee.phone})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username *"}),f.jsx("input",{type:"text",value:W.username,onChange:de=>ae({...W,username:de.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${Ee.username?"border-red-500":"border-gray-700"}`,placeholder:"johndoe"}),Ee.username&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:Ee.username})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password *"}),f.jsx("input",{type:"password",value:W.password,onChange:de=>ae({...W,password:de.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${Ee.password?"border-red-500":"border-gray-700"}`,placeholder:""}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Must be at least 8 characters with uppercase, lowercase, and number"}),Ee.password&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:Ee.password})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password *"}),f.jsx("input",{type:"password",value:W.confirmPassword,onChange:de=>ae({...W,confirmPassword:de.target.value}),onPaste:de=>de.preventDefault(),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${Ee.confirmPassword?"border-red-500":"border-gray-700"}`,placeholder:""}),ve!==null&&f.jsx("div",{className:`flex items-center space-x-2 mt-2 text-sm ${ve?"text-green-400":"text-red-400"}`,children:ve?f.jsxs(f.Fragment,{children:[f.jsx(lh,{className:"w-4 h-4"}),f.jsx("span",{children:"Passwords match"})]}):f.jsxs(f.Fragment,{children:[f.jsx(hs,{className:"w-4 h-4"}),f.jsx("span",{children:"Passwords don't match"})]})}),Ee.confirmPassword&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:Ee.confirmPassword})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client Code *"}),f.jsx("input",{type:"text",value:W.clientCode,onChange:de=>ae({...W,clientCode:de.target.value.toUpperCase()}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 font-mono ${Ee.clientCode?"border-red-500":"border-gray-700"}`,placeholder:"ABC123XYZ",style:{textTransform:"uppercase"}}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the unique client code provided to you by InnoVend"}),Ee.clientCode&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:Ee.clientCode})]}),f.jsx("button",{onClick:Tt,disabled:!St||De,className:`w-full py-3 rounded-lg font-semibold transition ${St&&!De?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:De?"Creating Account...":"Create Account"}),f.jsx("div",{className:"text-center text-sm",children:f.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[f.jsx("span",{children:"Already have an account?"}),f.jsx("button",{onClick:()=>{Ae(!1),se(!0)},className:"text-cyan-400 hover:underline font-medium",children:"Log In"})]})})]})]})})}function Ut(){const{signIn:te,signOut:W}=_h(),[ae,le]=k.useState({email:"",password:""}),[me,De]=k.useState(""),[Ue,ve]=k.useState(""),[$e,Ee]=k.useState(!1),[Te,pe]=k.useState(1),[we,be]=k.useState(""),xe=ae.email&&ae.password,Xe=me.length===6,St=()=>{Oe(!1),pe(1),le({email:"",password:""}),De(""),ve(""),e.pathname==="/admin-access-secure-portal"&&i("/")},Tt=async()=>{ve(""),Ee(!0);try{await te(ae.email,ae.password),await W();const Pe=$n(),ue=await ds(Pe,"sendAdmin2FACode")({email:ae.email});be(ae.email),pe(2)}catch(Pe){Pe.code==="auth/user-not-found"?ve("No admin account found with this email."):Pe.code==="auth/wrong-password"||Pe.code==="auth/invalid-credential"?ve("Incorrect password."):Pe.message?.includes("Not an admin account")?ve("This account does not have admin privileges."):ve("Admin login failed. Please try again.")}finally{Ee(!1)}},de=async()=>{ve(""),Ee(!0);try{const Pe=$n();await ds(Pe,"verifyAdmin2FACode")({email:we,code:me}),await te(we,ae.password),Oe(!1),i("/"),P("admin"),window.scrollTo(0,0)}catch(Pe){Pe.message?.includes("Invalid verification code")?ve("Invalid verification code. Please try again."):Pe.message?.includes("Code has expired")?(ve("Verification code has expired. Please request a new one."),pe(1)):Pe.message?.includes("already been used")?(ve("This code has already been used. Please request a new one."),pe(1)):ve("Verification failed. Please try again.")}finally{Ee(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Admin Login"}),f.jsx("button",{onClick:St,className:"text-gray-400 hover:text-white","aria-label":"Close",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[f.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 text-yellow-400 text-sm",children:" Admin access only. 2FA required. Unauthorized attempts logged."}),Ue&&f.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:Ue}),Te===1?f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Email"}),f.jsx("input",{type:"email",value:ae.email,onChange:Pe=>le({...ae,email:Pe.target.value}),onKeyPress:Pe=>Pe.key==="Enter"&&xe&&Tt(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Password"}),f.jsx("input",{type:"password",value:ae.password,onChange:Pe=>le({...ae,password:Pe.target.value}),onKeyPress:Pe=>Pe.key==="Enter"&&xe&&Tt(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]}),f.jsx("button",{onClick:Tt,disabled:!xe||$e,className:`w-full py-3 rounded-lg font-semibold transition ${xe&&!$e?"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:$e?"Verifying...":"Send 2FA Code"})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 text-blue-400 text-sm",children:" A 6-digit verification code has been sent to your email. Please check your inbox (and spam folder)."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"6-Digit Verification Code"}),f.jsx("input",{type:"text",value:me,onChange:Pe=>{const Qe=Pe.target.value.replace(/\D/g,"");Qe.length<=6&&De(Qe)},onKeyPress:Pe=>Pe.key==="Enter"&&Xe&&de(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 text-center text-2xl tracking-widest font-mono",placeholder:"000000",maxLength:6,autoFocus:!0})]}),f.jsx("button",{onClick:de,disabled:!Xe||$e,className:`w-full py-3 rounded-lg font-semibold transition ${Xe&&!$e?"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:$e?"Verifying...":"Verify & Login"}),f.jsx("button",{onClick:()=>{pe(1),De(""),ve("")},className:"w-full text-sm text-gray-400 hover:text-white",children:" Request New Code"})]}),f.jsx("div",{className:"text-center text-sm",children:f.jsx("button",{onClick:St,className:"text-gray-500 hover:text-gray-300",children:" Back to Home"})})]})]})})}function ks(){const[te,W]=k.useState(1),[ae,le]=k.useState(""),[me,De]=k.useState(""),[Ue,ve]=k.useState(""),[$e,Ee]=k.useState(""),[Te,pe]=k.useState(""),[we,be]=k.useState(""),[xe,Xe]=k.useState(!1),St=ae&&ys(ae),Tt=me.length===6&&Ue.length>=8&&Ue===$e,de=async()=>{pe(""),be(""),Xe(!0);try{const Qe=$n();await ds(Qe,"sendPasswordResetEmail")({email:ae}),be("If an account exists with this email, a reset code has been sent."),W(2)}catch{pe("Failed to send reset email. Please try again.")}finally{Xe(!1)}},Pe=async()=>{pe(""),be(""),Xe(!0);try{const Qe=$n();await ds(Qe,"resetPasswordWithCode")({email:ae,resetCode:me,newPassword:Ue}),be("Password reset successful! You can now log in with your new password."),setTimeout(()=>{A(!1),se(!0)},2e3)}catch(Qe){Qe.message?.includes("Invalid reset code")?pe("Invalid reset code. Please try again."):Qe.message?.includes("expired")?(pe("Reset code has expired. Please request a new one."),W(1)):pe("Failed to reset password. Please try again.")}finally{Xe(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Reset Password"}),f.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-white","aria-label":"Close",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("div",{className:"p-6 space-y-6",children:[Te&&f.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:Te}),we&&f.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4 text-green-400 text-sm",children:we}),te===1?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-gray-300 text-sm",children:"Enter your email address and we'll send you a verification code to reset your password."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),f.jsx("input",{type:"email",value:ae,onChange:Qe=>le(Qe.target.value),onKeyPress:Qe=>Qe.key==="Enter"&&St&&de(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"your.email@example.com",autoFocus:!0})]}),f.jsx("button",{onClick:de,disabled:!St||xe,className:`w-full py-3 rounded-lg font-semibold transition ${St&&!xe?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:xe?"Sending...":"Send Reset Code"})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 text-blue-400 text-sm",children:" Check your email for the 6-digit reset code."}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"6-Digit Reset Code"}),f.jsx("input",{type:"text",value:me,onChange:Qe=>{const ue=Qe.target.value.replace(/\D/g,"");ue.length<=6&&De(ue)},className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 text-center text-2xl tracking-widest font-mono",placeholder:"000000",maxLength:6,autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"New Password"}),f.jsx("input",{type:"password",value:Ue,onChange:Qe=>ve(Qe.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"At least 8 characters"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm New Password"}),f.jsx("input",{type:"password",value:$e,onChange:Qe=>Ee(Qe.target.value),onKeyPress:Qe=>Qe.key==="Enter"&&Tt&&Pe(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Re-enter password"}),$e&&Ue!==$e&&f.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Passwords don't match"})]}),f.jsx("button",{onClick:Pe,disabled:!Tt||xe,className:`w-full py-3 rounded-lg font-semibold transition ${Tt&&!xe?"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:xe?"Resetting...":"Reset Password"}),f.jsx("button",{onClick:()=>{W(1),De(""),ve(""),Ee(""),pe("")},className:"w-full text-sm text-gray-400 hover:text-white",children:" Request New Code"})]}),f.jsx("div",{className:"text-center text-sm",children:f.jsx("button",{onClick:()=>{A(!1),se(!0)},className:"text-gray-500 hover:text-gray-300",children:" Back to Login"})})]})]})})}function Wl(){const[te,W]=k.useState(null),[ae,le]=k.useState(!0);return k.useEffect(()=>{(async()=>{if(!r?.machineId){le(!1);return}try{const De=await qT(kl(fs,"machines",r.machineId));De.exists()&&W(De.data())}catch(De){console.error("Error fetching machine data:",De)}finally{le(!1)}})()},[r?.machineId]),ae?f.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"inline-block w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Loading your dashboard..."})]})}):f.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome back, ",r?.firstName,"!"]}),f.jsxs("p",{className:"text-gray-400",children:[r?.businessName,"  Member since"," ",r?.createdAt?new Date(r.createdAt.toDate()).toLocaleDateString():"N/A"]})]}),f.jsxs("button",{onClick:()=>xt(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg",children:[f.jsx(kN,{className:"w-4 h-4"}),f.jsx("span",{children:"Edit Profile"})]})]}),r?.machineId?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Sales"}),f.jsx(oh,{className:"w-5 h-5 text-green-400"})]}),f.jsxs("p",{className:"text-3xl font-bold",children:["$",te?.stats?.totalSales?.toFixed(2)||"0.00"]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),f.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Transactions"}),f.jsx(ch,{className:"w-5 h-5 text-blue-400"})]}),f.jsx("p",{className:"text-3xl font-bold",children:te?.stats?.totalTransactions||0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),f.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Status"}),f.jsx(Zo,{className:"w-5 h-5 text-cyan-400"})]}),f.jsx("p",{className:"text-2xl font-bold capitalize",children:te?.status||"Active"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current"})]}),f.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Machine Type"}),f.jsx(uh,{className:"w-5 h-5 text-purple-400"})]}),f.jsx("p",{className:"text-2xl font-bold capitalize",children:te?.machineType||"Combo"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type"})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Your Vending Machine"}),te?.machinePhotoUrl?f.jsx("img",{src:te.machinePhotoUrl,alt:"Vending machine",className:"w-full h-64 object-cover rounded-lg mb-4"}):f.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg flex items-center justify-center mb-4",children:f.jsx("span",{className:"text-6xl",children:""})}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Location:"})," ",te?.location?.address||r?.businessName]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Installed:"})," ",te?.installDate?new Date(te.installDate.toDate()).toLocaleDateString():"N/A"]})]})]}),f.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Contract Information"}),te?.contractPdfUrl?f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:f.jsx("span",{className:"text-2xl",children:""})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold",children:"Signed Contract"}),f.jsx("p",{className:"text-xs text-gray-400",children:"PDF Document"})]})]}),f.jsx("a",{href:te.contractPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg text-sm transition",children:"View PDF"})]})}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-400",children:"Contract End Date"}),f.jsx("p",{className:"font-semibold",children:te?.contractEndDate?new Date(te.contractEndDate.toDate()).toLocaleDateString():"N/A"})]}),te?.contractEndDate&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-400",children:"Time Remaining"}),f.jsxs("p",{className:"font-semibold text-cyan-400",children:[Math.max(0,Math.ceil((te.contractEndDate.toDate()-new Date)/(1e3*60*60*24)))," ","days"]})]})]})]}):f.jsx("div",{className:"text-center py-8 text-gray-400",children:f.jsx("p",{children:"Contract document will be available soon"})})]})]}),f.jsxs("div",{className:"mt-8 bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Recent Activity"}),f.jsx("div",{className:"text-center py-8 text-gray-400",children:f.jsx("p",{children:"Live stats and transaction history coming soon!"})})]})]}):f.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-xl p-8 text-center",children:[f.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Machine Assigned Yet"}),f.jsx("p",{className:"text-gray-300",children:"Your vending machine will be assigned soon. We'll notify you once it's ready!"})]})]})})}function Va(){const[te,W]=k.useState([]),[ae,le]=k.useState([]),[me,De]=k.useState([]),[Ue,ve]=k.useState([]),[$e,Ee]=k.useState([]),[Te,pe]=k.useState([]),[we,be]=k.useState(!0),[xe,Xe]=k.useState("users"),[St,Tt]=k.useState(!1),[de,Pe]=k.useState(!1);k.useEffect(()=>{Qe()},[]);const Qe=async()=>{try{const Ln=(await wl(Ta(fs,"users"))).docs.map(Ot=>({id:Ot.id,...Ot.data()}));W(Ln);const Jr=(await wl(Ta(fs,"clientCodes"))).docs.map(Ot=>({id:Ot.id,...Ot.data()}));le(Jr);const vs=(await wl(Ta(fs,"machines"))).docs.map(Ot=>({id:Ot.id,...Ot.data()}));De(vs);const Pa=Ym(Ta(fs,"serviceRequests"),Qm("submittedAt","desc"),$m(50)),Un=(await wl(Pa)).docs.map(Ot=>({id:Ot.id,...Ot.data()}));ve(Un);const jt=Ym(Ta(fs,"failedAdminLogins"),Qm("timestamp","desc"),$m(50)),Jn=(await wl(jt)).docs.map(Ot=>({id:Ot.id,...Ot.data()}));Ee(Jn);const Qi=Ym(Ta(fs,"passwordChanges"),Qm("timestamp","desc"),$m(50)),La=(await wl(Qi)).docs.map(Ot=>({id:Ot.id,...Ot.data()}));pe(La)}catch(ue){console.error("Error fetching admin data:",ue)}finally{be(!1)}};return we?f.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"inline-block w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Loading admin dashboard..."})]})}):f.jsxs("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Admin Dashboard"}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 p-6 rounded-xl border border-purple-400/30",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Users"}),f.jsx(ch,{className:"w-5 h-5 text-purple-400"})]}),f.jsx("p",{className:"text-3xl font-bold",children:te.length})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Active Machines"}),f.jsx(uh,{className:"w-5 h-5 text-blue-400"})]}),f.jsx("p",{className:"text-3xl font-bold",children:me.filter(ue=>ue.status==="active").length})]}),f.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-cyan-500/20 p-6 rounded-xl border border-green-400/30",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Client Codes"}),f.jsx(oh,{className:"w-5 h-5 text-green-400"})]}),f.jsxs("p",{className:"text-3xl font-bold",children:[ae.filter(ue=>!ue.used).length," available"]})]})]}),f.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-gray-700",children:[f.jsxs("button",{onClick:()=>Xe("users"),className:`px-6 py-3 font-semibold transition ${xe==="users"?"border-b-2 border-purple-400 text-purple-400":"text-gray-400 hover:text-white"}`,children:["Users (",te.length,")"]}),f.jsxs("button",{onClick:()=>Xe("codes"),className:`px-6 py-3 font-semibold transition ${xe==="codes"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-white"}`,children:["Client Codes (",ae.length,")"]}),f.jsxs("button",{onClick:()=>Xe("machines"),className:`px-6 py-3 font-semibold transition ${xe==="machines"?"border-b-2 border-cyan-400 text-cyan-400":"text-gray-400 hover:text-white"}`,children:["Machines (",me.length,")"]}),f.jsxs("button",{onClick:()=>Xe("requests"),className:`px-6 py-3 font-semibold transition ${xe==="requests"?"border-b-2 border-green-400 text-green-400":"text-gray-400 hover:text-white"}`,children:[f.jsx(AN,{className:"w-4 h-4 inline mr-2"}),"Service Requests (",Ue.length,")"]}),f.jsxs("button",{onClick:()=>Xe("failedLogins"),className:`px-6 py-3 font-semibold transition ${xe==="failedLogins"?"border-b-2 border-red-400 text-red-400":"text-gray-400 hover:text-white"}`,children:[f.jsx(km,{className:"w-4 h-4 inline mr-2"}),"Failed Logins (",$e.length,")"]}),f.jsxs("button",{onClick:()=>Xe("passwordChanges"),className:`px-6 py-3 font-semibold transition ${xe==="passwordChanges"?"border-b-2 border-yellow-400 text-yellow-400":"text-gray-400 hover:text-white"}`,children:[f.jsx(Zo,{className:"w-4 h-4 inline mr-2"}),"Password Changes (",Te.length,")"]})]}),xe==="users"&&f.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[f.jsx("div",{className:"p-6 border-b border-gray-700",children:f.jsx("h2",{className:"text-2xl font-bold",children:"User Accounts"})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-900",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Role"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Joined"})]})}),f.jsx("tbody",{children:te.length>0?te.map(ue=>f.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[f.jsx("td",{className:"px-6 py-4",children:f.jsxs("button",{onClick:()=>{Ne(ue),Q(!0)},className:"text-blue-400 hover:text-blue-300 hover:underline flex items-center space-x-1",children:[f.jsxs("span",{children:[ue.firstName," ",ue.lastName]}),f.jsx(PN,{className:"w-3 h-3"})]})}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:ue.email}),f.jsx("td",{className:"px-6 py-4 text-sm",children:ue.businessName||"N/A"}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ue.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:ue.role||"client"})}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:ue.createdAt?new Date(ue.createdAt.toDate()).toLocaleDateString():"N/A"})]},ue.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:"No users found"})})})]})})]}),xe==="codes"&&f.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Client Codes"}),f.jsxs("button",{onClick:()=>Tt(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition",children:[f.jsx(hb,{className:"w-5 h-5"}),f.jsx("span",{children:"Create New Code"})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-900",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Code"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Created"})]})}),f.jsx("tbody",{children:ae.length>0?ae.map(ue=>f.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[f.jsx("td",{className:"px-6 py-4 font-mono text-cyan-400",children:ue.code}),f.jsxs("td",{className:"px-6 py-4",children:[ue.firstName," ",ue.lastName]}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:ue.email}),f.jsx("td",{className:"px-6 py-4 text-sm",children:ue.businessName||"N/A"}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ue.used?"bg-gray-500/20 text-gray-400":"bg-green-500/20 text-green-400"}`,children:ue.used?"Used":"Available"})}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:ue.createdAt?new Date(ue.createdAt.toDate()).toLocaleDateString():"N/A"})]},ue.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No client codes found. Create one to get started."})})})]})})]}),xe==="machines"&&f.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Vending Machines"}),f.jsxs("button",{onClick:()=>Pe(!0),className:"flex items-center space-x-2 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition",children:[f.jsx(hb,{className:"w-5 h-5"}),f.jsx("span",{children:"Add Machine"})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-900",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Machine ID"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Type"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Location"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Client"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Installed"})]})}),f.jsx("tbody",{children:me.length>0?me.map(ue=>{const Ln=te.find(Ki=>Ki.id===ue.userId);return f.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[f.jsx("td",{className:"px-6 py-4 font-mono text-cyan-400",children:ue.machineId}),f.jsx("td",{className:"px-6 py-4 capitalize",children:ue.machineType}),f.jsx("td",{className:"px-6 py-4 text-sm",children:ue.location?.address||ue.businessName}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:Ln?`${Ln.firstName} ${Ln.lastName}`:"Unassigned"}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs capitalize ${ue.status==="active"?"bg-green-500/20 text-green-400":ue.status==="maintenance"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:ue.status||"active"})}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:ue.installDate?new Date(ue.installDate.toDate()).toLocaleDateString():"N/A"})]},ue.id)}):f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No machines found. Add one to get started."})})})]})})]}),xe==="requests"&&f.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-green-400/20 overflow-hidden",children:[f.jsx("div",{className:"p-6 border-b border-gray-700",children:f.jsx("h2",{className:"text-2xl font-bold",children:"Service Requests"})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-900",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Date"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Phone"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"})]})}),f.jsx("tbody",{children:Ue.length>0?Ue.map(ue=>f.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[f.jsx("td",{className:"px-6 py-4 text-sm",children:ue.submittedAt?new Date(ue.submittedAt.toDate()).toLocaleDateString():"N/A"}),f.jsxs("td",{className:"px-6 py-4",children:[ue.firstName," ",ue.lastName]}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:ue.email}),f.jsx("td",{className:"px-6 py-4 text-sm",children:ue.businessName}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:ue.phone}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ue.status==="pending"?"bg-yellow-500/20 text-yellow-400":ue.status==="contacted"?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"}`,children:ue.status||"pending"})})]},ue.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No service requests yet."})})})]})})]}),xe==="failedLogins"&&f.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-red-400/20 overflow-hidden",children:[f.jsx("div",{className:"p-6 border-b border-gray-700",children:f.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[f.jsx(km,{className:"w-6 h-6 text-red-400"}),f.jsx("span",{children:"Unauthorized Admin Login Attempts"})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-900",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Timestamp"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Reason"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"IP Address"})]})}),f.jsx("tbody",{children:$e.length>0?$e.map(ue=>f.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[f.jsx("td",{className:"px-6 py-4 text-sm",children:ue.timestamp?new Date(ue.timestamp.toDate()).toLocaleString():"N/A"}),f.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-300",children:ue.email}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-500/20 text-red-400",children:ue.reason})}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-400 font-mono",children:ue.ipAddress})]},ue.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"No failed login attempts recorded."})})})]})})]}),xe==="passwordChanges"&&f.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-yellow-400/20 overflow-hidden",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700",children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[f.jsx(Zo,{className:"w-6 h-6 text-yellow-400"}),f.jsx("span",{children:"Password Reset Activity"})]}),f.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Monitor all password changes for security purposes"})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"bg-slate-900",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Timestamp"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"User ID"}),f.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Method"})]})}),f.jsx("tbody",{children:Te.length>0?Te.map(ue=>f.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[f.jsx("td",{className:"px-6 py-4 text-sm",children:ue.timestamp?new Date(ue.timestamp.toDate()).toLocaleString():"N/A"}),f.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-300",children:ue.email}),f.jsxs("td",{className:"px-6 py-4 text-sm text-gray-400 font-mono",children:[ue.userId?.substring(0,8),"..."]}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ue.method==="reset-with-code"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:ue.method==="reset-with-code"?"Email Reset":ue.method})})]},ue.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"No password changes recorded yet."})})})]})})]})]}),Pt&&ce&&f.jsx(Wr,{user:ce,onClose:()=>{Q(!1),Ne(null)},onSuccess:Qe}),St&&f.jsx(cn,{onClose:()=>Tt(!1),onSuccess:Qe}),de&&f.jsx(fi,{onClose:()=>Pe(!1),onSuccess:Qe,users:te})]})}function cn({onClose:te,onSuccess:W}){const[ae,le]=k.useState({code:"",firstName:"",lastName:"",email:"",phone:"",businessName:""}),[me,De]=k.useState(!1),[Ue,ve]=k.useState(""),$e=()=>{const Te="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let pe="";for(let we=0;we<9;we++)pe+=Te.charAt(Math.floor(Math.random()*Te.length));le(we=>({...we,code:pe}))},Ee=async Te=>{Te.preventDefault(),ve(""),De(!0);try{const pe=$n();(await ds(pe,"createClientCode")({code:ae.code,firstName:ae.firstName,lastName:ae.lastName,email:ae.email,phone:ae.phone,businessName:ae.businessName})).data.success&&(W(),te())}catch(pe){console.error("Error creating client code:",pe),ve(pe.message||"Failed to create client code")}finally{De(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Create New Client Code"}),f.jsx("button",{onClick:te,className:"text-gray-400 hover:text-white transition",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:Ee,className:"p-6 space-y-4 overflow-y-auto",children:[Ue&&f.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:Ue}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client Code"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:ae.code,onChange:Te=>le(pe=>({...pe,code:Te.target.value.toUpperCase()})),className:"flex-1 bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none font-mono",placeholder:"XXXABC123",required:!0}),f.jsx("button",{type:"button",onClick:$e,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 rounded-lg transition",children:"Generate"})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),f.jsx("input",{type:"text",value:ae.firstName,onChange:Te=>le(pe=>({...pe,firstName:Te.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),f.jsx("input",{type:"text",value:ae.lastName,onChange:Te=>le(pe=>({...pe,lastName:Te.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),f.jsx("input",{type:"email",value:ae.email,onChange:Te=>le(pe=>({...pe,email:Te.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone (10 digits)"}),f.jsx("input",{type:"tel",value:ae.phone,onChange:Te=>le(pe=>({...pe,phone:Te.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",placeholder:"5551234567",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),f.jsx("input",{type:"text",value:ae.businessName,onChange:Te=>le(pe=>({...pe,businessName:Te.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none"})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:te,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg transition",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:me,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:me?"Creating...":"Create Client Code"})]})]})]})})}function fi({onClose:te,onSuccess:W,users:ae}){const[le,me]=k.useState({machineId:"",userId:"",businessName:"",machineType:"combo",address:"",city:"",state:"MD",zip:"",status:"active",installDate:new Date().toISOString().split("T")[0],contractEndDate:""}),[De,Ue]=k.useState(!1),[ve,$e]=k.useState(""),Ee=()=>{const we=Date.now().toString().slice(-6),be=Math.floor(Math.random()*1e3).toString().padStart(3,"0");me(xe=>({...xe,machineId:`VM${we}${be}`}))},Te=async we=>{we.preventDefault(),$e(""),Ue(!0);try{const be=kl(fs,"machines",le.machineId);if(await HT(be,{machineId:le.machineId,userId:le.userId||null,businessName:le.businessName,location:{address:le.address,city:le.city,state:le.state,zip:le.zip},machineType:le.machineType,installDate:_t.fromDate(new Date(le.installDate)),contractSignedDate:_t.fromDate(new Date(le.installDate)),contractEndDate:le.contractEndDate?_t.fromDate(new Date(le.contractEndDate)):null,contractPdfUrl:null,machinePhotoUrl:null,status:le.status,stats:{totalSales:0,totalTransactions:0,lastRestocked:null},createdAt:yh(),updatedAt:yh()}),le.userId){const xe=kl(fs,"users",le.userId);await $D(xe,{machineId:le.machineId,updatedAt:yh()})}W(),te()}catch(be){console.error("Error creating machine:",be),$e(be.message||"Failed to create machine")}finally{Ue(!1)}},pe=ae.filter(we=>we.role!=="admin");return f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-cyan-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Add Vending Machine"}),f.jsx("button",{onClick:te,className:"text-gray-400 hover:text-white transition",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:Te,className:"p-6 space-y-4 overflow-y-auto",children:[ve&&f.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:ve}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Machine ID"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:"text",value:le.machineId,onChange:we=>me(be=>({...be,machineId:we.target.value.toUpperCase()})),className:"flex-1 bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none font-mono",placeholder:"VM123456789",required:!0}),f.jsx("button",{type:"button",onClick:Ee,className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition",children:"Generate"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Assign to Client (Optional)"}),f.jsxs("select",{value:le.userId,onChange:we=>me(be=>({...be,userId:we.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",children:[f.jsx("option",{value:"",children:"Unassigned"}),pe.map(we=>f.jsxs("option",{value:we.id,children:[we.firstName," ",we.lastName," - ",we.businessName||we.email]},we.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),f.jsx("input",{type:"text",value:le.businessName,onChange:we=>me(be=>({...be,businessName:we.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Machine Type"}),f.jsxs("select",{value:le.machineType,onChange:we=>me(be=>({...be,machineType:we.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0,children:[f.jsx("option",{value:"snack",children:"Snack Machine"}),f.jsx("option",{value:"drink",children:"Drink Machine"}),f.jsx("option",{value:"combo",children:"Combo (Snack + Drink)"}),f.jsx("option",{value:"coffee",children:"Coffee Machine"}),f.jsx("option",{value:"healthy",children:"Healthy Snacks"}),f.jsx("option",{value:"ice-cream",children:"Ice Cream"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),f.jsx("input",{type:"text",value:le.address,onChange:we=>me(be=>({...be,address:we.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"City"}),f.jsx("input",{type:"text",value:le.city,onChange:we=>me(be=>({...be,city:we.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"State"}),f.jsx("input",{type:"text",value:le.state,onChange:we=>me(be=>({...be,state:we.target.value.toUpperCase().slice(0,2)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",maxLength:"2",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code"}),f.jsx("input",{type:"text",value:le.zip,onChange:we=>me(be=>({...be,zip:we.target.value.slice(0,5)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",maxLength:"5",required:!0})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Install Date"}),f.jsx("input",{type:"date",value:le.installDate,onChange:we=>me(be=>({...be,installDate:we.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contract End Date (Optional)"}),f.jsx("input",{type:"date",value:le.contractEndDate,onChange:we=>me(be=>({...be,contractEndDate:we.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),f.jsxs("select",{value:le.status,onChange:we=>me(be=>({...be,status:we.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0,children:[f.jsx("option",{value:"active",children:"Active"}),f.jsx("option",{value:"inactive",children:"Inactive"}),f.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:te,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg transition",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:De,className:"flex-1 px-4 py-3 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:De?"Creating...":"Add Machine"})]})]})]})})}function Xr({onClose:te,onSuccess:W}){const[ae,le]=k.useState({firstName:r?.firstName||"",lastName:r?.lastName||"",phone:r?.phone||"",businessName:r?.businessName||""}),[me,De]=k.useState(!1),[Ue,ve]=k.useState(""),$e=async Ee=>{Ee.preventDefault(),ve(""),De(!0);try{const Te=$n();await ds(Te,"updateUserProfile")({userId:n.uid,firstName:ae.firstName.trim(),lastName:ae.lastName.trim(),phone:ae.phone.trim(),businessName:ae.businessName.trim()}),W(),te(),window.location.reload()}catch(Te){console.error("Error updating profile:",Te),ve(Te.message||"Failed to update profile")}finally{De(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Edit Profile"}),f.jsx("button",{onClick:te,className:"text-gray-400 hover:text-white transition","aria-label":"Close",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:$e,className:"p-6 space-y-4 overflow-y-auto",children:[Ue&&f.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:Ue}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),f.jsx("input",{type:"text",value:ae.firstName,onChange:Ee=>le(Te=>({...Te,firstName:Ee.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),f.jsx("input",{type:"text",value:ae.lastName,onChange:Ee=>le(Te=>({...Te,lastName:Ee.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),f.jsx("input",{type:"tel",value:ae.phone,onChange:Ee=>le(Te=>({...Te,phone:Ee.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),f.jsx("input",{type:"text",value:ae.businessName,onChange:Ee=>le(Te=>({...Te,businessName:Ee.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none"})]}),f.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 text-sm text-blue-300",children:[f.jsx("p",{className:"font-semibold mb-1",children:"Note about email changes:"}),f.jsx("p",{children:"Email addresses can only be changed by an administrator for security reasons. Please contact support if you need to update your email."})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:te,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:me,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:me?"Saving...":"Save Changes"})]})]})]})})}function Wr({user:te,onClose:W,onSuccess:ae}){const[le,me]=k.useState({firstName:te?.firstName||"",lastName:te?.lastName||"",email:te?.email||"",phone:te?.phone||"",businessName:te?.businessName||""}),[De,Ue]=k.useState(!1),[ve,$e]=k.useState(""),Ee=async Te=>{Te.preventDefault(),$e(""),Ue(!0);try{const pe=$n();await ds(pe,"updateUserProfile")({userId:te.id,firstName:le.firstName.trim(),lastName:le.lastName.trim(),email:le.email.trim(),phone:le.phone.trim(),businessName:le.businessName.trim()}),ae(),W()}catch(pe){console.error("Error updating user:",pe),$e(pe.message||"Failed to update user")}finally{Ue(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-purple-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[f.jsxs("h2",{className:"text-2xl font-bold",children:["Edit User - ",te?.firstName," ",te?.lastName]}),f.jsx("button",{onClick:W,className:"text-gray-400 hover:text-white transition","aria-label":"Close",children:f.jsx(hs,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:Ee,className:"p-6 space-y-4 overflow-y-auto",children:[ve&&f.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:ve}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),f.jsx("input",{type:"text",value:le.firstName,onChange:Te=>me(pe=>({...pe,firstName:Te.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),f.jsx("input",{type:"text",value:le.lastName,onChange:Te=>me(pe=>({...pe,lastName:Te.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),f.jsx("input",{type:"email",value:le.email,onChange:Te=>me(pe=>({...pe,email:Te.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),f.jsx("input",{type:"tel",value:le.phone,onChange:Te=>me(pe=>({...pe,phone:Te.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),f.jsx("input",{type:"text",value:le.businessName,onChange:Te=>me(pe=>({...pe,businessName:Te.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none"})]}),f.jsxs("div",{className:"flex space-x-3 pt-4",children:[f.jsx("button",{type:"button",onClick:W,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:De,className:"flex-1 px-4 py-3 bg-purple-500 hover:bg-purple-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:De?"Saving...":"Save Changes"})]})]})]})})}function Ms({message:te,onClose:W}){return f.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:f.jsx("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-green-400/30 shadow-2xl animate-bounce-in",children:f.jsxs("div",{className:"p-8 text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:f.jsx(wN,{className:"w-12 h-12 text-green-400"})}),f.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Success!"}),f.jsx("p",{className:"text-gray-300 leading-relaxed mb-6",children:te}),f.jsx("button",{onClick:W,className:"px-8 py-3 bg-green-500 hover:bg-green-600 rounded-lg font-semibold",children:"Got it!"})]})})})}};PS.createRoot(document.getElementById("root")).render(f.jsx(k.StrictMode,{children:f.jsx(sN,{children:f.jsx(Xj,{children:f.jsx(Wj,{})})})}));
