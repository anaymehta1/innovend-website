(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function KT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Om={exports:{}},xc={};var dx;function QT(){if(dx)return xc;dx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:h,ref:o!==void 0?o:null,props:u}}return xc.Fragment=e,xc.jsx=n,xc.jsxs=n,xc}var hx;function XT(){return hx||(hx=1,Om.exports=QT()),Om.exports}var l=XT(),Mm={exports:{}},Qe={};var fx;function WT(){if(fx)return Qe;fx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,F={};function ue(C,te,ye){this.props=C,this.context=te,this.refs=F,this.updater=ye||Q}ue.prototype.isReactComponent={},ue.prototype.setState=function(C,te){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,te,"setState")},ue.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function se(){}se.prototype=ue.prototype;function fe(C,te,ye){this.props=C,this.context=te,this.refs=F,this.updater=ye||Q}var we=fe.prototype=new se;we.constructor=fe,J(we,ue.prototype),we.isPureReactComponent=!0;var Oe=Array.isArray;function X(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function j(C,te,ye){var Se=ye.ref;return{$$typeof:r,type:C,key:te,ref:Se!==void 0?Se:null,props:ye}}function P(C,te){return j(C.type,te,C.props)}function k(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function z(C){var te={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ye){return te[ye]})}var I=/\/+/g;function nt(C,te){return typeof C=="object"&&C!==null&&C.key!=null?z(""+C.key):te.toString(36)}function _t(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(X,X):(C.status="pending",C.then(function(te){C.status==="pending"&&(C.status="fulfilled",C.value=te)},function(te){C.status==="pending"&&(C.status="rejected",C.reason=te)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ee(C,te,ye,Se,Pe){var Ue=typeof C;(Ue==="undefined"||Ue==="boolean")&&(C=null);var Je=!1;if(C===null)Je=!0;else switch(Ue){case"bigint":case"string":case"number":Je=!0;break;case"object":switch(C.$$typeof){case r:case e:Je=!0;break;case _:return Je=C._init,ee(Je(C._payload),te,ye,Se,Pe)}}if(Je)return Pe=Pe(C),Je=Se===""?"."+nt(C,0):Se,Oe(Pe)?(ye="",Je!=null&&(ye=Je.replace(I,"$&/")+"/"),ee(Pe,te,ye,"",function(Zs){return Zs})):Pe!=null&&(k(Pe)&&(Pe=P(Pe,ye+(Pe.key==null||C&&C.key===Pe.key?"":(""+Pe.key).replace(I,"$&/")+"/")+Je)),te.push(Pe)),1;Je=0;var Tt=Se===""?".":Se+":";if(Oe(C))for(var It=0;It<C.length;It++)Se=C[It],Ue=Tt+nt(Se,It),Je+=ee(Se,te,ye,Ue,Pe);else if(It=U(C),typeof It=="function")for(C=It.call(C),It=0;!(Se=C.next()).done;)Se=Se.value,Ue=Tt+nt(Se,It++),Je+=ee(Se,te,ye,Ue,Pe);else if(Ue==="object"){if(typeof C.then=="function")return ee(_t(C),te,ye,Se,Pe);throw te=String(C),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Je}function pe(C,te,ye){if(C==null)return C;var Se=[],Pe=0;return ee(C,Se,"","",function(Ue){return te.call(ye,Ue,Pe++)}),Se}function Ae(C){if(C._status===-1){var te=C._result;te=te(),te.then(function(ye){(C._status===0||C._status===-1)&&(C._status=1,C._result=ye)},function(ye){(C._status===0||C._status===-1)&&(C._status=2,C._result=ye)}),C._status===-1&&(C._status=0,C._result=te)}if(C._status===1)return C._result.default;throw C._result}var Te=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},tt={map:pe,forEach:function(C,te,ye){pe(C,function(){te.apply(this,arguments)},ye)},count:function(C){var te=0;return pe(C,function(){te++}),te},toArray:function(C){return pe(C,function(te){return te})||[]},only:function(C){if(!k(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Qe.Activity=w,Qe.Children=tt,Qe.Component=ue,Qe.Fragment=n,Qe.Profiler=o,Qe.PureComponent=fe,Qe.StrictMode=i,Qe.Suspense=g,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},Qe.cache=function(C){return function(){return C.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(C,te,ye){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Se=J({},C.props),Pe=C.key;if(te!=null)for(Ue in te.key!==void 0&&(Pe=""+te.key),te)!A.call(te,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&te.ref===void 0||(Se[Ue]=te[Ue]);var Ue=arguments.length-2;if(Ue===1)Se.children=ye;else if(1<Ue){for(var Je=Array(Ue),Tt=0;Tt<Ue;Tt++)Je[Tt]=arguments[Tt+2];Se.children=Je}return j(C.type,Pe,Se)},Qe.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Qe.createElement=function(C,te,ye){var Se,Pe={},Ue=null;if(te!=null)for(Se in te.key!==void 0&&(Ue=""+te.key),te)A.call(te,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(Pe[Se]=te[Se]);var Je=arguments.length-2;if(Je===1)Pe.children=ye;else if(1<Je){for(var Tt=Array(Je),It=0;It<Je;It++)Tt[It]=arguments[It+2];Pe.children=Tt}if(C&&C.defaultProps)for(Se in Je=C.defaultProps,Je)Pe[Se]===void 0&&(Pe[Se]=Je[Se]);return j(C,Ue,Pe)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(C){return{$$typeof:p,render:C}},Qe.isValidElement=k,Qe.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:Ae}},Qe.memo=function(C,te){return{$$typeof:y,type:C,compare:te===void 0?null:te}},Qe.startTransition=function(C){var te=R.T,ye={};R.T=ye;try{var Se=C(),Pe=R.S;Pe!==null&&Pe(ye,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(X,Te)}catch(Ue){Te(Ue)}finally{te!==null&&ye.types!==null&&(te.types=ye.types),R.T=te}},Qe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Qe.use=function(C){return R.H.use(C)},Qe.useActionState=function(C,te,ye){return R.H.useActionState(C,te,ye)},Qe.useCallback=function(C,te){return R.H.useCallback(C,te)},Qe.useContext=function(C){return R.H.useContext(C)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(C,te){return R.H.useDeferredValue(C,te)},Qe.useEffect=function(C,te){return R.H.useEffect(C,te)},Qe.useEffectEvent=function(C){return R.H.useEffectEvent(C)},Qe.useId=function(){return R.H.useId()},Qe.useImperativeHandle=function(C,te,ye){return R.H.useImperativeHandle(C,te,ye)},Qe.useInsertionEffect=function(C,te){return R.H.useInsertionEffect(C,te)},Qe.useLayoutEffect=function(C,te){return R.H.useLayoutEffect(C,te)},Qe.useMemo=function(C,te){return R.H.useMemo(C,te)},Qe.useOptimistic=function(C,te){return R.H.useOptimistic(C,te)},Qe.useReducer=function(C,te,ye){return R.H.useReducer(C,te,ye)},Qe.useRef=function(C){return R.H.useRef(C)},Qe.useState=function(C){return R.H.useState(C)},Qe.useSyncExternalStore=function(C,te,ye){return R.H.useSyncExternalStore(C,te,ye)},Qe.useTransition=function(){return R.H.useTransition()},Qe.version="19.2.3",Qe}var mx;function qp(){return mx||(mx=1,Mm.exports=WT()),Mm.exports}var T=qp();const JT=KT(T);var Pm={exports:{}},vc={},Vm={exports:{}},Lm={};var px;function ZT(){return px||(px=1,(function(r){function e(ee,pe){var Ae=ee.length;ee.push(pe);e:for(;0<Ae;){var Te=Ae-1>>>1,tt=ee[Te];if(0<o(tt,pe))ee[Te]=pe,ee[Ae]=tt,Ae=Te;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var pe=ee[0],Ae=ee.pop();if(Ae!==pe){ee[0]=Ae;e:for(var Te=0,tt=ee.length,C=tt>>>1;Te<C;){var te=2*(Te+1)-1,ye=ee[te],Se=te+1,Pe=ee[Se];if(0>o(ye,Ae))Se<tt&&0>o(Pe,ye)?(ee[Te]=Pe,ee[Se]=Ae,Te=Se):(ee[Te]=ye,ee[te]=Ae,Te=te);else if(Se<tt&&0>o(Pe,Ae))ee[Te]=Pe,ee[Se]=Ae,Te=Se;else break e}}return pe}function o(ee,pe){var Ae=ee.sortIndex-pe.sortIndex;return Ae!==0?Ae:ee.id-pe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],_=1,w=null,S=3,U=!1,Q=!1,J=!1,F=!1,ue=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function we(ee){for(var pe=n(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=ee)i(y),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=n(y)}}function Oe(ee){if(J=!1,we(ee),!Q)if(n(g)!==null)Q=!0,X||(X=!0,z());else{var pe=n(y);pe!==null&&_t(Oe,pe.startTime-ee)}}var X=!1,R=-1,A=5,j=-1;function P(){return F?!0:!(r.unstable_now()-j<A)}function k(){if(F=!1,X){var ee=r.unstable_now();j=ee;var pe=!0;try{e:{Q=!1,J&&(J=!1,se(R),R=-1),U=!0;var Ae=S;try{t:{for(we(ee),w=n(g);w!==null&&!(w.expirationTime>ee&&P());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,S=w.priorityLevel;var tt=Te(w.expirationTime<=ee);if(ee=r.unstable_now(),typeof tt=="function"){w.callback=tt,we(ee),pe=!0;break t}w===n(g)&&i(g),we(ee)}else i(g);w=n(g)}if(w!==null)pe=!0;else{var C=n(y);C!==null&&_t(Oe,C.startTime-ee),pe=!1}}break e}finally{w=null,S=Ae,U=!1}pe=void 0}}finally{pe?z():X=!1}}}var z;if(typeof fe=="function")z=function(){fe(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,nt=I.port2;I.port1.onmessage=k,z=function(){nt.postMessage(null)}}else z=function(){ue(k,0)};function _t(ee,pe){R=ue(function(){ee(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var pe=3;break;default:pe=S}var Ae=S;S=pe;try{return ee()}finally{S=Ae}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(ee,pe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Ae=S;S=ee;try{return pe()}finally{S=Ae}},r.unstable_scheduleCallback=function(ee,pe,Ae){var Te=r.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?Te+Ae:Te):Ae=Te,ee){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=Ae+tt,ee={id:_++,callback:pe,priorityLevel:ee,startTime:Ae,expirationTime:tt,sortIndex:-1},Ae>Te?(ee.sortIndex=Ae,e(y,ee),n(g)===null&&ee===n(y)&&(J?(se(R),R=-1):J=!0,_t(Oe,Ae-Te))):(ee.sortIndex=tt,e(g,ee),Q||U||(Q=!0,X||(X=!0,z()))),ee},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(ee){var pe=S;return function(){var Ae=S;S=pe;try{return ee.apply(this,arguments)}finally{S=Ae}}}})(Lm)),Lm}var gx;function eS(){return gx||(gx=1,Vm.exports=ZT()),Vm.exports}var Um={exports:{}},In={};var yx;function tS(){if(yx)return In;yx=1;var r=qp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,In.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,_)},In.flushSync=function(g){var y=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=_,i.d.f()}},In.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},In.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},In.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,w=p(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:U}):_==="script"&&i.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},In.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},In.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,w=p(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},In.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},In.requestFormReset=function(g){i.d.r(g)},In.unstable_batchedUpdates=function(g,y){return g(y)},In.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},In.useFormStatus=function(){return h.H.useHostTransitionStatus()},In.version="19.2.3",In}var bx;function nS(){if(bx)return Um.exports;bx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Um.exports=tS(),Um.exports}var xx;function sS(){if(xx)return vc;xx=1;var r=eS(),e=qp(),n=nS();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,c=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===c)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==c.return)a=f,c=m;else{for(var x=!1,E=f.child;E;){if(E===a){x=!0,a=f,c=m;break}if(E===c){x=!0,c=f,a=m;break}E=E.sibling}if(!x){for(E=m.child;E;){if(E===a){x=!0,a=m,c=f;break}if(E===c){x=!0,c=m,a=f;break}E=E.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ue:return"Profiler";case F:return"StrictMode";case Oe:return"Suspense";case X:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case fe:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case we:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return s=t.displayName||null,s!==null?s:nt(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return nt(t(s))}catch{}}return null}var _t=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},Te=[],tt=-1;function C(t){return{current:t}}function te(t){0>tt||(t.current=Te[tt],Te[tt]=null,tt--)}function ye(t,s){tt++,Te[tt]=t.current,t.current=s}var Se=C(null),Pe=C(null),Ue=C(null),Je=C(null);function Tt(t,s){switch(ye(Ue,s),ye(Pe,t),ye(Se,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Ob(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Ob(s),t=Mb(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(Se),ye(Se,t)}function It(){te(Se),te(Pe),te(Ue)}function Zs(t){t.memoizedState!==null&&ye(Je,t);var s=Se.current,a=Mb(s,t.type);s!==a&&(ye(Pe,t),ye(Se,a))}function Er(t){Pe.current===t&&(te(Se),te(Pe)),Je.current===t&&(te(Je),pc._currentValue=Ae)}var xi,Nr;function ms(t){if(xi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);xi=s&&s[1]||"",Nr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xi+t+Nr}var wa=!1;function vi(t,s){if(!t||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(W){var $=W}Reflect.construct(t,[],le)}else{try{le.call()}catch(W){$=W}t.call(le.prototype)}}else{try{throw Error()}catch(W){$=W}(le=t())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),x=m[0],E=m[1];if(x&&E){var O=x.split(`
`),G=E.split(`
`);for(f=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(c===O.length||f===G.length)for(c=O.length-1,f=G.length-1;1<=c&&0<=f&&O[c]!==G[f];)f--;for(;1<=c&&0<=f;c--,f--)if(O[c]!==G[f]){if(c!==1||f!==1)do if(c--,f--,0>f||O[c]!==G[f]){var ne=`
`+O[c].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=c&&0<=f);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ms(a):""}function Ea(t,s){switch(t.tag){case 26:case 27:case 5:return ms(t.type);case 16:return ms("Lazy");case 13:return t.child!==s&&s!==null?ms("Suspense Fallback"):ms("Suspense");case 19:return ms("SuspenseList");case 0:case 15:return vi(t.type,!1);case 11:return vi(t.type.render,!1);case 1:return vi(t.type,!0);case 31:return ms("Activity");default:return""}}function it(t){try{var s="",a=null;do s+=Ea(t,a),a=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var qt=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,Ds=r.unstable_cancelCallback,Os=r.unstable_shouldYield,Tr=r.unstable_requestPaint,un=r.unstable_now,Ms=r.unstable_getCurrentPriorityLevel,Sr=r.unstable_ImmediatePriority,er=r.unstable_UserBlockingPriority,ps=r.unstable_NormalPriority,tr=r.unstable_LowPriority,Zn=r.unstable_IdlePriority,nr=r.log,Ar=r.unstable_setDisableYieldValue,es=null,Xt=null;function _n(t){if(typeof nr=="function"&&Ar(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(es,t)}catch{}}var Mt=Math.clz32?Math.clz32:sr,mt=Math.log,Pn=Math.LN2;function sr(t){return t>>>=0,t===0?32:31-(mt(t)/Pn|0)|0}var Vn=256,rr=262144,Bt=4194304;function Ln(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gs(t,s,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var E=c&134217727;return E!==0?(c=E&~m,c!==0?f=Ln(c):(x&=E,x!==0?f=Ln(x):a||(a=E&~t,a!==0&&(f=Ln(a))))):(E=c&~m,E!==0?f=Ln(E):x!==0?f=Ln(x):a||(a=c&~t,a!==0&&(f=Ln(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Ft(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function ll(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ol(){var t=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),t}function ys(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function jr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function To(t,s,a,c,f,m){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,G=t.hiddenUpdates;for(a=x&~a;0<a;){var ne=31-Mt(a),le=1<<ne;E[ne]=0,O[ne]=-1;var $=G[ne];if($!==null)for(G[ne]=null,ne=0;ne<$.length;ne++){var W=$[ne];W!==null&&(W.lane&=-536870913)}a&=~le}c!==0&&Cr(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~s))}function Cr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-Mt(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function Na(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var c=31-Mt(a),f=1<<c;f&s|t[c]&s&&(t[c]|=s),a&=~f}}function Ta(t,s){var a=s&-s;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ps(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cl(){var t=pe.p;return t!==0?t:(t=window.event,t===void 0?32:rx(t.type))}function ts(t,s){var a=pe.p;try{return pe.p=t,s()}finally{pe.p=a}}var ns=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ns,tn="__reactProps$"+ns,bs="__reactContainer$"+ns,_i="__reactEvents$"+ns,So="__reactListeners$"+ns,ul="__reactHandles$"+ns,dl="__reactResources$"+ns,D="__reactMarker$"+ns;function L(t){delete t[Yt],delete t[tn],delete t[_i],delete t[So],delete t[ul]}function Y(t){var s=t[Yt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[bs]||a[Yt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Bb(t);t!==null;){if(a=t[Yt])return a;t=Bb(t)}return s}t=a,a=t.parentNode}return null}function de(t){if(t=t[Yt]||t[bs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Z(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function ge(t){var s=t[dl];return s||(s=t[dl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function he(t){t[D]=!0}var je=new Set,Be={};function oe(t,s){ie(t,s),ie(t+"Capture",s)}function ie(t,s){for(Be[t]=s,t=0;t<s.length;t++)je.add(s[t])}var xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),be={},ze={};function Ne(t){return qt.call(ze,t)?!0:qt.call(be,t)?!1:xe.test(t)?ze[t]=!0:(be[t]=!0,!1)}function De(t,s,a){if(Ne(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Ze(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function _e(t,s,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+c)}}function Ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gt(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ve(t,s,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(x){a=""+x,m.call(this,x)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Fe(t){if(!t._valueTracker){var s=gt(t)?"checked":"value";t._valueTracker=ve(t,s,""+t[s])}}function dt(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return t&&(c=gt(t)?t.checked?"true":"false":t.value),t=c,t!==a?(s.setValue(t),!0):!1}function gn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function dn(t){return t.replace(Ir,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function kr(t,s,a,c,f,m,x,E){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),s!=null?x==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ie(s)):t.value!==""+Ie(s)&&(t.value=""+Ie(s)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),s!=null?hl(t,x,Ie(s)):a!=null?hl(t,x,Ie(a)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ie(E):t.removeAttribute("name")}function Dr(t,s,a,c,f,m,x,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Fe(t);return}a=a!=null?""+Ie(a):"",s=s!=null?""+Ie(s):a,E||s===t.value||(t.value=s),t.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=E?t.checked:!!c,t.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),Fe(t)}function hl(t,s,a){s==="number"&&gn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Or(t,s,a,c){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Ie(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Ao(t,s,a){if(s!=null&&(s=""+Ie(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ie(a):""}function Mr(t,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(_t(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Ie(s),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),Fe(t)}function Un(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,a):typeof a!="number"||a===0||jo.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function ml(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&a[f]!==c&&fl(t,f,c)}else for(var m in s)s.hasOwnProperty(m)&&fl(t,m,s[m])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Pr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xs(){}var pl=null;function ss(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,Vs=null;function wi(t){var s=de(t);if(s&&(t=s.stateNode)){var a=t[tn]||null;e:switch(t=s.stateNode,s.type){case"input":if(kr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==t&&c.form===t.form){var f=c[tn]||null;if(!f)throw Error(i(90));kr(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===t.form&&dt(c)}break e;case"textarea":Ao(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Or(t,!!a.multiple,s,!1)}}}var ja=!1;function Lr(t,s,a){if(ja)return t(s,a);ja=!0;try{var c=t(s);return c}finally{if(ja=!1,(Vr!==null||Vs!==null)&&(Yu(),Vr&&(s=Vr,t=Vs,Vs=Vr=null,wi(s),t)))for(s=0;s<t.length;s++)wi(t[s])}}function vs(t,s){var a=t.stateNode;if(a===null)return null;var c=a[tn]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ei=!1;if(rs)try{var wt={};Object.defineProperty(wt,"passive",{get:function(){Ei=!0}}),window.addEventListener("test",wt,wt),window.removeEventListener("test",wt,wt)}catch{Ei=!1}var Ls=null,gl=null,Ni=null;function yl(){if(Ni)return Ni;var t,s=gl,a=s.length,c,f="value"in Ls?Ls.value:Ls.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var x=a-t;for(c=1;c<=x&&s[a-c]===f[m-c];c++);return Ni=f.slice(t,1<c?1-c:void 0)}function Ti(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function _s(){return!1}function yn(t){function s(a,c,f,m,x){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ir:_s,this.isPropagationStopped=_s,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),s}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=yn(ar),Ur=w({},ar,{view:0,detail:0}),bl=yn(Ur),zr,Ca,zs,Ra=w({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zs&&(zs&&t.type==="mousemove"?(zr=t.screenX-zs.screenX,Ca=t.screenY-zs.screenY):Ca=zr=0,zs=t),zr)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),xl=yn(Ra),Si=w({},Ra,{dataTransfer:0}),Ro=yn(Si),Io=w({},Ur,{relatedTarget:0}),Ai=yn(Io),vl=w({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),ko=yn(vl),ji=w({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Do=yn(ji),_l=w({},ar,{data:0}),qs=yn(_l),wl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Mo[t])?!!s[t]:!1}function qr(){return Po}var Rn=w({},Ur,{key:function(t){if(t.key){var s=wl[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(t){return t.type==="keypress"?Ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vo=yn(Rn),Lo=w({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=yn(Lo),d=w({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),b=yn(d),v=w({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=yn(v),B=w({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=yn(B),me=w({},ar,{newState:0,oldState:0}),V=yn(me),$e=[9,13,27,32],Ye=rs&&"CompositionEvent"in window,ht=null;rs&&"documentMode"in document&&(ht=document.documentMode);var St=rs&&"TextEvent"in window&&!ht,Ht=rs&&(!Ye||ht&&8<ht&&11>=ht),Bn=" ",wn=!1;function is(t,s){switch(t){case"keyup":return $e.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hn=!1;function Vh(t,s){switch(t){case"compositionend":return Br(s);case"keypress":return s.which!==32?null:(wn=!0,Bn);case"textInput":return t=s.data,t===Bn&&wn?null:t;default:return null}}function $g(t,s){if(hn)return t==="compositionend"||!Ye&&is(t,s)?(t=yl(),Ni=gl=Ls=null,hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ht&&s.locale!=="ko"?null:s.data;default:return null}}var Lh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Lh[t.type]:s==="textarea"}function Uh(t,s,a,c){Vr?Vs?Vs.push(c):Vs=[c]:Vr=c,s=ed(s,"onChange"),0<s.length&&(a=new Us("onChange","change",null,a,c),t.push({event:a,listeners:s}))}var Ia=null,Pt=null;function _N(t){jb(t,0)}function hu(t){var s=Z(t);if(dt(s))return t}function Yg(t,s){if(t==="change")return s}var Kg=!1;if(rs){var zh;if(rs){var qh="oninput"in document;if(!qh){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),qh=typeof Qg.oninput=="function"}zh=qh}else zh=!1;Kg=zh&&(!document.documentMode||9<document.documentMode)}function Xg(){Ia&&(Ia.detachEvent("onpropertychange",Wg),Pt=Ia=null)}function Wg(t){if(t.propertyName==="value"&&hu(Pt)){var s=[];Uh(s,Pt,t,ss(t)),Lr(_N,s)}}function wN(t,s,a){t==="focusin"?(Xg(),Ia=s,Pt=a,Ia.attachEvent("onpropertychange",Wg)):t==="focusout"&&Xg()}function EN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(Pt)}function NN(t,s){if(t==="click")return hu(s)}function TN(t,s){if(t==="input"||t==="change")return hu(s)}function SN(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var as=typeof Object.is=="function"?Object.is:SN;function Uo(t,s){if(as(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!qt.call(s,f)||!as(t[f],s[f]))return!1}return!0}function Jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zg(t,s){var a=Jg(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=s&&c>=s)return{node:a,offset:s-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jg(a)}}function ey(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?ey(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ty(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=gn(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=gn(t.document)}return s}function Bh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var AN=rs&&"documentMode"in document&&11>=document.documentMode,El=null,Fh=null,zo=null,Hh=!1;function ny(t,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||El==null||El!==gn(c)||(c=El,"selectionStart"in c&&Bh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zo&&Uo(zo,c)||(zo=c,c=ed(Fh,"onSelect"),0<c.length&&(s=new Us("onSelect","select",null,s,a),t.push({event:s,listeners:c}),s.target=El)))}function ka(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Nl={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},Gh={},sy={};rs&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Da(t){if(Gh[t])return Gh[t];if(!Nl[t])return t;var s=Nl[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in sy)return Gh[t]=s[a];return t}var ry=Da("animationend"),iy=Da("animationiteration"),ay=Da("animationstart"),jN=Da("transitionrun"),CN=Da("transitionstart"),RN=Da("transitioncancel"),ly=Da("transitionend"),oy=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function Bs(t,s){oy.set(t,s),oe(s,[t])}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ws=[],Tl=0,Yh=0;function mu(){for(var t=Tl,s=Yh=Tl=0;s<t;){var a=ws[s];ws[s++]=null;var c=ws[s];ws[s++]=null;var f=ws[s];ws[s++]=null;var m=ws[s];if(ws[s++]=null,c!==null&&f!==null){var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}m!==0&&cy(a,f,m)}}function pu(t,s,a,c){ws[Tl++]=t,ws[Tl++]=s,ws[Tl++]=a,ws[Tl++]=c,Yh|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Kh(t,s,a,c){return pu(t,s,a,c),gu(t)}function Oa(t,s){return pu(t,null,null,s),gu(t)}function cy(t,s,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-Mt(a),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[s]:c.push(s),s.lane=a|536870912),m):null}function gu(t){if(50<oc)throw oc=0,rm=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Sl={};function IN(t,s,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(t,s,a,c){return new IN(t,s,a,c)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fr(t,s){var a=t.alternate;return a===null?(a=ls(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function uy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function yu(t,s,a,c,f,m){var x=0;if(c=t,typeof t=="function")Qh(t)&&(x=1);else if(typeof t=="string")x=PT(t,a,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=ls(31,a,s,f),t.elementType=j,t.lanes=m,t;case J:return Ma(a.children,f,m,s);case F:x=8,f|=24;break;case ue:return t=ls(12,a,s,f|2),t.elementType=ue,t.lanes=m,t;case Oe:return t=ls(13,a,s,f),t.elementType=Oe,t.lanes=m,t;case X:return t=ls(19,a,s,f),t.elementType=X,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:x=10;break e;case se:x=9;break e;case we:x=11;break e;case R:x=14;break e;case A:x=16,c=null;break e}x=29,a=Error(i(130,t===null?"null":typeof t,"")),c=null}return s=ls(x,a,s,f),s.elementType=t,s.type=c,s.lanes=m,s}function Ma(t,s,a,c){return t=ls(7,t,c,s),t.lanes=a,t}function Xh(t,s,a){return t=ls(6,t,null,s),t.lanes=a,t}function dy(t){var s=ls(18,null,null,0);return s.stateNode=t,s}function Wh(t,s,a){return s=ls(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var hy=new WeakMap;function Es(t,s){if(typeof t=="object"&&t!==null){var a=hy.get(t);return a!==void 0?a:(s={value:t,source:s,stack:it(s)},hy.set(t,s),s)}return{value:t,source:s,stack:it(s)}}var Al=[],jl=0,bu=null,qo=0,Ns=[],Ts=0,Ci=null,or=1,cr="";function Hr(t,s){Al[jl++]=qo,Al[jl++]=bu,bu=t,qo=s}function fy(t,s,a){Ns[Ts++]=or,Ns[Ts++]=cr,Ns[Ts++]=Ci,Ci=t;var c=or;t=cr;var f=32-Mt(c)-1;c&=~(1<<f),a+=1;var m=32-Mt(s)+f;if(30<m){var x=f-f%5;m=(c&(1<<x)-1).toString(32),c>>=x,f-=x,or=1<<32-Mt(s)+f|a<<f|c,cr=m+t}else or=1<<m|a<<f|c,cr=t}function Jh(t){t.return!==null&&(Hr(t,1),fy(t,1,0))}function Zh(t){for(;t===bu;)bu=Al[--jl],Al[jl]=null,qo=Al[--jl],Al[jl]=null;for(;t===Ci;)Ci=Ns[--Ts],Ns[Ts]=null,cr=Ns[--Ts],Ns[Ts]=null,or=Ns[--Ts],Ns[Ts]=null}function my(t,s){Ns[Ts++]=or,Ns[Ts++]=cr,Ns[Ts++]=Ci,or=s.id,cr=s.overflow,Ci=t}var En=null,Lt=null,ft=!1,Ri=null,Ss=!1,ef=Error(i(519));function Ii(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Es(s,t)),ef}function py(t){var s=t.stateNode,a=t.type,c=t.memoizedProps;switch(s[Yt]=t,s[tn]=c,a){case"dialog":rt("cancel",s),rt("close",s);break;case"iframe":case"object":case"embed":rt("load",s);break;case"video":case"audio":for(a=0;a<uc.length;a++)rt(uc[a],s);break;case"source":rt("error",s);break;case"img":case"image":case"link":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"input":rt("invalid",s),Dr(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":rt("invalid",s);break;case"textarea":rt("invalid",s),Mr(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||kb(s.textContent,a)?(c.popover!=null&&(rt("beforetoggle",s),rt("toggle",s)),c.onScroll!=null&&rt("scroll",s),c.onScrollEnd!=null&&rt("scrollend",s),c.onClick!=null&&(s.onclick=xs),s=!0):s=!1,s||Ii(t,!0)}function gy(t){for(En=t.return;En;)switch(En.tag){case 5:case 31:case 13:Ss=!1;return;case 27:case 3:Ss=!0;return;default:En=En.return}}function Cl(t){if(t!==En)return!1;if(!ft)return gy(t),ft=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xm(t.type,t.memoizedProps)),a=!a),a&&Lt&&Ii(t),gy(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Lt=qb(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Lt=qb(t)}else s===27?(s=Lt,Gi(t.type)?(t=Nm,Nm=null,Lt=t):Lt=s):Lt=En?js(t.stateNode.nextSibling):null;return!0}function Pa(){Lt=En=null,ft=!1}function tf(){var t=Ri;return t!==null&&($n===null?$n=t:$n.push.apply($n,t),Ri=null),t}function Bo(t){Ri===null?Ri=[t]:Ri.push(t)}var nf=C(null),Va=null,Gr=null;function ki(t,s,a){ye(nf,s._currentValue),s._currentValue=a}function $r(t){t._currentValue=nf.current,te(nf)}function sf(t,s,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===a)break;t=t.return}}function rf(t,s,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var x=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var O=0;O<s.length;O++)if(E.context===s[O]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),sf(m.return,a,t),c||(x=null);break e}m=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(i(341));x.lanes|=a,m=x.alternate,m!==null&&(m.lanes|=a),sf(x,a,t),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Rl(t,s,a,c){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var E=f.type;as(f.pendingProps.value,x.value)||(t!==null?t.push(E):t=[E])}}else if(f===Je.current){if(x=f.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(pc):t=[pc])}f=f.return}t!==null&&rf(s,t,a,c),s.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!as(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function La(t){Va=t,Gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nn(t){return yy(Va,t)}function vu(t,s){return Va===null&&La(t),yy(t,s)}function yy(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Gr===null){if(t===null)throw Error(i(308));Gr=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Gr=Gr.next=s;return a}var kN=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},DN=r.unstable_scheduleCallback,ON=r.unstable_NormalPriority,nn={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new kN,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&DN(ON,function(){t.controller.abort()})}var Ho=null,lf=0,Il=0,kl=null;function MN(t,s){if(Ho===null){var a=Ho=[];lf=0,Il=um(),kl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return lf++,s.then(by,by),s}function by(){if(--lf===0&&Ho!==null){kl!==null&&(kl.status="fulfilled");var t=Ho;Ho=null,Il=0,kl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function PN(t,s){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var xy=ee.S;ee.S=function(t,s){nb=un(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&MN(t,s),xy!==null&&xy(t,s)};var Ua=C(null);function of(){var t=Ua.current;return t!==null?t:kt.pooledCache}function _u(t,s){s===null?ye(Ua,Ua.current):ye(Ua,s.pool)}function vy(){var t=of();return t===null?null:{parent:nn._currentValue,pool:t}}var Dl=Error(i(460)),cf=Error(i(474)),wu=Error(i(542)),Eu={then:function(){}};function _y(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wy(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(xs,xs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ny(t),t;default:if(typeof s.status=="string")s.then(xs,xs);else{if(t=kt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ny(t),t}throw qa=s,Dl}}function za(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qa=a,Dl):a}}var qa=null;function Ey(){if(qa===null)throw Error(i(459));var t=qa;return qa=null,t}function Ny(t){if(t===Dl||t===wu)throw Error(i(483))}var Ol=null,Go=0;function Nu(t){var s=Go;return Go+=1,Ol===null&&(Ol=[]),wy(Ol,t,s)}function $o(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Tu(t,s){throw s.$$typeof===S?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Ty(t){function s(q,M){if(t){var H=q.deletions;H===null?(q.deletions=[M],q.flags|=16):H.push(M)}}function a(q,M){if(!t)return null;for(;M!==null;)s(q,M),M=M.sibling;return null}function c(q){for(var M=new Map;q!==null;)q.key!==null?M.set(q.key,q):M.set(q.index,q),q=q.sibling;return M}function f(q,M){return q=Fr(q,M),q.index=0,q.sibling=null,q}function m(q,M,H){return q.index=H,t?(H=q.alternate,H!==null?(H=H.index,H<M?(q.flags|=67108866,M):H):(q.flags|=67108866,M)):(q.flags|=1048576,M)}function x(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function E(q,M,H,re){return M===null||M.tag!==6?(M=Xh(H,q.mode,re),M.return=q,M):(M=f(M,H),M.return=q,M)}function O(q,M,H,re){var Ve=H.type;return Ve===J?ne(q,M,H.props.children,re,H.key):M!==null&&(M.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===A&&za(Ve)===M.type)?(M=f(M,H.props),$o(M,H),M.return=q,M):(M=yu(H.type,H.key,H.props,null,q.mode,re),$o(M,H),M.return=q,M)}function G(q,M,H,re){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Wh(H,q.mode,re),M.return=q,M):(M=f(M,H.children||[]),M.return=q,M)}function ne(q,M,H,re,Ve){return M===null||M.tag!==7?(M=Ma(H,q.mode,re,Ve),M.return=q,M):(M=f(M,H),M.return=q,M)}function le(q,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Xh(""+M,q.mode,H),M.return=q,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return H=yu(M.type,M.key,M.props,null,q.mode,H),$o(H,M),H.return=q,H;case Q:return M=Wh(M,q.mode,H),M.return=q,M;case A:return M=za(M),le(q,M,H)}if(_t(M)||z(M))return M=Ma(M,q.mode,H,null),M.return=q,M;if(typeof M.then=="function")return le(q,Nu(M),H);if(M.$$typeof===fe)return le(q,vu(q,M),H);Tu(q,M)}return null}function $(q,M,H,re){var Ve=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ve!==null?null:E(q,M,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case U:return H.key===Ve?O(q,M,H,re):null;case Q:return H.key===Ve?G(q,M,H,re):null;case A:return H=za(H),$(q,M,H,re)}if(_t(H)||z(H))return Ve!==null?null:ne(q,M,H,re,null);if(typeof H.then=="function")return $(q,M,Nu(H),re);if(H.$$typeof===fe)return $(q,M,vu(q,H),re);Tu(q,H)}return null}function W(q,M,H,re,Ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return q=q.get(H)||null,E(M,q,""+re,Ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case U:return q=q.get(re.key===null?H:re.key)||null,O(M,q,re,Ve);case Q:return q=q.get(re.key===null?H:re.key)||null,G(M,q,re,Ve);case A:return re=za(re),W(q,M,H,re,Ve)}if(_t(re)||z(re))return q=q.get(H)||null,ne(M,q,re,Ve,null);if(typeof re.then=="function")return W(q,M,H,Nu(re),Ve);if(re.$$typeof===fe)return W(q,M,H,vu(M,re),Ve);Tu(M,re)}return null}function Re(q,M,H,re){for(var Ve=null,yt=null,ke=M,et=M=0,lt=null;ke!==null&&et<H.length;et++){ke.index>et?(lt=ke,ke=null):lt=ke.sibling;var bt=$(q,ke,H[et],re);if(bt===null){ke===null&&(ke=lt);break}t&&ke&&bt.alternate===null&&s(q,ke),M=m(bt,M,et),yt===null?Ve=bt:yt.sibling=bt,yt=bt,ke=lt}if(et===H.length)return a(q,ke),ft&&Hr(q,et),Ve;if(ke===null){for(;et<H.length;et++)ke=le(q,H[et],re),ke!==null&&(M=m(ke,M,et),yt===null?Ve=ke:yt.sibling=ke,yt=ke);return ft&&Hr(q,et),Ve}for(ke=c(ke);et<H.length;et++)lt=W(ke,q,et,H[et],re),lt!==null&&(t&&lt.alternate!==null&&ke.delete(lt.key===null?et:lt.key),M=m(lt,M,et),yt===null?Ve=lt:yt.sibling=lt,yt=lt);return t&&ke.forEach(function(Xi){return s(q,Xi)}),ft&&Hr(q,et),Ve}function qe(q,M,H,re){if(H==null)throw Error(i(151));for(var Ve=null,yt=null,ke=M,et=M=0,lt=null,bt=H.next();ke!==null&&!bt.done;et++,bt=H.next()){ke.index>et?(lt=ke,ke=null):lt=ke.sibling;var Xi=$(q,ke,bt.value,re);if(Xi===null){ke===null&&(ke=lt);break}t&&ke&&Xi.alternate===null&&s(q,ke),M=m(Xi,M,et),yt===null?Ve=Xi:yt.sibling=Xi,yt=Xi,ke=lt}if(bt.done)return a(q,ke),ft&&Hr(q,et),Ve;if(ke===null){for(;!bt.done;et++,bt=H.next())bt=le(q,bt.value,re),bt!==null&&(M=m(bt,M,et),yt===null?Ve=bt:yt.sibling=bt,yt=bt);return ft&&Hr(q,et),Ve}for(ke=c(ke);!bt.done;et++,bt=H.next())bt=W(ke,q,et,bt.value,re),bt!==null&&(t&&bt.alternate!==null&&ke.delete(bt.key===null?et:bt.key),M=m(bt,M,et),yt===null?Ve=bt:yt.sibling=bt,yt=bt);return t&&ke.forEach(function(YT){return s(q,YT)}),ft&&Hr(q,et),Ve}function Ct(q,M,H,re){if(typeof H=="object"&&H!==null&&H.type===J&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case U:e:{for(var Ve=H.key;M!==null;){if(M.key===Ve){if(Ve=H.type,Ve===J){if(M.tag===7){a(q,M.sibling),re=f(M,H.props.children),re.return=q,q=re;break e}}else if(M.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===A&&za(Ve)===M.type){a(q,M.sibling),re=f(M,H.props),$o(re,H),re.return=q,q=re;break e}a(q,M);break}else s(q,M);M=M.sibling}H.type===J?(re=Ma(H.props.children,q.mode,re,H.key),re.return=q,q=re):(re=yu(H.type,H.key,H.props,null,q.mode,re),$o(re,H),re.return=q,q=re)}return x(q);case Q:e:{for(Ve=H.key;M!==null;){if(M.key===Ve)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(q,M.sibling),re=f(M,H.children||[]),re.return=q,q=re;break e}else{a(q,M);break}else s(q,M);M=M.sibling}re=Wh(H,q.mode,re),re.return=q,q=re}return x(q);case A:return H=za(H),Ct(q,M,H,re)}if(_t(H))return Re(q,M,H,re);if(z(H)){if(Ve=z(H),typeof Ve!="function")throw Error(i(150));return H=Ve.call(H),qe(q,M,H,re)}if(typeof H.then=="function")return Ct(q,M,Nu(H),re);if(H.$$typeof===fe)return Ct(q,M,vu(q,H),re);Tu(q,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(q,M.sibling),re=f(M,H),re.return=q,q=re):(a(q,M),re=Xh(H,q.mode,re),re.return=q,q=re),x(q)):a(q,M)}return function(q,M,H,re){try{Go=0;var Ve=Ct(q,M,H,re);return Ol=null,Ve}catch(ke){if(ke===Dl||ke===wu)throw ke;var yt=ls(29,ke,null,q.mode);return yt.lanes=re,yt.return=q,yt}}}var Ba=Ty(!0),Sy=Ty(!1),Di=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Oi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(t,s,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(xt&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=gu(t),cy(t,null,a),s}return pu(t,c,s,a),gu(t)}function Yo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,Na(t,a)}}function hf(t,s){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var ff=!1;function Ko(){if(ff){var t=kl;if(t!==null)throw t}}function Qo(t,s,a,c){ff=!1;var f=t.updateQueue;Di=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,G=O.next;O.next=null,x===null?m=G:x.next=G,x=O;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,E=ne.lastBaseUpdate,E!==x&&(E===null?ne.firstBaseUpdate=G:E.next=G,ne.lastBaseUpdate=O))}if(m!==null){var le=f.baseState;x=0,ne=G=O=null,E=m;do{var $=E.lane&-536870913,W=$!==E.lane;if(W?(at&$)===$:(c&$)===$){$!==0&&$===Il&&(ff=!0),ne!==null&&(ne=ne.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Re=t,qe=E;$=s;var Ct=a;switch(qe.tag){case 1:if(Re=qe.payload,typeof Re=="function"){le=Re.call(Ct,le,$);break e}le=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=qe.payload,$=typeof Re=="function"?Re.call(Ct,le,$):Re,$==null)break e;le=w({},le,$);break e;case 2:Di=!0}}$=E.callback,$!==null&&(t.flags|=64,W&&(t.flags|=8192),W=f.callbacks,W===null?f.callbacks=[$]:W.push($))}else W={lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ne===null?(G=ne=W,O=le):ne=ne.next=W,x|=$;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;W=E,E=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);ne===null&&(O=le),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=ne,m===null&&(f.shared.lanes=0),zi|=x,t.lanes=x,t.memoizedState=le}}function Ay(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function jy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ay(a[t],s)}var Ml=C(null),Su=C(0);function Cy(t,s){t=ti,ye(Su,t),ye(Ml,s),ti=t|s.baseLanes}function mf(){ye(Su,ti),ye(Ml,Ml.current)}function pf(){ti=Su.current,te(Ml),te(Su)}var os=C(null),As=null;function Pi(t){var s=t.alternate;ye(Wt,Wt.current&1),ye(os,t),As===null&&(s===null||Ml.current!==null||s.memoizedState!==null)&&(As=t)}function gf(t){ye(Wt,Wt.current),ye(os,t),As===null&&(As=t)}function Ry(t){t.tag===22?(ye(Wt,Wt.current),ye(os,t),As===null&&(As=t)):Vi()}function Vi(){ye(Wt,Wt.current),ye(os,os.current)}function cs(t){te(os),As===t&&(As=null),te(Wt)}var Wt=C(0);function Au(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wm(a)||Em(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Yr=0,We=null,At=null,sn=null,ju=!1,Pl=!1,Fa=!1,Cu=0,Xo=0,Vl=null,VN=0;function Kt(){throw Error(i(321))}function yf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!as(t[a],s[a]))return!1;return!0}function bf(t,s,a,c,f,m){return Yr=m,We=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=t===null||t.memoizedState===null?f0:Df,Fa=!1,m=a(c,f),Fa=!1,Pl&&(m=ky(s,a,c,f)),Iy(t),m}function Iy(t){ee.H=Zo;var s=At!==null&&At.next!==null;if(Yr=0,sn=At=We=null,ju=!1,Xo=0,Vl=null,s)throw Error(i(300));t===null||rn||(t=t.dependencies,t!==null&&xu(t)&&(rn=!0))}function ky(t,s,a,c){We=t;var f=0;do{if(Pl&&(Vl=null),Xo=0,Pl=!1,25<=f)throw Error(i(301));if(f+=1,sn=At=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ee.H=m0,m=s(a,c)}while(Pl);return m}function LN(){var t=ee.H,s=t.useState()[0];return s=typeof s.then=="function"?Wo(s):s,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(We.flags|=1024),s}function xf(){var t=Cu!==0;return Cu=0,t}function vf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function _f(t){if(ju){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ju=!1}Yr=0,sn=At=We=null,Pl=!1,Xo=Cu=0,Vl=null}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?We.memoizedState=sn=t:sn=sn.next=t,sn}function Jt(){if(At===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var s=sn===null?We.memoizedState:sn.next;if(s!==null)sn=s,At=t;else{if(t===null)throw We.alternate===null?Error(i(467)):Error(i(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},sn===null?We.memoizedState=sn=t:sn=sn.next=t}return sn}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var s=Xo;return Xo+=1,Vl===null&&(Vl=[]),t=wy(Vl,t,s),s=We,(sn===null?s.memoizedState:sn.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?f0:Df),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===fe)return Nn(t)}throw Error(i(438,String(t)))}function wf(t){var s=null,a=We.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=We.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ru(),We.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),c=0;c<t;c++)a[c]=P;return s.index++,a}function Kr(t,s){return typeof s=="function"?s(t):s}function ku(t){var s=Jt();return Ef(s,At,t)}function Ef(t,s,a){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}s.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var E=x=null,O=null,G=s,ne=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(at&le)===le:(Yr&le)===le){var $=G.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===Il&&(ne=!0);else if((Yr&$)===$){G=G.next,$===Il&&(ne=!0);continue}else le={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(E=O=le,x=m):O=O.next=le,We.lanes|=$,zi|=$;le=G.action,Fa&&a(m,le),m=G.hasEagerState?G.eagerState:a(m,le)}else $={lane:le,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(E=O=$,x=m):O=O.next=$,We.lanes|=le,zi|=le;G=G.next}while(G!==null&&G!==s);if(O===null?x=m:O.next=E,!as(m,t.memoizedState)&&(rn=!0,ne&&(a=kl,a!==null)))throw a;t.memoizedState=m,t.baseState=x,t.baseQueue=O,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Nf(t){var s=Jt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do m=t(m,x.action),x=x.next;while(x!==f);as(m,s.memoizedState)||(rn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function Dy(t,s,a){var c=We,f=Jt(),m=ft;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var x=!as((At||f).memoizedState,a);if(x&&(f.memoizedState=a,rn=!0),f=f.queue,Af(Py.bind(null,c,f,t),[t]),f.getSnapshot!==s||x||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,Ll(9,{destroy:void 0},My.bind(null,c,f,a,s),null),kt===null)throw Error(i(349));m||(Yr&127)!==0||Oy(c,s,a)}return a}function Oy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=We.updateQueue,s===null?(s=Ru(),We.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function My(t,s,a,c){s.value=a,s.getSnapshot=c,Vy(s)&&Ly(t)}function Py(t,s,a){return a(function(){Vy(s)&&Ly(t)})}function Vy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!as(t,a)}catch{return!0}}function Ly(t){var s=Oa(t,2);s!==null&&Yn(s,t,2)}function Tf(t){var s=zn();if(typeof t=="function"){var a=t;if(t=a(),Fa){_n(!0);try{a()}finally{_n(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},s}function Uy(t,s,a,c){return t.baseState=a,Ef(t,At,typeof c=="function"?c:Kr)}function UN(t,s,a,c,f){if(Mu(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};ee.T!==null?a(!0):m.isTransition=!1,c(m),a=s.pending,a===null?(m.next=s.pending=m,zy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function zy(t,s){var a=s.action,c=s.payload,f=t.state;if(s.isTransition){var m=ee.T,x={};ee.T=x;try{var E=a(f,c),O=ee.S;O!==null&&O(x,E),qy(t,s,E)}catch(G){Sf(t,s,G)}finally{m!==null&&x.types!==null&&(m.types=x.types),ee.T=m}}else try{m=a(f,c),qy(t,s,m)}catch(G){Sf(t,s,G)}}function qy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){By(t,s,c)},function(c){return Sf(t,s,c)}):By(t,s,a)}function By(t,s,a){s.status="fulfilled",s.value=a,Fy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,zy(t,a)))}function Sf(t,s,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,Fy(s),s=s.next;while(s!==c)}t.action=null}function Fy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Hy(t,s){return s}function Gy(t,s){if(ft){var a=kt.formState;if(a!==null){e:{var c=We;if(ft){if(Lt){t:{for(var f=Lt,m=Ss;f.nodeType!==8;){if(!m){f=null;break t}if(f=js(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Lt=js(f.nextSibling),c=f.data==="F!";break e}}Ii(c)}c=!1}c&&(s=a[0])}}return a=zn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:s},a.queue=c,a=u0.bind(null,We,c),c.dispatch=a,c=Tf(!1),m=kf.bind(null,We,!1,c.queue),c=zn(),f={state:s,dispatch:null,action:t,pending:null},c.queue=f,a=UN.bind(null,We,f,m,a),f.dispatch=a,c.memoizedState=t,[s,a,!1]}function $y(t){var s=Jt();return Yy(s,At,t)}function Yy(t,s,a){if(s=Ef(t,s,Hy)[0],t=ku(Kr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Wo(s)}catch(x){throw x===Dl?wu:x}else c=s;s=Jt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(We.flags|=2048,Ll(9,{destroy:void 0},zN.bind(null,f,a),null)),[c,m,t]}function zN(t,s){t.action=s}function Ky(t){var s=Jt(),a=At;if(a!==null)return Yy(s,a,t);Jt(),s=s.memoizedState,a=Jt();var c=a.queue.dispatch;return a.memoizedState=t,[s,c,!1]}function Ll(t,s,a,c){return t={tag:t,create:a,deps:c,inst:s,next:null},s=We.updateQueue,s===null&&(s=Ru(),We.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,s.lastEffect=t),t}function Qy(){return Jt().memoizedState}function Du(t,s,a,c){var f=zn();We.flags|=t,f.memoizedState=Ll(1|s,{destroy:void 0},a,c===void 0?null:c)}function Ou(t,s,a,c){var f=Jt();c=c===void 0?null:c;var m=f.memoizedState.inst;At!==null&&c!==null&&yf(c,At.memoizedState.deps)?f.memoizedState=Ll(s,m,a,c):(We.flags|=t,f.memoizedState=Ll(1|s,m,a,c))}function Xy(t,s){Du(8390656,8,t,s)}function Af(t,s){Ou(2048,8,t,s)}function qN(t){We.flags|=4;var s=We.updateQueue;if(s===null)s=Ru(),We.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Wy(t){var s=Jt().memoizedState;return qN({ref:s,nextImpl:t}),function(){if((xt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Jy(t,s){return Ou(4,2,t,s)}function Zy(t,s){return Ou(4,4,t,s)}function e0(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function t0(t,s,a){a=a!=null?a.concat([t]):null,Ou(4,4,e0.bind(null,s,t),a)}function jf(){}function n0(t,s){var a=Jt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&yf(s,c[1])?c[0]:(a.memoizedState=[t,s],t)}function s0(t,s){var a=Jt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&yf(s,c[1]))return c[0];if(c=t(),Fa){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[c,s],c}function Cf(t,s,a){return a===void 0||(Yr&1073741824)!==0&&(at&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=rb(),We.lanes|=t,zi|=t,a)}function r0(t,s,a,c){return as(a,s)?a:Ml.current!==null?(t=Cf(t,a,c),as(t,s)||(rn=!0),t):(Yr&42)===0||(Yr&1073741824)!==0&&(at&261930)===0?(rn=!0,t.memoizedState=a):(t=rb(),We.lanes|=t,zi|=t,s)}function i0(t,s,a,c,f){var m=pe.p;pe.p=m!==0&&8>m?m:8;var x=ee.T,E={};ee.T=E,kf(t,!1,s,a);try{var O=f(),G=ee.S;if(G!==null&&G(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=PN(O,c);Jo(t,s,ne,hs(t))}else Jo(t,s,c,hs(t))}catch(le){Jo(t,s,{then:function(){},status:"rejected",reason:le},hs())}finally{pe.p=m,x!==null&&E.types!==null&&(x.types=E.types),ee.T=x}}function BN(){}function Rf(t,s,a,c){if(t.tag!==5)throw Error(i(476));var f=a0(t).queue;i0(t,f,s,Ae,a===null?BN:function(){return l0(t),a(c)})}function a0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:Ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function l0(t){var s=a0(t);s.next===null&&(s=t.alternate.memoizedState),Jo(t,s.next.queue,{},hs())}function If(){return Nn(pc)}function o0(){return Jt().memoizedState}function c0(){return Jt().memoizedState}function FN(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=hs();t=Oi(a);var c=Mi(s,t,a);c!==null&&(Yn(c,s,a),Yo(c,s,a)),s={cache:af()},t.payload=s;return}s=s.return}}function HN(t,s,a){var c=hs();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(t)?d0(s,a):(a=Kh(t,s,a,c),a!==null&&(Yn(a,t,c),h0(a,s,c)))}function u0(t,s,a){var c=hs();Jo(t,s,a,c)}function Jo(t,s,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))d0(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var x=s.lastRenderedState,E=m(x,a);if(f.hasEagerState=!0,f.eagerState=E,as(E,x))return pu(t,s,f,0),kt===null&&mu(),!1}catch{}if(a=Kh(t,s,f,c),a!==null)return Yn(a,t,c),h0(a,s,c),!0}return!1}function kf(t,s,a,c){if(c={lane:2,revertLane:um(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(s)throw Error(i(479))}else s=Kh(t,a,c,2),s!==null&&Yn(s,t,2)}function Mu(t){var s=t.alternate;return t===We||s!==null&&s===We}function d0(t,s){Pl=ju=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function h0(t,s,a){if((a&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,Na(t,a)}}var Zo={readContext:Nn,use:Iu,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};Zo.useEffectEvent=Kt;var f0={readContext:Nn,use:Iu,useCallback:function(t,s){return zn().memoizedState=[t,s===void 0?null:s],t},useContext:Nn,useEffect:Xy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Du(4194308,4,e0.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Du(4194308,4,t,s)},useInsertionEffect:function(t,s){Du(4,2,t,s)},useMemo:function(t,s){var a=zn();s=s===void 0?null:s;var c=t();if(Fa){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[c,s],c},useReducer:function(t,s,a){var c=zn();if(a!==void 0){var f=a(s);if(Fa){_n(!0);try{a(s)}finally{_n(!1)}}}else f=s;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=HN.bind(null,We,t),[c.memoizedState,t]},useRef:function(t){var s=zn();return t={current:t},s.memoizedState=t},useState:function(t){t=Tf(t);var s=t.queue,a=u0.bind(null,We,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,s){var a=zn();return Cf(a,t,s)},useTransition:function(){var t=Tf(!1);return t=i0.bind(null,We,t.queue,!0,!1),zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var c=We,f=zn();if(ft){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),kt===null)throw Error(i(349));(at&127)!==0||Oy(c,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Xy(Py.bind(null,c,m,t),[t]),c.flags|=2048,Ll(9,{destroy:void 0},My.bind(null,c,m,a,s),null),a},useId:function(){var t=zn(),s=kt.identifierPrefix;if(ft){var a=cr,c=or;a=(c&~(1<<32-Mt(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Cu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=VN++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:If,useFormState:Gy,useActionState:Gy,useOptimistic:function(t){var s=zn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=kf.bind(null,We,!0,a),a.dispatch=s,[t,s]},useMemoCache:wf,useCacheRefresh:function(){return zn().memoizedState=FN.bind(null,We)},useEffectEvent:function(t){var s=zn(),a={impl:t};return s.memoizedState=a,function(){if((xt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Df={readContext:Nn,use:Iu,useCallback:n0,useContext:Nn,useEffect:Af,useImperativeHandle:t0,useInsertionEffect:Jy,useLayoutEffect:Zy,useMemo:s0,useReducer:ku,useRef:Qy,useState:function(){return ku(Kr)},useDebugValue:jf,useDeferredValue:function(t,s){var a=Jt();return r0(a,At.memoizedState,t,s)},useTransition:function(){var t=ku(Kr)[0],s=Jt().memoizedState;return[typeof t=="boolean"?t:Wo(t),s]},useSyncExternalStore:Dy,useId:o0,useHostTransitionStatus:If,useFormState:$y,useActionState:$y,useOptimistic:function(t,s){var a=Jt();return Uy(a,At,t,s)},useMemoCache:wf,useCacheRefresh:c0};Df.useEffectEvent=Wy;var m0={readContext:Nn,use:Iu,useCallback:n0,useContext:Nn,useEffect:Af,useImperativeHandle:t0,useInsertionEffect:Jy,useLayoutEffect:Zy,useMemo:s0,useReducer:Nf,useRef:Qy,useState:function(){return Nf(Kr)},useDebugValue:jf,useDeferredValue:function(t,s){var a=Jt();return At===null?Cf(a,t,s):r0(a,At.memoizedState,t,s)},useTransition:function(){var t=Nf(Kr)[0],s=Jt().memoizedState;return[typeof t=="boolean"?t:Wo(t),s]},useSyncExternalStore:Dy,useId:o0,useHostTransitionStatus:If,useFormState:Ky,useActionState:Ky,useOptimistic:function(t,s){var a=Jt();return At!==null?Uy(a,At,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:c0};m0.useEffectEvent=Wy;function Of(t,s,a,c){s=t.memoizedState,a=a(c,s),a=a==null?s:w({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mf={enqueueSetState:function(t,s,a){t=t._reactInternals;var c=hs(),f=Oi(c);f.payload=s,a!=null&&(f.callback=a),s=Mi(t,f,c),s!==null&&(Yn(s,t,c),Yo(s,t,c))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var c=hs(),f=Oi(c);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Mi(t,f,c),s!==null&&(Yn(s,t,c),Yo(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=hs(),c=Oi(a);c.tag=2,s!=null&&(c.callback=s),s=Mi(t,c,a),s!==null&&(Yn(s,t,a),Yo(s,t,a))}};function p0(t,s,a,c,f,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,x):s.prototype&&s.prototype.isPureReactComponent?!Uo(a,c)||!Uo(f,m):!0}function g0(t,s,a,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==t&&Mf.enqueueReplaceState(s,s.state,null)}function Ha(t,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(t=t.defaultProps){a===s&&(a=w({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function y0(t){fu(t)}function b0(t){console.error(t)}function x0(t){fu(t)}function Pu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function v0(t,s,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pf(t,s,a){return a=Oi(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(t,s)},a}function _0(t){return t=Oi(t),t.tag=3,t}function w0(t,s,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){v0(s,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){v0(s,a,c),typeof f!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function GN(t,s,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Rl(s,a,f,!0),a=os.current,a!==null){switch(a.tag){case 31:case 13:return As===null?Ku():a.alternate===null&&Qt===0&&(Qt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===Eu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),lm(t,c,f)),!1;case 22:return a.flags|=65536,c===Eu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),lm(t,c,f)),!1}throw Error(i(435,a.tag))}return lm(t,c,f),Ku(),!1}if(ft)return s=os.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==ef&&(t=Error(i(422),{cause:c}),Bo(Es(t,a)))):(c!==ef&&(s=Error(i(423),{cause:c}),Bo(Es(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=Es(c,a),f=Pf(t.stateNode,c,f),hf(t,f),Qt!==4&&(Qt=2)),!1;var m=Error(i(520),{cause:c});if(m=Es(m,a),lc===null?lc=[m]:lc.push(m),Qt!==4&&(Qt=2),s===null)return!0;c=Es(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Pf(a.stateNode,c,t),hf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qi===null||!qi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=_0(f),w0(f,t,a,c),hf(a,f),!1}a=a.return}while(a!==null);return!1}var Vf=Error(i(461)),rn=!1;function Tn(t,s,a,c){s.child=t===null?Sy(s,null,a,c):Ba(s,t.child,a,c)}function E0(t,s,a,c,f){a=a.render;var m=s.ref;if("ref"in c){var x={};for(var E in c)E!=="ref"&&(x[E]=c[E])}else x=c;return La(s),c=bf(t,s,a,x,m,f),E=xf(),t!==null&&!rn?(vf(t,s,f),Qr(t,s,f)):(ft&&E&&Jh(s),s.flags|=1,Tn(t,s,c,f),s.child)}function N0(t,s,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!Qh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,T0(t,s,m,c,f)):(t=yu(a.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Gf(t,f)){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(x,c)&&t.ref===s.ref)return Qr(t,s,f)}return s.flags|=1,t=Fr(m,c),t.ref=s.ref,t.return=s,s.child=t}function T0(t,s,a,c,f){if(t!==null){var m=t.memoizedProps;if(Uo(m,c)&&t.ref===s.ref)if(rn=!1,s.pendingProps=c=m,Gf(t,f))(t.flags&131072)!==0&&(rn=!0);else return s.lanes=t.lanes,Qr(t,s,f)}return Lf(t,s,a,c,f)}function S0(t,s,a,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(c=s.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,s.child=null;return A0(t,s,m,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(s,m!==null?m.cachePool:null),m!==null?Cy(s,m):mf(),Ry(s);else return c=s.lanes=536870912,A0(t,s,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(_u(s,m.cachePool),Cy(s,m),Vi(),s.memoizedState=null):(t!==null&&_u(s,null),mf(),Vi());return Tn(t,s,f,a),s.child}function ec(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function A0(t,s,a,c,f){var m=of();return m=m===null?null:{parent:nn._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&_u(s,null),mf(),Ry(s),t!==null&&Rl(t,s,c,!0),s.childLanes=f,null}function Vu(t,s){return s=Uu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function j0(t,s,a){return Ba(s,t.child,null,a),t=Vu(s,s.pendingProps),t.flags|=2,cs(s),s.memoizedState=null,t}function $N(t,s,a){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ft){if(c.mode==="hidden")return t=Vu(s,c),s.lanes=536870912,ec(null,t);if(gf(s),(t=Lt)?(t=zb(t,Ss),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ci!==null?{id:or,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},a=dy(t),a.return=s,s.child=a,En=s,Lt=null)):t=null,t===null)throw Ii(s);return s.lanes=536870912,null}return Vu(s,c)}var m=t.memoizedState;if(m!==null){var x=m.dehydrated;if(gf(s),f)if(s.flags&256)s.flags&=-257,s=j0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(rn||Rl(t,s,a,!1),f=(a&t.childLanes)!==0,rn||f){if(c=kt,c!==null&&(x=Ta(c,a),x!==0&&x!==m.retryLane))throw m.retryLane=x,Oa(t,x),Yn(c,t,x),Vf;Ku(),s=j0(t,s,a)}else t=m.treeContext,Lt=js(x.nextSibling),En=s,ft=!0,Ri=null,Ss=!1,t!==null&&my(s,t),s=Vu(s,c),s.flags|=4096;return s}return t=Fr(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Lu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Lf(t,s,a,c,f){return La(s),a=bf(t,s,a,c,void 0,f),c=xf(),t!==null&&!rn?(vf(t,s,f),Qr(t,s,f)):(ft&&c&&Jh(s),s.flags|=1,Tn(t,s,a,f),s.child)}function C0(t,s,a,c,f,m){return La(s),s.updateQueue=null,a=ky(s,c,a,f),Iy(t),c=xf(),t!==null&&!rn?(vf(t,s,m),Qr(t,s,m)):(ft&&c&&Jh(s),s.flags|=1,Tn(t,s,a,m),s.child)}function R0(t,s,a,c,f){if(La(s),s.stateNode===null){var m=Sl,x=a.contextType;typeof x=="object"&&x!==null&&(m=Nn(x)),m=new a(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Mf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},uf(s),x=a.contextType,m.context=typeof x=="object"&&x!==null?Nn(x):Sl,m.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Of(s,a,x,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Mf.enqueueReplaceState(m,m.state,null),Qo(s,c,m,f),Ko(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){m=s.stateNode;var E=s.memoizedProps,O=Ha(a,E);m.props=O;var G=m.context,ne=a.contextType;x=Sl,typeof ne=="object"&&ne!==null&&(x=Nn(ne));var le=a.getDerivedStateFromProps;ne=typeof le=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||G!==x)&&g0(s,m,c,x),Di=!1;var $=s.memoizedState;m.state=$,Qo(s,c,m,f),Ko(),G=s.memoizedState,E||$!==G||Di?(typeof le=="function"&&(Of(s,a,le,c),G=s.memoizedState),(O=Di||p0(s,a,O,c,$,G,x))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=G),m.props=c,m.state=G,m.context=x,c=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,df(t,s),x=s.memoizedProps,ne=Ha(a,x),m.props=ne,le=s.pendingProps,$=m.context,G=a.contextType,O=Sl,typeof G=="object"&&G!==null&&(O=Nn(G)),E=a.getDerivedStateFromProps,(G=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==le||$!==O)&&g0(s,m,c,O),Di=!1,$=s.memoizedState,m.state=$,Qo(s,c,m,f),Ko();var W=s.memoizedState;x!==le||$!==W||Di||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof E=="function"&&(Of(s,a,E,c),W=s.memoizedState),(ne=Di||p0(s,a,ne,c,$,W,O)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,W,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,W,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=W),m.props=c,m.state=W,m.context=O,c=ne):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),c=!1)}return m=c,Lu(t,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&c?(s.child=Ba(s,t.child,null,f),s.child=Ba(s,null,a,f)):Tn(t,s,a,f),s.memoizedState=m.state,t=s.child):t=Qr(t,s,f),t}function I0(t,s,a,c){return Pa(),s.flags|=256,Tn(t,s,a,c),s.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:vy()}}function qf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=ds),t}function k0(t,s,a){var c=s.pendingProps,f=!1,m=(s.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(Wt.current&2)!==0),x&&(f=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,t===null){if(ft){if(f?Pi(s):Vi(),(t=Lt)?(t=zb(t,Ss),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ci!==null?{id:or,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},a=dy(t),a.return=s,s.child=a,En=s,Lt=null)):t=null,t===null)throw Ii(s);return Em(t)?s.lanes=32:s.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(Vi(),f=s.mode,E=Uu({mode:"hidden",children:E},f),c=Ma(c,f,a,null),E.return=s,c.return=s,E.sibling=c,s.child=E,c=s.child,c.memoizedState=zf(a),c.childLanes=qf(t,x,a),s.memoizedState=Uf,ec(null,c)):(Pi(s),Bf(s,E))}var O=t.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(m)s.flags&256?(Pi(s),s.flags&=-257,s=Ff(t,s,a)):s.memoizedState!==null?(Vi(),s.child=t.child,s.flags|=128,s=null):(Vi(),E=c.fallback,f=s.mode,c=Uu({mode:"visible",children:c.children},f),E=Ma(E,f,a,null),E.flags|=2,c.return=s,E.return=s,c.sibling=E,s.child=c,Ba(s,t.child,null,a),c=s.child,c.memoizedState=zf(a),c.childLanes=qf(t,x,a),s.memoizedState=Uf,s=ec(null,c));else if(Pi(s),Em(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var G=x.dgst;x=G,c=Error(i(419)),c.stack="",c.digest=x,Bo({value:c,source:null,stack:null}),s=Ff(t,s,a)}else if(rn||Rl(t,s,a,!1),x=(a&t.childLanes)!==0,rn||x){if(x=kt,x!==null&&(c=Ta(x,a),c!==0&&c!==O.retryLane))throw O.retryLane=c,Oa(t,c),Yn(x,t,c),Vf;wm(E)||Ku(),s=Ff(t,s,a)}else wm(E)?(s.flags|=192,s.child=t.child,s=null):(t=O.treeContext,Lt=js(E.nextSibling),En=s,ft=!0,Ri=null,Ss=!1,t!==null&&my(s,t),s=Bf(s,c.children),s.flags|=4096);return s}return f?(Vi(),E=c.fallback,f=s.mode,O=t.child,G=O.sibling,c=Fr(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,G!==null?E=Fr(G,E):(E=Ma(E,f,a,null),E.flags|=2),E.return=s,c.return=s,c.sibling=E,s.child=c,ec(null,c),c=s.child,E=t.child.memoizedState,E===null?E=zf(a):(f=E.cachePool,f!==null?(O=nn._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=vy(),E={baseLanes:E.baseLanes|a,cachePool:f}),c.memoizedState=E,c.childLanes=qf(t,x,a),s.memoizedState=Uf,ec(t.child,c)):(Pi(s),a=t.child,t=a.sibling,a=Fr(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,t!==null&&(x=s.deletions,x===null?(s.deletions=[t],s.flags|=16):x.push(t)),s.child=a,s.memoizedState=null,a)}function Bf(t,s){return s=Uu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Uu(t,s){return t=ls(22,t,null,s),t.lanes=0,t}function Ff(t,s,a){return Ba(s,t.child,null,a),t=Bf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function D0(t,s,a){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),sf(t.return,s,a)}function Hf(t,s,a,c,f,m){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:m}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=a,x.tailMode=f,x.treeForkCount=m)}function O0(t,s,a){var c=s.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var x=Wt.current,E=(x&2)!==0;if(E?(x=x&1|2,s.flags|=128):x&=1,ye(Wt,x),Tn(t,s,c,a),c=ft?qo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D0(t,a,s);else if(t.tag===19)D0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Au(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Hf(s,!1,f,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Au(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Hf(s,!0,a,null,m,c);break;case"together":Hf(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Qr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),zi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Rl(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=Fr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Fr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Gf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function YN(t,s,a){switch(s.tag){case 3:Tt(s,s.stateNode.containerInfo),ki(s,nn,t.memoizedState.cache),Pa();break;case 27:case 5:Zs(s);break;case 4:Tt(s,s.stateNode.containerInfo);break;case 10:ki(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,gf(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Pi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?k0(t,s,a):(Pi(s),t=Qr(t,s,a),t!==null?t.sibling:null);Pi(s);break;case 19:var f=(t.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Rl(t,s,a,!1),c=(a&s.childLanes)!==0),f){if(c)return O0(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ye(Wt,Wt.current),c)break;return null;case 22:return s.lanes=0,S0(t,s,a,s.pendingProps);case 24:ki(s,nn,t.memoizedState.cache)}return Qr(t,s,a)}function M0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)rn=!0;else{if(!Gf(t,a)&&(s.flags&128)===0)return rn=!1,YN(t,s,a);rn=(t.flags&131072)!==0}else rn=!1,ft&&(s.flags&1048576)!==0&&fy(s,qo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=za(s.elementType),s.type=t,typeof t=="function")Qh(t)?(c=Ha(t,c),s.tag=1,s=R0(null,s,t,c,a)):(s.tag=0,s=Lf(null,s,t,c,a));else{if(t!=null){var f=t.$$typeof;if(f===we){s.tag=11,s=E0(null,s,t,c,a);break e}else if(f===R){s.tag=14,s=N0(null,s,t,c,a);break e}}throw s=nt(t)||t,Error(i(306,s,""))}}return s;case 0:return Lf(t,s,s.type,s.pendingProps,a);case 1:return c=s.type,f=Ha(c,s.pendingProps),R0(t,s,c,f,a);case 3:e:{if(Tt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));c=s.pendingProps;var m=s.memoizedState;f=m.element,df(t,s),Qo(s,c,null,a);var x=s.memoizedState;if(c=x.cache,ki(s,nn,c),c!==m.cache&&rf(s,[nn],a,!0),Ko(),c=x.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=I0(t,s,c,a);break e}else if(c!==f){f=Es(Error(i(424)),s),Bo(f),s=I0(t,s,c,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Lt=js(t.firstChild),En=s,ft=!0,Ri=null,Ss=!0,a=Sy(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Pa(),c===f){s=Qr(t,s,a);break e}Tn(t,s,c,a)}s=s.child}return s;case 26:return Lu(t,s),t===null?(a=$b(s.type,null,s.pendingProps,null))?s.memoizedState=a:ft||(a=s.type,t=s.pendingProps,c=td(Ue.current).createElement(a),c[Yt]=s,c[tn]=t,Sn(c,a,t),he(c),s.stateNode=c):s.memoizedState=$b(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Zs(s),t===null&&ft&&(c=s.stateNode=Fb(s.type,s.pendingProps,Ue.current),En=s,Ss=!0,f=Lt,Gi(s.type)?(Nm=f,Lt=js(c.firstChild)):Lt=f),Tn(t,s,s.pendingProps.children,a),Lu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ft&&((f=c=Lt)&&(c=ET(c,s.type,s.pendingProps,Ss),c!==null?(s.stateNode=c,En=s,Lt=js(c.firstChild),Ss=!1,f=!0):f=!1),f||Ii(s)),Zs(s),f=s.type,m=s.pendingProps,x=t!==null?t.memoizedProps:null,c=m.children,xm(f,m)?c=null:x!==null&&xm(f,x)&&(s.flags|=32),s.memoizedState!==null&&(f=bf(t,s,LN,null,null,a),pc._currentValue=f),Lu(t,s),Tn(t,s,c,a),s.child;case 6:return t===null&&ft&&((t=a=Lt)&&(a=NT(a,s.pendingProps,Ss),a!==null?(s.stateNode=a,En=s,Lt=null,t=!0):t=!1),t||Ii(s)),null;case 13:return k0(t,s,a);case 4:return Tt(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Ba(s,null,c,a):Tn(t,s,c,a),s.child;case 11:return E0(t,s,s.type,s.pendingProps,a);case 7:return Tn(t,s,s.pendingProps,a),s.child;case 8:return Tn(t,s,s.pendingProps.children,a),s.child;case 12:return Tn(t,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,ki(s,s.type,c.value),Tn(t,s,c.children,a),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,La(s),f=Nn(f),c=c(f),s.flags|=1,Tn(t,s,c,a),s.child;case 14:return N0(t,s,s.type,s.pendingProps,a);case 15:return T0(t,s,s.type,s.pendingProps,a);case 19:return O0(t,s,a);case 31:return $N(t,s,a);case 22:return S0(t,s,a,s.pendingProps);case 24:return La(s),c=Nn(nn),t===null?(f=of(),f===null&&(f=kt,m=af(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:c,cache:f},uf(s),ki(s,nn,f)):((t.lanes&a)!==0&&(df(t,s),Qo(s,null,null,a),Ko()),f=t.memoizedState,m=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ki(s,nn,c)):(c=m.cache,ki(s,nn,c),c!==f.cache&&rf(s,[nn],a,!0))),Tn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Xr(t){t.flags|=4}function $f(t,s,a,c,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(ob())t.flags|=8192;else throw qa=Eu,cf}else t.flags&=-16777217}function P0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wb(s))if(ob())t.flags|=8192;else throw qa=Eu,cf}function zu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ol():536870912,t.lanes|=s,Bl|=s)}function tc(t,s){if(!ft)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ut(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,s}function KN(t,s,a){var c=s.pendingProps;switch(Zh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return Ut(s),null;case 3:return a=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),$r(nn),It(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Cl(s)?Xr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,tf())),Ut(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(Xr(s),m!==null?(Ut(s),P0(s,m)):(Ut(s),$f(s,f,null,c,a))):m?m!==t.memoizedState?(Xr(s),Ut(s),P0(s,m)):(Ut(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&Xr(s),Ut(s),$f(s,f,t,c,a)),null;case 27:if(Er(s),a=Ue.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Xr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Ut(s),null}t=Se.current,Cl(s)?py(s):(t=Fb(f,c,a),s.stateNode=t,Xr(s))}return Ut(s),null;case 5:if(Er(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Xr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Ut(s),null}if(m=Se.current,Cl(s))py(s);else{var x=td(Ue.current);switch(m){case 1:m=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=x.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?x.createElement(f,{is:c.is}):x.createElement(f)}}m[Yt]=s,m[tn]=c;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)m.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=m;e:switch(Sn(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Xr(s)}}return Ut(s),$f(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Xr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ue.current,Cl(s)){if(t=s.stateNode,a=s.memoizedProps,c=null,f=En,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[Yt]=s,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||kb(t.nodeValue,a)),t||Ii(s,!0)}else t=td(t).createTextNode(c),t[Yt]=s,s.stateNode=t}return Ut(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(c=Cl(s),a!==null){if(t===null){if(!c)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Yt]=s}else Pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),t=!1}else a=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(cs(s),s):(cs(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Ut(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Cl(s),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Yt]=s}else Pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ut(s),f=!1}else f=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(cs(s),s):(cs(s),null)}return cs(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),zu(s,s.updateQueue),Ut(s),null);case 4:return It(),t===null&&mm(s.stateNode.containerInfo),Ut(s),null;case 10:return $r(s.type),Ut(s),null;case 19:if(te(Wt),c=s.memoizedState,c===null)return Ut(s),null;if(f=(s.flags&128)!==0,m=c.rendering,m===null)if(f)tc(c,!1);else{if(Qt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Au(t),m!==null){for(s.flags|=128,tc(c,!1),t=m.updateQueue,s.updateQueue=t,zu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)uy(a,t),a=a.sibling;return ye(Wt,Wt.current&1|2),ft&&Hr(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&un()>Gu&&(s.flags|=128,f=!0,tc(c,!1),s.lanes=4194304)}else{if(!f)if(t=Au(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,zu(s,t),tc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!ft)return Ut(s),null}else 2*un()-c.renderingStartTime>Gu&&a!==536870912&&(s.flags|=128,f=!0,tc(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(t=c.last,t!==null?t.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=un(),t.sibling=null,a=Wt.current,ye(Wt,f?a&1|2:a&1),ft&&Hr(s,c.treeForkCount),t):(Ut(s),null);case 22:case 23:return cs(s),pf(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),a=s.updateQueue,a!==null&&zu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),t!==null&&te(Ua),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),$r(nn),Ut(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function QN(t,s){switch(Zh(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return $r(nn),It(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Er(s),null;case 31:if(s.memoizedState!==null){if(cs(s),s.alternate===null)throw Error(i(340));Pa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(cs(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Pa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return te(Wt),null;case 4:return It(),null;case 10:return $r(s.type),null;case 22:case 23:return cs(s),pf(),t!==null&&te(Ua),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return $r(nn),null;case 25:return null;default:return null}}function V0(t,s){switch(Zh(s),s.tag){case 3:$r(nn),It();break;case 26:case 27:case 5:Er(s);break;case 4:It();break;case 31:s.memoizedState!==null&&cs(s);break;case 13:cs(s);break;case 19:te(Wt);break;case 10:$r(s.type);break;case 22:case 23:cs(s),pf(),t!==null&&te(Ua);break;case 24:$r(nn)}}function nc(t,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var m=a.create,x=a.inst;c=m(),x.destroy=c}a=a.next}while(a!==f)}}catch(E){Nt(s,s.return,E)}}function Li(t,s,a){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var x=c.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=s;var O=a,G=E;try{G()}catch(ne){Nt(f,O,ne)}}}c=c.next}while(c!==m)}}catch(ne){Nt(s,s.return,ne)}}function L0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{jy(s,a)}catch(c){Nt(t,t.return,c)}}}function U0(t,s,a){a.props=Ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Nt(t,s,c)}}function sc(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){Nt(t,s,f)}}function ur(t,s){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){Nt(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Nt(t,s,f)}else a.current=null}function z0(t){var s=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){Nt(t,t.return,f)}}function Yf(t,s,a){try{var c=t.stateNode;yT(c,t.type,a,s),c[tn]=s}catch(f){Nt(t,t.return,f)}}function q0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gi(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=xs));else if(c!==4&&(c===27&&Gi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Qf(t,s,a),t=t.sibling;t!==null;)Qf(t,s,a),t=t.sibling}function qu(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(c!==4&&(c===27&&Gi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qu(t,s,a),t=t.sibling;t!==null;)qu(t,s,a),t=t.sibling}function B0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Sn(s,c,a),s[Yt]=t,s[tn]=a}catch(m){Nt(t,t.return,m)}}var Wr=!1,an=!1,Xf=!1,F0=typeof WeakSet=="function"?WeakSet:Set,bn=null;function XN(t,s){if(t=t.containerInfo,ym=od,t=ty(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,E=-1,O=-1,G=0,ne=0,le=t,$=null;t:for(;;){for(var W;le!==a||f!==0&&le.nodeType!==3||(E=x+f),le!==m||c!==0&&le.nodeType!==3||(O=x+c),le.nodeType===3&&(x+=le.nodeValue.length),(W=le.firstChild)!==null;)$=le,le=W;for(;;){if(le===t)break t;if($===a&&++G===f&&(E=x),$===m&&++ne===c&&(O=x),(W=le.nextSibling)!==null)break;le=$,$=le.parentNode}le=W}a=E===-1||O===-1?null:{start:E,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(bm={focusedElem:t,selectionRange:a},od=!1,bn=s;bn!==null;)if(s=bn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,bn=t;else for(;bn!==null;){switch(s=bn,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var Re=Ha(a.type,f);t=c.getSnapshotBeforeUpdate(Re,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(qe){Nt(a,a.return,qe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)_m(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_m(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,bn=t;break}bn=s.return}}function H0(t,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(t,a),c&4&&nc(5,a);break;case 1:if(Zr(t,a),c&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(x){Nt(a,a.return,x)}else{var f=Ha(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(x){Nt(a,a.return,x)}}c&64&&L0(a),c&512&&sc(a,a.return);break;case 3:if(Zr(t,a),c&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{jy(t,s)}catch(x){Nt(a,a.return,x)}}break;case 27:s===null&&c&4&&B0(a);case 26:case 5:Zr(t,a),s===null&&c&4&&z0(a),c&512&&sc(a,a.return);break;case 12:Zr(t,a);break;case 31:Zr(t,a),c&4&&Y0(t,a);break;case 13:Zr(t,a),c&4&&K0(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=iT.bind(null,a),TT(t,a))));break;case 22:if(c=a.memoizedState!==null||Wr,!c){s=s!==null&&s.memoizedState!==null||an,f=Wr;var m=an;Wr=c,(an=s)&&!m?ei(t,a,(a.subtreeFlags&8772)!==0):Zr(t,a),Wr=f,an=m}break;case 30:break;default:Zr(t,a)}}function G0(t){var s=t.alternate;s!==null&&(t.alternate=null,G0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&L(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var zt=null,Fn=!1;function Jr(t,s,a){for(a=a.child;a!==null;)$0(t,s,a),a=a.sibling}function $0(t,s,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(es,a)}catch{}switch(a.tag){case 26:an||ur(a,s),Jr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:an||ur(a,s);var c=zt,f=Fn;Gi(a.type)&&(zt=a.stateNode,Fn=!1),Jr(t,s,a),hc(a.stateNode),zt=c,Fn=f;break;case 5:an||ur(a,s);case 6:if(c=zt,f=Fn,zt=null,Jr(t,s,a),zt=c,Fn=f,zt!==null)if(Fn)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(a.stateNode)}catch(m){Nt(a,s,m)}else try{zt.removeChild(a.stateNode)}catch(m){Nt(a,s,m)}break;case 18:zt!==null&&(Fn?(t=zt,Lb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xl(t)):Lb(zt,a.stateNode));break;case 4:c=zt,f=Fn,zt=a.stateNode.containerInfo,Fn=!0,Jr(t,s,a),zt=c,Fn=f;break;case 0:case 11:case 14:case 15:Li(2,a,s),an||Li(4,a,s),Jr(t,s,a);break;case 1:an||(ur(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&U0(a,s,c)),Jr(t,s,a);break;case 21:Jr(t,s,a);break;case 22:an=(c=an)||a.memoizedState!==null,Jr(t,s,a),an=c;break;default:Jr(t,s,a)}}function Y0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xl(t)}catch(a){Nt(s,s.return,a)}}}function K0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(a){Nt(s,s.return,a)}}function WN(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new F0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new F0),s;default:throw Error(i(435,t.tag))}}function Bu(t,s){var a=WN(t);s.forEach(function(c){if(!a.has(c)){a.add(c);var f=aT.bind(null,t,c);c.then(f,f)}})}function Hn(t,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],m=t,x=s,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Gi(E.type)){zt=E.stateNode,Fn=!1;break e}break;case 5:zt=E.stateNode,Fn=!1;break e;case 3:case 4:zt=E.stateNode.containerInfo,Fn=!0;break e}E=E.return}if(zt===null)throw Error(i(160));$0(m,x,f),zt=null,Fn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Q0(s,t),s=s.sibling}var Fs=null;function Q0(t,s){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hn(s,t),Gn(t),c&4&&(Li(3,t,t.return),nc(3,t),Li(5,t,t.return));break;case 1:Hn(s,t),Gn(t),c&512&&(an||a===null||ur(a,a.return)),c&64&&Wr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=Fs;if(Hn(s,t),Gn(t),c&512&&(an||a===null||ur(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[D]||m[Yt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Sn(m,c,a),m[Yt]=t,he(m),c=m;break e;case"link":var x=Qb("link","href",f).get(c+(a.href||""));if(x){for(var E=0;E<x.length;E++)if(m=x[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(E,1);break t}}m=f.createElement(c),Sn(m,c,a),f.head.appendChild(m);break;case"meta":if(x=Qb("meta","content",f).get(c+(a.content||""))){for(E=0;E<x.length;E++)if(m=x[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(E,1);break t}}m=f.createElement(c),Sn(m,c,a),f.head.appendChild(m);break;default:throw Error(i(468,c))}m[Yt]=t,he(m),c=m}t.stateNode=c}else Xb(f,t.type,t.stateNode);else t.stateNode=Kb(f,c,t.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?Xb(f,t.type,t.stateNode):Kb(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Hn(s,t),Gn(t),c&512&&(an||a===null||ur(a,a.return)),a!==null&&c&4&&Yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Hn(s,t),Gn(t),c&512&&(an||a===null||ur(a,a.return)),t.flags&32){f=t.stateNode;try{Un(f,"")}catch(Re){Nt(t,t.return,Re)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,Yf(t,f,a!==null?a.memoizedProps:f)),c&1024&&(Xf=!0);break;case 6:if(Hn(s,t),Gn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(Re){Nt(t,t.return,Re)}}break;case 3:if(rd=null,f=Fs,Fs=nd(s.containerInfo),Hn(s,t),Fs=f,Gn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(s.containerInfo)}catch(Re){Nt(t,t.return,Re)}Xf&&(Xf=!1,X0(t));break;case 4:c=Fs,Fs=nd(t.stateNode.containerInfo),Hn(s,t),Gn(t),Fs=c;break;case 12:Hn(s,t),Gn(t);break;case 31:Hn(s,t),Gn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Bu(t,c)));break;case 13:Hn(s,t),Gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hu=un()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Bu(t,c)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,G=Wr,ne=an;if(Wr=G||f,an=ne||O,Hn(s,t),an=ne,Wr=G,Gn(t),c&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||O||Wr||an||Ga(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(m=O.stateNode,f)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=O.stateNode;var le=O.memoizedProps.style,$=le!=null&&le.hasOwnProperty("display")?le.display:null;E.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Re){Nt(O,O.return,Re)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(Re){Nt(O,O.return,Re)}}}else if(s.tag===18){if(a===null){O=s;try{var W=O.stateNode;f?Ub(W,!0):Ub(O.stateNode,!1)}catch(Re){Nt(O,O.return,Re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Bu(t,a))));break;case 19:Hn(s,t),Gn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Bu(t,c)));break;case 30:break;case 21:break;default:Hn(s,t),Gn(t)}}function Gn(t){var s=t.flags;if(s&2){try{for(var a,c=t.return;c!==null;){if(q0(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Kf(t);qu(t,m,f);break;case 5:var x=a.stateNode;a.flags&32&&(Un(x,""),a.flags&=-33);var E=Kf(t);qu(t,E,x);break;case 3:case 4:var O=a.stateNode.containerInfo,G=Kf(t);Qf(t,G,O);break;default:throw Error(i(161))}}catch(ne){Nt(t,t.return,ne)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function X0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;X0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Zr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)H0(t,s.alternate,s),s=s.sibling}function Ga(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Li(4,s,s.return),Ga(s);break;case 1:ur(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&U0(s,s.return,a),Ga(s);break;case 27:hc(s.stateNode);case 26:case 5:ur(s,s.return),Ga(s);break;case 22:s.memoizedState===null&&Ga(s);break;case 30:Ga(s);break;default:Ga(s)}t=t.sibling}}function ei(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=t,m=s,x=m.flags;switch(m.tag){case 0:case 11:case 15:ei(f,m,a),nc(4,m);break;case 1:if(ei(f,m,a),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Nt(c,c.return,G)}if(c=m,f=c.updateQueue,f!==null){var E=c.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Ay(O[f],E)}catch(G){Nt(c,c.return,G)}}a&&x&64&&L0(m),sc(m,m.return);break;case 27:B0(m);case 26:case 5:ei(f,m,a),a&&c===null&&x&4&&z0(m),sc(m,m.return);break;case 12:ei(f,m,a);break;case 31:ei(f,m,a),a&&x&4&&Y0(f,m);break;case 13:ei(f,m,a),a&&x&4&&K0(f,m);break;case 22:m.memoizedState===null&&ei(f,m,a),sc(m,m.return);break;case 30:break;default:ei(f,m,a)}s=s.sibling}}function Wf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fo(a))}function Jf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Fo(t))}function Hs(t,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W0(t,s,a,c),s=s.sibling}function W0(t,s,a,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Hs(t,s,a,c),f&2048&&nc(9,s);break;case 1:Hs(t,s,a,c);break;case 3:Hs(t,s,a,c),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Fo(t)));break;case 12:if(f&2048){Hs(t,s,a,c),t=s.stateNode;try{var m=s.memoizedProps,x=m.id,E=m.onPostCommit;typeof E=="function"&&E(x,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Nt(s,s.return,O)}}else Hs(t,s,a,c);break;case 31:Hs(t,s,a,c);break;case 13:Hs(t,s,a,c);break;case 23:break;case 22:m=s.stateNode,x=s.alternate,s.memoizedState!==null?m._visibility&2?Hs(t,s,a,c):rc(t,s):m._visibility&2?Hs(t,s,a,c):(m._visibility|=2,Ul(t,s,a,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Wf(x,s);break;case 24:Hs(t,s,a,c),f&2048&&Jf(s.alternate,s);break;default:Hs(t,s,a,c)}}function Ul(t,s,a,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,x=s,E=a,O=c,G=x.flags;switch(x.tag){case 0:case 11:case 15:Ul(m,x,E,O,f),nc(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?Ul(m,x,E,O,f):rc(m,x):(ne._visibility|=2,Ul(m,x,E,O,f)),f&&G&2048&&Wf(x.alternate,x);break;case 24:Ul(m,x,E,O,f),f&&G&2048&&Jf(x.alternate,x);break;default:Ul(m,x,E,O,f)}s=s.sibling}}function rc(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,c=s,f=c.flags;switch(c.tag){case 22:rc(a,c),f&2048&&Wf(c.alternate,c);break;case 24:rc(a,c),f&2048&&Jf(c.alternate,c);break;default:rc(a,c)}s=s.sibling}}var ic=8192;function zl(t,s,a){if(t.subtreeFlags&ic)for(t=t.child;t!==null;)J0(t,s,a),t=t.sibling}function J0(t,s,a){switch(t.tag){case 26:zl(t,s,a),t.flags&ic&&t.memoizedState!==null&&VT(a,Fs,t.memoizedState,t.memoizedProps);break;case 5:zl(t,s,a);break;case 3:case 4:var c=Fs;Fs=nd(t.stateNode.containerInfo),zl(t,s,a),Fs=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=ic,ic=16777216,zl(t,s,a),ic=c):zl(t,s,a));break;default:zl(t,s,a)}}function Z0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ac(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];bn=c,tb(c,t)}Z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)eb(t),t=t.sibling}function eb(t){switch(t.tag){case 0:case 11:case 15:ac(t),t.flags&2048&&Li(9,t,t.return);break;case 3:ac(t);break;case 12:ac(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Fu(t)):ac(t);break;default:ac(t)}}function Fu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];bn=c,tb(c,t)}Z0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Li(8,s,s.return),Fu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(s));break;default:Fu(s)}t=t.sibling}}function tb(t,s){for(;bn!==null;){var a=bn;switch(a.tag){case 0:case 11:case 15:Li(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,bn=c;else e:for(a=t;bn!==null;){c=bn;var f=c.sibling,m=c.return;if(G0(c),c===a){bn=null;break e}if(f!==null){f.return=m,bn=f;break e}bn=m}}}var JN={getCacheForType:function(t){var s=Nn(nn),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Nn(nn).controller.signal}},ZN=typeof WeakMap=="function"?WeakMap:Map,xt=0,kt=null,st=null,at=0,Et=0,us=null,Ui=!1,ql=!1,Zf=!1,ti=0,Qt=0,zi=0,$a=0,em=0,ds=0,Bl=0,lc=null,$n=null,tm=!1,Hu=0,nb=0,Gu=1/0,$u=null,qi=null,fn=0,Bi=null,Fl=null,ni=0,nm=0,sm=null,sb=null,oc=0,rm=null;function hs(){return(xt&2)!==0&&at!==0?at&-at:ee.T!==null?um():cl()}function rb(){if(ds===0)if((at&536870912)===0||ft){var t=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),ds=t}else ds=536870912;return t=os.current,t!==null&&(t.flags|=32),ds}function Yn(t,s,a){(t===kt&&(Et===2||Et===9)||t.cancelPendingCommit!==null)&&(Hl(t,0),Fi(t,at,ds,!1)),jr(t,a),((xt&2)===0||t!==kt)&&(t===kt&&((xt&2)===0&&($a|=a),Qt===4&&Fi(t,at,ds,!1)),dr(t))}function ib(t,s,a){if((xt&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Ft(t,s),f=c?nT(t,s):am(t,s,!0),m=c;do{if(f===0){ql&&!c&&Fi(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!eT(a)){f=am(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var E=t;f=lc;var O=E.current.memoizedState.isDehydrated;if(O&&(Hl(E,x).flags|=256),x=am(E,x,!1),x!==2){if(Zf&&!O){E.errorRecoveryDisabledLanes|=m,$a|=m,f=4;break e}m=$n,$n=f,m!==null&&($n===null?$n=m:$n.push.apply($n,m))}f=x}if(m=!1,f!==2)continue}}if(f===1){Hl(t,0),Fi(t,s,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Fi(c,s,ds,!Ui);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Hu+300-un(),10<f)){if(Fi(c,s,ds,!Ui),gs(c,0,!0)!==0)break e;ni=s,c.timeoutHandle=Pb(ab.bind(null,c,a,$n,$u,tm,s,ds,$a,Bl,Ui,m,"Throttled",-0,0),f);break e}ab(c,a,$n,$u,tm,s,ds,$a,Bl,Ui,m,null,-0,0)}}break}while(!0);dr(t)}function ab(t,s,a,c,f,m,x,E,O,G,ne,le,$,W){if(t.timeoutHandle=-1,le=s.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xs},J0(s,m,le);var Re=(m&62914560)===m?Hu-un():(m&4194048)===m?nb-un():0;if(Re=LT(le,Re),Re!==null){ni=m,t.cancelPendingCommit=Re(mb.bind(null,t,s,m,a,c,f,x,E,O,ne,le,null,$,W)),Fi(t,m,x,!G);return}}mb(t,s,m,a,c,f,x,E,O)}function eT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!as(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fi(t,s,a,c){s&=~em,s&=~$a,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var f=s;0<f;){var m=31-Mt(f),x=1<<m;c[m]=-1,f&=~x}a!==0&&Cr(t,a,s)}function Yu(){return(xt&6)===0?(cc(0),!1):!0}function im(){if(st!==null){if(Et===0)var t=st.return;else t=st,Gr=Va=null,_f(t),Ol=null,Go=0,t=st;for(;t!==null;)V0(t.alternate,t),t=t.return;st=null}}function Hl(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ni=0,im(),kt=t,st=a=Fr(t.current,null),at=s,Et=0,us=null,Ui=!1,ql=Ft(t,s),Zf=!1,Bl=ds=em=$a=zi=Qt=0,$n=lc=null,tm=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var f=31-Mt(c),m=1<<f;s|=t[f],c&=~m}return ti=s,mu(),a}function lb(t,s){We=null,ee.H=Zo,s===Dl||s===wu?(s=Ey(),Et=3):s===cf?(s=Ey(),Et=4):Et=s===Vf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,us=s,st===null&&(Qt=1,Pu(t,Es(s,t.current)))}function ob(){var t=os.current;return t===null?!0:(at&4194048)===at?As===null:(at&62914560)===at||(at&536870912)!==0?t===As:!1}function cb(){var t=ee.H;return ee.H=Zo,t===null?Zo:t}function ub(){var t=ee.A;return ee.A=JN,t}function Ku(){Qt=4,Ui||(at&4194048)!==at&&os.current!==null||(ql=!0),(zi&134217727)===0&&($a&134217727)===0||kt===null||Fi(kt,at,ds,!1)}function am(t,s,a){var c=xt;xt|=2;var f=cb(),m=ub();(kt!==t||at!==s)&&($u=null,Hl(t,s)),s=!1;var x=Qt;e:do try{if(Et!==0&&st!==null){var E=st,O=us;switch(Et){case 8:im(),x=6;break e;case 3:case 2:case 9:case 6:os.current===null&&(s=!0);var G=Et;if(Et=0,us=null,Gl(t,E,O,G),a&&ql){x=0;break e}break;default:G=Et,Et=0,us=null,Gl(t,E,O,G)}}tT(),x=Qt;break}catch(ne){lb(t,ne)}while(!0);return s&&t.shellSuspendCounter++,Gr=Va=null,xt=c,ee.H=f,ee.A=m,st===null&&(kt=null,at=0,mu()),x}function tT(){for(;st!==null;)db(st)}function nT(t,s){var a=xt;xt|=2;var c=cb(),f=ub();kt!==t||at!==s?($u=null,Gu=un()+500,Hl(t,s)):ql=Ft(t,s);e:do try{if(Et!==0&&st!==null){s=st;var m=us;t:switch(Et){case 1:Et=0,us=null,Gl(t,s,m,1);break;case 2:case 9:if(_y(m)){Et=0,us=null,hb(s);break}s=function(){Et!==2&&Et!==9||kt!==t||(Et=7),dr(t)},m.then(s,s);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:_y(m)?(Et=0,us=null,hb(s)):(Et=0,us=null,Gl(t,s,m,7));break;case 5:var x=null;switch(st.tag){case 26:x=st.memoizedState;case 5:case 27:var E=st;if(x?Wb(x):E.stateNode.complete){Et=0,us=null;var O=E.sibling;if(O!==null)st=O;else{var G=E.return;G!==null?(st=G,Qu(G)):st=null}break t}}Et=0,us=null,Gl(t,s,m,5);break;case 6:Et=0,us=null,Gl(t,s,m,6);break;case 8:im(),Qt=6;break e;default:throw Error(i(462))}}sT();break}catch(ne){lb(t,ne)}while(!0);return Gr=Va=null,ee.H=c,ee.A=f,xt=a,st!==null?0:(kt=null,at=0,mu(),Qt)}function sT(){for(;st!==null&&!Os();)db(st)}function db(t){var s=M0(t.alternate,t,ti);t.memoizedProps=t.pendingProps,s===null?Qu(t):st=s}function hb(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=C0(a,s,s.pendingProps,s.type,void 0,at);break;case 11:s=C0(a,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:_f(s);default:V0(a,s),s=st=uy(s,ti),s=M0(a,s,ti)}t.memoizedProps=t.pendingProps,s===null?Qu(t):st=s}function Gl(t,s,a,c){Gr=Va=null,_f(s),Ol=null,Go=0;var f=s.return;try{if(GN(t,f,s,a,at)){Qt=1,Pu(t,Es(a,t.current)),st=null;return}}catch(m){if(f!==null)throw st=f,m;Qt=1,Pu(t,Es(a,t.current)),st=null;return}s.flags&32768?(ft||c===1?t=!0:ql||(at&536870912)!==0?t=!1:(Ui=t=!0,(c===2||c===9||c===3||c===6)&&(c=os.current,c!==null&&c.tag===13&&(c.flags|=16384))),fb(s,t)):Qu(s)}function Qu(t){var s=t;do{if((s.flags&32768)!==0){fb(s,Ui);return}t=s.return;var a=KN(s.alternate,s,ti);if(a!==null){st=a;return}if(s=s.sibling,s!==null){st=s;return}st=s=t}while(s!==null);Qt===0&&(Qt=5)}function fb(t,s){do{var a=QN(t.alternate,t);if(a!==null){a.flags&=32767,st=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){st=t;return}st=t=a}while(t!==null);Qt=6,st=null}function mb(t,s,a,c,f,m,x,E,O){t.cancelPendingCommit=null;do Xu();while(fn!==0);if((xt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Yh,To(t,a,m,x,E,O),t===kt&&(st=kt=null,at=0),Fl=s,Bi=t,ni=a,nm=m,sm=f,sb=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lT(ps,function(){return xb(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,f=pe.p,pe.p=2,x=xt,xt|=4;try{XN(t,s,a)}finally{xt=x,pe.p=f,ee.T=c}}fn=1,pb(),gb(),yb()}}function pb(){if(fn===1){fn=0;var t=Bi,s=Fl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var c=pe.p;pe.p=2;var f=xt;xt|=4;try{Q0(s,t);var m=bm,x=ty(t.containerInfo),E=m.focusedElem,O=m.selectionRange;if(x!==E&&E&&E.ownerDocument&&ey(E.ownerDocument.documentElement,E)){if(O!==null&&Bh(E)){var G=O.start,ne=O.end;if(ne===void 0&&(ne=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(ne,E.value.length);else{var le=E.ownerDocument||document,$=le&&le.defaultView||window;if($.getSelection){var W=$.getSelection(),Re=E.textContent.length,qe=Math.min(O.start,Re),Ct=O.end===void 0?qe:Math.min(O.end,Re);!W.extend&&qe>Ct&&(x=Ct,Ct=qe,qe=x);var q=Zg(E,qe),M=Zg(E,Ct);if(q&&M&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==M.node||W.focusOffset!==M.offset)){var H=le.createRange();H.setStart(q.node,q.offset),W.removeAllRanges(),qe>Ct?(W.addRange(H),W.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),W.addRange(H))}}}}for(le=[],W=E;W=W.parentNode;)W.nodeType===1&&le.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<le.length;E++){var re=le[E];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}od=!!ym,bm=ym=null}finally{xt=f,pe.p=c,ee.T=a}}t.current=s,fn=2}}function gb(){if(fn===2){fn=0;var t=Bi,s=Fl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var c=pe.p;pe.p=2;var f=xt;xt|=4;try{H0(t,s.alternate,s)}finally{xt=f,pe.p=c,ee.T=a}}fn=3}}function yb(){if(fn===4||fn===3){fn=0,Tr();var t=Bi,s=Fl,a=ni,c=sb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?fn=5:(fn=0,Fl=Bi=null,bb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(qi=null),Ps(a),s=s.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(es,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=ee.T,f=pe.p,pe.p=2,ee.T=null;try{for(var m=t.onRecoverableError,x=0;x<c.length;x++){var E=c[x];m(E.value,{componentStack:E.stack})}}finally{ee.T=s,pe.p=f}}(ni&3)!==0&&Xu(),dr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===rm?oc++:(oc=0,rm=t):oc=0,cc(0)}}function bb(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Fo(s)))}function Xu(){return pb(),gb(),yb(),xb()}function xb(){if(fn!==5)return!1;var t=Bi,s=nm;nm=0;var a=Ps(ni),c=ee.T,f=pe.p;try{pe.p=32>a?32:a,ee.T=null,a=sm,sm=null;var m=Bi,x=ni;if(fn=0,Fl=Bi=null,ni=0,(xt&6)!==0)throw Error(i(331));var E=xt;if(xt|=4,eb(m.current),W0(m,m.current,x,a),xt=E,cc(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(es,m)}catch{}return!0}finally{pe.p=f,ee.T=c,bb(t,s)}}function vb(t,s,a){s=Es(a,s),s=Pf(t.stateNode,s,2),t=Mi(t,s,2),t!==null&&(jr(t,2),dr(t))}function Nt(t,s,a){if(t.tag===3)vb(t,t,a);else for(;s!==null;){if(s.tag===3){vb(s,t,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(qi===null||!qi.has(c))){t=Es(a,t),a=_0(2),c=Mi(s,a,2),c!==null&&(w0(a,c,s,t),jr(c,2),dr(c));break}}s=s.return}}function lm(t,s,a){var c=t.pingCache;if(c===null){c=t.pingCache=new ZN;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(Zf=!0,f.add(a),t=rT.bind(null,t,s,a),s.then(t,t))}function rT(t,s,a){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,kt===t&&(at&a)===a&&(Qt===4||Qt===3&&(at&62914560)===at&&300>un()-Hu?(xt&2)===0&&Hl(t,0):em|=a,Bl===at&&(Bl=0)),dr(t)}function _b(t,s){s===0&&(s=ol()),t=Oa(t,s),t!==null&&(jr(t,s),dr(t))}function iT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),_b(t,a)}function aT(t,s){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),_b(t,a)}function lT(t,s){return Me(t,s)}var Wu=null,$l=null,om=!1,Ju=!1,cm=!1,Hi=0;function dr(t){t!==$l&&t.next===null&&($l===null?Wu=$l=t:$l=$l.next=t),Ju=!0,om||(om=!0,cT())}function cc(t,s){if(!cm&&Ju){cm=!0;do for(var a=!1,c=Wu;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var x=c.suspendedLanes,E=c.pingedLanes;m=(1<<31-Mt(42|t)+1)-1,m&=f&~(x&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Tb(c,m))}else m=at,m=gs(c,c===kt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Ft(c,m)||(a=!0,Tb(c,m));c=c.next}while(a);cm=!1}}function oT(){wb()}function wb(){Ju=om=!1;var t=0;Hi!==0&&xT()&&(t=Hi);for(var s=un(),a=null,c=Wu;c!==null;){var f=c.next,m=Eb(c,s);m===0?(c.next=null,a===null?Wu=f:a.next=f,f===null&&($l=a)):(a=c,(t!==0||(m&3)!==0)&&(Ju=!0)),c=f}fn!==0&&fn!==5||cc(t),Hi!==0&&(Hi=0)}function Eb(t,s){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-Mt(m),E=1<<x,O=f[x];O===-1?((E&a)===0||(E&c)!==0)&&(f[x]=ll(E,s)):O<=s&&(t.expiredLanes|=E),m&=~E}if(s=kt,a=at,a=gs(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===s&&(Et===2||Et===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Ds(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ft(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(c!==null&&Ds(c),Ps(a)){case 2:case 8:a=er;break;case 32:a=ps;break;case 268435456:a=Zn;break;default:a=ps}return c=Nb.bind(null,t),a=Me(a,c),t.callbackPriority=s,t.callbackNode=a,s}return c!==null&&c!==null&&Ds(c),t.callbackPriority=2,t.callbackNode=null,2}function Nb(t,s){if(fn!==0&&fn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Xu()&&t.callbackNode!==a)return null;var c=at;return c=gs(t,t===kt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(ib(t,c,s),Eb(t,un()),t.callbackNode!=null&&t.callbackNode===a?Nb.bind(null,t):null)}function Tb(t,s){if(Xu())return null;ib(t,s,!0)}function cT(){_T(function(){(xt&6)!==0?Me(Sr,oT):wb()})}function um(){if(Hi===0){var t=Il;t===0&&(t=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),Hi=t}return Hi}function Sb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function Ab(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function uT(t,s,a,c,f){if(s==="submit"&&a&&a.stateNode===f){var m=Sb((f[tn]||null).action),x=c.submitter;x&&(s=(s=x[tn]||null)?Sb(s.formAction):x.getAttribute("formAction"),s!==null&&(m=s,x=null));var E=new Us("action","action",null,c,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Hi!==0){var O=x?Ab(f,x):new FormData(f);Rf(a,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(E.preventDefault(),O=x?Ab(f,x):new FormData(f),Rf(a,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var dm=0;dm<$h.length;dm++){var hm=$h[dm],dT=hm.toLowerCase(),hT=hm[0].toUpperCase()+hm.slice(1);Bs(dT,"on"+hT)}Bs(ry,"onAnimationEnd"),Bs(iy,"onAnimationIteration"),Bs(ay,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(jN,"onTransitionRun"),Bs(CN,"onTransitionStart"),Bs(RN,"onTransitionCancel"),Bs(ly,"onTransitionEnd"),ie("onMouseEnter",["mouseout","mouseover"]),ie("onMouseLeave",["mouseout","mouseover"]),ie("onPointerEnter",["pointerout","pointerover"]),ie("onPointerLeave",["pointerout","pointerover"]),oe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oe("onBeforeInput",["compositionend","keypress","textInput","paste"]),oe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function jb(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var x=c.length-1;0<=x;x--){var E=c[x],O=E.instance,G=E.currentTarget;if(E=E.listener,O!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=G;try{m(f)}catch(ne){fu(ne)}f.currentTarget=null,m=O}else for(x=0;x<c.length;x++){if(E=c[x],O=E.instance,G=E.currentTarget,E=E.listener,O!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=G;try{m(f)}catch(ne){fu(ne)}f.currentTarget=null,m=O}}}}function rt(t,s){var a=s[_i];a===void 0&&(a=s[_i]=new Set);var c=t+"__bubble";a.has(c)||(Cb(s,t,2,!1),a.add(c))}function fm(t,s,a){var c=0;s&&(c|=4),Cb(a,t,c,s)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function mm(t){if(!t[Zu]){t[Zu]=!0,je.forEach(function(a){a!=="selectionchange"&&(fT.has(a)||fm(a,!1,t),fm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Zu]||(s[Zu]=!0,fm("selectionchange",!1,s))}}function Cb(t,s,a,c){switch(rx(s)){case 2:var f=qT;break;case 8:f=BT;break;default:f=Cm}a=f.bind(null,s,a,t),f=void 0,!Ei||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function pm(t,s,a,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var E=c.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=c.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=Y(E),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){c=m=x;continue e}E=E.parentNode}}c=c.return}Lr(function(){var G=m,ne=ss(a),le=[];e:{var $=oy.get(t);if($!==void 0){var W=Us,Re=t;switch(t){case"keypress":if(Ti(a)===0)break e;case"keydown":case"keyup":W=Vo;break;case"focusin":Re="focus",W=Ai;break;case"focusout":Re="blur",W=Ai;break;case"beforeblur":case"afterblur":W=Ai;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Ro;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case ry:case iy:case ay:W=ko;break;case ly:W=N;break;case"scroll":case"scrollend":W=bl;break;case"wheel":W=K;break;case"copy":case"cut":case"paste":W=Do;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=lr;break;case"toggle":case"beforetoggle":W=V}var qe=(s&4)!==0,Ct=!qe&&(t==="scroll"||t==="scrollend"),q=qe?$!==null?$+"Capture":null:$;qe=[];for(var M=G,H;M!==null;){var re=M;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||q===null||(re=vs(M,q),re!=null&&qe.push(dc(M,re,H))),Ct)break;M=M.return}0<qe.length&&($=new W($,Re,null,a,ne),le.push({event:$,listeners:qe}))}}if((s&7)===0){e:{if($=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",$&&a!==pl&&(Re=a.relatedTarget||a.fromElement)&&(Y(Re)||Re[bs]))break e;if((W||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,W?(Re=a.relatedTarget||a.toElement,W=G,Re=Re?Y(Re):null,Re!==null&&(Ct=u(Re),qe=Re.tag,Re!==Ct||qe!==5&&qe!==27&&qe!==6)&&(Re=null)):(W=null,Re=G),W!==Re)){if(qe=xl,re="onMouseLeave",q="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(qe=lr,re="onPointerLeave",q="onPointerEnter",M="pointer"),Ct=W==null?$:Z(W),H=Re==null?$:Z(Re),$=new qe(re,M+"leave",W,a,ne),$.target=Ct,$.relatedTarget=H,re=null,Y(ne)===G&&(qe=new qe(q,M+"enter",Re,a,ne),qe.target=H,qe.relatedTarget=Ct,re=qe),Ct=re,W&&Re)t:{for(qe=mT,q=W,M=Re,H=0,re=q;re;re=qe(re))H++;re=0;for(var Ve=M;Ve;Ve=qe(Ve))re++;for(;0<H-re;)q=qe(q),H--;for(;0<re-H;)M=qe(M),re--;for(;H--;){if(q===M||M!==null&&q===M.alternate){qe=q;break t}q=qe(q),M=qe(M)}qe=null}else qe=null;W!==null&&Rb(le,$,W,qe,!1),Re!==null&&Ct!==null&&Rb(le,Ct,Re,qe,!0)}}e:{if($=G?Z(G):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var yt=Yg;else if(du($))if(Kg)yt=TN;else{yt=EN;var ke=wN}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Sa(G.elementType)&&(yt=Yg):yt=NN;if(yt&&(yt=yt(t,G))){Uh(le,yt,a,ne);break e}ke&&ke(t,$,G),t==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&hl($,"number",$.value)}switch(ke=G?Z(G):window,t){case"focusin":(du(ke)||ke.contentEditable==="true")&&(El=ke,Fh=G,zo=null);break;case"focusout":zo=Fh=El=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,ny(le,a,ne);break;case"selectionchange":if(AN)break;case"keydown":case"keyup":ny(le,a,ne)}var et;if(Ye)e:{switch(t){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else hn?is(t,a)&&(lt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(lt="onCompositionStart");lt&&(Ht&&a.locale!=="ko"&&(hn||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&hn&&(et=yl()):(Ls=ne,gl="value"in Ls?Ls.value:Ls.textContent,hn=!0)),ke=ed(G,lt),0<ke.length&&(lt=new qs(lt,t,null,a,ne),le.push({event:lt,listeners:ke}),et?lt.data=et:(et=Br(a),et!==null&&(lt.data=et)))),(et=St?Vh(t,a):$g(t,a))&&(lt=ed(G,"onBeforeInput"),0<lt.length&&(ke=new qs("onBeforeInput","beforeinput",null,a,ne),le.push({event:ke,listeners:lt}),ke.data=et)),uT(le,t,G,a,ne)}jb(le,s)})}function dc(t,s,a){return{instance:t,listener:s,currentTarget:a}}function ed(t,s){for(var a=s+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=vs(t,a),f!=null&&c.unshift(dc(t,f,m)),f=vs(t,s),f!=null&&c.push(dc(t,f,m))),t.tag===3)return c;t=t.return}return[]}function mT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rb(t,s,a,c,f){for(var m=s._reactName,x=[];a!==null&&a!==c;){var E=a,O=E.alternate,G=E.stateNode;if(E=E.tag,O!==null&&O===c)break;E!==5&&E!==26&&E!==27||G===null||(O=G,f?(G=vs(a,m),G!=null&&x.unshift(dc(a,G,O))):f||(G=vs(a,m),G!=null&&x.push(dc(a,G,O)))),a=a.return}x.length!==0&&t.push({event:s,listeners:x})}var pT=/\r\n?/g,gT=/\u0000|\uFFFD/g;function Ib(t){return(typeof t=="string"?t:""+t).replace(pT,`
`).replace(gT,"")}function kb(t,s){return s=Ib(s),Ib(t)===s}function jt(t,s,a,c,f,m){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Un(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Un(t,""+c);break;case"className":Ze(t,"class",c);break;case"tabIndex":Ze(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ze(t,a,c);break;case"style":ml(t,c,m);break;case"data":if(s!=="object"){Ze(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Aa(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&jt(t,s,"name",f.name,f,null),jt(t,s,"formEncType",f.formEncType,f,null),jt(t,s,"formMethod",f.formMethod,f,null),jt(t,s,"formTarget",f.formTarget,f,null)):(jt(t,s,"encType",f.encType,f,null),jt(t,s,"method",f.method,f,null),jt(t,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Aa(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=xs);break;case"onScroll":c!=null&&rt("scroll",t);break;case"onScrollEnd":c!=null&&rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":rt("beforetoggle",t),rt("toggle",t),De(t,"popover",c);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":De(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Co.get(a)||a,De(t,a,c))}}function gm(t,s,a,c,f,m){switch(a){case"style":ml(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof c=="string"?Un(t,c):(typeof c=="number"||typeof c=="bigint")&&Un(t,""+c);break;case"onScroll":c!=null&&rt("scroll",t);break;case"onScrollEnd":c!=null&&rt("scrollend",t);break;case"onClick":c!=null&&(t.onclick=xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Be.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[tn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):De(t,a,c)}}}function Sn(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",t),rt("load",t);var c=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var x=a[m];if(x!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:jt(t,s,m,x,a,null)}}f&&jt(t,s,"srcSet",a.srcSet,a,null),c&&jt(t,s,"src",a.src,a,null);return;case"input":rt("invalid",t);var E=m=x=f=null,O=null,G=null;for(c in a)if(a.hasOwnProperty(c)){var ne=a[c];if(ne!=null)switch(c){case"name":f=ne;break;case"type":x=ne;break;case"checked":O=ne;break;case"defaultChecked":G=ne;break;case"value":m=ne;break;case"defaultValue":E=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:jt(t,s,c,ne,a,null)}}Dr(t,m,E,O,G,x,f,!1);return;case"select":rt("invalid",t),c=x=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":x=E;break;case"multiple":c=E;default:jt(t,s,f,E,a,null)}s=m,a=x,t.multiple=!!c,s!=null?Or(t,!!c,s,!1):a!=null&&Or(t,!!c,a,!0);return;case"textarea":rt("invalid",t),m=f=c=null;for(x in a)if(a.hasOwnProperty(x)&&(E=a[x],E!=null))switch(x){case"value":c=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:jt(t,s,x,E,a,null)}Mr(t,c,f,m);return;case"option":for(O in a)a.hasOwnProperty(O)&&(c=a[O],c!=null)&&(O==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":jt(t,s,O,c,a,null));return;case"dialog":rt("beforetoggle",t),rt("toggle",t),rt("cancel",t),rt("close",t);break;case"iframe":case"object":rt("load",t);break;case"video":case"audio":for(c=0;c<uc.length;c++)rt(uc[c],t);break;case"image":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"embed":case"source":case"link":rt("error",t),rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(c=a[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:jt(t,s,G,c,a,null)}return;default:if(Sa(s)){for(ne in a)a.hasOwnProperty(ne)&&(c=a[ne],c!==void 0&&gm(t,s,ne,c,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(c=a[E],c!=null&&jt(t,s,E,c,a,null))}function yT(t,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,x=null,E=null,O=null,G=null,ne=null;for(W in a){var le=a[W];if(a.hasOwnProperty(W)&&le!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=le;default:c.hasOwnProperty(W)||jt(t,s,W,null,c,le)}}for(var $ in c){var W=c[$];if(le=a[$],c.hasOwnProperty($)&&(W!=null||le!=null))switch($){case"type":m=W;break;case"name":f=W;break;case"checked":G=W;break;case"defaultChecked":ne=W;break;case"value":x=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==le&&jt(t,s,$,W,c,le)}}kr(t,x,E,O,G,ne,m,f);return;case"select":W=x=E=$=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(m)||jt(t,s,m,null,c,O)}for(f in c)if(m=c[f],O=a[f],c.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":$=m;break;case"defaultValue":E=m;break;case"multiple":x=m;default:m!==O&&jt(t,s,f,m,c,O)}s=E,a=x,c=W,$!=null?Or(t,!!a,$,!1):!!c!=!!a&&(s!=null?Or(t,!!a,s,!0):Or(t,!!a,a?[]:"",!1));return;case"textarea":W=$=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:jt(t,s,E,null,c,f)}for(x in c)if(f=c[x],m=a[x],c.hasOwnProperty(x)&&(f!=null||m!=null))switch(x){case"value":$=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&jt(t,s,x,f,c,m)}Ao(t,$,W);return;case"option":for(var Re in a)$=a[Re],a.hasOwnProperty(Re)&&$!=null&&!c.hasOwnProperty(Re)&&(Re==="selected"?t.selected=!1:jt(t,s,Re,null,c,$));for(O in c)$=c[O],W=a[O],c.hasOwnProperty(O)&&$!==W&&($!=null||W!=null)&&(O==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":jt(t,s,O,$,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in a)$=a[qe],a.hasOwnProperty(qe)&&$!=null&&!c.hasOwnProperty(qe)&&jt(t,s,qe,null,c,$);for(G in c)if($=c[G],W=a[G],c.hasOwnProperty(G)&&$!==W&&($!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:jt(t,s,G,$,c,W)}return;default:if(Sa(s)){for(var Ct in a)$=a[Ct],a.hasOwnProperty(Ct)&&$!==void 0&&!c.hasOwnProperty(Ct)&&gm(t,s,Ct,void 0,c,$);for(ne in c)$=c[ne],W=a[ne],!c.hasOwnProperty(ne)||$===W||$===void 0&&W===void 0||gm(t,s,ne,$,c,W);return}}for(var q in a)$=a[q],a.hasOwnProperty(q)&&$!=null&&!c.hasOwnProperty(q)&&jt(t,s,q,null,c,$);for(le in c)$=c[le],W=a[le],!c.hasOwnProperty(le)||$===W||$==null&&W==null||jt(t,s,le,$,c,W)}function Db(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],m=f.transferSize,x=f.initiatorType,E=f.duration;if(m&&E&&Db(x)){for(x=0,E=f.responseEnd,c+=1;c<a.length;c++){var O=a[c],G=O.startTime;if(G>E)break;var ne=O.transferSize,le=O.initiatorType;ne&&Db(le)&&(O=O.responseEnd,x+=ne*(O<E?1:(E-G)/(O-G)))}if(--c,s+=8*(m+x)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ym=null,bm=null;function td(t){return t.nodeType===9?t:t.ownerDocument}function Ob(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mb(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function xm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vm=null;function xT(){var t=window.event;return t&&t.type==="popstate"?t===vm?!1:(vm=t,!0):(vm=null,!1)}var Pb=typeof setTimeout=="function"?setTimeout:void 0,vT=typeof clearTimeout=="function"?clearTimeout:void 0,Vb=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof Vb<"u"?function(t){return Vb.resolve(null).then(t).catch(wT)}:Pb;function wT(t){setTimeout(function(){throw t})}function Gi(t){return t==="head"}function Lb(t,s){var a=s,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(f),Xl(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")hc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,hc(a);for(var m=a.firstChild;m;){var x=m.nextSibling,E=m.nodeName;m[D]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=x}}else a==="body"&&hc(t.ownerDocument.body);a=f}while(a);Xl(s)}function Ub(t,s){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function _m(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_m(a),L(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ET(t,s,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[D])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=js(t.nextSibling),t===null)break}return null}function NT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=js(t.nextSibling),t===null))return null;return t}function zb(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=js(t.nextSibling),t===null))return null;return t}function wm(t){return t.data==="$?"||t.data==="$~"}function Em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function TT(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function js(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Nm=null;function qb(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return js(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Bb(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Fb(t,s,a){switch(s=td(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function hc(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);L(t)}var Cs=new Map,Hb=new Set;function nd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var si=pe.d;pe.d={f:ST,r:AT,D:jT,C:CT,L:RT,m:IT,X:DT,S:kT,M:OT};function ST(){var t=si.f(),s=Yu();return t||s}function AT(t){var s=de(t);s!==null&&s.tag===5&&s.type==="form"?l0(s):si.r(t)}var Yl=typeof document>"u"?null:document;function Gb(t,s,a){var c=Yl;if(c&&typeof s=="string"&&s){var f=dn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Hb.has(f)||(Hb.add(f),t={rel:t,crossOrigin:a,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),Sn(s,"link",t),he(s),c.head.appendChild(s)))}}function jT(t){si.D(t),Gb("dns-prefetch",t,null)}function CT(t,s){si.C(t,s),Gb("preconnect",t,s)}function RT(t,s,a){si.L(t,s,a);var c=Yl;if(c&&t&&s){var f='link[rel="preload"][as="'+dn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dn(a.imageSizes)+'"]')):f+='[href="'+dn(t)+'"]';var m=f;switch(s){case"style":m=Kl(t);break;case"script":m=Ql(t)}Cs.has(m)||(t=w({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Cs.set(m,t),c.querySelector(f)!==null||s==="style"&&c.querySelector(fc(m))||s==="script"&&c.querySelector(mc(m))||(s=c.createElement("link"),Sn(s,"link",t),he(s),c.head.appendChild(s)))}}function IT(t,s){si.m(t,s);var a=Yl;if(a&&t){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+dn(c)+'"][href="'+dn(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ql(t)}if(!Cs.has(m)&&(t=w({rel:"modulepreload",href:t},s),Cs.set(m,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mc(m)))return}c=a.createElement("link"),Sn(c,"link",t),he(c),a.head.appendChild(c)}}}function kT(t,s,a){si.S(t,s,a);var c=Yl;if(c&&t){var f=ge(c).hoistableStyles,m=Kl(t);s=s||"default";var x=f.get(m);if(!x){var E={loading:0,preload:null};if(x=c.querySelector(fc(m)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Cs.get(m))&&Tm(t,a);var O=x=c.createElement("link");he(O),Sn(O,"link",t),O._p=new Promise(function(G,ne){O.onload=G,O.onerror=ne}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sd(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(m,x)}}}function DT(t,s){si.X(t,s);var a=Yl;if(a&&t){var c=ge(a).hoistableScripts,f=Ql(t),m=c.get(f);m||(m=a.querySelector(mc(f)),m||(t=w({src:t,async:!0},s),(s=Cs.get(f))&&Sm(t,s),m=a.createElement("script"),he(m),Sn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function OT(t,s){si.M(t,s);var a=Yl;if(a&&t){var c=ge(a).hoistableScripts,f=Ql(t),m=c.get(f);m||(m=a.querySelector(mc(f)),m||(t=w({src:t,async:!0,type:"module"},s),(s=Cs.get(f))&&Sm(t,s),m=a.createElement("script"),he(m),Sn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function $b(t,s,a,c){var f=(f=Ue.current)?nd(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Kl(a.href),a=ge(f).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Kl(a.href);var m=ge(f).hoistableStyles,x=m.get(t);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=f.querySelector(fc(t)))&&!m._p&&(x.instance=m,x.state.loading=5),Cs.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cs.set(t,a),m||MT(f,t,a,x.state))),s&&c===null)throw Error(i(528,""));return x}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ql(a),a=ge(f).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Kl(t){return'href="'+dn(t)+'"'}function fc(t){return'link[rel="stylesheet"]['+t+"]"}function Yb(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function MT(t,s,a,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Sn(s,"link",a),he(s),t.head.appendChild(s))}function Ql(t){return'[src="'+dn(t)+'"]'}function mc(t){return"script[async]"+t}function Kb(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(c)return s.instance=c,he(c),c;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),he(c),Sn(c,"style",f),sd(c,a.precedence,t),s.instance=c;case"stylesheet":f=Kl(a.href);var m=t.querySelector(fc(f));if(m)return s.state.loading|=4,s.instance=m,he(m),m;c=Yb(a),(f=Cs.get(f))&&Tm(c,f),m=(t.ownerDocument||t).createElement("link"),he(m);var x=m;return x._p=new Promise(function(E,O){x.onload=E,x.onerror=O}),Sn(m,"link",c),s.state.loading|=4,sd(m,a.precedence,t),s.instance=m;case"script":return m=Ql(a.src),(f=t.querySelector(mc(m)))?(s.instance=f,he(f),f):(c=a,(f=Cs.get(m))&&(c=w({},a),Sm(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),he(f),Sn(f,"link",c),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,sd(c,a.precedence,t));return s.instance}function sd(t,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,x=0;x<c.length;x++){var E=c[x];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Tm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Sm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var rd=null;function Qb(t,s,a){if(rd===null){var c=new Map,f=rd=new Map;f.set(a,c)}else f=rd,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[D]||m[Yt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(s)||"";x=t+x;var E=c.get(x);E?E.push(m):c.set(x,[m])}}return c}function Xb(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function PT(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Wb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function VT(t,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Kl(c.href),m=s.querySelector(fc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=id.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,he(m);return}m=s.ownerDocument||s,c=Yb(c),(f=Cs.get(f))&&Tm(c,f),m=m.createElement("link"),he(m);var x=m;x._p=new Promise(function(E,O){x.onload=E,x.onerror=O}),Sn(m,"link",c),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=id.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Am=0;function LT(t,s){return t.stylesheets&&t.count===0&&ld(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Am===0&&(Am=62500*bT());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Am?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ad=null;function ld(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ad=new Map,s.forEach(UT,t),ad=null,id.call(t))}function UT(t,s){if(!(s.state.loading&4)){var a=ad.get(t);if(a)var c=a.get(null);else{a=new Map,ad.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var x=f[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}f=s.instance,x=f.getAttribute("data-precedence"),m=a.get(x)||c,m===c&&a.set(null,f),a.set(x,f),this.count++,c=id.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var pc={$$typeof:fe,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function zT(t,s,a,c,f,m,x,E,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ys(0),this.hiddenUpdates=ys(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Jb(t,s,a,c,f,m,x,E,O,G,ne,le){return t=new zT(t,s,a,x,O,G,ne,le,E),s=1,m===!0&&(s|=24),m=ls(3,null,null,s),t.current=m,m.stateNode=t,s=af(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:s},uf(m),t}function Zb(t){return t?(t=Sl,t):Sl}function ex(t,s,a,c,f,m){f=Zb(f),c.context===null?c.context=f:c.pendingContext=f,c=Oi(s),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Mi(t,c,s),a!==null&&(Yn(a,t,s),Yo(a,t,s))}function tx(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function jm(t,s){tx(t,s),(t=t.alternate)&&tx(t,s)}function nx(t){if(t.tag===13||t.tag===31){var s=Oa(t,67108864);s!==null&&Yn(s,t,67108864),jm(t,67108864)}}function sx(t){if(t.tag===13||t.tag===31){var s=hs();s=Rr(s);var a=Oa(t,s);a!==null&&Yn(a,t,s),jm(t,s)}}var od=!0;function qT(t,s,a,c){var f=ee.T;ee.T=null;var m=pe.p;try{pe.p=2,Cm(t,s,a,c)}finally{pe.p=m,ee.T=f}}function BT(t,s,a,c){var f=ee.T;ee.T=null;var m=pe.p;try{pe.p=8,Cm(t,s,a,c)}finally{pe.p=m,ee.T=f}}function Cm(t,s,a,c){if(od){var f=Rm(c);if(f===null)pm(t,s,c,cd,a),ix(t,c);else if(HT(f,t,s,a,c))c.stopPropagation();else if(ix(t,c),s&4&&-1<FT.indexOf(t)){for(;f!==null;){var m=de(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Ln(m.pendingLanes);if(x!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var O=1<<31-Mt(x);E.entanglements[1]|=O,x&=~O}dr(m),(xt&6)===0&&(Gu=un()+500,cc(0))}}break;case 31:case 13:E=Oa(m,2),E!==null&&Yn(E,m,2),Yu(),jm(m,2)}if(m=Rm(c),m===null&&pm(t,s,c,cd,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else pm(t,s,c,null,a)}}function Rm(t){return t=ss(t),Im(t)}var cd=null;function Im(t){if(cd=null,t=Y(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return cd=t,null}function rx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ms()){case Sr:return 2;case er:return 8;case ps:case tr:return 32;case Zn:return 268435456;default:return 32}default:return 32}}var km=!1,$i=null,Yi=null,Ki=null,gc=new Map,yc=new Map,Qi=[],FT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ix(t,s){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":gc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(s.pointerId)}}function bc(t,s,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=de(s),s!==null&&nx(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function HT(t,s,a,c,f){switch(s){case"focusin":return $i=bc($i,t,s,a,c,f),!0;case"dragenter":return Yi=bc(Yi,t,s,a,c,f),!0;case"mouseover":return Ki=bc(Ki,t,s,a,c,f),!0;case"pointerover":var m=f.pointerId;return gc.set(m,bc(gc.get(m)||null,t,s,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,yc.set(m,bc(yc.get(m)||null,t,s,a,c,f)),!0}return!1}function ax(t){var s=Y(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,ts(t.priority,function(){sx(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,ts(t.priority,function(){sx(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);pl=c,a.target.dispatchEvent(c),pl=null}else return s=de(a),s!==null&&nx(s),t.blockedOn=a,!1;s.shift()}return!0}function lx(t,s,a){ud(t)&&a.delete(s)}function GT(){km=!1,$i!==null&&ud($i)&&($i=null),Yi!==null&&ud(Yi)&&(Yi=null),Ki!==null&&ud(Ki)&&(Ki=null),gc.forEach(lx),yc.forEach(lx)}function dd(t,s){t.blockedOn===s&&(t.blockedOn=null,km||(km=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GT)))}var hd=null;function ox(t){hd!==t&&(hd=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hd===t&&(hd=null);for(var s=0;s<t.length;s+=3){var a=t[s],c=t[s+1],f=t[s+2];if(typeof c!="function"){if(Im(c||a)===null)continue;break}var m=de(a);m!==null&&(t.splice(s,3),s-=3,Rf(m,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Xl(t){function s(O){return dd(O,t)}$i!==null&&dd($i,t),Yi!==null&&dd(Yi,t),Ki!==null&&dd(Ki,t),gc.forEach(s),yc.forEach(s);for(var a=0;a<Qi.length;a++){var c=Qi[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)ax(a),a.blockedOn===null&&Qi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],m=a[c+1],x=f[tn]||null;if(typeof m=="function")x||ox(a);else if(x){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,x=m[tn]||null)E=x.formAction;else if(Im(f)!==null)continue}else E=x.action;typeof E=="function"?a[c+1]=E:(a.splice(c,3),c-=3),ox(a)}}}function cx(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Dm(t){this._internalRoot=t}fd.prototype.render=Dm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=hs();ex(a,c,t,s,null,null)},fd.prototype.unmount=Dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ex(t.current,2,null,t,null,null),Yu(),s[bs]=null}};function fd(t){this._internalRoot=t}fd.prototype.unstable_scheduleHydration=function(t){if(t){var s=cl();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Qi.length&&s!==0&&s<Qi[a].priority;a++);Qi.splice(a,0,t),a===0&&ax(t)}};var ux=e.version;if(ux!=="19.2.3")throw Error(i(527,ux,"19.2.3"));pe.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var $T={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{es=md.inject($T),Xt=md}catch{}}return vc.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,c="",f=y0,m=b0,x=x0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=Jb(t,1,!1,null,null,a,c,null,f,m,x,cx),t[bs]=s.current,mm(t),new Dm(s)},vc.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var c=!1,f="",m=y0,x=b0,E=x0,O=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=Jb(t,1,!0,s,a??null,c,f,O,m,x,E,cx),s.context=Zb(null),a=s.current,c=hs(),c=Rr(c),f=Oi(c),f.callback=null,Mi(a,f,c),a=c,s.current.lanes=a,jr(s,a),dr(s),t[bs]=s.current,mm(t),new fd(s)},vc.version="19.2.3",vc}var vx;function rS(){if(vx)return Pm.exports;vx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pm.exports=sS(),Pm.exports}var iS=rS();var _x="popstate";function aS(r={}){function e(i,o){let{pathname:u,search:h,hash:p}=i.location;return fp("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Vc(o)}return oS(e,n,null,r)}function mn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qs(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lS(){return Math.random().toString(36).substring(2,10)}function wx(r,e){return{usr:r.state,key:r.key,idx:e}}function fp(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Qc(e):e,state:n,key:e&&e.key||i||lS()}}function Vc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Qc(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function oS(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,p="POP",g=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function w(){p="POP";let F=_(),ue=F==null?null:F-y;y=F,g&&g({action:p,location:J.location,delta:ue})}function S(F,ue){p="PUSH";let se=fp(J.location,F,ue);y=_()+1;let fe=wx(se,y),we=J.createHref(se);try{h.pushState(fe,"",we)}catch(Oe){if(Oe instanceof DOMException&&Oe.name==="DataCloneError")throw Oe;o.location.assign(we)}u&&g&&g({action:p,location:J.location,delta:1})}function U(F,ue){p="REPLACE";let se=fp(J.location,F,ue);y=_();let fe=wx(se,y),we=J.createHref(se);h.replaceState(fe,"",we),u&&g&&g({action:p,location:J.location,delta:0})}function Q(F){return cS(F)}let J={get action(){return p},get location(){return r(o,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(_x,w),g=F,()=>{o.removeEventListener(_x,w),g=null}},createHref(F){return e(o,F)},createURL:Q,encodeLocation(F){let ue=Q(F);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:S,replace:U,go(F){return h.go(F)}};return J}function cS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mn(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Vc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function y_(r,e,n="/"){return uS(r,e,n,!1)}function uS(r,e,n,i){let o=typeof e=="string"?Qc(e):e,u=di(o.pathname||"/",n);if(u==null)return null;let h=b_(r);dS(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=wS(u);p=vS(h[g],y,i)}return p}function b_(r,e=[],n=[],i="",o=!1){let u=(h,p,g=o,y)=>{let _={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&g)return;mn(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let w=oi([i,_.relativePath]),S=n.concat(_);h.children&&h.children.length>0&&(mn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),b_(h.children,e,S,w,g)),!(h.path==null&&!h.index)&&e.push({path:w,score:bS(w,h.index),routesMeta:S})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of x_(h.path))u(h,p,!0,g)}),e}function x_(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=x_(i.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function dS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:xS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var hS=/^:[\w-]+$/,fS=3,mS=2,pS=1,gS=10,yS=-2,Ex=r=>r==="*";function bS(r,e){let n=r.split("/"),i=n.length;return n.some(Ex)&&(i+=yS),e&&(i+=mS),n.filter(o=>!Ex(o)).reduce((o,u)=>o+(hS.test(u)?fS:u===""?pS:gS),i)}function xS(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function vS(r,e,n=!1){let{routesMeta:i}=r,o={},u="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,_=u==="/"?e:e.slice(u.length)||"/",w=Ud({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),S=g.route;if(!w&&y&&n&&!i[i.length-1].route.index&&(w=Ud({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:oi([u,w.pathname]),pathnameBase:SS(oi([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=oi([u,w.pathnameBase]))}return h}function Ud(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=_S(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:w},S)=>{if(_==="*"){let Q=p[S]||"";h=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const U=p[S];return w&&!U?y[_]=void 0:y[_]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function _S(r,e=!1,n=!0){Qs(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function wS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qs(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function di(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}var v_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ES=r=>v_.test(r);function NS(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?Qc(r):r,u;if(n)if(ES(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Qs(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Nx(n.substring(1),"/"):u=Nx(n,e)}else u=e;return{pathname:u,search:AS(i),hash:jS(o)}}function Nx(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zm(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function __(r){let e=TS(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function w_(r,e,n,i=!1){let o;typeof r=="string"?o=Qc(r):(o={...r},mn(!o.pathname||!o.pathname.includes("?"),zm("?","pathname","search",o)),mn(!o.pathname||!o.pathname.includes("#"),zm("#","pathname","hash",o)),mn(!o.search||!o.search.includes("#"),zm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let w=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}p=w>=0?e[w]:"/"}let g=NS(o,p),y=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var oi=r=>r.join("/").replace(/\/\/+/g,"/"),SS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),AS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,CS=class{constructor(r,e,n,i=!1){this.status=r,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function RS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function IS(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function N_(r,e){let n=r;if(typeof n!="string"||!v_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(E_)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=di(h.pathname,e);h.origin===u.origin&&p!=null?n=p+h.search+h.hash:o=!0}catch{Qs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T_=["POST","PUT","PATCH","DELETE"];new Set(T_);var kS=["GET",...T_];new Set(kS);var yo=T.createContext(null);yo.displayName="DataRouter";var ch=T.createContext(null);ch.displayName="DataRouterState";var DS=T.createContext(!1),S_=T.createContext({isTransitioning:!1});S_.displayName="ViewTransition";var OS=T.createContext(new Map);OS.displayName="Fetchers";var MS=T.createContext(null);MS.displayName="Await";var ks=T.createContext(null);ks.displayName="Navigation";var uh=T.createContext(null);uh.displayName="Location";var yi=T.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var Bp=T.createContext(null);Bp.displayName="RouteError";var A_="REACT_ROUTER_ERROR",PS="REDIRECT",VS="ROUTE_ERROR_RESPONSE";function LS(r){if(r.startsWith(`${A_}:${PS}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function US(r){if(r.startsWith(`${A_}:${VS}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new CS(e.status,e.statusText,e.data)}catch{}}function zS(r,{relative:e}={}){mn(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=T.useContext(ks),{hash:o,pathname:u,search:h}=Wc(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:oi([n,u])),i.createHref({pathname:p,search:h,hash:o})}function Xc(){return T.useContext(uh)!=null}function ga(){return mn(Xc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(uh).location}var j_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C_(r){T.useContext(ks).static||T.useLayoutEffect(r)}function R_(){let{isDataRoute:r}=T.useContext(yi);return r?ZS():qS()}function qS(){mn(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(yo),{basename:e,navigator:n}=T.useContext(ks),{matches:i}=T.useContext(yi),{pathname:o}=ga(),u=JSON.stringify(__(i)),h=T.useRef(!1);return C_(()=>{h.current=!0}),T.useCallback((g,y={})=>{if(Qs(h.current,j_),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=w_(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:oi([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,u,o,r])}T.createContext(null);function Wc(r,{relative:e}={}){let{matches:n}=T.useContext(yi),{pathname:i}=ga(),o=JSON.stringify(__(n));return T.useMemo(()=>w_(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function BS(r,e,n,i,o){mn(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=T.useContext(ks),{matches:h}=T.useContext(yi),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",_=p?p.pathnameBase:"/",w=p&&p.route;{let se=w&&w.path||"";k_(y,!w||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let S=ga(),U;U=S;let Q=U.pathname||"/",J=Q;if(_!=="/"){let se=_.replace(/^\//,"").split("/");J="/"+Q.replace(/^\//,"").split("/").slice(se.length).join("/")}let F=y_(r,{pathname:J});return Qs(w||F!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Qs(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),YS(F&&F.map(se=>Object.assign({},se,{params:Object.assign({},g,se.params),pathname:oi([_,u.encodeLocation?u.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?_:oi([_,u.encodeLocation?u.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),h,n,i,o)}function FS(){let r=JS(),e=RS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:o},n):null,h)}var HS=T.createElement(FS,null),I_=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=US(r.digest);n&&(r=n)}let e=r!==void 0?T.createElement(yi.Provider,{value:this.props.routeContext},T.createElement(Bp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?T.createElement(GS,{error:r},e):e}};I_.contextType=DS;var qm=new WeakMap;function GS({children:r,error:e}){let{basename:n}=T.useContext(ks);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=LS(e.digest);if(i){let o=qm.get(e);if(o)throw o;let u=N_(i.location,n);if(E_&&!qm.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw qm.set(e,h),h}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function $S({routeContext:r,match:e,children:n}){let i=T.useContext(yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(yi.Provider,{value:r},n)}function YS(r,e=[],n=null,i=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let _=u.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);mn(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let p=!1,g=-1;if(n)for(let _=0;_<u.length;_++){let w=u[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=_),w.route.id){let{loaderData:S,errors:U}=n,Q=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!U||U[w.route.id]===void 0);if(w.route.lazy||Q){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&i?(_,w)=>{i(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:IS(n.matches),errorInfo:w})}:void 0;return u.reduceRight((_,w,S)=>{let U,Q=!1,J=null,F=null;n&&(U=h&&w.route.id?h[w.route.id]:void 0,J=w.route.errorElement||HS,p&&(g<0&&S===0?(k_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,F=null):g===S&&(Q=!0,F=w.route.hydrateFallbackElement||null)));let ue=e.concat(u.slice(0,S+1)),se=()=>{let fe;return U?fe=J:Q?fe=F:w.route.Component?fe=T.createElement(w.route.Component,null):w.route.element?fe=w.route.element:fe=_,T.createElement($S,{match:w,routeContext:{outlet:_,matches:ue,isDataRoute:n!=null},children:fe})};return n&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?T.createElement(I_,{location:n.location,revalidation:n.revalidation,component:J,error:U,children:se(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:y}):se()},null)}function Fp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KS(r){let e=T.useContext(yo);return mn(e,Fp(r)),e}function QS(r){let e=T.useContext(ch);return mn(e,Fp(r)),e}function XS(r){let e=T.useContext(yi);return mn(e,Fp(r)),e}function Hp(r){let e=XS(r),n=e.matches[e.matches.length-1];return mn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function WS(){return Hp("useRouteId")}function JS(){let r=T.useContext(Bp),e=QS("useRouteError"),n=Hp("useRouteError");return r!==void 0?r:e.errors?.[n]}function ZS(){let{router:r}=KS("useNavigate"),e=Hp("useNavigate"),n=T.useRef(!1);return C_(()=>{n.current=!0}),T.useCallback(async(o,u={})=>{Qs(n.current,j_),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Tx={};function k_(r,e,n){!e&&!Tx[r]&&(Tx[r]=!0,Qs(!1,n))}T.memo(e1);function e1({routes:r,future:e,state:n,onError:i}){return BS(r,void 0,n,i,e)}function t1({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){mn(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=T.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[p,o,u,h]);typeof n=="string"&&(n=Qc(n));let{pathname:y="/",search:_="",hash:w="",state:S=null,key:U="default"}=n,Q=T.useMemo(()=>{let J=di(y,p);return J==null?null:{location:{pathname:J,search:_,hash:w,state:S,key:U},navigationType:i}},[p,y,_,w,S,U,i]);return Qs(Q!=null,`<Router basename="${p}"> is not able to match the URL "${y}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:T.createElement(ks.Provider,{value:g},T.createElement(uh.Provider,{children:e,value:Q}))}var Sd="get",Ad="application/x-www-form-urlencoded";function dh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function n1(r){return dh(r)&&r.tagName.toLowerCase()==="button"}function s1(r){return dh(r)&&r.tagName.toLowerCase()==="form"}function r1(r){return dh(r)&&r.tagName.toLowerCase()==="input"}function i1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function a1(r,e){return r.button===0&&(!e||e==="_self")&&!i1(r)}var pd=null;function l1(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var o1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(r){return r!=null&&!o1.has(r)?(Qs(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ad}"`),null):r}function c1(r,e){let n,i,o,u,h;if(s1(r)){let p=r.getAttribute("action");i=p?di(p,e):null,n=r.getAttribute("method")||Sd,o=Bm(r.getAttribute("enctype"))||Ad,u=new FormData(r)}else if(n1(r)||r1(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?di(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Sd,o=Bm(r.getAttribute("formenctype"))||Bm(p.getAttribute("enctype"))||Ad,u=new FormData(p,r),!l1()){let{name:y,type:_,value:w}=r;if(_==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,w)}}else{if(dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sd,i=null,o=Ad,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function u1(r,e,n,i){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:e&&di(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function d1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function f1(r,e,n){let i=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await d1(u,n);return h.links?h.links():[]}return[]}));return y1(i.flat(1).filter(h1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Sx(r,e,n,i,o,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function m1(r,e,{includeHydrateFallback:n}={}){return p1(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function p1(r){return[...new Set(r)]}function g1(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function y1(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let u=JSON.stringify(g1(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function D_(){let r=T.useContext(yo);return Gp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function b1(){let r=T.useContext(ch);return Gp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $p=T.createContext(void 0);$p.displayName="FrameworkContext";function O_(){let r=T.useContext($p);return Gp(r,"You must render this element inside a <HydratedRouter> element"),r}function x1(r,e){let n=T.useContext($p),[i,o]=T.useState(!1),[u,h]=T.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:w}=e,S=T.useRef(null);T.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let J=ue=>{ue.forEach(se=>{h(se.isIntersecting)})},F=new IntersectionObserver(J,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),T.useEffect(()=>{if(i){let J=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(J)}}},[i]);let U=()=>{o(!0)},Q=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:_c(p,U),onBlur:_c(g,Q),onMouseEnter:_c(y,U),onMouseLeave:_c(_,Q),onTouchStart:_c(w,U)}]:[!1,S,{}]}function _c(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function v1({page:r,...e}){let{router:n}=D_(),i=T.useMemo(()=>y_(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?T.createElement(w1,{page:r,matches:i,...e}):null}function _1(r){let{manifest:e,routeModules:n}=O_(),[i,o]=T.useState([]);return T.useEffect(()=>{let u=!1;return f1(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),i}function w1({page:r,matches:e,...n}){let i=ga(),{future:o,manifest:u,routeModules:h}=O_(),{basename:p}=D_(),{loaderData:g,matches:y}=b1(),_=T.useMemo(()=>Sx(r,e,y,u,i,"data"),[r,e,y,u,i]),w=T.useMemo(()=>Sx(r,e,y,u,i,"assets"),[r,e,y,u,i]),S=T.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let J=new Set,F=!1;if(e.forEach(se=>{let fe=u.routes[se.route.id];!fe||!fe.hasLoader||(!_.some(we=>we.route.id===se.route.id)&&se.route.id in g&&h[se.route.id]?.shouldRevalidate||fe.hasClientLoader?F=!0:J.add(se.route.id))}),J.size===0)return[];let ue=u1(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return F&&J.size>0&&ue.searchParams.set("_routes",e.filter(se=>J.has(se.route.id)).map(se=>se.route.id).join(",")),[ue.pathname+ue.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,i,u,_,e,r,h]),U=T.useMemo(()=>m1(w,u),[w,u]),Q=_1(w);return T.createElement(T.Fragment,null,S.map(J=>T.createElement("link",{key:J,rel:"prefetch",as:"fetch",href:J,...n})),U.map(J=>T.createElement("link",{key:J,rel:"modulepreload",href:J,...n})),Q.map(({key:J,link:F})=>T.createElement("link",{key:J,nonce:n.nonce,...F})))}function E1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var N1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N1&&(window.__reactRouterVersion="7.12.0")}catch{}function T1({basename:r,children:e,unstable_useTransitions:n,window:i}){let o=T.useRef();o.current==null&&(o.current=aS({window:i,v5Compat:!0}));let u=o.current,[h,p]=T.useState({action:u.action,location:u.location}),g=T.useCallback(y=>{n===!1?p(y):T.startTransition(()=>p(y))},[n]);return T.useLayoutEffect(()=>u.listen(g),[u,g]),T.createElement(t1,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var M_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P_=T.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:y,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:S,...U},Q){let{basename:J,unstable_useTransitions:F}=T.useContext(ks),ue=typeof y=="string"&&M_.test(y),se=N_(y,J);y=se.to;let fe=zS(y,{relative:o}),[we,Oe,X]=x1(i,U),R=C1(y,{replace:h,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:S,unstable_useTransitions:F});function A(P){e&&e(P),P.defaultPrevented||R(P)}let j=T.createElement("a",{...U,...X,href:se.absoluteURL||fe,onClick:se.isExternal||u?e:A,ref:E1(Q,Oe),target:g,"data-discover":!ue&&n==="render"?"true":void 0});return we&&!ue?T.createElement(T.Fragment,null,j,T.createElement(v1,{page:fe})):j});P_.displayName="Link";var S1=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...y},_){let w=Wc(h,{relative:y.relative}),S=ga(),U=T.useContext(ch),{navigator:Q,basename:J}=T.useContext(ks),F=U!=null&&O1(w)&&p===!0,ue=Q.encodeLocation?Q.encodeLocation(w).pathname:w.pathname,se=S.pathname,fe=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(se=se.toLowerCase(),fe=fe?fe.toLowerCase():null,ue=ue.toLowerCase()),fe&&J&&(fe=di(fe,J)||fe);const we=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Oe=se===ue||!o&&se.startsWith(ue)&&se.charAt(we)==="/",X=fe!=null&&(fe===ue||!o&&fe.startsWith(ue)&&fe.charAt(ue.length)==="/"),R={isActive:Oe,isPending:X,isTransitioning:F},A=Oe?e:void 0,j;typeof i=="function"?j=i(R):j=[i,Oe?"active":null,X?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(R):u;return T.createElement(P_,{...y,"aria-current":A,className:j,ref:_,style:P,to:h,viewTransition:p},typeof g=="function"?g(R):g)});S1.displayName="NavLink";var A1=T.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:h=Sd,action:p,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:S,...U},Q)=>{let{unstable_useTransitions:J}=T.useContext(ks),F=k1(),ue=D1(p,{relative:y}),se=h.toLowerCase()==="get"?"get":"post",fe=typeof p=="string"&&M_.test(p),we=Oe=>{if(g&&g(Oe),Oe.defaultPrevented)return;Oe.preventDefault();let X=Oe.nativeEvent.submitter,R=X?.getAttribute("formmethod")||h,A=()=>F(X||Oe.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:y,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:S});J&&n!==!1?T.startTransition(()=>A()):A()};return T.createElement("form",{ref:Q,method:se,action:ue,onSubmit:i?g:we,...U,"data-discover":!fe&&r==="render"?"true":void 0})});A1.displayName="Form";function j1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V_(r){let e=T.useContext(yo);return mn(e,j1(r)),e}function C1(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=R_(),_=ga(),w=Wc(r,{relative:u});return T.useCallback(S=>{if(a1(S,e)){S.preventDefault();let U=n!==void 0?n:Vc(_)===Vc(w),Q=()=>y(r,{replace:U,state:i,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p});g?T.startTransition(()=>Q()):Q()}},[_,y,w,n,i,e,r,o,u,h,p,g])}var R1=0,I1=()=>`__${String(++R1)}__`;function k1(){let{router:r}=V_("useSubmit"),{basename:e}=T.useContext(ks),n=WS(),i=r.fetch,o=r.navigate;return T.useCallback(async(u,h={})=>{let{action:p,method:g,encType:y,formData:_,body:w}=c1(u,e);if(h.navigate===!1){let S=h.fetcherKey||I1();await i(S,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:w,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:w,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[i,o,e,n])}function D1(r,{relative:e}={}){let{basename:n}=T.useContext(ks),i=T.useContext(yi);mn(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Wc(r||".",{relative:e})},h=ga();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let _=p.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:oi([n,u.pathname])),Vc(u)}function O1(r,{relative:e}={}){let n=T.useContext(S_);mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=V_("useViewTransitionState"),o=Wc(r,{relative:e});if(!n.isTransitioning)return!1;let u=di(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=di(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ud(o.pathname,h)!=null||Ud(o.pathname,u)!=null}const M1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Ax=r=>{const e=P1(r);return e.charAt(0).toUpperCase()+e.slice(1)},L_=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),V1=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var L1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const U1=T.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:h,...p},g)=>T.createElement("svg",{ref:g,...L1,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:L_("lucide",o),...!u&&!V1(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,_])=>T.createElement(y,_)),...Array.isArray(u)?u:[u]]));const Ot=(r,e)=>{const n=T.forwardRef(({className:i,...o},u)=>T.createElement(U1,{ref:u,iconNode:e,className:L_(`lucide-${M1(Ax(r))}`,`lucide-${r}`,i),...o}));return n.displayName=Ax(r),n};const z1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],q1=Ot("activity",z1);const B1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ri=Ot("check",B1);const F1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jx=Ot("chevron-down",F1);const H1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cx=Ot("chevron-right",H1);const G1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$1=Ot("chevron-up",G1);const Y1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fm=Ot("circle-check",Y1);const K1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hm=Ot("circle-question-mark",K1);const Q1=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],X1=Ot("cookie",Q1);const W1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gd=Ot("download",W1);const J1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Z1=Ot("file-text",J1);const eA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Rx=Ot("mail",eA);const tA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ix=Ot("map-pin",tA);const nA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],sA=Ot("menu",nA);const rA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],iA=Ot("message-circle",rA);const aA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Gm=Ot("message-square",aA);const lA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oA=Ot("phone",lA);const cA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$m=Ot("plus",cA);const uA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dA=Ot("search",uA);const hA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fA=Ot("settings",hA);const mA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Wl=Ot("shield",mA);const pA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gA=Ot("sparkles",pA);const yA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ym=Ot("square-pen",yA);const bA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Km=Ot("trending-up",bA);const xA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qm=Ot("triangle-alert",xA);const vA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xm=Ot("users",vA);const _A=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dt=Ot("x",_A);const wA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yd=Ot("zap",wA),EA=()=>{};var kx={};const U_=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},NA=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,p=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,_=u>>2,w=(u&3)<<4|p>>4;let S=(p&15)<<2|y>>6,U=y&63;g||(U=64,h||(S=64)),i.push(n[_],n[w],n[S],n[U])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(U_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):NA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||w==null)throw new TA;const S=u<<2|p>>4;if(i.push(S),y!==64){const U=p<<4&240|y>>2;if(i.push(U),w!==64){const Q=y<<6&192|w;i.push(Q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SA=function(r){const e=U_(r);return z_.encodeByteArray(e,!0)},zd=function(r){return SA(r).replace(/\./g,"")},q_=function(r){try{return z_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jA=()=>AA().__FIREBASE_DEFAULTS__,CA=()=>{if(typeof process>"u"||typeof kx>"u")return;const r=kx.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},RA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&q_(r[1]);return e&&JSON.parse(e)},hh=()=>{try{return EA()||jA()||CA()||RA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},B_=r=>hh()?.emulatorHosts?.[r],Yp=r=>{const e=B_(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},F_=()=>hh()?.config,H_=r=>hh()?.[`_${r}`];class IA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function bi(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fh(r){return(await fetch(r,{credentials:"include"})).ok}function G_(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[zd(JSON.stringify(n)),zd(JSON.stringify(h)),""].join(".")}const Rc={};function kA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Rc))Rc[e]?r.emulator.push(e):r.prod.push(e);return r}function DA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Dx=!1;function mh(r,e){if(typeof window>"u"||typeof document>"u"||!bi(window.location.host)||Rc[r]===e||Rc[r]||Dx)return;Rc[r]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",u=kA().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,U){S.setAttribute("width","24"),S.setAttribute("id",U),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Dx=!0,h()},S}function _(S,U){S.setAttribute("id",U),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=DA(i),U=n("text"),Q=document.getElementById(U)||document.createElement("span"),J=n("learnmore"),F=document.getElementById(J)||document.createElement("a"),ue=n("preprendIcon"),se=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const fe=S.element;p(fe),_(F,J);const we=y();g(se,ue),fe.append(se,Q,F,we),document.body.appendChild(fe)}u?(Q.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function MA(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UA(){const r=Mn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zA(){return!MA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function BA(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const FA="FirebaseError";class Js extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FA,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?HA(u,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Js(o,p,i)}}function HA(r,e){return r.replace(GA,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const GA=/\{\$([^}]+)}/g;function $A(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ja(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=r[o],h=e[o];if(Ox(u)&&Ox(h)){if(!Ja(u,h))return!1}else if(u!==h)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Ox(r){return r!==null&&typeof r=="object"}function Zc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Nc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Tc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function YA(r,e){const n=new KA(r,e);return n.subscribe.bind(n)}class KA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");QA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Wm),o.error===void 0&&(o.error=Wm),o.complete===void 0&&(o.complete=Wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Wm(){}function Gt(r){return r&&r._delegate?r._delegate:r}class hi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qa="[DEFAULT]";class XA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new IA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JA(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&h.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:WA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WA(r){return r===Qa?void 0:r}function JA(r){return r.instantiationMode==="EAGER"}class ZA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ot||(ot={}));const e2={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},t2=ot.INFO,n2={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},s2=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=n2[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=t2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const r2=(r,e)=>e.some(n=>r instanceof n);let Mx,Px;function i2(){return Mx||(Mx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a2(){return Px||(Px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $_=new WeakMap,mp=new WeakMap,Y_=new WeakMap,Jm=new WeakMap,Qp=new WeakMap;function l2(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ia(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&$_.set(n,r)}).catch(()=>{}),Qp.set(e,r),e}function o2(r){if(mp.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});mp.set(r,e)}let pp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return mp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Y_.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function c2(r){pp=r(pp)}function u2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(Zm(this),e,...n);return Y_.set(i,e.sort?e.sort():[e]),ia(i)}:a2().includes(r)?function(...e){return r.apply(Zm(this),e),ia($_.get(this))}:function(...e){return ia(r.apply(Zm(this),e))}}function d2(r){return typeof r=="function"?u2(r):(r instanceof IDBTransaction&&o2(r),r2(r,i2())?new Proxy(r,pp):r)}function ia(r){if(r instanceof IDBRequest)return l2(r);if(Jm.has(r))return Jm.get(r);const e=d2(r);return e!==r&&(Jm.set(r,e),Qp.set(e,r)),e}const Zm=r=>Qp.get(r);function h2(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),p=ia(h);return i&&h.addEventListener("upgradeneeded",g=>{i(ia(h.result),g.oldVersion,g.newVersion,ia(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const f2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],ep=new Map;function Vx(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=m2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||f2.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return ep.set(e,u),u}c2(r=>({...r,get:(e,n,i)=>Vx(e,n)||r.get(e,n,i),has:(e,n)=>!!Vx(e,n)||r.has(e,n)}));class p2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function g2(r){return r.getComponent()?.type==="VERSION"}const gp="@firebase/app",Lx="0.14.6";const fi=new Kp("@firebase/app"),y2="@firebase/app-compat",b2="@firebase/analytics-compat",x2="@firebase/analytics",v2="@firebase/app-check-compat",_2="@firebase/app-check",w2="@firebase/auth",E2="@firebase/auth-compat",N2="@firebase/database",T2="@firebase/data-connect",S2="@firebase/database-compat",A2="@firebase/functions",j2="@firebase/functions-compat",C2="@firebase/installations",R2="@firebase/installations-compat",I2="@firebase/messaging",k2="@firebase/messaging-compat",D2="@firebase/performance",O2="@firebase/performance-compat",M2="@firebase/remote-config",P2="@firebase/remote-config-compat",V2="@firebase/storage",L2="@firebase/storage-compat",U2="@firebase/firestore",z2="@firebase/ai",q2="@firebase/firestore-compat",B2="firebase",F2="12.6.0";const yp="[DEFAULT]",H2={[gp]:"fire-core",[y2]:"fire-core-compat",[x2]:"fire-analytics",[b2]:"fire-analytics-compat",[_2]:"fire-app-check",[v2]:"fire-app-check-compat",[w2]:"fire-auth",[E2]:"fire-auth-compat",[N2]:"fire-rtdb",[T2]:"fire-data-connect",[S2]:"fire-rtdb-compat",[A2]:"fire-fn",[j2]:"fire-fn-compat",[C2]:"fire-iid",[R2]:"fire-iid-compat",[I2]:"fire-fcm",[k2]:"fire-fcm-compat",[D2]:"fire-perf",[O2]:"fire-perf-compat",[M2]:"fire-rc",[P2]:"fire-rc-compat",[V2]:"fire-gcs",[L2]:"fire-gcs-compat",[U2]:"fire-fst",[q2]:"fire-fst-compat",[z2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};const qd=new Map,G2=new Map,bp=new Map;function Ux(r,e){try{r.container.addComponent(e)}catch(n){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ca(r){const e=r.name;if(bp.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,r);for(const n of qd.values())Ux(n,r);for(const n of G2.values())Ux(n,r);return!0}function eu(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Xn(r){return r==null?!1:r.settings!==void 0}const $2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Jc("app","Firebase",$2);class Y2{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}const sl=F2;function K_(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:yp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw aa.create("bad-app-name",{appName:String(o)});if(n||(n=F_()),!n)throw aa.create("no-options");const u=qd.get(o);if(u){if(Ja(n,u.options)&&Ja(i,u.config))return u;throw aa.create("duplicate-app",{appName:o})}const h=new ZA(o);for(const g of bp.values())h.addComponent(g);const p=new Y2(n,i,h);return qd.set(o,p),p}function ph(r=yp){const e=qd.get(r);if(!e&&r===yp&&F_())return K_();if(!e)throw aa.create("no-app",{appName:r});return e}function Is(r,e,n){let i=H2[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(h.join(" "));return}ca(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const K2="firebase-heartbeat-database",Q2=1,Lc="firebase-heartbeat-store";let tp=null;function Q_(){return tp||(tp=h2(K2,Q2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(r=>{throw aa.create("idb-open",{originalErrorMessage:r.message})})),tp}async function X2(r){try{const n=(await Q_()).transaction(Lc),i=await n.objectStore(Lc).get(X_(r));return await n.done,i}catch(e){if(e instanceof Js)fi.warn(e.message);else{const n=aa.create("idb-get",{originalErrorMessage:e?.message});fi.warn(n.message)}}}async function zx(r,e){try{const i=(await Q_()).transaction(Lc,"readwrite");await i.objectStore(Lc).put(e,X_(r)),await i.done}catch(n){if(n instanceof Js)fi.warn(n.message);else{const i=aa.create("idb-set",{originalErrorMessage:n?.message});fi.warn(i.message)}}}function X_(r){return`${r.name}!${r.options.appId}`}const W2=1024,J2=30;class Z2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tj(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>J2){const o=nj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qx(),{heartbeatsToSend:n,unsentEntries:i}=ej(this._heartbeatsCache.heartbeats),o=zd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return fi.warn(e),""}}}function qx(){return new Date().toISOString().substring(0,10)}function ej(r,e=W2){const n=[];let i=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Bx(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Bx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class tj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?BA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return zx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return zx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bx(r){return zd(JSON.stringify({version:2,heartbeats:r})).length}function nj(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function sj(r){ca(new hi("platform-logger",e=>new p2(e),"PRIVATE")),ca(new hi("heartbeat",e=>new Z2(e),"PRIVATE")),Is(gp,Lx,r),Is(gp,Lx,"esm2020"),Is("fire-js","")}sj("");function W_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rj=W_,J_=new Jc("auth","Firebase",W_());const Bd=new Kp("@firebase/auth");function ij(r,...e){Bd.logLevel<=ot.WARN&&Bd.warn(`Auth (${sl}): ${r}`,...e)}function jd(r,...e){Bd.logLevel<=ot.ERROR&&Bd.error(`Auth (${sl}): ${r}`,...e)}function Xs(r,...e){throw Xp(r,...e)}function fr(r,...e){return Xp(r,...e)}function Z_(r,e,n){const i={...rj(),[e]:n};return new Jc("auth","Firebase",i).create(e,{appName:r.name})}function ci(r){return Z_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xp(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return J_.create(r,...e)}function He(r,e,...n){if(!r)throw Xp(e,...n)}function ai(r){const e="INTERNAL ASSERTION FAILED: "+r;throw jd(e),new Error(e)}function mi(r,e){r||ai(e)}function xp(){return typeof self<"u"&&self.location?.href||""}function aj(){return Fx()==="http:"||Fx()==="https:"}function Fx(){return typeof self<"u"&&self.location?.protocol||null}function lj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aj()||VA()||"connection"in navigator)?navigator.onLine:!0}function oj(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=OA()||LA()}get(){return lj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wp(r,e){mi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ew{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dj=new tu(3e4,6e4);function ya(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ba(r,e,n,i,o={}){return tw(r,o,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const p=Zc({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return PA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&bi(r.emulatorConfig.host)&&(y.credentials="include"),ew.fetch()(await nw(r,r.config.apiHost,n,p),y)})}async function tw(r,e,n){r._canInitEmulator=!1;const i={...cj,...e};try{const o=new fj(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw bd(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw bd(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw bd(r,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Z_(r,_,y);Xs(r,_)}}catch(o){if(o instanceof Js)throw o;Xs(r,"network-request-failed",{message:String(o)})}}async function nu(r,e,n,i,o={}){const u=await ba(r,e,n,i,o);return"mfaPendingCredential"in u&&Xs(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function nw(r,e,n,i){const o=`${e}${n}?${i}`,u=r,h=u.config.emulator?Wp(r.config,o):`${r.config.apiScheme}://${o}`;return uj.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function hj(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(fr(this.auth,"network-request-failed")),dj.get())})}}function bd(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=fr(r,e,i);return o.customData._tokenResponse=n,o}function Hx(r){return r!==void 0&&r.enterprise!==void 0}class mj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pj(r,e){return ba(r,"GET","/v2/recaptchaConfig",ya(r,e))}async function gj(r,e){return ba(r,"POST","/v1/accounts:delete",e)}async function Fd(r,e){return ba(r,"POST","/v1/accounts:lookup",e)}function Ic(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yj(r,e=!1){const n=Gt(r),i=await n.getIdToken(e),o=Jp(i);He(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:i,authTime:Ic(np(o.auth_time)),issuedAtTime:Ic(np(o.iat)),expirationTime:Ic(np(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function np(r){return Number(r)*1e3}function Jp(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return jd("JWT malformed, contained fewer than 3 sections"),null;try{const o=q_(n);return o?JSON.parse(o):(jd("Failed to decode base64 JWT payload"),null)}catch(o){return jd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Gx(r){const e=Jp(r);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Uc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Js&&bj(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function bj({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class xj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hd(r){const e=r.auth,n=await r.getIdToken(),i=await Uc(r,Fd(e,{idToken:n}));He(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?sw(o.providerUserInfo):[],h=_j(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function vj(r){const e=Gt(r);await Hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _j(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function sw(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wj(r,e){const n=await tw(r,{},async()=>{const i=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await nw(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&bi(r.emulatorConfig.host)&&(g.credentials="include"),ew.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ej(r,e){return ba(r,"POST","/v2/accounts:revokeToken",ya(r,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=Gx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await wj(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,h=new ro;return i&&(He(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(He(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(He(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return ai("not implemented")}}function Wi(r,e){He(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class $s{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new xj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yj(this,e)}reload(){return vj(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $s({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await Uc(this,gj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:U,providerData:Q,stsTokenManager:J}=n;He(w&&J,e,"internal-error");const F=ro.fromJSON(this.name,J);He(typeof w=="string",e,"internal-error"),Wi(i,e.name),Wi(o,e.name),He(typeof S=="boolean",e,"internal-error"),He(typeof U=="boolean",e,"internal-error"),Wi(u,e.name),Wi(h,e.name),Wi(p,e.name),Wi(g,e.name),Wi(y,e.name),Wi(_,e.name);const ue=new $s({uid:w,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:U,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:F,createdAt:y,lastLoginAt:_});return Q&&Array.isArray(Q)&&(ue.providerData=Q.map(se=>({...se}))),g&&(ue._redirectEventId=g),ue}static async _fromIdTokenResponse(e,n,i=!1){const o=new ro;o.updateFromServerResponse(n);const u=new $s({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Hd(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];He(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new ro;p.updateFromIdToken(i);const g=new $s({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const $x=new Map;function li(r){mi(r instanceof Function,"Expected a class definition");let e=$x.get(r);return e?(mi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$x.set(r,e),e)}class rw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rw.type="NONE";const Yx=rw;function Cd(r,e,n){return`firebase:${r}:${e}:${n}`}class io{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Cd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Cd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fd(this.auth,{idToken:e}).catch(()=>{});return n?$s._fromGetAccountInfoResponse(this.auth,n,e):null}return $s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new io(li(Yx),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||li(Yx);const h=Cd(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(h);if(_){let w;if(typeof _=="string"){const S=await Fd(e,{idToken:_}).catch(()=>{});if(!S)break;w=await $s._fromGetAccountInfoResponse(e,S,_)}else w=$s._fromJSON(e,_);y!==u&&(p=w),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new io(u,e,i):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new io(u,e,i))}}function Kx(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uw(e))return"Blackberry";if(dw(e))return"Webos";if(aw(e))return"Safari";if((e.includes("chrome/")||lw(e))&&!e.includes("edge/"))return"Chrome";if(cw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function iw(r=Mn()){return/firefox\//i.test(r)}function aw(r=Mn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lw(r=Mn()){return/crios\//i.test(r)}function ow(r=Mn()){return/iemobile/i.test(r)}function cw(r=Mn()){return/android/i.test(r)}function uw(r=Mn()){return/blackberry/i.test(r)}function dw(r=Mn()){return/webos/i.test(r)}function Zp(r=Mn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Nj(r=Mn()){return Zp(r)&&!!window.navigator?.standalone}function Tj(){return UA()&&document.documentMode===10}function hw(r=Mn()){return Zp(r)||cw(r)||dw(r)||uw(r)||/windows phone/i.test(r)||ow(r)}function fw(r,e=[]){let n;switch(r){case"Browser":n=Kx(Mn());break;case"Worker":n=`${Kx(Mn())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sl}/${i}`}class Sj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Aj(r,e={}){return ba(r,"GET","/v2/passwordPolicy",ya(r,e))}const jj=6;class Cj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Rj{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qx(this),this.idTokenSubscription=new Qx(this),this.beforeStateQueue=new Sj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fd(this,{idToken:e}),i=await $s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(ci(this));const n=e?Gt(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Aj(this),n=new Cj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ej(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ij(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rl(r){return Gt(r)}class Qx{constructor(e){this.auth=e,this.observer=null,this.addObserver=YA(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ij(r){gh=r}function mw(r){return gh.loadJS(r)}function kj(){return gh.recaptchaEnterpriseScript}function Dj(){return gh.gapiScript}function Oj(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Mj{constructor(){this.enterprise=new Pj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Pj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Vj="recaptcha-enterprise",pw="NO_RECAPTCHA";class Lj{constructor(e){this.type=Vj,this.auth=rl(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{pj(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new mj(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;Hx(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(pw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mj().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(p=>{if(!n&&Hx(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=kj();g.length!==0&&(g+=p),mw(g).then(()=>{o(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function Xx(r,e,n,i=!1,o=!1){const u=new Lj(r);let h;if(o)h=pw;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function _p(r,e,n,i,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Xx(r,e,n,n==="getOobCode");return i(r,u)}else return i(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Xx(r,e,n,n==="getOobCode");return i(r,h)}else return Promise.reject(u)})}function Uj(r,e){const n=eu(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ja(u,e??{}))return o;Xs(o,"already-initialized")}return n.initialize({options:e})}function zj(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(li);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function qj(r,e,n){const i=rl(r);He(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=gw(e),{host:h,port:p}=Bj(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},_=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){He(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),He(Ja(y,i.config.emulator)&&Ja(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,bi(h)?(fh(`${u}//${h}${g}`),mh("Auth",!0)):Fj()}function gw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Bj(r){const e=gw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:Wx(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:Wx(h)}}}function Wx(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Fj(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function Hj(r,e){return ba(r,"POST","/v1/accounts:signUp",e)}async function Gj(r,e){return nu(r,"POST","/v1/accounts:signInWithPassword",ya(r,e))}async function $j(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}async function Yj(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}class zc extends eg{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new zc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new zc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,n,"signInWithPassword",Gj);case"emailLink":return $j(e,{email:this._email,oobCode:this._password});default:Xs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,i,"signUpPassword",Hj);case"emailLink":return Yj(e,{idToken:n,email:this._email,oobCode:this._password});default:Xs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ao(r,e){return nu(r,"POST","/v1/accounts:signInWithIdp",ya(r,e))}const Kj="http://localhost";class Za extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const h=new Za(i,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ao(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:Kj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zc(n)}return e}}function Qj(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xj(r){const e=Nc(Tc(r)).link,n=e?Nc(Tc(e)).deep_link_id:null,i=Nc(Tc(r)).deep_link_id;return(i?Nc(Tc(i)).link:null)||i||n||e||r}class tg{constructor(e){const n=Nc(Tc(e)),i=n.apiKey??null,o=n.oobCode??null,u=Qj(n.mode??null);He(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Xj(e);try{return new tg(n)}catch{return null}}}class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,n){return zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=tg.parseLink(n);return He(i,"argument-error"),zc._fromEmailAndCode(e,i.code,i.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends yw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zi extends su{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";class ea extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ea.credential(n,i)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";class ta extends su{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";class na extends su{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return na.credential(n,i)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";async function Wj(r,e){return nu(r,"POST","/v1/accounts:signUp",ya(r,e))}class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await $s._fromIdTokenResponse(e,i,o),h=Jx(i);return new el({user:u,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Jx(i);return new el({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Jx(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Gd extends Js{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Gd(e,n,i,o)}}function bw(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(r,u,e,i):u})}async function Jj(r,e,n=!1){const i=await Uc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return el._forOperation(r,"link",i)}async function Zj(r,e,n=!1){const{auth:i}=r;if(Xn(i.app))return Promise.reject(ci(i));const o="reauthenticate";try{const u=await Uc(r,bw(i,o,e,r),n);He(u.idToken,i,"internal-error");const h=Jp(u.idToken);He(h,i,"internal-error");const{sub:p}=h;return He(r.uid===p,i,"user-mismatch"),el._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Xs(i,"user-mismatch"),u}}async function xw(r,e,n=!1){if(Xn(r.app))return Promise.reject(ci(r));const i="signIn",o=await bw(r,i,e),u=await el._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(u.user),u}async function eC(r,e){return xw(rl(r),e)}async function vw(r){const e=rl(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tC(r,e,n){if(Xn(r.app))return Promise.reject(ci(r));const i=rl(r),h=await _p(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wj).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&vw(r),g}),p=await el._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(p.user),p}function nC(r,e,n){return Xn(r.app)?Promise.reject(ci(r)):eC(Gt(r),bo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vw(r),i})}function sC(r,e){return Gt(r).setPersistence(e)}function rC(r,e,n,i){return Gt(r).onIdTokenChanged(e,n,i)}function iC(r,e,n){return Gt(r).beforeAuthStateChanged(e,n)}function aC(r,e,n,i){return Gt(r).onAuthStateChanged(e,n,i)}function lC(r){return Gt(r).signOut()}const $d="__sak";class _w{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($d,"1"),this.storage.removeItem($d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oC=1e3,cC=10;class ww extends _w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);Tj()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cC):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ww.type="LOCAL";const Ew=ww;class Nw extends _w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Nw.type="SESSION";const ng=Nw;function uC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new yh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,u)),g=await uC(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function sg(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class dC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=sg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function mr(){return window}function hC(r){mr().location.href=r}function Tw(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function fC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mC(){return navigator?.serviceWorker?.controller||null}function pC(){return Tw()?self:null}const Sw="firebaseLocalStorageDb",gC=1,Yd="firebaseLocalStorage",Aw="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bh(r,e){return r.transaction([Yd],e?"readwrite":"readonly").objectStore(Yd)}function yC(){const r=indexedDB.deleteDatabase(Sw);return new ru(r).toPromise()}function wp(){const r=indexedDB.open(Sw,gC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Yd,{keyPath:Aw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Yd)?e(i):(i.close(),await yC(),e(await wp()))})})}async function Zx(r,e,n){const i=bh(r,!0).put({[Aw]:e,value:n});return new ru(i).toPromise()}async function bC(r,e){const n=bh(r,!1).get(e),i=await new ru(n).toPromise();return i===void 0?null:i.value}function ev(r,e){const n=bh(r,!0).delete(e);return new ru(n).toPromise()}const xC=800,vC=3;class jw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>vC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(pC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await Zx(e,$d,"1"),await ev(e,$d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Zx(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>bC(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ev(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=bh(o,!1).getAll();return new ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jw.type="LOCAL";const _C=jw;new tu(3e4,6e4);function wC(r,e){return e?li(e):(He(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class rg extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EC(r){return xw(r.auth,new rg(r),r.bypassAuthState)}function NC(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),Zj(n,new rg(r),r.bypassAuthState)}async function TC(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),Jj(n,new rg(r),r.bypassAuthState)}class Cw{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EC;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:Xs(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SC=new tu(2e3,1e4);class so extends Cw{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SC.get())};e()}}so.currentPopupAction=null;const AC="pendingRedirect",Rd=new Map;class jC extends Cw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Rd.get(this.auth._key());if(!e){try{const i=await CC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Rd.set(this.auth._key(),e)}return this.bypassAuthState||Rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CC(r,e){const n=kC(e),i=IC(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function RC(r,e){Rd.set(r._key(),e)}function IC(r){return li(r._redirectPersistence)}function kC(r){return Cd(AC,r.config.apiKey,r.name)}async function DC(r,e,n=!1){if(Xn(r.app))return Promise.reject(ci(r));const i=rl(r),o=wC(i,e),h=await new jC(i,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const OC=600*1e3;class MC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Rw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OC&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(e))}saveEventToCache(e){this.cachedEventUids.add(tv(e)),this.lastProcessedEventTime=Date.now()}}function tv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Rw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function PC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rw(r);default:return!1}}async function VC(r,e={}){return ba(r,"GET","/v1/projects",e)}const LC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UC=/^https?/;async function zC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await VC(r);for(const n of e)try{if(qC(n))return}catch{}Xs(r,"unauthorized-domain")}function qC(r){const e=xp(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!UC.test(n))return!1;if(LC.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}const BC=new tu(3e4,6e4);function nv(){const r=mr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function FC(r){return new Promise((e,n)=>{function i(){nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nv(),n(fr(r,"network-request-failed"))},timeout:BC.get()})}if(mr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(mr().gapi?.load)i();else{const o=Oj("iframefcb");return mr()[o]=()=>{gapi.load?i():n(fr(r,"network-request-failed"))},mw(`${Dj()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Id=null,e})}let Id=null;function HC(r){return Id=Id||FC(r),Id}const GC=new tu(5e3,15e3),$C="__/auth/iframe",YC="emulator/auth/iframe",KC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XC(r){const e=r.config;He(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Wp(e,YC):`https://${r.config.authDomain}/${$C}`,i={apiKey:e.apiKey,appName:r.name,v:sl},o=QC.get(r.config.apiHost);o&&(i.eid=o);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${Zc(i).slice(1)}`}async function WC(r){const e=await HC(r),n=mr().gapi;return He(n,r,"internal-error"),e.open({where:document.body,url:XC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KC,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const h=fr(r,"network-request-failed"),p=mr().setTimeout(()=>{u(h)},GC.get());function g(){mr().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{u(h)})}))}const JC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZC=500,e4=600,t4="_blank",n4="http://localhost";class sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s4(r,e,n,i=ZC,o=e4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...JC,width:i.toString(),height:o.toString(),top:u,left:h},y=Mn().toLowerCase();n&&(p=lw(y)?t4:n),iw(y)&&(e=e||n4,g.scrollbars="yes");const _=Object.entries(g).reduce((S,[U,Q])=>`${S}${U}=${Q},`,"");if(Nj(y)&&p!=="_self")return r4(e||"",p),new sv(null);const w=window.open(e||"",p,_);He(w,r,"popup-blocked");try{w.focus()}catch{}return new sv(w)}function r4(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const i4="__/auth/handler",a4="emulator/auth/handler",l4=encodeURIComponent("fac");async function rv(r,e,n,i,o,u){He(r.config.authDomain,r,"auth-domain-config-required"),He(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:sl,eventId:o};if(e instanceof yw){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",$A(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))h[_]=w}if(e instanceof su){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await r._getAppCheckToken(),y=g?`#${l4}=${encodeURIComponent(g)}`:"";return`${o4(r)}?${Zc(p).slice(1)}${y}`}function o4({config:r}){return r.emulator?Wp(r,a4):`https://${r.authDomain}/${i4}`}const sp="webStorageSupport";class c4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ng,this._completeRedirectFn=DC,this._overrideRedirectResult=RC}async _openPopup(e,n,i,o){mi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await rv(e,n,i,xp(),o);return s4(e,u,sg())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await rv(e,n,i,xp(),o);return hC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mi(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await WC(e),i=new MC(e);return n.register("authEvent",o=>(He(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sp,{type:sp},o=>{const u=o?.[0]?.[sp];u!==void 0&&n(!!u),Xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hw()||aw()||Zp()}}const u4=c4;var iv="@firebase/auth",av="1.12.0";class d4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function h4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f4(r){ca(new hi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;He(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fw(r)},y=new Rj(i,o,u,g);return zj(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ca(new hi("auth-internal",e=>{const n=rl(e.getProvider("auth").getImmediate());return(i=>new d4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(iv,av,h4(r)),Is(iv,av,"esm2020")}const m4=300,p4=H_("authIdTokenMaxAge")||m4;let lv=null;const g4=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>p4)return;const o=n?.token;lv!==o&&(lv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function y4(r=ph()){const e=eu(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Uj(r,{popupRedirectResolver:u4,persistence:[_C,Ew,ng]}),i=H_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=g4(u.toString());iC(n,h,()=>h(n.currentUser)),rC(n,p=>h(p))}}const o=B_("auth");return o&&qj(n,`http://${o}`),n}function b4(){return document.getElementsByTagName("head")?.[0]??document}Ij({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const u=fr("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",b4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f4("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var la,Iw;(function(){var r;function e(R,A){function j(){}j.prototype=A.prototype,R.F=A.prototype,R.prototype=new j,R.prototype.constructor=R,R.D=function(P,k,z){for(var I=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)I[nt-2]=arguments[nt];return A.prototype[k].apply(P,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,j){j||(j=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(k=0;k<16;++k)P[k]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=R.g[0],j=R.g[1],k=R.g[2];let z=R.g[3],I;I=A+(z^j&(k^z))+P[0]+3614090360&4294967295,A=j+(I<<7&4294967295|I>>>25),I=z+(k^A&(j^k))+P[1]+3905402710&4294967295,z=A+(I<<12&4294967295|I>>>20),I=k+(j^z&(A^j))+P[2]+606105819&4294967295,k=z+(I<<17&4294967295|I>>>15),I=j+(A^k&(z^A))+P[3]+3250441966&4294967295,j=k+(I<<22&4294967295|I>>>10),I=A+(z^j&(k^z))+P[4]+4118548399&4294967295,A=j+(I<<7&4294967295|I>>>25),I=z+(k^A&(j^k))+P[5]+1200080426&4294967295,z=A+(I<<12&4294967295|I>>>20),I=k+(j^z&(A^j))+P[6]+2821735955&4294967295,k=z+(I<<17&4294967295|I>>>15),I=j+(A^k&(z^A))+P[7]+4249261313&4294967295,j=k+(I<<22&4294967295|I>>>10),I=A+(z^j&(k^z))+P[8]+1770035416&4294967295,A=j+(I<<7&4294967295|I>>>25),I=z+(k^A&(j^k))+P[9]+2336552879&4294967295,z=A+(I<<12&4294967295|I>>>20),I=k+(j^z&(A^j))+P[10]+4294925233&4294967295,k=z+(I<<17&4294967295|I>>>15),I=j+(A^k&(z^A))+P[11]+2304563134&4294967295,j=k+(I<<22&4294967295|I>>>10),I=A+(z^j&(k^z))+P[12]+1804603682&4294967295,A=j+(I<<7&4294967295|I>>>25),I=z+(k^A&(j^k))+P[13]+4254626195&4294967295,z=A+(I<<12&4294967295|I>>>20),I=k+(j^z&(A^j))+P[14]+2792965006&4294967295,k=z+(I<<17&4294967295|I>>>15),I=j+(A^k&(z^A))+P[15]+1236535329&4294967295,j=k+(I<<22&4294967295|I>>>10),I=A+(k^z&(j^k))+P[1]+4129170786&4294967295,A=j+(I<<5&4294967295|I>>>27),I=z+(j^k&(A^j))+P[6]+3225465664&4294967295,z=A+(I<<9&4294967295|I>>>23),I=k+(A^j&(z^A))+P[11]+643717713&4294967295,k=z+(I<<14&4294967295|I>>>18),I=j+(z^A&(k^z))+P[0]+3921069994&4294967295,j=k+(I<<20&4294967295|I>>>12),I=A+(k^z&(j^k))+P[5]+3593408605&4294967295,A=j+(I<<5&4294967295|I>>>27),I=z+(j^k&(A^j))+P[10]+38016083&4294967295,z=A+(I<<9&4294967295|I>>>23),I=k+(A^j&(z^A))+P[15]+3634488961&4294967295,k=z+(I<<14&4294967295|I>>>18),I=j+(z^A&(k^z))+P[4]+3889429448&4294967295,j=k+(I<<20&4294967295|I>>>12),I=A+(k^z&(j^k))+P[9]+568446438&4294967295,A=j+(I<<5&4294967295|I>>>27),I=z+(j^k&(A^j))+P[14]+3275163606&4294967295,z=A+(I<<9&4294967295|I>>>23),I=k+(A^j&(z^A))+P[3]+4107603335&4294967295,k=z+(I<<14&4294967295|I>>>18),I=j+(z^A&(k^z))+P[8]+1163531501&4294967295,j=k+(I<<20&4294967295|I>>>12),I=A+(k^z&(j^k))+P[13]+2850285829&4294967295,A=j+(I<<5&4294967295|I>>>27),I=z+(j^k&(A^j))+P[2]+4243563512&4294967295,z=A+(I<<9&4294967295|I>>>23),I=k+(A^j&(z^A))+P[7]+1735328473&4294967295,k=z+(I<<14&4294967295|I>>>18),I=j+(z^A&(k^z))+P[12]+2368359562&4294967295,j=k+(I<<20&4294967295|I>>>12),I=A+(j^k^z)+P[5]+4294588738&4294967295,A=j+(I<<4&4294967295|I>>>28),I=z+(A^j^k)+P[8]+2272392833&4294967295,z=A+(I<<11&4294967295|I>>>21),I=k+(z^A^j)+P[11]+1839030562&4294967295,k=z+(I<<16&4294967295|I>>>16),I=j+(k^z^A)+P[14]+4259657740&4294967295,j=k+(I<<23&4294967295|I>>>9),I=A+(j^k^z)+P[1]+2763975236&4294967295,A=j+(I<<4&4294967295|I>>>28),I=z+(A^j^k)+P[4]+1272893353&4294967295,z=A+(I<<11&4294967295|I>>>21),I=k+(z^A^j)+P[7]+4139469664&4294967295,k=z+(I<<16&4294967295|I>>>16),I=j+(k^z^A)+P[10]+3200236656&4294967295,j=k+(I<<23&4294967295|I>>>9),I=A+(j^k^z)+P[13]+681279174&4294967295,A=j+(I<<4&4294967295|I>>>28),I=z+(A^j^k)+P[0]+3936430074&4294967295,z=A+(I<<11&4294967295|I>>>21),I=k+(z^A^j)+P[3]+3572445317&4294967295,k=z+(I<<16&4294967295|I>>>16),I=j+(k^z^A)+P[6]+76029189&4294967295,j=k+(I<<23&4294967295|I>>>9),I=A+(j^k^z)+P[9]+3654602809&4294967295,A=j+(I<<4&4294967295|I>>>28),I=z+(A^j^k)+P[12]+3873151461&4294967295,z=A+(I<<11&4294967295|I>>>21),I=k+(z^A^j)+P[15]+530742520&4294967295,k=z+(I<<16&4294967295|I>>>16),I=j+(k^z^A)+P[2]+3299628645&4294967295,j=k+(I<<23&4294967295|I>>>9),I=A+(k^(j|~z))+P[0]+4096336452&4294967295,A=j+(I<<6&4294967295|I>>>26),I=z+(j^(A|~k))+P[7]+1126891415&4294967295,z=A+(I<<10&4294967295|I>>>22),I=k+(A^(z|~j))+P[14]+2878612391&4294967295,k=z+(I<<15&4294967295|I>>>17),I=j+(z^(k|~A))+P[5]+4237533241&4294967295,j=k+(I<<21&4294967295|I>>>11),I=A+(k^(j|~z))+P[12]+1700485571&4294967295,A=j+(I<<6&4294967295|I>>>26),I=z+(j^(A|~k))+P[3]+2399980690&4294967295,z=A+(I<<10&4294967295|I>>>22),I=k+(A^(z|~j))+P[10]+4293915773&4294967295,k=z+(I<<15&4294967295|I>>>17),I=j+(z^(k|~A))+P[1]+2240044497&4294967295,j=k+(I<<21&4294967295|I>>>11),I=A+(k^(j|~z))+P[8]+1873313359&4294967295,A=j+(I<<6&4294967295|I>>>26),I=z+(j^(A|~k))+P[15]+4264355552&4294967295,z=A+(I<<10&4294967295|I>>>22),I=k+(A^(z|~j))+P[6]+2734768916&4294967295,k=z+(I<<15&4294967295|I>>>17),I=j+(z^(k|~A))+P[13]+1309151649&4294967295,j=k+(I<<21&4294967295|I>>>11),I=A+(k^(j|~z))+P[4]+4149444226&4294967295,A=j+(I<<6&4294967295|I>>>26),I=z+(j^(A|~k))+P[11]+3174756917&4294967295,z=A+(I<<10&4294967295|I>>>22),I=k+(A^(z|~j))+P[2]+718787259&4294967295,k=z+(I<<15&4294967295|I>>>17),I=j+(z^(k|~A))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+z&4294967295}i.prototype.v=function(R,A){A===void 0&&(A=R.length);const j=A-this.blockSize,P=this.C;let k=this.h,z=0;for(;z<A;){if(k==0)for(;z<=j;)o(this,R,z),z+=this.blockSize;if(typeof R=="string"){for(;z<A;)if(P[k++]=R.charCodeAt(z++),k==this.blockSize){o(this,P),k=0;break}}else for(;z<A;)if(P[k++]=R[z++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=A},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var j=R.length-8;j<R.length;++j)R[j]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,j=0;j<4;++j)for(let P=0;P<32;P+=8)R[A++]=this.g[j]>>>P&255;return R};function u(R,A){var j=p;return Object.prototype.hasOwnProperty.call(j,R)?j[R]:j[R]=A(R)}function h(R,A){this.h=A;const j=[];let P=!0;for(let k=R.length-1;k>=0;k--){const z=R[k]|0;P&&z==A||(j[k]=z,P=!1)}this.g=j}var p={};function g(R){return-128<=R&&R<128?u(R,function(A){return new h([A|0],A<0?-1:0)}):new h([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return F(y(-R));const A=[];let j=1;for(let P=0;R>=j;P++)A[P]=R/j|0,j*=4294967296;return new h(A,0)}function _(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return F(_(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(A,8));let P=w;for(let z=0;z<R.length;z+=8){var k=Math.min(8,R.length-z);const I=parseInt(R.substring(z,z+k),A);k<8?(k=y(Math.pow(A,k)),P=P.j(k).add(y(I))):(P=P.j(j),P=P.add(y(I)))}return P}var w=g(0),S=g(1),U=g(16777216);r=h.prototype,r.m=function(){if(J(this))return-F(this).m();let R=0,A=1;for(let j=0;j<this.g.length;j++){const P=this.i(j);R+=(P>=0?P:4294967296+P)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if(J(this))return"-"+F(this).toString(R);const A=y(Math.pow(R,6));var j=this;let P="";for(;;){const k=we(j,A).g;j=ue(j,k.j(A));let z=((j.g.length>0?j.g[0]:j.h)>>>0).toString(R);if(j=k,Q(j))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function J(R){return R.h==-1}r.l=function(R){return R=ue(this,R),J(R)?-1:Q(R)?0:1};function F(R){const A=R.g.length,j=[];for(let P=0;P<A;P++)j[P]=~R.g[P];return new h(j,~R.h).add(S)}r.abs=function(){return J(this)?F(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),j=[];let P=0;for(let k=0;k<=A;k++){let z=P+(this.i(k)&65535)+(R.i(k)&65535),I=(z>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);P=I>>>16,z&=65535,I&=65535,j[k]=I<<16|z}return new h(j,j[j.length-1]&-2147483648?-1:0)};function ue(R,A){return R.add(F(A))}r.j=function(R){if(Q(this)||Q(R))return w;if(J(this))return J(R)?F(this).j(F(R)):F(F(this).j(R));if(J(R))return F(this.j(F(R)));if(this.l(U)<0&&R.l(U)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,j=[];for(var P=0;P<2*A;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<R.g.length;k++){const z=this.i(P)>>>16,I=this.i(P)&65535,nt=R.i(k)>>>16,_t=R.i(k)&65535;j[2*P+2*k]+=I*_t,se(j,2*P+2*k),j[2*P+2*k+1]+=z*_t,se(j,2*P+2*k+1),j[2*P+2*k+1]+=I*nt,se(j,2*P+2*k+1),j[2*P+2*k+2]+=z*nt,se(j,2*P+2*k+2)}for(R=0;R<A;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=A;R<2*A;R++)j[R]=0;return new h(j,0)};function se(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function fe(R,A){this.g=R,this.h=A}function we(R,A){if(Q(A))throw Error("division by zero");if(Q(R))return new fe(w,w);if(J(R))return A=we(F(R),A),new fe(F(A.g),F(A.h));if(J(A))return A=we(R,F(A)),new fe(F(A.g),A.h);if(R.g.length>30){if(J(R)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var j=S,P=A;P.l(R)<=0;)j=Oe(j),P=Oe(P);var k=X(j,1),z=X(P,1);for(P=X(P,2),j=X(j,2);!Q(P);){var I=z.add(P);I.l(R)<=0&&(k=k.add(j),z=I),P=X(P,1),j=X(j,1)}return A=ue(R,k.j(A)),new fe(k,A)}for(k=w;R.l(A)>=0;){for(j=Math.max(1,Math.floor(R.m()/A.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=y(j),I=z.j(A);J(I)||I.l(R)>0;)j-=P,z=y(j),I=z.j(A);Q(z)&&(z=S),k=k.add(z),R=ue(R,I)}return new fe(k,R)}r.B=function(R){return we(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),j=[];for(let P=0;P<A;P++)j[P]=this.i(P)&R.i(P);return new h(j,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),j=[];for(let P=0;P<A;P++)j[P]=this.i(P)|R.i(P);return new h(j,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),j=[];for(let P=0;P<A;P++)j[P]=this.i(P)^R.i(P);return new h(j,this.h^R.h)};function Oe(R){const A=R.g.length+1,j=[];for(let P=0;P<A;P++)j[P]=R.i(P)<<1|R.i(P-1)>>>31;return new h(j,R.h)}function X(R,A){const j=A>>5;A%=32;const P=R.g.length-j,k=[];for(let z=0;z<P;z++)k[z]=A>0?R.i(z+j)>>>A|R.i(z+j+1)<<32-A:R.i(z+j);return new h(k,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Iw=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,la=h}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kw,Sc,Dw,kd,Ep,Ow,Mw,Pw;(function(){var r,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var b=0;b<d.length;++b){var v=d[b];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function o(d,b){if(b)e:{var v=i;d=d.split(".");for(var N=0;N<d.length-1;N++){var B=d[N];if(!(B in v))break e;v=v[B]}d=d[d.length-1],N=v[d],b=b(N),b!=N&&b!=null&&e(v,d,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(b){var v=[],N;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&v.push([N,b[N]]);return v}});var u=u||{},h=this||self;function p(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function g(d,b,v){return d.call.apply(d.bind,arguments)}function y(d,b,v){return y=g,y.apply(null,arguments)}function _(d,b){var v=Array.prototype.slice.call(arguments,1);return function(){var N=v.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function w(d,b){function v(){}v.prototype=b.prototype,d.Z=b.prototype,d.prototype=new v,d.prototype.constructor=d,d.Ob=function(N,B,K){for(var me=Array(arguments.length-2),V=2;V<arguments.length;V++)me[V-2]=arguments[V];return b.prototype[B].apply(N,me)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function U(d){const b=d.length;if(b>0){const v=Array(b);for(let N=0;N<b;N++)v[N]=d[N];return v}return[]}function Q(d,b){for(let N=1;N<arguments.length;N++){const B=arguments[N];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=d.length||0;const K=B.length||0;d.length=v+K;for(let me=0;me<K;me++)d[v+me]=B[me]}else d.push(B)}}class J{constructor(b,v){this.i=b,this.j=v,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function F(d){h.setTimeout(()=>{throw d},0)}function ue(){var d=R;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class se{constructor(){this.h=this.g=null}add(b,v){const N=fe.get();N.set(b,v),this.h?this.h.next=N:this.g=N,this.h=N}}var fe=new J(()=>new we,d=>d.reset());class we{constructor(){this.next=this.g=this.h=null}set(b,v){this.h=b,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,X=!1,R=new se,A=()=>{const d=Promise.resolve(void 0);Oe=()=>{d.then(j)}};function j(){for(var d;d=ue();){try{d.h.call(d.g)}catch(v){F(v)}var b=fe;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}X=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};h.addEventListener("test",v,b),h.removeEventListener("test",v,b)}catch{}return d})();function I(d){return/^[\s\xa0]*$/.test(d)}function nt(d,b){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}w(nt,k),nt.prototype.init=function(d,b){const v=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(v=="mouseover"?b=d.fromElement:v=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),ee=0;function pe(d,b,v,N,B){this.listener=d,this.proxy=null,this.src=b,this.type=v,this.capture=!!N,this.ha=B,this.key=++ee,this.da=this.fa=!1}function Ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Te(d,b,v){for(const N in d)b.call(v,d[N],N,d)}function tt(d,b){for(const v in d)b.call(void 0,d[v],v,d)}function C(d){const b={};for(const v in d)b[v]=d[v];return b}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(d,b){let v,N;for(let B=1;B<arguments.length;B++){N=arguments[B];for(v in N)d[v]=N[v];for(let K=0;K<te.length;K++)v=te[K],Object.prototype.hasOwnProperty.call(N,v)&&(d[v]=N[v])}}function Se(d){this.src=d,this.g={},this.h=0}Se.prototype.add=function(d,b,v,N,B){const K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);const me=Ue(d,b,N,B);return me>-1?(b=d[me],v||(b.fa=!1)):(b=new pe(b,this.src,K,!!N,B),b.fa=v,d.push(b)),b};function Pe(d,b){const v=b.type;if(v in d.g){var N=d.g[v],B=Array.prototype.indexOf.call(N,b,void 0),K;(K=B>=0)&&Array.prototype.splice.call(N,B,1),K&&(Ae(b),d.g[v].length==0&&(delete d.g[v],d.h--))}}function Ue(d,b,v,N){for(let B=0;B<d.length;++B){const K=d[B];if(!K.da&&K.listener==b&&K.capture==!!v&&K.ha==N)return B}return-1}var Je="closure_lm_"+(Math.random()*1e6|0),Tt={};function It(d,b,v,N,B){if(Array.isArray(b)){for(let K=0;K<b.length;K++)It(d,b[K],v,N,B);return null}return v=it(v),d&&d[_t]?d.J(b,v,p(N)?!!N.capture:!1,B):Zs(d,b,v,!1,N,B)}function Zs(d,b,v,N,B,K){if(!b)throw Error("Invalid event type");const me=p(B)?!!B.capture:!!B;let V=vi(d);if(V||(d[Je]=V=new Se(d)),v=V.add(b,v,N,me,K),v.proxy)return v;if(N=Er(),v.proxy=N,N.src=d,N.listener=v,d.addEventListener)z||(B=me),B===void 0&&(B=!1),d.addEventListener(b.toString(),N,B);else if(d.attachEvent)d.attachEvent(ms(b.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Er(){function d(v){return b.call(d.src,d.listener,v)}const b=wa;return d}function xi(d,b,v,N,B){if(Array.isArray(b))for(var K=0;K<b.length;K++)xi(d,b[K],v,N,B);else N=p(N)?!!N.capture:!!N,v=it(v),d&&d[_t]?(d=d.i,K=String(b).toString(),K in d.g&&(b=d.g[K],v=Ue(b,v,N,B),v>-1&&(Ae(b[v]),Array.prototype.splice.call(b,v,1),b.length==0&&(delete d.g[K],d.h--)))):d&&(d=vi(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Ue(b,v,N,B)),(v=d>-1?b[d]:null)&&Nr(v))}function Nr(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[_t])Pe(b.i,d);else{var v=d.type,N=d.proxy;b.removeEventListener?b.removeEventListener(v,N,d.capture):b.detachEvent?b.detachEvent(ms(v),N):b.addListener&&b.removeListener&&b.removeListener(N),(v=vi(b))?(Pe(v,d),v.h==0&&(v.src=null,b[Je]=null)):Ae(d)}}}function ms(d){return d in Tt?Tt[d]:Tt[d]="on"+d}function wa(d,b){if(d.da)d=!0;else{b=new nt(b,this);const v=d.listener,N=d.ha||d.src;d.fa&&Nr(d),d=v.call(N,b)}return d}function vi(d){return d=d[Je],d instanceof Se?d:null}var Ea="__closure_events_fn_"+(Math.random()*1e9>>>0);function it(d){return typeof d=="function"?d:(d[Ea]||(d[Ea]=function(b){return d.handleEvent(b)}),d[Ea])}function qt(){P.call(this),this.i=new Se(this),this.M=this,this.G=null}w(qt,P),qt.prototype[_t]=!0,qt.prototype.removeEventListener=function(d,b,v,N){xi(this,d,b,v,N)};function Me(d,b){var v,N=d.G;if(N)for(v=[];N;N=N.G)v.push(N);if(d=d.M,N=b.type||b,typeof b=="string")b=new k(b,d);else if(b instanceof k)b.target=b.target||d;else{var B=b;b=new k(N,d),ye(b,B)}B=!0;let K,me;if(v)for(me=v.length-1;me>=0;me--)K=b.g=v[me],B=Ds(K,N,!0,b)&&B;if(K=b.g=d,B=Ds(K,N,!0,b)&&B,B=Ds(K,N,!1,b)&&B,v)for(me=0;me<v.length;me++)K=b.g=v[me],B=Ds(K,N,!1,b)&&B}qt.prototype.N=function(){if(qt.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const v=d.g[b];for(let N=0;N<v.length;N++)Ae(v[N]);delete d.g[b],d.h--}}this.G=null},qt.prototype.J=function(d,b,v,N){return this.i.add(String(d),b,!1,v,N)},qt.prototype.K=function(d,b,v,N){return this.i.add(String(d),b,!0,v,N)};function Ds(d,b,v,N){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let B=!0;for(let K=0;K<b.length;++K){const me=b[K];if(me&&!me.da&&me.capture==v){const V=me.listener,$e=me.ha||me.src;me.fa&&Pe(d.i,me),B=V.call($e,N)!==!1&&B}}return B&&!N.defaultPrevented}function Os(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:h.setTimeout(d,b||0)}function Tr(d){d.g=Os(()=>{d.g=null,d.i&&(d.i=!1,Tr(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class un extends P{constructor(b,v){super(),this.m=b,this.l=v,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(d){P.call(this),this.h=d,this.g={}}w(Ms,P);var Sr=[];function er(d){Te(d.g,function(b,v){this.g.hasOwnProperty(v)&&Nr(b)},d),d.g={}}Ms.prototype.N=function(){Ms.Z.N.call(this),er(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=h.JSON.stringify,tr=h.JSON.parse,Zn=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function nr(){}function Ar(){}var es={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){k.call(this,"d")}w(Xt,k);function _n(){k.call(this,"c")}w(_n,k);var Mt={},mt=null;function Pn(){return mt=mt||new qt}Mt.Ia="serverreachability";function sr(d){k.call(this,Mt.Ia,d)}w(sr,k);function Vn(d){const b=Pn();Me(b,new sr(b))}Mt.STAT_EVENT="statevent";function rr(d,b){k.call(this,Mt.STAT_EVENT,d),this.stat=b}w(rr,k);function Bt(d){const b=Pn();Me(b,new rr(b,d))}Mt.Ja="timingevent";function Ln(d,b){k.call(this,Mt.Ja,d),this.size=b}w(Ln,k);function gs(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},b)}function Ft(){this.g=!0}Ft.prototype.ua=function(){this.g=!1};function ll(d,b,v,N,B,K){d.info(function(){if(d.g)if(K){var me="",V=K.split("&");for(let Ye=0;Ye<V.length;Ye++){var $e=V[Ye].split("=");if($e.length>1){const ht=$e[0];$e=$e[1];const St=ht.split("_");me=St.length>=2&&St[1]=="type"?me+(ht+"="+$e+"&"):me+(ht+"=redacted&")}}}else me=null;else me=K;return"XMLHTTP REQ ("+N+") [attempt "+B+"]: "+b+`
`+v+`
`+me})}function ol(d,b,v,N,B,K,me){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+B+"]: "+b+`
`+v+`
`+K+" "+me})}function ys(d,b,v,N){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+To(d,v)+(N?" "+N:"")})}function jr(d,b){d.info(function(){return"TIMEOUT: "+b})}Ft.prototype.info=function(){};function To(d,b){if(!d.g)return b;if(!b)return null;try{const K=JSON.parse(b);if(K){for(d=0;d<K.length;d++)if(Array.isArray(K[d])){var v=K[d];if(!(v.length<2)){var N=v[1];if(Array.isArray(N)&&!(N.length<1)){var B=N[0];if(B!="noop"&&B!="stop"&&B!="close")for(let me=1;me<N.length;me++)N[me]=""}}}}return ps(K)}catch{return b}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Na={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ta;function Rr(){}w(Rr,nr),Rr.prototype.g=function(){return new XMLHttpRequest},Ta=new Rr;function Ps(d){return encodeURIComponent(String(d))}function cl(d){var b=1;d=d.split(":");const v=[];for(;b>0&&d.length;)v.push(d.shift()),b--;return d.length&&v.push(d.join(":")),v}function ts(d,b,v,N){this.j=d,this.i=b,this.l=v,this.S=N||1,this.V=new Ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}var Yt={},tn={};function bs(d,b,v){d.M=1,d.A=dt(_e(b)),d.u=v,d.R=!0,_i(d,null)}function _i(d,b){d.F=Date.now(),D(d),d.B=_e(d.A);var v=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Sa(v.i,"t",N),d.C=0,v=d.j.L,d.h=new ns,d.g=Mo(d.j,v?b:null,!d.u),d.P>0&&(d.O=new un(y(d.Y,d,d.g),d.P)),b=d.V,v=d.g,N=d.ba;var B="readystatechange";Array.isArray(B)||(B&&(Sr[0]=B.toString()),B=Sr);for(let K=0;K<B.length;K++){const me=It(v,B[K],N||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=d.J?C(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),Vn(),ll(d.i,d.v,d.B,d.l,d.S,d.u)}ts.prototype.ba=function(d){d=d.target;const b=this.O;b&&_s(d)==3?b.j():this.Y(d)},ts.prototype.Y=function(d){try{if(d==this.g)e:{const V=_s(this.g),$e=this.g.ya(),Ye=this.g.ca();if(!(V<3)&&(V!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||V!=4||$e==7||($e==8||Ye<=0?Vn(3):Vn(2)),Y(this);var b=this.g.ca();this.X=b;var v=So(this);if(this.o=b==200,ol(this.i,this.v,this.B,this.l,this.S,V,b),this.o){if(this.U&&!this.L){t:{if(this.g){var N,B=this.g;if((N=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(N)){var K=N;break t}}K=null}if(d=K)ys(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ge(this,d);else{this.o=!1,this.m=3,Bt(12),Z(this),de(this);break e}}if(this.R){d=!0;let ht;for(;!this.K&&this.C<v.length;)if(ht=dl(this,v),ht==tn){V==4&&(this.m=4,Bt(14),d=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Yt){this.m=4,Bt(15),ys(this.i,this.l,v,"[Invalid Chunk]"),d=!1;break}else ys(this.i,this.l,ht,null),ge(this,ht);if(ul(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),V!=4||v.length!=0||this.h.h||(this.m=1,Bt(16),d=!1),this.o=this.o&&d,!d)ys(this.i,this.l,v,"[Invalid Chunked Response]"),Z(this),de(this);else if(v.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),vl(me),me.P=!0,Bt(11))}}else ys(this.i,this.l,v,null),ge(this,v);V==4&&Z(this),this.o&&!this.K&&(V==4?Do(this.j,this):(this.o=!1,D(this)))}else ar(this.g),b==400&&v.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),Z(this),de(this)}}}catch{}};function So(d){if(!ul(d))return d.g.la();const b=yn(d.g);if(b==="")return"";let v="";const N=b.length,B=_s(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Z(d),de(d),"";d.h.i=new h.TextDecoder}for(let K=0;K<N;K++)d.h.h=!0,v+=d.h.i.decode(b[K],{stream:!(B&&K==N-1)});return b.length=0,d.h.g+=v,d.C=0,d.h.g}function ul(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function dl(d,b){var v=d.C,N=b.indexOf(`
`,v);return N==-1?tn:(v=Number(b.substring(v,N)),isNaN(v)?Yt:(N+=1,N+v>b.length?tn:(b=b.slice(N,N+v),d.C=N+v,b)))}ts.prototype.cancel=function(){this.K=!0,Z(this)};function D(d){d.T=Date.now()+d.H,L(d,d.H)}function L(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=gs(y(d.aa,d),b)}function Y(d){d.D&&(h.clearTimeout(d.D),d.D=null)}ts.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(jr(this.i,this.B),this.M!=2&&(Vn(),Bt(17)),Z(this),this.m=2,de(this)):L(this,this.T-d)};function de(d){d.j.I==0||d.K||Do(d.j,d)}function Z(d){Y(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,er(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function ge(d,b){try{var v=d.j;if(v.I!=0&&(v.g==d||ie(v.h,d))){if(!d.L&&ie(v.h,d)&&v.I==3){try{var N=v.Ba.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var B=N;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<d.F)ji(v),zr(v);else break e;Ai(v),Bt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gs(y(v.Va,v),6e3));oe(v.h)<=1&&v.ta&&(v.ta=void 0)}else qs(v,11)}else if((d.L||v.g==d)&&ji(v),!I(b))for(B=v.Ba.g.parse(b),b=0;b<B.length;b++){let Ye=B[b];const ht=Ye[0];if(!(ht<=v.K))if(v.K=ht,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const St=Ye[3];St!=null&&(v.ka=St,v.j.info("VER="+v.ka));const Ht=Ye[4];Ht!=null&&(v.za=Ht,v.j.info("SVER="+v.za));const Bn=Ye[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(N=1.5*Bn,v.O=N,v.j.info("backChannelRequestTimeoutMs_="+N)),N=v;const wn=d.g;if(wn){const is=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var K=N.h;K.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(xe(K,K.h),K.h=null))}if(N.G){const Br=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Br&&(N.wa=Br,Fe(N.J,N.G,Br))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-d.F,v.j.info("Handshake RTT: "+v.T+"ms")),N=v;var me=d;if(N.na=Oo(N,N.L?N.ba:null,N.W),me.L){be(N.h,me);var V=me,$e=N.O;$e&&(V.H=$e),V.D&&(Y(V),D(V)),N.g=me}else Io(N);v.i.length>0&&zs(v)}else Ye[0]!="stop"&&Ye[0]!="close"||qs(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?qs(v,7):bl(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}Vn(4)}catch{}}var he=class{constructor(d,b){this.g=d,this.map=b}};function je(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Be(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function oe(d){return d.h?1:d.g?d.g.size:0}function ie(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function xe(d,b){d.g?d.g.add(b):d.h=b}function be(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}je.prototype.cancel=function(){if(this.i=ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ze(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const v of d.g.values())b=b.concat(v.G);return b}return U(d.i)}var Ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function De(d,b){if(d){d=d.split("&");for(let v=0;v<d.length;v++){const N=d[v].indexOf("=");let B,K=null;N>=0?(B=d[v].substring(0,N),K=d[v].substring(N+1)):B=d[v],b(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ze(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Ze?(this.l=d.l,Ie(this,d.j),this.o=d.o,this.g=d.g,gt(this,d.u),this.h=d.h,ve(this,Co(d.i)),this.m=d.m):d&&(b=String(d).match(Ne))?(this.l=!1,Ie(this,b[1]||"",!0),this.o=gn(b[2]||""),this.g=gn(b[3]||"",!0),gt(this,b[4]),this.h=gn(b[5]||"",!0),ve(this,b[6]||"",!0),this.m=gn(b[7]||"")):(this.l=!1,this.i=new Mr(null,this.l))}Ze.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Ir(b,kr,!0),":");var v=this.g;return(v||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Ir(b,kr,!0),"@"),d.push(Ps(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&d.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(Ir(v,v.charAt(0)=="/"?hl:Dr,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",Ir(v,Ao)),d.join("")},Ze.prototype.resolve=function(d){const b=_e(this);let v=!!d.j;v?Ie(b,d.j):v=!!d.o,v?b.o=d.o:v=!!d.g,v?b.g=d.g:v=d.u!=null;var N=d.h;if(v)gt(b,d.u);else if(v=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var B=b.h.lastIndexOf("/");B!=-1&&(N=b.h.slice(0,B+1)+N)}if(B=N,B==".."||B==".")N="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){N=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let me=0;me<B.length;){const V=B[me++];V=="."?N&&me==B.length&&K.push(""):V==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),N&&me==B.length&&K.push("")):(K.push(V),N=!0)}N=K.join("/")}else N=B}return v?b.h=N:v=d.i.toString()!=="",v?ve(b,Co(d.i)):v=!!d.m,v&&(b.m=d.m),b};function _e(d){return new Ze(d)}function Ie(d,b,v){d.j=v?gn(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function gt(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function ve(d,b,v){b instanceof Mr?(d.i=b,Aa(d.i,d.l)):(v||(b=Ir(b,Or)),d.i=new Mr(b,d.l))}function Fe(d,b,v){d.i.set(b,v)}function dt(d){return Fe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function gn(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ir(d,b,v){return typeof d=="string"?(d=encodeURI(d).replace(b,dn),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function dn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var kr=/[#\/\?@]/g,Dr=/[#\?:]/g,hl=/[#\?]/g,Or=/[#\?@]/g,Ao=/#/g;function Mr(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Un(d){d.g||(d.g=new Map,d.h=0,d.i&&De(d.i,function(b,v){d.add(decodeURIComponent(b.replace(/\+/g," ")),v)}))}r=Mr.prototype,r.add=function(d,b){Un(this),this.i=null,d=Pr(this,d);let v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(b),this.h+=1,this};function jo(d,b){Un(d),b=Pr(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function fl(d,b){return Un(d),b=Pr(d,b),d.g.has(b)}r.forEach=function(d,b){Un(this),this.g.forEach(function(v,N){v.forEach(function(B){d.call(b,B,N,this)},this)},this)};function ml(d,b){Un(d);let v=[];if(typeof b=="string")fl(d,b)&&(v=v.concat(d.g.get(Pr(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)v=v.concat(d[b]);return v}r.set=function(d,b){return Un(this),this.i=null,d=Pr(this,d),fl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},r.get=function(d,b){return d?(d=ml(this,d),d.length>0?String(d[0]):b):b};function Sa(d,b,v){jo(d,b),v.length>0&&(d.i=null,d.g.set(Pr(d,b),U(v)),d.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let N=0;N<b.length;N++){var v=b[N];const B=Ps(v);v=ml(this,v);for(let K=0;K<v.length;K++){let me=B;v[K]!==""&&(me+="="+Ps(v[K])),d.push(me)}}return this.i=d.join("&")};function Co(d){const b=new Mr;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function Pr(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Aa(d,b){b&&!d.j&&(Un(d),d.i=null,d.g.forEach(function(v,N){const B=N.toLowerCase();N!=B&&(jo(this,N),Sa(this,B,v))},d)),d.j=b}function xs(d,b){const v=new Ft;if(h.Image){const N=new Image;N.onload=_(ss,v,"TestLoadImage: loaded",!0,b,N),N.onerror=_(ss,v,"TestLoadImage: error",!1,b,N),N.onabort=_(ss,v,"TestLoadImage: abort",!1,b,N),N.ontimeout=_(ss,v,"TestLoadImage: timeout",!1,b,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else b(!1)}function pl(d,b){const v=new Ft,N=new AbortController,B=setTimeout(()=>{N.abort(),ss(v,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:N.signal}).then(K=>{clearTimeout(B),K.ok?ss(v,"TestPingServer: ok",!0,b):ss(v,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(B),ss(v,"TestPingServer: error",!1,b)})}function ss(d,b,v,N,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),N(v)}catch{}}function Vr(){this.g=new Zn}function Vs(d){this.i=d.Sb||null,this.h=d.ab||!1}w(Vs,nr),Vs.prototype.g=function(){return new wi(this.i,this.h)};function wi(d,b){qt.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(wi,qt),r=wi.prototype,r.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,vs(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||h).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ja(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ja(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Lr(this):vs(this),this.readyState==3&&ja(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,Lr(this))},r.Na=function(d){this.g&&(this.response=d,Lr(this))},r.ga=function(){this.g&&Lr(this)};function Lr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,vs(d)}r.setRequestHeader=function(d,b){this.A.append(d,b)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var v=b.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=b.next();return d.join(`\r
`)};function vs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function rs(d){let b="";return Te(d,function(v,N){b+=N,b+=":",b+=v,b+=`\r
`}),b}function Ei(d,b,v){e:{for(N in v){var N=!1;break e}N=!0}N||(v=rs(v),typeof d=="string"?v!=null&&Ps(v):Fe(d,b,v))}function wt(d){qt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(wt,qt);var Ls=/^https?$/i,gl=["POST","PUT"];r=wt.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,b,v,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ta.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(K){Ni(this,K);return}if(d=v||"",v=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var B in N)v.set(B,N[B]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const K of N.keys())v.set(K,N.get(K));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(gl,b,void 0)>=0)||N||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,me]of v)this.g.setRequestHeader(K,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(K){Ni(this,K)}};function Ni(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,yl(d),ir(d)}function yl(d){d.A||(d.A=!0,Me(d,"complete"),Me(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Me(this,"complete"),Me(this,"abort"),ir(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ti(this):this.Xa())},r.Xa=function(){Ti(this)};function Ti(d){if(d.h&&typeof u<"u"){if(d.v&&_s(d)==4)setTimeout(d.Ca.bind(d),0);else if(Me(d,"readystatechange"),_s(d)==4){d.h=!1;try{const K=d.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var v;if(!(v=b)){var N;if(N=K===0){let me=String(d.D).match(Ne)[1]||null;!me&&h.self&&h.self.location&&(me=h.self.location.protocol.slice(0,-1)),N=!Ls.test(me?me.toLowerCase():"")}v=N}if(v)Me(d,"complete"),Me(d,"success");else{d.o=6;try{var B=_s(d)>2?d.g.statusText:""}catch{B=""}d.l=B+" ["+d.ca()+"]",yl(d)}}finally{ir(d)}}}}function ir(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const v=d.g;d.g=null,b||Me(d,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function _s(d){return d.g?d.g.readyState:0}r.ca=function(){try{return _s(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),tr(b)}};function yn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(d){const b={};d=(d.g&&_s(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(I(d[N]))continue;var v=cl(d[N]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=b[B]||[];b[B]=K,K.push(v)}tt(b,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(d,b,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||b}function Ur(d){this.za=0,this.i=[],this.j=new Ft,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Us("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Us("baseRetryDelayMs",5e3,d),this.Za=Us("retryDelaySeedMs",1e4,d),this.Ta=Us("forwardChannelMaxRetries",2,d),this.va=Us("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new je(d&&d.concurrentRequestLimit),this.Ba=new Vr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ur.prototype,r.ka=8,r.I=1,r.connect=function(d,b,v,N){Bt(0),this.W=d,this.H=b||{},v&&N!==void 0&&(this.H.OSID=v,this.H.OAID=N),this.F=this.X,this.J=Oo(this,null,this.W),zs(this)};function bl(d){if(Ca(d),d.I==3){var b=d.V++,v=_e(d.J);if(Fe(v,"SID",d.M),Fe(v,"RID",b),Fe(v,"TYPE","terminate"),Si(d,v),b=new ts(d,d.j,b),b.M=2,b.A=dt(_e(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(b.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=b.A,v=!0),v||(b.g=Mo(b.j,null),b.g.ea(b.A)),b.F=Date.now(),D(b)}wl(d)}function zr(d){d.g&&(vl(d),d.g.cancel(),d.g=null)}function Ca(d){zr(d),d.v&&(h.clearTimeout(d.v),d.v=null),ji(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function zs(d){if(!Be(d.h)&&!d.m){d.m=!0;var b=d.Ea;Oe||A(),X||(Oe(),X=!0),R.add(b,d),d.D=0}}function Ra(d,b){return oe(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=gs(y(d.Ea,d,b),_l(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const B=new ts(this,this.j,d);let K=this.o;if(this.U&&(K?(K=C(K),ye(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var b=0,v=0;v<this.i.length;v++){t:{var N=this.i[v];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,b>4096){b=v;break e}if(b===4096||v===this.i.length-1){b=v+1;break e}}b=1e3}else b=1e3;b=Ro(this,B,b),v=_e(this.J),Fe(v,"RID",d),Fe(v,"CVER",22),this.G&&Fe(v,"X-HTTP-Session-Id",this.G),Si(this,v),K&&(this.R?b="headers="+Ps(rs(K))+"&"+b:this.u&&Ei(v,this.u,K)),xe(this.h,B),this.Ra&&Fe(v,"TYPE","init"),this.S?(Fe(v,"$req",b),Fe(v,"SID","null"),B.U=!0,bs(B,v,null)):bs(B,v,b),this.I=2}}else this.I==3&&(d?xl(this,d):this.i.length==0||Be(this.h)||xl(this))};function xl(d,b){var v;b?v=b.l:v=d.V++;const N=_e(d.J);Fe(N,"SID",d.M),Fe(N,"RID",v),Fe(N,"AID",d.K),Si(d,N),d.u&&d.o&&Ei(N,d.u,d.o),v=new ts(d,d.j,v,d.D+1),d.u===null&&(v.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Ro(d,v,1e3),v.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),xe(d.h,v),bs(v,N,b)}function Si(d,b){d.H&&Te(d.H,function(v,N){Fe(b,N,v)}),d.l&&Te({},function(v,N){Fe(b,N,v)})}function Ro(d,b,v){v=Math.min(d.i.length,v);const N=d.l?y(d.l.Ka,d.l,d):null;e:{var B=d.i;let V=-1;for(;;){const $e=["count="+v];V==-1?v>0?(V=B[0].g,$e.push("ofs="+V)):V=0:$e.push("ofs="+V);let Ye=!0;for(let ht=0;ht<v;ht++){var K=B[ht].g;const St=B[ht].map;if(K-=V,K<0)V=Math.max(0,B[ht].g-100),Ye=!1;else try{K="req"+K+"_"||"";try{var me=St instanceof Map?St:Object.entries(St);for(const[Ht,Bn]of me){let wn=Bn;p(Bn)&&(wn=ps(Bn)),$e.push(K+Ht+"="+encodeURIComponent(wn))}}catch(Ht){throw $e.push(K+"type="+encodeURIComponent("_badmap")),Ht}}catch{N&&N(St)}}if(Ye){me=$e.join("&");break e}}me=void 0}return d=d.i.splice(0,v),b.G=d,me}function Io(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;Oe||A(),X||(Oe(),X=!0),R.add(b,d),d.A=0}}function Ai(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=gs(y(d.Da,d),_l(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,ko(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=gs(y(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),zr(this),ko(this))};function vl(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function ko(d){d.g=new ts(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=_e(d.na);Fe(b,"RID","rpc"),Fe(b,"SID",d.M),Fe(b,"AID",d.K),Fe(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&Fe(b,"TO",d.ia),Fe(b,"TYPE","xmlhttp"),Si(d,b),d.u&&d.o&&Ei(b,d.u,d.o),d.O&&(d.g.H=d.O);var v=d.g;d=d.ba,v.M=1,v.A=dt(_e(b)),v.u=null,v.R=!0,_i(v,d)}r.Va=function(){this.C!=null&&(this.C=null,zr(this),Ai(this),Bt(19))};function ji(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Do(d,b){var v=null;if(d.g==b){ji(d),vl(d),d.g=null;var N=2}else if(ie(d.h,b))v=b.G,be(d.h,b),N=1;else return;if(d.I!=0){if(b.o)if(N==1){v=b.u?b.u.length:0,b=Date.now()-b.F;var B=d.D;N=Pn(),Me(N,new Ln(N,v)),zs(d)}else Io(d);else if(B=b.m,B==3||B==0&&b.X>0||!(N==1&&Ra(d,b)||N==2&&Ai(d)))switch(v&&v.length>0&&(b=d.h,b.i=b.i.concat(v)),B){case 1:qs(d,5);break;case 4:qs(d,10);break;case 3:qs(d,6);break;default:qs(d,2)}}}function _l(d,b){let v=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(v*=2),v*b}function qs(d,b){if(d.j.info("Error code "+b),b==2){var v=y(d.bb,d),N=d.Ua;const B=!N;N=new Ze(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ie(N,"https"),dt(N),B?xs(N.toString(),v):pl(N.toString(),v)}else Bt(2);d.I=0,d.l&&d.l.pa(b),wl(d),Ca(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function wl(d){if(d.I=0,d.ja=[],d.l){const b=ze(d.h);(b.length!=0||d.i.length!=0)&&(Q(d.ja,b),Q(d.ja,d.i),d.h.i.length=0,U(d.i),d.i.length=0),d.l.oa()}}function Oo(d,b,v){var N=v instanceof Ze?_e(v):new Ze(v);if(N.g!="")b&&(N.g=b+"."+N.g),gt(N,N.u);else{var B=h.location;N=B.protocol,b=b?b+"."+B.hostname:B.hostname,B=+B.port;const K=new Ze(null);N&&Ie(K,N),b&&(K.g=b),B&&gt(K,B),v&&(K.h=v),N=K}return v=d.G,b=d.wa,v&&b&&Fe(N,v,b),Fe(N,"VER",d.ka),Si(d,N),N}function Mo(d,b,v){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new wt(new Vs({ab:v})):new wt(d.ma),b.Fa(d.L),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}r=Po.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function qr(){}qr.prototype.g=function(d,b){return new Rn(d,b)};function Rn(d,b){qt.call(this),this.g=new Ur(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!I(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!I(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new lr(this)}w(Rn,qt),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){bl(this.g)},Rn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.v&&(v={},v.__data__=ps(d),d=v);b.i.push(new he(b.Ya++,d)),b.I==3&&zs(b)},Rn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,Rn.Z.N.call(this)};function Vo(d){Xt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const v in b){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}w(Vo,Xt);function Lo(){_n.call(this),this.status=1}w(Lo,_n);function lr(d){this.g=d}w(lr,Po),lr.prototype.ra=function(){Me(this.g,"a")},lr.prototype.qa=function(d){Me(this.g,new Vo(d))},lr.prototype.pa=function(d){Me(this.g,new Lo)},lr.prototype.oa=function(){Me(this.g,"b")},qr.prototype.createWebChannel=qr.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Pw=function(){return new qr},Mw=function(){return Pn()},Ow=Mt,Ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,kd=Cr,Na.COMPLETE="complete",Dw=Na,Ar.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",qt.prototype.listen=qt.prototype.J,Sc=Ar,wt.prototype.listenOnce=wt.prototype.K,wt.prototype.getLastError=wt.prototype.Ha,wt.prototype.getLastErrorCode=wt.prototype.ya,wt.prototype.getStatus=wt.prototype.ca,wt.prototype.getResponseJson=wt.prototype.La,wt.prototype.getResponseText=wt.prototype.la,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Fa,kw=wt}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const cv="@firebase/firestore",uv="4.9.3";class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");let xo="12.7.0";const tl=new Kp("@firebase/firestore");function Jl(){return tl.logLevel}function Ce(r,...e){if(tl.logLevel<=ot.DEBUG){const n=e.map(ig);tl.debug(`Firestore (${xo}): ${r}`,...n)}}function pi(r,...e){if(tl.logLevel<=ot.ERROR){const n=e.map(ig);tl.error(`Firestore (${xo}): ${r}`,...n)}}function co(r,...e){if(tl.logLevel<=ot.WARN){const n=e.map(ig);tl.warn(`Firestore (${xo}): ${r}`,...n)}}function ig(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ge(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Vw(r,i,n)}function Vw(r,e,n){let i=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw pi(i),new Error(i)}function vt(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||Vw(e,o,i)}function Xe(r,e){return r}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Lw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class v4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _4{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ui,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ui)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string",31837,{l:i}),new Lw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class w4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new w4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const i=u=>{u.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=T4(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function ct(r,e){return r<e?-1:r>e?1:0}function Np(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),u=e.charAt(i);if(o!==u)return rp(o)===rp(u)?ct(o,u):rp(o)?1:-1}return ct(r.length,e.length)}const S4=55296,A4=57343;function rp(r){const e=r.charCodeAt(0);return e>=S4&&e<=A4}function uo(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}const hv="__name__";class hr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ge(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=hr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ct(e.length,n.length)}static compareSegments(e,n){const i=hr.isNumericId(e),o=hr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?hr.extractNumericId(e).compare(hr.extractNumericId(n)):Np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class Vt extends hr{construct(e,n,i){return new Vt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const j4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends hr{construct(e,n,i){return new jn(e,n,i)}static isValidIdentifier(e){return j4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new jn([hv])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ee(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ee(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(u(),o++)}if(u(),h)throw new Ee(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(n)}static emptyPath(){return new jn([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Vt.fromString(e))}static fromName(e){return new Le(Vt.fromString(e).popFirst(5))}static empty(){return new Le(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Vt(e.slice()))}}function Uw(r,e,n){if(!n)throw new Ee(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function C4(r,e,n,i){if(e===!0&&i===!0)throw new Ee(ae.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function fv(r){if(!Le.isDocumentKey(r))throw new Ee(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mv(r){if(Le.isDocumentKey(r))throw new Ee(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ge(12329,{type:typeof r})}function xr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ee(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(r);throw new Ee(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function cn(r,e){const n={typeString:r};return e&&(n.value=e),n}function iu(r,e){if(!zw(r))throw new Ee(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new Ee(ae.INVALID_ARGUMENT,n);return!0}const pv=-62135596800,gv=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*gv);return new Rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pv)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gv}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:cn("string",Rt._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Rt(0,0))}static max(){return new Ke(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qc=-1;function R4(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ke.fromTimestamp(i===1e9?new Rt(n+1,0):new Rt(n,i));return new ua(o,Le.empty(),e)}function I4(r){return new ua(r.readTime,r.key,qc)}class ua{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ua(Ke.min(),Le.empty(),qc)}static max(){return new ua(Ke.max(),Le.empty(),qc)}}function k4(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(r.documentKey,e.documentKey),n!==0?n:ct(r.largestBatchId,e.largestBatchId))}const D4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vo(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==D4)throw r;Ce("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,i)=>{n(e)}))}static reject(e){return new ce(((n,i)=>{i(e)}))}static waitFor(e){return new ce(((n,i)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(g=>i(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ce.resolve(!1);for(const i of e)n=n.next((o=>o?ce.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new ce(((i,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((_=>{h[y]=_,++p,p===u&&i(h)}),(_=>o(_)))}}))}static doWhile(e,n){return new ce(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function M4(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}class vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vh.ce=-1;const lg=-1;function _h(r){return r==null}function Kd(r){return r===0&&1/r==-1/0}function P4(r){return typeof r=="number"&&Number.isInteger(r)&&!Kd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const qw="";function V4(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=yv(e)),e=L4(r.get(n),e);return yv(e)}function L4(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case qw:n+="";break;default:n+=u}}return n}function yv(r){return r+qw+""}function bv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function xa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Bw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class $t{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??An.RED,this.left=o??An.EMPTY,this.right=u??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new An(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return An.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(e){return new xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class xv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fs{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new fs([])}unionWith(e){let n=new pn(jn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new fs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class Fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Fw("Invalid base64 string: "+u):u}})(e);return new Cn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const U4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(r){if(vt(!!r,39018),typeof r=="string"){let e=0;const n=U4.exec(r);if(vt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zt(r.seconds),nanos:Zt(r.nanos)}}function Zt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ha(r){return typeof r=="string"?Cn.fromBase64String(r):Cn.fromUint8Array(r)}const Hw="server_timestamp",Gw="__type__",$w="__previous_value__",Yw="__local_write_time__";function og(r){return(r?.mapValue?.fields||{})[Gw]?.stringValue===Hw}function wh(r){const e=r.mapValue.fields[$w];return og(e)?wh(e):e}function Bc(r){const e=da(r.mapValue.fields[Yw].timestampValue);return new Rt(e.seconds,e.nanos)}class z4{constructor(e,n,i,o,u,h,p,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const Qd="(default)";class Fc{constructor(e,n){this.projectId=e,this.database=n||Qd}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===Qd}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}const Kw="__type__",q4="__max__",_d={mapValue:{}},Qw="__vector__",Xd="value";function fa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?og(r)?4:F4(r)?9007199254740991:B4(r)?10:11:Ge(28295,{value:r})}function vr(r,e){if(r===e)return!0;const n=fa(r);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bc(r).isEqual(Bc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=da(o.timestampValue),p=da(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ha(o.bytesValue).isEqual(ha(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Zt(o.geoPointValue.latitude)===Zt(u.geoPointValue.latitude)&&Zt(o.geoPointValue.longitude)===Zt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Zt(o.integerValue)===Zt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Zt(o.doubleValue),p=Zt(u.doubleValue);return h===p?Kd(h)===Kd(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return uo(r.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(bv(h)!==bv(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!vr(h[g],p[g])))return!1;return!0})(r,e);default:return Ge(52216,{left:r})}}function Hc(r,e){return(r.values||[]).find((n=>vr(n,e)))!==void 0}function ho(r,e){if(r===e)return 0;const n=fa(r),i=fa(e);if(n!==i)return ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Zt(u.integerValue||u.doubleValue),g=Zt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return vv(r.timestampValue,e.timestampValue);case 4:return vv(Bc(r),Bc(e));case 5:return Np(r.stringValue,e.stringValue);case 6:return(function(u,h){const p=ha(u),g=ha(h);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=ct(p[y],g[y]);if(_!==0)return _}return ct(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=ct(Zt(u.latitude),Zt(h.latitude));return p!==0?p:ct(Zt(u.longitude),Zt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return _v(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},y=p[Xd]?.arrayValue,_=g[Xd]?.arrayValue,w=ct(y?.values?.length||0,_?.values?.length||0);return w!==0?w:_v(y,_)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===_d.mapValue&&h===_d.mapValue)return 0;if(u===_d.mapValue)return 1;if(h===_d.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let w=0;w<g.length&&w<_.length;++w){const S=Np(g[w],_[w]);if(S!==0)return S;const U=ho(p[g[w]],y[_[w]]);if(U!==0)return U}return ct(g.length,_.length)})(r.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function vv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ct(r,e);const n=da(r),i=da(e),o=ct(n.seconds,i.seconds);return o!==0?o:ct(n.nanos,i.nanos)}function _v(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=ho(n[o],i[o]);if(u)return u}return ct(n.length,i.length)}function fo(r){return Tp(r)}function Tp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=da(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ha(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Le.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=Tp(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${Tp(n.fields[h])}`;return o+"}"})(r.mapValue):Ge(61005,{value:r})}function Dd(r){switch(fa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+Dd(e):16;case 5:return 2*r.stringValue.length;case 6:return ha(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+Dd(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return xa(i.fields,((u,h)=>{o+=u.length+Dd(h)})),o})(r.mapValue);default:throw Ge(13486,{value:r})}}function wv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Sp(r){return!!r&&"integerValue"in r}function cg(r){return!!r&&"arrayValue"in r}function Ev(r){return!!r&&"nullValue"in r}function Nv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Od(r){return!!r&&"mapValue"in r}function B4(r){return(r?.mapValue?.fields||{})[Kw]?.stringValue===Qw}function kc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return xa(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=kc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(r.arrayValue.values[n]);return e}return{...r}}function F4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===q4}class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=jn.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}h?i[p.lastSegment()]=kc(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());Od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Od(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){xa(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new Wn(kc(this.value))}}function Xw(r){const e=[];return xa(r.fields,((n,i)=>{const o=new jn([n]);if(Od(i)){const u=Xw(i.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new fs(e)}class On{constructor(e,n,i,o,u,h,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new On(e,0,Ke.min(),Ke.min(),Ke.min(),Wn.empty(),0)}static newFoundDocument(e,n,i,o){return new On(e,1,n,Ke.min(),i,o,0)}static newNoDocument(e,n){return new On(e,2,n,Ke.min(),Ke.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Ke.min(),Ke.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wd{constructor(e,n){this.position=e,this.inclusive=n}}function Tv(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?i=Le.comparator(Le.fromName(h.referenceValue),n.key):i=ho(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Sv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!vr(r.position[n],e.position[n]))return!1;return!0}class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function H4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Ww{}class on extends Ww{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new $4(e,n,i):n==="array-contains"?new Q4(e,i):n==="in"?new X4(e,i):n==="not-in"?new W4(e,i):n==="array-contains-any"?new J4(e,i):new on(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Y4(e,i):new K4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ws extends Ww{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ws(e,n)}matches(e){return Jw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jw(r){return r.op==="and"}function Zw(r){return G4(r)&&Jw(r)}function G4(r){for(const e of r.filters)if(e instanceof Ws)return!1;return!0}function Ap(r){if(r instanceof on)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(Zw(r))return r.filters.map((e=>Ap(e))).join(",");{const e=r.filters.map((n=>Ap(n))).join(",");return`${r.op}(${e})`}}function eE(r,e){return r instanceof on?(function(i,o){return o instanceof on&&i.op===o.op&&i.field.isEqual(o.field)&&vr(i.value,o.value)})(r,e):r instanceof Ws?(function(i,o){return o instanceof Ws&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,h,p)=>u&&eE(h,o.filters[p])),!0):!1})(r,e):void Ge(19439)}function tE(r){return r instanceof on?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(r):r instanceof Ws?(function(n){return n.op.toString()+" {"+n.getFilters().map(tE).join(" ,")+"}"})(r):"Filter"}class $4 extends on{constructor(e,n,i){super(e,n,i),this.key=Le.fromName(i.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class Y4 extends on{constructor(e,n){super(e,"in",n),this.keys=nE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class K4 extends on{constructor(e,n){super(e,"not-in",n),this.keys=nE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nE(r,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class Q4 extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&Hc(n.arrayValue,this.value)}}class X4 extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}}class W4 extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hc(this.value.arrayValue,n)}}class J4 extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Hc(this.value.arrayValue,i)))}}class Z4{constructor(e,n=null,i=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function Av(r,e=null,n=[],i=[],o=null,u=null,h=null){return new Z4(r,e,n,i,o,u,h)}function ug(r){const e=Xe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Ap(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>fo(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>fo(i))).join(",")),e.Te=n}return e.Te}function dg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!H4(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Sv(r.startAt,e.startAt)&&Sv(r.endAt,e.endAt)}function jp(r){return Le.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wo{constructor(e,n=null,i=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eR(r,e,n,i,o,u,h,p){return new wo(r,e,n,i,o,u,h,p)}function hg(r){return new wo(r)}function jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sE(r){return r.collectionGroup!==null}function Dc(r){const e=Xe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new pn(jn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Gc(u,i))})),n.has(jn.keyField().canonicalString())||e.Ie.push(new Gc(jn.keyField(),i))}return e.Ie}function pr(r){const e=Xe(r);return e.Ee||(e.Ee=tR(e,Dc(r))),e.Ee}function tR(r,e){if(r.limitType==="F")return Av(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Gc(o.field,u)}));const n=r.endAt?new Wd(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Wd(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function Cp(r,e){const n=r.filters.concat([e]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Jd(r,e,n){return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Eh(r,e){return dg(pr(r),pr(e))&&r.limitType===e.limitType}function rE(r){return`${ug(pr(r))}|lt:${r.limitType}`}function Zl(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>tE(o))).join(", ")}]`),_h(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${i})`})(pr(r))}; limitType=${r.limitType})`}function Nh(r,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Le.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,e)&&(function(i,o){for(const u of Dc(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,g){const y=Tv(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,Dc(i),o)||i.endAt&&!(function(h,p,g){const y=Tv(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,Dc(i),o))})(r,e)}function nR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iE(r){return(e,n)=>{let i=!1;for(const o of Dc(r)){const u=sR(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function sR(r,e,n){const i=r.field.isKeyField()?Le.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?ho(g,y):Ge(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ge(19790,{direction:r.dir})}}class il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return Bw(this.inner)}size(){return this.innerSize}}const rR=new $t(Le.comparator);function gi(){return rR}const aE=new $t(Le.comparator);function Ac(...r){let e=aE;for(const n of r)e=e.insert(n.key,n);return e}function lE(r){let e=aE;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Xa(){return Oc()}function oE(){return Oc()}function Oc(){return new il((r=>r.toString()),((r,e)=>r.isEqual(e)))}const iR=new $t(Le.comparator),aR=new pn(Le.comparator);function ut(...r){let e=aR;for(const n of r)e=e.add(n);return e}const lR=new pn(ct);function oR(){return lR}function fg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function cE(r){return{integerValue:""+r}}function cR(r,e){return P4(e)?cE(e):fg(r,e)}class Th{constructor(){this._=void 0}}function uR(r,e,n){return r instanceof $c?(function(o,u){const h={fields:{[Gw]:{stringValue:Hw},[Yw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=wh(u)),u&&(h.fields[$w]=u),{mapValue:h}})(n,e):r instanceof Yc?dE(r,e):r instanceof Kc?hE(r,e):(function(o,u){const h=uE(o,u),p=Cv(h)+Cv(o.Ae);return Sp(h)&&Sp(o.Ae)?cE(p):fg(o.serializer,p)})(r,e)}function dR(r,e,n){return r instanceof Yc?dE(r,e):r instanceof Kc?hE(r,e):n}function uE(r,e){return r instanceof Zd?(function(i){return Sp(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class $c extends Th{}class Yc extends Th{constructor(e){super(),this.elements=e}}function dE(r,e){const n=fE(e);for(const i of r.elements)n.some((o=>vr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Kc extends Th{constructor(e){super(),this.elements=e}}function hE(r,e){let n=fE(e);for(const i of r.elements)n=n.filter((o=>!vr(o,i)));return{arrayValue:{values:n}}}class Zd extends Th{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Cv(r){return Zt(r.integerValue||r.doubleValue)}function fE(r){return cg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class hR{constructor(e,n){this.field=e,this.transform=n}}function fR(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof Yc&&o instanceof Yc||i instanceof Kc&&o instanceof Kc?uo(i.elements,o.elements,vr):i instanceof Zd&&o instanceof Zd?vr(i.Ae,o.Ae):i instanceof $c&&o instanceof $c})(r.transform,e.transform)}class mR{constructor(e,n){this.version=e,this.transformResults=n}}class Ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ks}static exists(e){return new Ks(void 0,e)}static updateTime(e){return new Ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function mE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gE(r.key,Ks.none()):new au(r.key,r.data,Ks.none());{const n=r.data,i=Wn.empty();let o=new pn(jn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),o=o.add(u)}return new va(r.key,i,new fs(o.toArray()),Ks.none())}}function pR(r,e,n){r instanceof au?(function(o,u,h){const p=o.value.clone(),g=Iv(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):r instanceof va?(function(o,u,h){if(!Md(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=Iv(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(pE(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Mc(r,e,n,i){return r instanceof au?(function(u,h,p,g){if(!Md(u.precondition,h))return p;const y=u.value.clone(),_=kv(u.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof va?(function(u,h,p,g){if(!Md(u.precondition,h))return p;const y=kv(u.fieldTransforms,g,h),_=h.data;return _.setAll(pE(u)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,i):(function(u,h,p){return Md(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,n)}function gR(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),u=uE(i.transform,o||null);u!=null&&(n===null&&(n=Wn.empty()),n.set(i.field,u))}return n||null}function Rv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&uo(i,o,((u,h)=>fR(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Sh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class va extends Sh{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function pE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function Iv(r,e,n){const i=new Map;vt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,p=e.data.field(u.field);i.set(u.field,dR(h,p,n[o]))}return i}function kv(r,e,n){const i=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);i.set(o.field,uR(u,h,e))}return i}class gE extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bR{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&pR(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=oE();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const g=mE(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ke.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((n,i)=>Rv(n,i)))&&uo(this.baseMutations,e.baseMutations,((n,i)=>Rv(n,i)))}}class mg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){vt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return iR})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,i[h].version);return new mg(e,n,i,o)}}class xR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class vR{constructor(e,n){this.count=e,this.unchangedNames=n}}var ln,pt;function _R(r){switch(r){case ae.OK:return Ge(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ge(15467,{code:r})}}function yE(r){if(r===void 0)return pi("GRPC error has no .code"),ae.UNKNOWN;switch(r){case ln.OK:return ae.OK;case ln.CANCELLED:return ae.CANCELLED;case ln.UNKNOWN:return ae.UNKNOWN;case ln.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case ln.INTERNAL:return ae.INTERNAL;case ln.UNAVAILABLE:return ae.UNAVAILABLE;case ln.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case ln.NOT_FOUND:return ae.NOT_FOUND;case ln.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case ln.ABORTED:return ae.ABORTED;case ln.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case ln.DATA_LOSS:return ae.DATA_LOSS;default:return Ge(39323,{code:r})}}(pt=ln||(ln={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";function wR(){return new TextEncoder}const ER=new la([4294967295,4294967295],0);function Dv(r){const e=wR().encode(r),n=new Iw;return n.update(e),new Uint8Array(n.digest())}function Ov(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new la([n,i],0),new la([o,u],0)]}class pg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(i<0)throw new jc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=la.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(la.fromNumber(i)));return o.compare(ER)===1&&(o=new la([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Dv(e),[i,o]=Ov(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);if(!this.we(h))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pg(u,o,n);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=Dv(e),[i,o]=Ov(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ah(Ke.min(),o,new $t(ct),gi(),ut())}}class lu{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new lu(i,n,ut(),ut(),ut())}}class Pd{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class bE{constructor(e,n){this.targetId=e,this.Ce=n}}class xE{constructor(e,n,i=Cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Mv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),i=ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ge(38017,{changeType:u})}})),new lu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NR{constructor(e){this.Ge=e,this.ze=new Map,this.je=gi(),this.Je=wd(),this.He=wd(),this.Ye=new $t(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(jp(u))if(i===0){const h=new Le(u.path);this.et(n,h,On.newNoDocument(h,Ke.min()))}else vt(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=ha(i).toUint8Array()}catch(g){if(g instanceof Fw)return co("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new pg(h,o,u)}catch(g){return co(g instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&jp(p.target)){const g=new Le(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,On.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let i=ut();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Ah(e,n,this.Ye,this.je,i);return this.je=gi(),this.Je=wd(),this.He=wd(),this.Ye=new $t(ct),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Mv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Mv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wd(){return new $t(Le.comparator)}function Pv(){return new $t(Le.comparator)}const TR={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class jR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function CR(r,e){return eh(r,e.toTimestamp())}function gr(r){return vt(!!r,49232),Ke.fromTimestamp((function(n){const i=da(n);return new Rt(i.seconds,i.nanos)})(r))}function gg(r,e){return Ip(r,e).canonicalString()}function Ip(r,e){const n=(function(o){return new Vt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function _E(r){const e=Vt.fromString(r);return vt(SE(e),10190,{key:e.toString()}),e}function kp(r,e){return gg(r.databaseId,e.path)}function ip(r,e){const n=_E(e);if(n.get(1)!==r.databaseId.projectId)throw new Ee(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ee(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Le(EE(n))}function wE(r,e){return gg(r.databaseId,e)}function RR(r){const e=_E(r);return e.length===4?Vt.emptyPath():EE(e)}function Dp(r){return new Vt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function EE(r){return vt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,e,n){return{name:kp(r,e),fields:n.value.mapValue.fields}}function IR(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ge(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,_){return y.useProto3Json?(vt(_===void 0||typeof _=="string",58123),Cn.fromBase64String(_||"")):(vt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Cn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const _=y.code===void 0?ae.UNKNOWN:yE(y.code);return new Ee(_,y.message||"")})(h);n=new xE(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ip(r,i.document.name),u=gr(i.document.updateTime),h=i.document.createTime?gr(i.document.createTime):Ke.min(),p=new Wn({mapValue:{fields:i.document.fields}}),g=On.newFoundDocument(o,u,h,p),y=i.targetIds||[],_=i.removedTargetIds||[];n=new Pd(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ip(r,i.document),u=i.readTime?gr(i.readTime):Ke.min(),h=On.newNoDocument(o,u),p=i.removedTargetIds||[];n=new Pd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ip(r,i.document),u=i.removedTargetIds||[];n=new Pd([],u,o,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,h=new vR(o,u),p=i.targetId;n=new bE(p,h)}}return n}function kR(r,e){let n;if(e instanceof au)n={update:Vv(r,e.key,e.value)};else if(e instanceof gE)n={delete:kp(r,e.key)};else if(e instanceof va)n={update:Vv(r,e.key,e.data),updateMask:qR(e.fieldMask)};else{if(!(e instanceof yR))return Ge(16599,{Vt:e.type});n={verify:kp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const p=h.transform;if(p instanceof $c)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Yc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zd)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ge(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:CR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ge(27497)})(r,e.precondition)),n}function DR(r,e){return r&&r.length>0?(vt(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?gr(o.updateTime):gr(u);return h.isEqual(Ke.min())&&(h=gr(u)),new mR(h,o.transformResults||[])})(n,e)))):[]}function OR(r,e){return{documents:[wE(r,e.path)]}}function MR(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=wE(r,o);const u=(function(y){if(y.length!==0)return TE(Ws.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((_=>(function(S){return{field:eo(S.field),direction:LR(S.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Rp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function PR(r){let e=RR(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){vt(i===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(w){const S=NE(w);return S instanceof Ws&&Zw(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(w){return w.map((S=>(function(Q){return new Gc(to(Q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let S;return S=typeof w=="object"?w.value:w,_h(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(w){const S=!!w.before,U=w.values||[];return new Wd(U,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const S=!w.before,U=w.values||[];return new Wd(U,S)})(n.endAt)),eR(e,o,h,u,p,"F",g,y)}function VR(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=to(n.unaryFilter.field);return on.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return on.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return on.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=to(n.unaryFilter.field);return on.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(r):r.fieldFilter!==void 0?(function(n){return on.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ws.create(n.compositeFilter.filters.map((i=>NE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(r):Ge(30097,{filter:r})}function LR(r){return TR[r]}function UR(r){return SR[r]}function zR(r){return AR[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return jn.fromServerFormat(r.fieldPath)}function TE(r){return r instanceof on?(function(n){if(n.op==="=="){if(Nv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(Ev(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(Ev(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:UR(n.op),value:n.value}}})(r):r instanceof Ws?(function(n){const i=n.getFilters().map((o=>TE(o)));return i.length===1?i[0]:{compositeFilter:{op:zR(n.op),filters:i}}})(r):Ge(54877,{filter:r})}function qR(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function SE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ra{constructor(e,n,i,o,u=Ke.min(),h=Ke.min(),p=Cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class BR{constructor(e){this.yt=e}}function FR(r){const e=PR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jd(e,e.limit,"L"):e}class HR{constructor(){this.Cn=new GR}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(ua.min())}updateCollectionGroup(e,n,i){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class GR{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new pn(Vt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new pn(Vt.comparator)).toArray()}}const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AE=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(AE,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}const Uv="LruGarbageCollector",$R=1048576;function zv([r,e],[n,i]){const o=ct(r,n);return o===0?ct(e,i):o}class YR{constructor(e){this.Ir=e,this.buffer=new pn(zv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();zv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KR{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(Uv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?Ce(Uv,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class QR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(vh.ce);const i=new YR(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Lv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,u,h,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(i=w,p=Date.now(),this.removeTargets(e,i,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((w=>(y=Date.now(),Jl()<=ot.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function XR(r,e){return new QR(r,e)}class WR{constructor(){this.changes=new il((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ce.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ZR{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Mc(i.mutation,o,fs.empty(),Rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ut()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ut()){const o=Xa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let h=Ac();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=Xa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ut())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,i,o){let u=gi();const h=Oc(),p=(function(){return Oc()})();return n.forEach(((g,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof va)?u=u.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),Mc(_.mutation,y,_.mutation.getFieldMask(),Rt.now())):h.set(y.key,fs.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,_)=>h.set(y,_))),n.forEach(((y,_)=>p.set(y,new JR(_,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Oc();let o=new $t(((h,p)=>h-p)),u=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=i.get(g)||fs.empty();_=p.applyToLocalView(y,_),i.set(g,_);const w=(o.get(p.batchId)||ut()).add(g);o=o.insert(p.batchId,w)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,w=oE();_.forEach((S=>{if(!u.has(S)){const U=mE(n.get(S),i.get(S));U!==null&&w.set(S,U),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ce.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(h){return Le.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):ce.resolve(Xa());let p=qc,g=u;return h.next((y=>ce.forEach(y,((_,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(_)?ce.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{g=g.insert(_,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ut()))).next((_=>({batchId:p,changes:lE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((i=>{let o=Ac();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let h=Ac();return this.indexManager.getCollectionParents(e,u).next((p=>ce.forEach(p,(g=>{const y=(function(w,S){return new wo(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((_=>{_.forEach(((w,S)=>{h=h.insert(w,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((h=>{u.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,On.newInvalidDocument(_)))}));let p=Ac();return h.forEach(((g,y)=>{const _=u.get(g);_!==void 0&&Mc(_.mutation,y,fs.empty(),Rt.now()),Nh(n,y)&&(p=p.insert(g,y))})),p}))}}class eI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:FR(o.bundledQuery),readTime:gr(o.readTime)}})(n)),ce.resolve()}}class tI{constructor(){this.overlays=new $t(Le.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Xa();return ce.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.St(e,n,u)})),ce.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),ce.resolve()}getOverlaysForCollection(e,n,i){const o=Xa(),u=n.length+1,h=new Le(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new $t(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=u.get(y.largestBatchId);_===null&&(_=Xa(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=Xa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=o)););return ce.resolve(p)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new xR(n,i));let u=this.qr.get(n);u===void 0&&(u=ut(),this.qr.set(n,u)),this.qr.set(n,u.add(i.key))}}class nI{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}class yg{constructor(){this.Qr=new pn(vn.$r),this.Ur=new pn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new vn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new vn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Le(new Vt([])),i=new vn(n,e),o=new vn(n,e+1),u=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new Vt([])),i=new vn(n,e),o=new vn(n,e+1);let u=ut();return this.Ur.forEachInRange([i,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new vn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class vn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}class sI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pn(vn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new bR(u,n,i,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new vn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ce.resolve(h)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),u=o<0?0:o;return ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?lg:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new vn(n,0),o=new vn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new pn(ct);return n.forEach((o=>{const u=new vn(o,0),h=new vn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{i=i.add(p.Yr)}))})),ce.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;Le.isDocumentKey(u)||(u=u.child(""));const h=new vn(new Le(u),0);let p=new pn(ct);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),ce.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ce.forEach(n.mutations,(o=>{const u=new vn(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new vn(n,0),o=this.Zr.firstAfterOrEqual(i);return ce.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class rI{constructor(e){this.ri=e,this.docs=(function(){return new $t(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ce.resolve(i?i.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let i=gi();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():On.newInvalidDocument(o))})),ce.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=gi();const h=n.path,p=new Le(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||k4(I4(_),i)<=0||(o.has(_.key)||Nh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ce.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Ge(9500)}ii(e,n){return ce.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new iI(this)}getSize(e){return ce.resolve(this.size)}}class iI extends WR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class aI{constructor(e){this.persistence=e,this.si=new il((n=>ug(n)),dg),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.oi=0,this._i=new yg,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ce.waitFor(u).next((()=>o))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ce.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ce.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ce.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ce.resolve(i)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}class jE{constructor(e,n){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new nI,this.referenceDelegate=e(this),this.Pi=new aI(this),this.indexManager=new HR,this.remoteDocumentCache=(function(o){return new rI(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new BR(n),this.Ii=new eI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new sI(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ce("MemoryPersistence","Starting transaction:",e);const o=new lI(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ce.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class lI extends O4{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Ri=new yg,this.Vi=null}static mi(e){return new bg(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ce.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(i=>{const o=Le.fromPath(i);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class th{constructor(e,n){this.persistence=e,this.pi=new il((i=>V4(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=XR(this,n)}static mi(e,n){return new th(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((i,o)=>this.br(e,i,o).next((u=>u?ce.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(i++,u.removeEntry(h,Ke.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dd(e.data.value)),n}br(e,n,i){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ce.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class xg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=ut(),o=ut();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xg(e,n.fromCache,i,o)}}class oI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zA()?8:M4(Mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new oI;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(Jl()<=ot.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(Jl()<=ot.DEBUG&&Ce("QueryEngine","Query:",Zl(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Jl()<=ot.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):ce.resolve())}ys(e,n){if(jv(n))return ce.resolve(null);let i=pr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jd(n,null,"F"),i=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=ut(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,Jd(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,i,o){return jv(n)||o.isEqual(Ke.min())?ce.resolve(null):this.ps.getDocuments(e,i).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,i,o)?ce.resolve(null):(Jl()<=ot.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zl(n)),this.vs(e,h,n,R4(o,qc)).next((p=>p)))}))}Ds(e,n){let i=new pn(iE(e));return n.forEach(((o,u)=>{Nh(e,u)&&(i=i.add(u))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,i){return Jl()<=ot.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Zl(n)),this.ps.getDocumentsMatchingQuery(e,n,ua.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const vg="LocalStore",uI=3e8;class dI{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new $t(ct),this.xs=new il((u=>ug(u)),dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function hI(r,e,n,i){return new dI(r,e,n,i)}async function CE(r,e){const n=Xe(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],p=[];let g=ut();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of u){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function fI(r,e){const n=Xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const w=y.batch,S=w.keys();let U=ce.resolve();return S.forEach((Q=>{U=U.next((()=>_.getEntry(g,Q))).next((J=>{const F=y.docVersions.get(Q);vt(F!==null,48541),J.version.compareTo(F)<0&&(w.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),_.addEntry(J)))}))})),U.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function RE(r){const e=Xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function mI(r,e){const n=Xe(r),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((_,w)=>{const S=o.get(w);if(!S)return;p.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,w))));let U=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?U=U.withResumeToken(Cn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):_.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(_.resumeToken,i)),o=o.insert(w,U),(function(J,F,ue){return J.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=uI?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(S,U,_)&&p.push(n.Pi.updateTargetData(u,U))}));let g=gi(),y=ut();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(pI(u,h,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!i.isEqual(Ke.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(_)}return ce.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function pI(r,e,n){let i=ut(),o=ut();return n.forEach((u=>i=i.add(u))),e.getEntries(r,i).next((u=>{let h=gi();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ke.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):Ce(vg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function gI(r,e){const n=Xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=lg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function yI(r,e){const n=Xe(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((u=>u?(o=u,ce.resolve(o)):n.Pi.allocateTargetId(i).next((h=>(o=new ra(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Op(r,e,n){const i=Xe(r),o=i.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!_o(h))throw h;Ce(vg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function qv(r,e,n){const i=Xe(r);let o=Ke.min(),u=ut();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const w=Xe(g),S=w.xs.get(_);return S!==void 0?ce.resolve(w.Ms.get(S)):w.Pi.getTargetData(y,_)})(i,h,pr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,n?o:Ke.min(),n?u:ut()))).next((p=>(bI(i,nR(e),p),{documents:p,Qs:u})))))}function bI(r,e,n){let i=r.Os.get(e)||Ke.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Os.set(e,i)}class Bv{constructor(){this.activeTargetIds=oR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xI{constructor(){this.Mo=new Bv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vI{Oo(e){}shutdown(){}}const Fv="ConnectivityMonitor";class Hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ed=null;function Mp(){return Ed===null?Ed=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ed++,"0x"+Ed.toString(16)}const ap="RestConnection",_I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Qd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,u){const h=Mp(),p=this.zo(e,n.toUriEncodedString());Ce(ap,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),_=bi(y);return this.Jo(e,p,g,i,_).then((w=>(Ce(ap,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw co(ap,`RPC '${e}' ${h} failed with error: `,w,"url: ",p,"request:",i),w}))}Ho(e,n,i,o,u,h){return this.Go(e,n,i,o,u)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const i=_I[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class EI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const kn="WebChannelConnection";class NI extends wI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,u){const h=Mp();return new Promise(((p,g)=>{const y=new kw;y.setWithCredentials(!0),y.listenOnce(Dw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kd.NO_ERROR:const w=y.getResponseJson();Ce(kn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),p(w);break;case kd.TIMEOUT:Ce(kn,`RPC '${e}' ${h} timed out`),g(new Ee(ae.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const S=y.getStatus();if(Ce(kn,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const Q=U?.error;if(Q&&Q.status&&Q.message){const J=(function(ue){const se=ue.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(se)>=0?se:ae.UNKNOWN})(Q.status);g(new Ee(J,Q.message))}else g(new Ee(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new Ee(ae.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Ce(kn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);Ce(kn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",_,i,15)}))}T_(e,n,i){const o=Mp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Pw(),p=Mw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=u.join("");Ce(kn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const w=h.createWebChannel(_,g);this.I_(w);let S=!1,U=!1;const Q=new EI({Yo:F=>{U?Ce(kn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(Ce(kn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),Ce(kn,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Zo:()=>w.close()}),J=(F,ue,se)=>{F.listen(ue,(fe=>{try{se(fe)}catch(we){setTimeout((()=>{throw we}),0)}}))};return J(w,Sc.EventType.OPEN,(()=>{U||(Ce(kn,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),J(w,Sc.EventType.CLOSE,(()=>{U||(U=!0,Ce(kn,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(w))})),J(w,Sc.EventType.ERROR,(F=>{U||(U=!0,co(kn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),Q.a_(new Ee(ae.UNAVAILABLE,"The operation could not be completed")))})),J(w,Sc.EventType.MESSAGE,(F=>{if(!U){const ue=F.data[0];vt(!!ue,16349);const se=ue,fe=se?.error||se[0]?.error;if(fe){Ce(kn,`RPC '${e}' stream ${o} received error:`,fe);const we=fe.status;let Oe=(function(A){const j=ln[A];if(j!==void 0)return yE(j)})(we),X=fe.message;Oe===void 0&&(Oe=ae.INTERNAL,X="Unknown error status: "+we+" with message "+fe.message),U=!0,Q.a_(new Ee(Oe,X)),w.close()}else Ce(kn,`RPC '${e}' stream ${o} received:`,ue),Q.u_(ue)}})),J(p,Ow.STAT_EVENT,(F=>{F.stat===Ep.PROXY?Ce(kn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Ep.NOPROXY&&Ce(kn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function lp(){return typeof document<"u"?document:null}function jh(r){return new jR(r,!0)}class IE{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&Ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Gv="PersistentStream";class kE{constructor(e,n,i,o,u,h,p,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new Ee(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(Gv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ce(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TI extends kE{constructor(e,n,i,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IR(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Ke.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ke.min():h.readTime?gr(h.readTime):Ke.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=jp(g)?{documents:OR(u,g)}:{query:MR(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=vE(u,h.resumeToken);const y=Rp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ke.min())>0){p.readTime=eh(u,h.snapshotVersion.toTimestamp());const y=Rp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=VR(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.q_(n)}}class SI extends kE{constructor(e,n,i,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DR(e.writeResults,e.commitTime),i=gr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Dp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>kR(this.serializer,i)))};this.q_(n)}}class AI{}class jI extends AI{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ee(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Ip(n,i),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(ae.UNKNOWN,u.toString())}))}Ho(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Ip(n,i),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ee(ae.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pi(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const nl="RemoteStore";class RI{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{al(this)&&(Ce(nl,"Restarting streams for network reachability change."),await(async function(g){const y=Xe(g);y.Ea.add(4),await ou(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ch(y)})(this))}))})),this.Ra=new CI(i,o)}}async function Ch(r){if(al(r))for(const e of r.da)await e(!0)}async function ou(r){for(const e of r.da)await e(!1)}function DE(r,e){const n=Xe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ng(n)?Eg(n):Eo(n).O_()&&wg(n,e))}function _g(r,e){const n=Xe(r),i=Eo(n);n.Ia.delete(e),i.O_()&&OE(n,e),n.Ia.size===0&&(i.O_()?i.L_():al(n)&&n.Ra.set("Unknown"))}function wg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(r).Y_(e)}function OE(r,e){r.Va.Ue(e),Eo(r).Z_(e)}function Eg(r){r.Va=new NR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Eo(r).start(),r.Ra.ua()}function Ng(r){return al(r)&&!Eo(r).x_()&&r.Ia.size>0}function al(r){return Xe(r).Ea.size===0}function ME(r){r.Va=void 0}async function II(r){r.Ra.set("Online")}async function kI(r){r.Ia.forEach(((e,n)=>{wg(r,e)}))}async function DI(r,e){ME(r),Ng(r)?(r.Ra.ha(e),Eg(r)):r.Ra.set("Unknown")}async function OI(r,e,n){if(r.Ra.set("Online"),e instanceof xE&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(i){Ce(nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nh(r,i)}else if(e instanceof Pd?r.Va.Ze(e):e instanceof bE?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ke.min()))try{const i=await RE(r.localStore);n.compareTo(i)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(y);_&&u.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(Cn.EMPTY_BYTE_STRING,_.snapshotVersion)),OE(u,g);const w=new ra(_.target,g,y,_.sequenceNumber);wg(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){Ce(nl,"Failed to raise snapshot:",i),await nh(r,i)}}async function nh(r,e,n){if(!_o(e))throw e;r.Ea.add(1),await ou(r),r.Ra.set("Offline"),n||(n=()=>RE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ce(nl,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ch(r)}))}function PE(r,e){return e().catch((n=>nh(r,n,e)))}async function Rh(r){const e=Xe(r),n=ma(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lg;for(;MI(e);)try{const o=await gI(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,PI(e,o)}catch(o){await nh(e,o)}VE(e)&&LE(e)}function MI(r){return al(r)&&r.Ta.length<10}function PI(r,e){r.Ta.push(e);const n=ma(r);n.O_()&&n.X_&&n.ea(e.mutations)}function VE(r){return al(r)&&!ma(r).x_()&&r.Ta.length>0}function LE(r){ma(r).start()}async function VI(r){ma(r).ra()}async function LI(r){const e=ma(r);for(const n of r.Ta)e.ea(n.mutations)}async function UI(r,e,n){const i=r.Ta.shift(),o=mg.from(i,e,n);await PE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rh(r)}async function zI(r,e){e&&ma(r).X_&&await(async function(i,o){if((function(h){return _R(h)&&h!==ae.ABORTED})(o.code)){const u=i.Ta.shift();ma(i).B_(),await PE(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Rh(i)}})(r,e),VE(r)&&LE(r)}async function $v(r,e){const n=Xe(r);n.asyncQueue.verifyOperationInProgress(),Ce(nl,"RemoteStore received new credentials");const i=al(n);n.Ea.add(3),await ou(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ch(n)}async function qI(r,e){const n=Xe(r);e?(n.Ea.delete(2),await Ch(n)):e||(n.Ea.add(2),await ou(n),n.Ra.set("Unknown"))}function Eo(r){return r.ma||(r.ma=(function(n,i,o){const u=Xe(n);return u.sa(),new TI(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:II.bind(null,r),t_:kI.bind(null,r),r_:DI.bind(null,r),H_:OI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Ng(r)?Eg(r):r.Ra.set("Unknown")):(await r.ma.stop(),ME(r))}))),r.ma}function ma(r){return r.fa||(r.fa=(function(n,i,o){const u=Xe(n);return u.sa(),new SI(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:VI.bind(null,r),r_:zI.bind(null,r),ta:LI.bind(null,r),na:UI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(Ce(nl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Tg{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const h=Date.now()+i,p=new Tg(e,n,h,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(r,e){if(pi("AsyncQueue",`${e}: ${r}`),_o(r))return new Ee(ae.UNAVAILABLE,`${e}: ${r}`);throw r}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Le.comparator(n.key,i.key):(n,i)=>Le.comparator(n.key,i.key),this.keyedMap=Ac(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new lo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Yv{constructor(){this.ga=new $t(Le.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class po{constructor(e,n,i,o,u,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new po(e,n,lo.emptySet(n),h,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}class BI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class FI{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Xe(n),u=o.queries;o.queries=Kv(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new Ee(ae.ABORTED,"Firestore shutting down"))}}function Kv(){return new il((r=>rE(r)),Eh)}async function UE(r,e){const n=Xe(r);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(i=2):(u=new BI,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=Sg(h,`Initialization of query '${Zl(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ag(n)}async function zE(r,e){const n=Xe(r),i=e.query;let o=3;const u=n.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function HI(r,e){const n=Xe(r);let i=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(i=!0);h.wa=o}}i&&Ag(n)}function GI(r,e,n){const i=Xe(r),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);i.queries.delete(e)}function Ag(r){r.Ca.forEach((e=>{e.next()}))}var Pp,Qv;(Qv=Pp||(Pp={})).Ma="default",Qv.Cache="cache";class qE{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new po(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pp.Cache}}class BE{constructor(e){this.key=e}}class FE{constructor(e){this.key=e}}class $I{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=iE(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Yv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const S=o.get(_),U=Nh(this.query,w)?w:null,Q=!!S&&this.mutatedKeys.has(S.key),J=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let F=!1;S&&U?S.data.isEqual(U.data)?Q!==J&&(i.track({type:3,doc:U}),F=!0):this.su(S,U)||(i.track({type:2,doc:U}),F=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(p=!0)):!S&&U?(i.track({type:0,doc:U}),F=!0):S&&!U&&(i.track({type:1,doc:S}),F=!0,(g||y)&&(p=!0)),F&&(U?(h=h.add(U),u=J?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,w)=>(function(U,Q){const J=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:F})}};return J(U)-J(Q)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new po(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new FE(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new BE(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jg="SyncEngine";class YI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class KI{constructor(e){this.key=e,this.hu=!1}}class QI{constructor(e,n,i,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new il((p=>rE(p)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new $t(Le.comparator),this.Au=new Map,this.Ru=new yg,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XI(r,e,n=!0){const i=QE(r);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await HE(i,e,n,!0),o}async function WI(r,e){const n=QE(r);await HE(n,e,!0,!1)}async function HE(r,e,n,i){const o=await yI(r.localStore,pr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await JI(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&DE(r.remoteStore,o),p}async function JI(r,e,n,i,o){r.pu=(w,S,U)=>(async function(J,F,ue,se){let fe=F.view.ru(ue);fe.Cs&&(fe=await qv(J.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,fe))));const we=se&&se.targetChanges.get(F.targetId),Oe=se&&se.targetMismatches.get(F.targetId)!=null,X=F.view.applyChanges(fe,J.isPrimaryClient,we,Oe);return Wv(J,F.targetId,X.au),X.snapshot})(r,w,S,U);const u=await qv(r.localStore,e,!0),h=new $I(e,u.Qs),p=h.ru(u.documents),g=lu.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),y=h.applyChanges(p,r.isPrimaryClient,g);Wv(r,n,y.au);const _=new YI(e,n,h);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function ZI(r,e,n){const i=Xe(r),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((h=>!Eh(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&_g(i.remoteStore,o.targetId),Vp(i,o.targetId)})).catch(vo)):(Vp(i,o.targetId),await Op(i.localStore,o.targetId,!0))}async function ek(r,e){const n=Xe(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),_g(n.remoteStore,i.targetId))}async function tk(r,e,n){const i=ok(r);try{const o=await(function(h,p){const g=Xe(h),y=Rt.now(),_=p.reduce(((U,Q)=>U.add(Q.key)),ut());let w,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let Q=gi(),J=ut();return g.Ns.getEntries(U,_).next((F=>{Q=F,Q.forEach(((ue,se)=>{se.isValidDocument()||(J=J.add(ue))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,Q))).next((F=>{w=F;const ue=[];for(const se of p){const fe=gR(se,w.get(se.key).overlayedDocument);fe!=null&&ue.push(new va(se.key,fe,Xw(fe.value.mapValue),Ks.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,ue,p)})).next((F=>{S=F;const ue=F.applyToLocalDocumentSet(w,J);return g.documentOverlayCache.saveOverlays(U,F.batchId,ue)}))})).then((()=>({batchId:S.batchId,changes:lE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new $t(ct)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,n),await cu(i,o.changes),await Rh(i.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");n.reject(u)}}async function GE(r,e){const n=Xe(r);try{const i=await mI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?vt(h.hu,14607):o.removedDocuments.size>0&&(vt(h.hu,42227),h.hu=!1))})),await cu(n,i,e)}catch(i){await vo(i)}}function Xv(r,e,n){const i=Xe(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Xe(h);g.onlineState=p;let y=!1;g.queries.forEach(((_,w)=>{for(const S of w.Sa)S.va(p)&&(y=!0)})),y&&Ag(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function nk(r,e,n){const i=Xe(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let h=new $t(Le.comparator);h=h.insert(u,On.newNoDocument(u,Ke.min()));const p=ut().add(u),g=new Ah(Ke.min(),new Map,new $t(ct),h,p);await GE(i,g),i.du=i.du.remove(u),i.Au.delete(e),Cg(i)}else await Op(i.localStore,e,!1).then((()=>Vp(i,e,n))).catch(vo)}async function sk(r,e){const n=Xe(r),i=e.batch.batchId;try{const o=await fI(n.localStore,e);YE(n,i,null),$E(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await cu(n,o)}catch(o){await vo(o)}}async function rk(r,e,n){const i=Xe(r);try{const o=await(function(h,p){const g=Xe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((w=>(vt(w!==null,37113),_=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);YE(i,e,n),$E(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await cu(i,o)}catch(o){await vo(o)}}function $E(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function YE(r,e,n){const i=Xe(r);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Vp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||KE(r,i)}))}function KE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(_g(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Cg(r))}function Wv(r,e,n){for(const i of n)i instanceof BE?(r.Ru.addReference(i.key,e),ik(r,i)):i instanceof FE?(Ce(jg,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||KE(r,i.key)):Ge(19791,{wu:i})}function ik(r,e){const n=e.key,i=n.path.canonicalString();r.du.get(n)||r.Eu.has(i)||(Ce(jg,"New document in limbo: "+n),r.Eu.add(i),Cg(r))}function Cg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Le(Vt.fromString(e)),i=r.fu.next();r.Au.set(i,new KI(n)),r.du=r.du.insert(n,i),DE(r.remoteStore,new ra(pr(hg(n.path)),i,"TargetPurposeLimboResolution",vh.ce))}}async function cu(r,e,n){const i=Xe(r),o=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=xg.As(g.targetId,y);u.push(_)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,y){const _=Xe(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ce.forEach(y,(S=>ce.forEach(S.Es,(U=>_.persistence.referenceDelegate.addReference(w,S.targetId,U))).next((()=>ce.forEach(S.ds,(U=>_.persistence.referenceDelegate.removeReference(w,S.targetId,U)))))))))}catch(w){if(!_o(w))throw w;Ce(vg,"Failed to update sequence numbers: "+w)}for(const w of y){const S=w.targetId;if(!w.fromCache){const U=_.Ms.get(S),Q=U.snapshotVersion,J=U.withLastLimboFreeSnapshotVersion(Q);_.Ms=_.Ms.insert(S,J)}}})(i.localStore,u))}async function ak(r,e){const n=Xe(r);if(!n.currentUser.isEqual(e)){Ce(jg,"User change. New user:",e.toKey());const i=await CE(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new Ee(ae.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cu(n,i.Ls)}}function lk(r,e){const n=Xe(r),i=n.Au.get(e);if(i&&i.hu)return ut().add(i.key);{let o=ut();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function QE(r){const e=Xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nk.bind(null,e),e.Pu.H_=HI.bind(null,e.eventManager),e.Pu.yu=GI.bind(null,e.eventManager),e}function ok(r){const e=Xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rk.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return hI(this.persistence,new cI,e.initialUser,this.serializer)}Cu(e){return new jE(bg.mi,this.serializer)}Du(e){return new xI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class ck extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof th,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new KR(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new jE((i=>th.mi(i,n)),this.serializer)}}class Lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Xv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ak.bind(null,this.syncEngine),await qI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new FI})()}createDatastore(e){const n=jh(e.databaseInfo.databaseId),i=(function(u){return new NI(u)})(e.databaseInfo);return(function(u,h,p,g){return new jI(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,u,h,p){return new RI(i,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Xv(this.syncEngine,n,0)),(function(){return Hv.v()?new Hv:new vI})())}createSyncEngine(e,n){return(function(o,u,h,p,g,y,_){const w=new QI(o,u,h,p,g,y);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Xe(n);Ce(nl,"RemoteStore shutting down."),i.Ea.add(5),await ou(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lp.provider={build:()=>new Lp};class XE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const pa="FirestoreClient";class uk{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Dn.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{Ce(pa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(Ce(pa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Sg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function op(r,e){r.asyncQueue.verifyOperationInProgress(),Ce(pa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await CE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Jv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await dk(r);Ce(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>$v(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>$v(e.remoteStore,o))),r._onlineComponents=e}async function dk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ce(pa,"Using user provided OfflineComponentProvider");try{await op(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await op(r,new sh)}}else Ce(pa,"Using default OfflineComponentProvider"),await op(r,new ck(void 0));return r._offlineComponents}async function WE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ce(pa,"Using user provided OnlineComponentProvider"),await Jv(r,r._uninitializedComponentsProvider._online)):(Ce(pa,"Using default OnlineComponentProvider"),await Jv(r,new Lp))),r._onlineComponents}function hk(r){return WE(r).then((e=>e.syncEngine))}async function JE(r){const e=await WE(r),n=e.eventManager;return n.onListen=XI.bind(null,e.syncEngine),n.onUnlisten=ZI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ek.bind(null,e.syncEngine),n}function fk(r,e,n={}){const i=new ui;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const _=new XE({next:S=>{_.Nu(),h.enqueueAndForget((()=>zE(u,w)));const U=S.docs.has(p);!U&&S.fromCache?y.reject(new Ee(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&S.fromCache&&g&&g.source==="server"?y.reject(new Ee(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new qE(hg(p.path),_,{includeMetadataChanges:!0,qa:!0});return UE(u,w)})(await JE(r),r.asyncQueue,e,n,i))),i.promise}function mk(r,e,n={}){const i=new ui;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const _=new XE({next:S=>{_.Nu(),h.enqueueAndForget((()=>zE(u,w))),S.fromCache&&g.source==="server"?y.reject(new Ee(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new qE(p,_,{includeMetadataChanges:!0,qa:!0});return UE(u,w)})(await JE(r),r.asyncQueue,e,n,i))),i.promise}function ZE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Zv=new Map;const eN="firestore.googleapis.com",e_=!0;class t_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eN,this.ssl=e_}else this.host=e.host,this.ssl=e.ssl??e_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$R)throw new Ee(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ee(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new x4;switch(i.type){case"firstParty":return new E4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Zv.get(n);i&&(Ce("ComponentProvider","Removing Datastore"),Zv.delete(n),i.terminate())})(this),Promise.resolve()}}function pk(r,e,n,i={}){r=xr(r,Ih);const o=bi(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(fh(`https://${p}`),mh("Firestore",!0)),u.host!==eN&&u.host!==p&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:i};if(!Ja(g,h)&&(r._setSettings(g),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=Dn.MOCK_USER;else{y=G_(i.mockUserToken,r._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Ee(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Dn(w)}r._authCredentials=new v4(new Lw(y,_))}}class _a{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class en{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(iu(n,en._jsonSchema))return new en(e,i||null,new Le(Vt.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:cn("string",en._jsonSchemaVersion),referencePath:cn("string")};class oa extends _a{constructor(e,n,i){super(e,n,hg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Le(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function Gs(r,e,...n){if(r=Gt(r),Uw("collection","path",e),r instanceof Ih){const i=Vt.fromString(e,...n);return mv(i),new oa(r,null,i)}{if(!(r instanceof en||r instanceof oa))throw new Ee(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Vt.fromString(e,...n));return mv(i),new oa(r.firestore,null,i)}}function sa(r,e,...n){if(r=Gt(r),arguments.length===1&&(e=ag.newId()),Uw("doc","path",e),r instanceof Ih){const i=Vt.fromString(e,...n);return fv(i),new en(r,null,new Le(i))}{if(!(r instanceof en||r instanceof oa))throw new Ee(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Vt.fromString(e,...n));return fv(i),new en(r.firestore,r instanceof oa?r.converter:null,new Le(i))}}const n_="AsyncQueue";class s_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IE(this,"async_queue_retry"),this._c=()=>{const i=lp();i&&Ce(n_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ui;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;Ce(n_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,pi("INTERNAL UNHANDLED ERROR: ",r_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Tg.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ge(47125,{Pc:r_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function r_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class No extends Ih{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new s_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s_(e),this._firestoreClient=void 0,await e}}}function gk(r,e){const n=typeof r=="object"?r:ph(),i=typeof r=="string"?r:Qd,o=eu(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=Yp("firestore");u&&pk(o,...u)}return o}function Rg(r){if(r._terminated)throw new Ee(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yk(r),r._firestoreClient}function yk(r){const e=r._freezeSettings(),n=(function(o,u,h,p){return new z4(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ZE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new uk(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(Cn.fromBase64String(e))}catch(n){throw new Ee(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Rs._jsonSchema))return Rs.fromBase64String(e.bytes)}}Rs._jsonSchemaVersion="firestore/bytes/1.0",Rs._jsonSchema={type:cn("string",Rs._jsonSchemaVersion),bytes:cn("string")};class kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dh{constructor(e){this._methodName=e}}class yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(iu(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:cn("string",yr._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};class br{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new br(e.vectorValues);throw new Ee(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:cn("string",br._jsonSchemaVersion),vectorValues:cn("object")};const bk=/^__.*__$/;class xk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class tN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new va(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nN(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:r})}}class Ig{constructor(e,n,i,o,u,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nN(this.Ac)&&bk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||jh(e)}Cc(e,n,i,o=!1){return new Ig({Ac:e,methodName:n,Dc:i,path:jn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(r){const e=r._freezeSettings(),n=jh(r._databaseId);return new vk(r._databaseId,!!e.ignoreUndefinedProperties,n)}function sN(r,e,n,i,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Dg("Data must be an object, but it was:",h,i);const p=rN(i,h);let g,y;if(u.merge)g=new fs(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const S=Up(e,w,n);if(!h.contains(S))throw new Ee(ae.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);aN(_,S)||_.push(S)}g=new fs(_),y=h.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=h.fieldTransforms;return new xk(new Wn(p),g,y)}class Mh extends Dh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}class kg extends Dh{_toFieldTransform(e){return new hR(e.path,new $c)}isEqual(e){return e instanceof kg}}function _k(r,e,n,i){const o=r.Cc(1,e,n);Dg("Data must be an object, but it was:",o,i);const u=[],h=Wn.empty();xa(i,((g,y)=>{const _=Og(e,g,n);y=Gt(y);const w=o.yc(_);if(y instanceof Mh)u.push(_);else{const S=uu(y,w);S!=null&&(u.push(_),h.set(_,S))}}));const p=new fs(u);return new tN(h,p,o.fieldTransforms)}function wk(r,e,n,i,o,u){const h=r.Cc(1,e,n),p=[Up(e,i,n)],g=[o];if(u.length%2!=0)throw new Ee(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(Up(e,u[S])),g.push(u[S+1]);const y=[],_=Wn.empty();for(let S=p.length-1;S>=0;--S)if(!aN(y,p[S])){const U=p[S];let Q=g[S];Q=Gt(Q);const J=h.yc(U);if(Q instanceof Mh)y.push(U);else{const F=uu(Q,J);F!=null&&(y.push(U),_.set(U,F))}}const w=new fs(y);return new tN(_,w,h.fieldTransforms)}function Ek(r,e,n,i=!1){return uu(n,r.Cc(i?4:3,e))}function uu(r,e){if(iN(r=Gt(r)))return Dg("Unsupported field value:",e,r),rN(r,e);if(r instanceof Dh)return(function(i,o){if(!nN(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const u=[];let h=0;for(const p of i){let g=uu(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(i,o){if((i=Gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Rt.fromDate(i);return{timestampValue:eh(o.serializer,u)}}if(i instanceof Rt){const u=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:eh(o.serializer,u)}}if(i instanceof yr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Rs)return{bytesValue:vE(o.serializer,i._byteString)};if(i instanceof en){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof br)return(function(h,p){return{mapValue:{fields:{[Kw]:{stringValue:Qw},[Xd]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return fg(p.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${xh(i)}`)})(r,e)}function rN(r,e){const n={};return Bw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(r,((i,o)=>{const u=uu(o,e.mc(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function iN(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof yr||r instanceof Rs||r instanceof en||r instanceof Dh||r instanceof br)}function Dg(r,e,n){if(!iN(n)||!zw(n)){const i=xh(n);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Up(r,e,n){if((e=Gt(e))instanceof kh)return e._internalPath;if(typeof e=="string")return Og(r,e);throw rh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Nk=new RegExp("[~\\*/\\[\\]]");function Og(r,e,n){if(e.search(Nk)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new kh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function rh(r,e,n,i,o){const u=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new Ee(ae.INVALID_ARGUMENT,p+r+g)}function aN(r,e){return r.some((n=>n.isEqual(e)))}class lN{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Tk extends lN{data(){return super.data()}}function Mg(r,e){return typeof e=="string"?Og(r,e):e instanceof kh?e._internalPath:e._delegate._internalPath}function Sk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ee(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class Vg extends Pg{}function cp(r,e,...n){let i=[];e instanceof Pg&&i.push(e),i=i.concat(n),(function(u){const h=u.filter((g=>g instanceof Ug)).length,p=u.filter((g=>g instanceof Lg)).length;if(h>1||h>0&&p>0)throw new Ee(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Lg extends Vg{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Lg(e,n,i)}_apply(e){const n=this._parse(e);return oN(e._query,n),new _a(e.firestore,e.converter,Cp(e._query,n))}_parse(e){const n=Oh(e.firestore);return(function(u,h,p,g,y,_,w){let S;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ee(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){a_(w,_);const Q=[];for(const J of w)Q.push(i_(g,u,J));S={arrayValue:{values:Q}}}else S=i_(g,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||a_(w,_),S=Ek(p,h,w,_==="in"||_==="not-in");return on.create(y,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ug extends Pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ug(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)oN(h,g),h=Cp(h,g)})(e._query,n),new _a(e.firestore,e.converter,Cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zg extends Vg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new Ee(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ee(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(u,h)})(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new wo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function up(r,e="asc"){const n=e,i=Mg("orderBy",r);return zg._create(i,n)}class qg extends Vg{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new qg(e,n,i)}_apply(e){return new _a(e.firestore,e.converter,Jd(e._query,this._limit,this._limitType))}}function dp(r){return qg._create("limit",r,"F")}function i_(r,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new Ee(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sE(e)&&n.indexOf("/")!==-1)throw new Ee(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Vt.fromString(n));if(!Le.isDocumentKey(i))throw new Ee(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return wv(r,new Le(i))}if(n instanceof en)return wv(r,n._key);throw new Ee(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function a_(r,e){if(!Array.isArray(r)||r.length===0)throw new Ee(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oN(r,e){const n=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ak{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return xa(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[Xd].arrayValue?.values?.map((i=>Zt(i.doubleValue)));return new br(n)}convertGeoPoint(e){return new yr(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=wh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=da(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Vt.fromString(e);vt(SE(i),9688,{name:e});const o=new Fc(i.get(1),i.get(3)),u=new Le(i.popFirst(5));return o.isEqual(n)||pi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function cN(r,e,n){let i;return i=r?r.toFirestore(e):e,i}class Cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends lN{constructor(e,n,i,o,u,h){super(e,n,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Mg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:cn("string",Wa._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class Vd extends Wa{data(e={}){return super.data(e)}}class oo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Vd(this._firestore,this._userDataWriter,i.key,i,new Cc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Vd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Cc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Vd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Cc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:jk(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:r})}}function Ld(r){r=xr(r,en);const e=xr(r.firestore,No);return fk(Rg(e),r._key).then((n=>Ck(e,r,n)))}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:cn("string",oo._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class uN extends Ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function Ya(r){r=xr(r,_a);const e=xr(r.firestore,No),n=Rg(e),i=new uN(e);return Sk(r._query),mk(n,r._query).then((o=>new oo(e,i,r,o)))}function dN(r,e,n){r=xr(r,en);const i=xr(r.firestore,No),o=cN(r.converter,e);return Bg(i,[sN(Oh(i),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ks.none())])}function l_(r,e,n,...i){r=xr(r,en);const o=xr(r.firestore,No),u=Oh(o);let h;return h=typeof(e=Gt(e))=="string"||e instanceof kh?wk(u,"updateDoc",r._key,e,n,i):_k(u,"updateDoc",r._key,e),Bg(o,[h.toMutation(r._key,Ks.exists(!0))])}function Nd(r,e){const n=xr(r.firestore,No),i=sa(r),o=cN(r.converter,e);return Bg(n,[sN(Oh(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Ks.exists(!1))]).then((()=>i))}function Bg(r,e){return(function(i,o){const u=new ui;return i.asyncQueue.enqueueAndForget((async()=>tk(await hk(i),o,u))),u.promise})(Rg(r),e)}function Ck(r,e,n){const i=n.docs.get(e._key),o=new uN(r);return new Wa(r,o,e._key,i,new Cc(n.hasPendingWrites,n.fromCache),e.converter)}function ii(){return new kg("serverTimestamp")}(function(e,n=!0){(function(o){xo=o})(sl),ca(new hi("firestore",((i,{instanceIdentifier:o,options:u})=>{const h=i.getProvider("app").getImmediate(),p=new No(new _4(i.getProvider("auth-internal")),new N4(h,i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ee(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(y.options.projectId,_)})(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Is(cv,uv,e),Is(cv,uv,"esm2020")})();var Rk="firebase",Ik="12.7.0";Is(Rk,Ik,"app");const hN="firebasestorage.googleapis.com",kk="storageBucket",Dk=120*1e3,Ok=600*1e3;class wr extends Js{constructor(e,n,i=0){super(hp(e),`Firebase Storage: ${n} (${hp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _r;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_r||(_r={}));function hp(r){return"storage/"+r}function Mk(){const r="An unknown error occurred, please check the error payload for server response.";return new wr(_r.UNKNOWN,r)}function Pk(){return new wr(_r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vk(){return new wr(_r.CANCELED,"User canceled the upload/download.")}function Lk(r){return new wr(_r.INVALID_URL,"Invalid URL '"+r+"'.")}function Uk(r){return new wr(_r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function o_(r){return new wr(_r.INVALID_ARGUMENT,r)}function fN(){return new wr(_r.APP_DELETED,"The Firebase app was deleted.")}function zk(r){return new wr(_r.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ys{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ys.makeFromUrl(e,n)}catch{return new Ys(e,"")}if(i.path==="")return i;throw Uk(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function u(we){we.path.charAt(we.path.length-1)==="/"&&(we.path_=we.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(we){we.path_=decodeURIComponent(we.path)}const _="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",U=new RegExp(`^https?://${w}/${_}/b/${o}/o${S}`,"i"),Q={bucket:1,path:3},J=n===hN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",ue=new RegExp(`^https?://${J}/${o}/${F}`,"i"),fe=[{regex:p,indices:g,postModify:u},{regex:U,indices:Q,postModify:y},{regex:ue,indices:{bucket:1,path:2},postModify:y}];for(let we=0;we<fe.length;we++){const Oe=fe[we],X=Oe.regex.exec(e);if(X){const R=X[Oe.indices.bucket];let A=X[Oe.indices.path];A||(A=""),i=new Ys(R,A),Oe.postModify(i);break}}if(i==null)throw Lk(e);return i}}class qk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Bk(r,e,n){let i=1,o=null,u=null,h=!1,p=0;function g(){return p===2}let y=!1;function _(...F){y||(y=!0,e.apply(null,F))}function w(F){o=setTimeout(()=>{o=null,r(U,g())},F)}function S(){u&&clearTimeout(u)}function U(F,...ue){if(y){S();return}if(F){S(),_.call(null,F,...ue);return}if(g()||h){S(),_.call(null,F,...ue);return}i<64&&(i*=2);let fe;p===1?(p=2,fe=0):fe=(i+Math.random())*1e3,w(fe)}let Q=!1;function J(F){Q||(Q=!0,S(),!y&&(o!==null?(F||(p=2),clearTimeout(o),w(0)):F||(p=1)))}return w(0),u=setTimeout(()=>{h=!0,J(!0)},n),J}function Fk(r){r(!1)}function Hk(r){return r!==void 0}function c_(r,e,n,i){if(i<e)throw o_(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>n)throw o_(`Invalid value for '${r}'. Expected ${n} or less.`)}function Gk(r){const e=encodeURIComponent;let n="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var ih;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ih||(ih={}));function $k(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class Yk{constructor(e,n,i,o,u,h,p,g,y,_,w,S=!0,U=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,J)=>{this.resolve_=Q,this.reject_=J,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Td(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===ih.NO_ERROR,g=u.getStatus();if(!p||$k(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===ih.ABORT;i(!1,new Td(!1,null,_));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Td(y,u))})},n=(i,o)=>{const u=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());Hk(g)?u(g):u()}catch(g){h(g)}else if(p!==null){const g=Mk();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?fN():Vk();h(g)}else{const g=Pk();h(g)}};this.canceled_?n(!1,new Td(!1,null,!0)):this.backoffId_=Bk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Td{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Kk(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Qk(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Xk(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Wk(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Jk(r,e,n,i,o,u,h=!0,p=!1){const g=Gk(r.urlParams),y=r.url+g,_=Object.assign({},r.headers);return Xk(_,e),Kk(_,n),Qk(_,u),Wk(_,i),new Yk(y,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,p)}function Zk(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function eD(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class ah{constructor(e,n){this._service=e,n instanceof Ys?this._location=n:this._location=Ys.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ah(e,n)}get root(){const e=new Ys(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eD(this._location.path)}get storage(){return this._service}get parent(){const e=Zk(this._location.path);if(e===null)return null;const n=new Ys(this._location.bucket,e);return new ah(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zk(e)}}function u_(r,e){const n=e?.[kk];return n==null?null:Ys.makeFromBucketSpec(n,r)}function tD(r,e,n,i={}){r.host=`${e}:${n}`;const o=bi(e);o&&(fh(`https://${r.host}/b`),mh("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=i;u&&(r._overrideAuthToken=typeof u=="string"?u:G_(u,r.app.options.projectId))}class nD{constructor(e,n,i,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=hN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Dk,this._maxUploadRetryTime=Ok,this._requests=new Set,o!=null?this._bucket=Ys.makeFromBucketSpec(o,this._host):this._bucket=u_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ys.makeFromBucketSpec(this._url,e):this._bucket=u_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){c_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){c_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ah(this,e)}_makeRequest(e,n,i,o,u=!0){if(this._deleted)return new qk(fN());{const h=Jk(e,this._appId,i,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const d_="@firebase/storage",h_="0.14.0";const mN="storage";function sD(r=ph(),e){r=Gt(r);const i=eu(r,mN).getImmediate({identifier:e}),o=Yp("storage");return o&&rD(i,...o),i}function rD(r,e,n,i={}){tD(r,e,n,i)}function iD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new nD(n,i,o,e,sl)}function aD(){ca(new hi(mN,iD,"PUBLIC").setMultipleInstances(!0)),Is(d_,h_,""),Is(d_,h_,"esm2020")}aD();const lD="type.googleapis.com/google.protobuf.Int64Value",oD="type.googleapis.com/google.protobuf.UInt64Value";function pN(r,e){const n={};for(const i in r)r.hasOwnProperty(i)&&(n[i]=e(r[i]));return n}function lh(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>lh(e));if(typeof r=="function"||typeof r=="object")return pN(r,e=>lh(e));throw new Error("Data cannot be encoded in JSON: "+r)}function go(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case lD:case oD:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>go(e)):typeof r=="function"||typeof r=="object"?pN(r,e=>go(e)):r}const Fg="functions";const f_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jn extends Js{constructor(e,n,i){super(`${Fg}/${e}`,n||""),this.details=i,Object.setPrototypeOf(this,Jn.prototype)}}function cD(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function oh(r,e){let n=cD(r),i=n,o;try{const u=e&&e.error;if(u){const h=u.status;if(typeof h=="string"){if(!f_[h])return new Jn("internal","internal");n=f_[h],i=h}const p=u.message;typeof p=="string"&&(i=p),o=u.details,o!==void 0&&(o=go(o))}}catch{}return n==="ok"?null:new Jn(n,i,o)}class uD{constructor(e,n,i,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Xn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||i.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:o}}}const zp="us-central1",dD=/^data: (.*?)(?:\n|$)/;function hD(r){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Jn("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class fD{constructor(e,n,i,o,u=zp,h=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new uD(e,n,i,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(u);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=zp}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function mD(r,e,n){const i=bi(e);r.emulatorOrigin=`http${i?"s":""}://${e}:${n}`,i&&(fh(r.emulatorOrigin+"/backends"),mh("Functions",!0))}function pD(r,e,n){const i=o=>yD(r,e,o,{});return i.stream=(o,u)=>xD(r,e,o,u),i}function gN(r){return r.emulatorOrigin&&bi(r.emulatorOrigin)?"include":void 0}async function gD(r,e,n,i,o){n["Content-Type"]="application/json";let u;try{u=await i(r,{method:"POST",body:JSON.stringify(e),headers:n,credentials:gN(o)})}catch{return{status:0,json:null}}let h=null;try{h=await u.json()}catch{}return{status:u.status,json:h}}async function yN(r,e){const n={},i=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function yD(r,e,n,i){const o=r._url(e);return bD(r,o,n,i)}async function bD(r,e,n,i){n=lh(n);const o={data:n},u=await yN(r,i),h=i.timeout||7e4,p=hD(h),g=await Promise.race([gD(e,o,u,r.fetchImpl,r),p.promise,r.cancelAllRequests]);if(p.cancel(),!g)throw new Jn("cancelled","Firebase Functions instance was deleted.");const y=oh(g.status,g.json);if(y)throw y;if(!g.json)throw new Jn("internal","Response is not valid JSON object.");let _=g.json.data;if(typeof _>"u"&&(_=g.json.result),typeof _>"u")throw new Jn("internal","Response is missing data field.");return{data:go(_)}}function xD(r,e,n,i){const o=r._url(e);return vD(r,o,n,i||{})}async function vD(r,e,n,i){n=lh(n);const o={data:n},u=await yN(r,i);u["Content-Type"]="application/json",u.Accept="text/event-stream";let h;try{h=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:u,signal:i?.signal,credentials:gN(r)})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const Q=new Jn("cancelled","Request was cancelled.");return{data:Promise.reject(Q),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(Q)}}}}}}const U=oh(0,null);return{data:Promise.reject(U),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(U)}}}}}}let p,g;const y=new Promise((S,U)=>{p=S,g=U});i?.signal?.addEventListener("abort",()=>{const S=new Jn("cancelled","Request was cancelled.");g(S)});const _=h.body.getReader(),w=_D(_,p,g,i?.signal);return{stream:{[Symbol.asyncIterator](){const S=w.getReader();return{async next(){const{value:U,done:Q}=await S.read();return{value:U,done:Q}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:y}}function _D(r,e,n,i){const o=(h,p)=>{const g=h.match(dD);if(!g)return;const y=g[1];try{const _=JSON.parse(y);if("result"in _){e(go(_.result));return}if("message"in _){p.enqueue(go(_.message));return}if("error"in _){const w=oh(0,_);p.error(w),n(w);return}}catch(_){if(_ instanceof Jn){p.error(_),n(_);return}}},u=new TextDecoder;return new ReadableStream({start(h){let p="";return g();async function g(){if(i?.aborted){const y=new Jn("cancelled","Request was cancelled");return h.error(y),n(y),Promise.resolve()}try{const{value:y,done:_}=await r.read();if(_){p.trim()&&o(p.trim(),h),h.close();return}if(i?.aborted){const S=new Jn("cancelled","Request was cancelled");h.error(S),n(S),await r.cancel();return}p+=u.decode(y,{stream:!0});const w=p.split(`
`);p=w.pop()||"";for(const S of w)S.trim()&&o(S.trim(),h);return g()}catch(y){const _=y instanceof Jn?y:oh(0,null);h.error(_),n(_)}}},cancel(){return r.cancel()}})}const m_="@firebase/functions",p_="0.13.1";const wD="auth-internal",ED="app-check-internal",ND="messaging-internal";function TD(r){const e=(n,{instanceIdentifier:i})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(wD),h=n.getProvider(ND),p=n.getProvider(ED);return new fD(o,u,h,p,i)};ca(new hi(Fg,e,"PUBLIC").setMultipleInstances(!0)),Is(m_,p_,r),Is(m_,p_,"esm2020")}function qn(r=ph(),e=zp){const i=eu(Gt(r),Fg).getImmediate({identifier:e}),o=Yp("functions");return o&&SD(i,...o),i}function SD(r,e,n){mD(Gt(r),e,n)}function Kn(r,e,n){return pD(Gt(r),e)}TD();const AD={apiKey:"AIzaSyAZ_SrlZz1glZXeOBuOqg2OFUMQMs7BOAw",authDomain:"innovend-980b3.firebaseapp.com",projectId:"innovend-980b3",storageBucket:"innovend-980b3.firebasestorage.app",messagingSenderId:"522982439138",appId:"1:522982439138:web:bf17d2b52af19e4b6446bb"},Ph=K_(AD),wc=y4(Ph),xn=gk(Ph);sD(Ph);qn(Ph);const bN=T.createContext({}),Ec=()=>{const r=T.useContext(bN);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},jD=({children:r})=>{const[e,n]=T.useState(null),[i,o]=T.useState(null),[u,h]=T.useState(!0),[p,g]=T.useState(null);T.useEffect(()=>{const U=aC(wc,async Q=>{if(g(null),Q){n(Q);try{const J=await Ld(sa(xn,"users",Q.uid));J.exists()?o({uid:Q.uid,...J.data()}):(console.warn("User profile not found in Firestore"),o(null))}catch(J){console.error("Error fetching user profile:",J),g("Failed to load user profile")}}else n(null),o(null);h(!1)});return()=>U()},[]);const S={user:e,userProfile:i,loading:u,error:p,signIn:async(U,Q,J=!1)=>{g(null);try{return await sC(wc,J?Ew:ng),await nC(wc,U,Q)}catch(F){throw g(F.message),F}},signOut:async()=>{g(null);try{await lC(wc),n(null),o(null)}catch(U){throw g(U.message),U}},createAccount:async(U,Q,J)=>{g(null);try{const F=await tC(wc,U,Q);return await dN(sa(xn,"users",F.user.uid),{uid:F.user.uid,email:U,...J,createdAt:new Date,updatedAt:new Date}),F}catch(F){throw g(F.message),F}},isAdmin:i?.role==="admin",isAuthenticated:!!e};return l.jsx(bN.Provider,{value:S,children:!u&&r})};var CD=({as:r="div",...e},n)=>l.jsx(r,{...e,ref:n}),RD=T.forwardRef(CD),ID="https://challenges.cloudflare.com/turnstile/v0/api.js",Hg="cf-turnstile-script",kD="cf-turnstile",Gg="onloadTurnstileCallback",xN=r=>!!document.getElementById(r),DD=({render:r="explicit",onLoadCallbackName:e=Gg,scriptOptions:{nonce:n="",defer:i=!0,async:o=!0,id:u="",appendTo:h,onError:p,crossOrigin:g=""}={}})=>{let y=u||Hg;if(xN(y))return;let _=document.createElement("script");_.id=y,_.src=`${ID}?onload=${e}&render=${r}`,!document.querySelector(`script[src="${_.src}"]`)&&(_.defer=!!i,_.async=!!o,n&&(_.nonce=n),g&&(_.crossOrigin=g),p&&(_.onerror=p,delete window[e]),(h==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(_))},Ka={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function OD(r){if(r!=="invisible"&&r!=="interactionOnly")return r}function MD(r=Hg){let[e,n]=T.useState(!1);return T.useEffect(()=>{let i=()=>{xN(r)&&n(!0)},o=new MutationObserver(i);return o.observe(document,{childList:!0,subtree:!0}),i(),()=>{o.disconnect()}},[r]),e}var Pc="unloaded",vN,PD=new Promise((r,e)=>{vN={resolve:r,reject:e},Pc==="ready"&&r(void 0)}),g_=(r=Gg)=>(Pc==="unloaded"&&(Pc="loading",window[r]=()=>{vN.resolve(),Pc="ready",delete window[r]}),PD),no=T.forwardRef((r,e)=>{let{scriptOptions:n,options:i={},siteKey:o,onWidgetLoad:u,onSuccess:h,onExpire:p,onError:g,onBeforeInteractive:y,onAfterInteractive:_,onUnsupported:w,onTimeout:S,onLoadScript:U,id:Q,style:J,as:F="div",injectScript:ue=!0,rerenderOnCallbackChange:se=!1,...fe}=r,we=i.size,Oe=T.useCallback(()=>typeof we>"u"?{}:i.execution==="execute"?Ka.invisible:i.appearance==="interaction-only"?Ka.interactionOnly:Ka[we],[i.execution,we,i.appearance]),[X,R]=T.useState(Oe()),A=T.useRef(null),[j,P]=T.useState(!1),k=T.useRef(void 0),z=T.useRef(!1),I=Q||kD,nt=T.useRef({onSuccess:h,onError:g,onExpire:p,onBeforeInteractive:y,onAfterInteractive:_,onUnsupported:w,onTimeout:S});T.useEffect(()=>{se||(nt.current={onSuccess:h,onError:g,onExpire:p,onBeforeInteractive:y,onAfterInteractive:_,onUnsupported:w,onTimeout:S})});let _t=n?.id||Hg,ee=MD(_t),pe=n?.onLoadCallbackName||Gg,Ae=i.appearance||"always",Te=T.useMemo(()=>({sitekey:o,action:i.action,cData:i.cData,theme:i.theme||"auto",language:i.language||"auto",tabindex:i.tabIndex,"response-field":i.responseField,"response-field-name":i.responseFieldName,size:OD(we),retry:i.retry||"auto","retry-interval":i.retryInterval||8e3,"refresh-expired":i.refreshExpired||"auto","refresh-timeout":i.refreshTimeout||"auto",execution:i.execution||"render",appearance:i.appearance||"always","feedback-enabled":i.feedbackEnabled||!0,callback:C=>{z.current=!0,se?h?.(C):nt.current.onSuccess?.(C)},"error-callback":se?g:(...C)=>nt.current.onError?.(...C),"expired-callback":se?p:(...C)=>nt.current.onExpire?.(...C),"before-interactive-callback":se?y:(...C)=>nt.current.onBeforeInteractive?.(...C),"after-interactive-callback":se?_:(...C)=>nt.current.onAfterInteractive?.(...C),"unsupported-callback":se?w:(...C)=>nt.current.onUnsupported?.(...C),"timeout-callback":se?S:(...C)=>nt.current.onTimeout?.(...C)}),[i.action,i.appearance,i.cData,i.execution,i.language,i.refreshExpired,i.responseField,i.responseFieldName,i.retry,i.retryInterval,i.tabIndex,i.theme,i.feedbackEnabled,i.refreshTimeout,o,we,se,se?h:null,se?g:null,se?p:null,se?y:null,se?_:null,se?w:null,se?S:null]),tt=T.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return T.useEffect(function(){ue&&!j&&(g_(pe),DD({onLoadCallbackName:pe,scriptOptions:{...n,id:_t}}))},[ue,j,n,_t,pe]),T.useEffect(function(){Pc!=="ready"&&g_(pe).then(()=>P(!0)).catch(console.error)},[pe]),T.useEffect(function(){if(!A.current||!j)return;let C=!1;return(async()=>{if(C||!A.current)return;let te=window.turnstile.render(A.current,Te);k.current=te,k.current&&u?.(k.current)})(),()=>{C=!0,k.current&&(window.turnstile.remove(k.current),z.current=!1)}},[I,j,Te]),T.useImperativeHandle(e,()=>{let{turnstile:C}=window;return{getResponse(){if(!C?.getResponse||!k.current||!tt()){console.warn("Turnstile has not been loaded");return}return C.getResponse(k.current)},async getResponsePromise(te=3e4,ye=100){return new Promise((Se,Pe)=>{let Ue,Je=async()=>{if(z.current&&window.turnstile&&k.current)try{let Tt=window.turnstile.getResponse(k.current);return Ue&&clearTimeout(Ue),Tt?Se(Tt):Pe(new Error("No response received"))}catch(Tt){return Ue&&clearTimeout(Ue),console.warn("Failed to get response",Tt),Pe(new Error("Failed to get response"))}Ue||(Ue=setTimeout(()=>{Ue&&clearTimeout(Ue),Pe(new Error("Timeout"))},te)),await new Promise(Tt=>setTimeout(Tt,ye)),await Je()};Je()})},reset(){if(!C?.reset||!k.current||!tt()){console.warn("Turnstile has not been loaded");return}i.execution==="execute"&&R(Ka.invisible);try{z.current=!1,C.reset(k.current)}catch(te){console.warn(`Failed to reset Turnstile widget ${k}`,te)}},remove(){if(!C?.remove||!k.current||!tt()){console.warn("Turnstile has not been loaded");return}R(Ka.invisible),z.current=!1,C.remove(k.current),k.current=null},render(){if(!C?.render||!A.current||!tt()||k.current){console.warn("Turnstile has not been loaded or container not found");return}let te=C.render(A.current,Te);return k.current=te,k.current&&u?.(k.current),i.execution!=="execute"&&R(we?Ka[we]:{}),te},execute(){if(i.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!C?.execute||!A.current||!k.current||!tt()){console.warn("Turnstile has not been loaded or container not found");return}C.execute(A.current,Te),R(we?Ka[we]:{})},isExpired(){return!C?.isExpired||!k.current||!tt()?(console.warn("Turnstile has not been loaded"),!1):C.isExpired(k.current)}}},[k,i.execution,we,Te,A,tt,j,u]),T.useEffect(()=>{if(j||!ee)return;if(window.turnstile){P(!0);return}let C=setInterval(()=>{window.turnstile&&(P(!0),clearInterval(C))},50);return()=>{clearInterval(C)}},[j,ee]),T.useEffect(()=>{R(Oe())},[i.execution,we,Ae]),T.useEffect(()=>{!ee||typeof U!="function"||U()},[ee]),l.jsx(RD,{ref:A,as:F,id:I,style:{...X,...J},...fe})});no.displayName="Turnstile";function VD(){const[r,e]=T.useState(!1);T.useEffect(()=>{const i=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return l.jsx(l.Fragment,{children:r&&l.jsx("button",{onClick:n,className:"fixed bottom-8 right-8 z-40 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Back to top",children:l.jsx($1,{className:"w-6 h-6"})})})}function LD({onLearnMore:r}){const[e,n]=T.useState(!1);T.useEffect(()=>{localStorage.getItem("cookieConsent")||setTimeout(()=>n(!0),2e3)},[]);const i=()=>{localStorage.setItem("cookieConsent","accepted"),n(!1)},o=()=>{localStorage.setItem("cookieConsent","declined"),n(!1)};return e?l.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 animate-slide-up",children:l.jsx("div",{className:"bg-slate-900/98 backdrop-blur-md border-t border-blue-400/30 shadow-2xl",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[l.jsx(X1,{className:"w-8 h-8 text-blue-400 flex-shrink-0 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg mb-1",children:"We use cookies"}),l.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed",children:['We use cookies and similar technologies to enhance your browsing experience, analyze site traffic, and provide personalized content. By clicking "Accept", you consent to our use of cookies.'," ",l.jsx("button",{onClick:()=>{r(),n(!1)},className:"text-blue-400 hover:text-blue-300 underline",children:"Learn more"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[l.jsx("button",{onClick:o,className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-medium transition",children:"Decline"}),l.jsx("button",{onClick:i,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white rounded-lg font-semibold transition shadow-lg",children:"Accept All"})]})]})})})}):null}function Ji({type:r="card"}){return r==="card"?l.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20 animate-pulse",children:[l.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4 mb-4"}),l.jsx("div",{className:"h-4 bg-slate-700 rounded w-1/2 mb-3"}),l.jsx("div",{className:"h-4 bg-slate-700 rounded w-5/6"})]}):r==="table-row"?l.jsxs("tr",{className:"border-b border-gray-700 animate-pulse",children:[l.jsx("td",{className:"p-4",children:l.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"})}),l.jsx("td",{className:"p-4",children:l.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"})}),l.jsx("td",{className:"p-4",children:l.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"})}),l.jsx("td",{className:"p-4",children:l.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"})})]}):r==="stat"?l.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 p-6 rounded-xl border border-blue-400/20 animate-pulse",children:[l.jsx("div",{className:"h-6 bg-slate-700 rounded w-1/3 mb-4"}),l.jsx("div",{className:"h-10 bg-slate-700 rounded w-1/2"})]}):null}function UD({password:r}){const n=(()=>{if(!r)return{score:0,label:"",color:""};let i=0;return r.length>=8&&i++,r.length>=12&&i++,/[a-z]/.test(r)&&i++,/[A-Z]/.test(r)&&i++,/[0-9]/.test(r)&&i++,/[^a-zA-Z0-9]/.test(r)&&i++,i<=2?{score:1,label:"Weak",color:"bg-red-500"}:i<=4?{score:2,label:"Fair",color:"bg-yellow-500"}:i<=5?{score:3,label:"Good",color:"bg-blue-500"}:{score:4,label:"Strong",color:"bg-green-500"}})();return r?l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"text-sm text-gray-400",children:"Password strength:"}),l.jsx("span",{className:`text-sm font-semibold ${n.label==="Weak"?"text-red-400":n.label==="Fair"?"text-yellow-400":n.label==="Good"?"text-blue-400":"text-green-400"}`,children:n.label})]}),l.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(i=>l.jsx("div",{className:`h-2 flex-1 rounded-full transition-all ${i<=n.score?n.color:"bg-slate-700"}`},i))})]}):null}function zD(){const[r,e]=T.useState(!navigator.onLine);return T.useEffect(()=>{const n=()=>e(!1),i=()=>e(!0);return window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),r?l.jsx("div",{className:"fixed top-16 left-0 right-0 z-40 animate-slide-down",children:l.jsx("div",{className:"bg-red-600 text-white px-4 py-3 text-center font-medium shadow-lg",children:" No internet connection. Some features may not work."})}):null}function qD({onClose:r}){return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full border border-blue-400/30 shadow-2xl my-8",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[l.jsx("h2",{className:"text-3xl font-bold",children:"Privacy Policy"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:l.jsxs("div",{className:"space-y-6 text-gray-300",children:[l.jsxs("p",{className:"text-sm text-gray-400",children:[l.jsx("strong",{children:"Last Updated:"})," January 9, 2026"]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"1. Introduction"}),l.jsx("p",{children:'InnoVend LLC ("we," "our," or "us") respects your privacy and is committed to protecting your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our services.'})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"2. Information We Collect"}),l.jsx("p",{className:"mb-3",children:"We collect information that you provide directly to us, including:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Personal Information:"})," Name, email address, phone number, business name, and business address"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Account Information:"})," Username, password (encrypted), and account preferences"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Service Request Information:"})," Details about your vending machine needs and preferences"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Usage Information:"})," How you interact with our website and services"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Cookies and Tracking:"})," We use cookies to enhance your browsing experience and analyze site traffic"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"3. How We Use Your Information"}),l.jsx("p",{className:"mb-3",children:"We use the information we collect to:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Provide, maintain, and improve our vending machine services"}),l.jsx("li",{children:"Process and fulfill service requests"}),l.jsx("li",{children:"Communicate with you about services, updates, and promotional offers"}),l.jsx("li",{children:"Respond to your inquiries and provide customer support"}),l.jsx("li",{children:"Monitor and analyze usage patterns to improve our website"}),l.jsx("li",{children:"Detect, prevent, and address technical issues or fraudulent activity"}),l.jsx("li",{children:"Comply with legal obligations and enforce our terms"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"4. Information Sharing and Disclosure"}),l.jsx("p",{className:"mb-3",children:"We do not sell your personal information. We may share your information in the following circumstances:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Service Providers:"})," Third-party vendors who assist in operating our website and providing services (e.g., email services, payment processors)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Business Partners:"})," With vending machine suppliers or product vendors as necessary to fulfill your service requests"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Legal Requirements:"})," When required by law, court order, or government regulation"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Business Transfers:"})," In connection with any merger, sale of company assets, or acquisition"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"With Your Consent:"})," Any other disclosure made with your explicit permission"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"5. Data Security"}),l.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. These measures include:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[l.jsx("li",{children:"Encryption of sensitive data (passwords, personal information)"}),l.jsx("li",{children:"Secure server infrastructure with Firebase"}),l.jsx("li",{children:"Regular security assessments and updates"}),l.jsx("li",{children:"Access controls limiting who can view your information"}),l.jsx("li",{children:"Two-factor authentication for admin accounts"})]}),l.jsx("p",{className:"mt-3",children:"However, no method of transmission over the Internet is 100% secure. While we strive to protect your information, we cannot guarantee absolute security."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"6. Cookies and Tracking Technologies"}),l.jsx("p",{className:"mb-3",children:"We use cookies and similar tracking technologies to:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Remember your preferences and settings"}),l.jsx("li",{children:"Authenticate your account"}),l.jsx("li",{children:"Analyze site traffic and usage patterns"}),l.jsx("li",{children:"Protect against spam and abuse"})]}),l.jsx("p",{className:"mt-3",children:"You can control cookie preferences through your browser settings. However, disabling cookies may limit your ability to use certain features of our website."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"7. Your Rights and Choices"}),l.jsx("p",{className:"mb-3",children:"You have the following rights regarding your personal information:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Access:"})," Request a copy of the personal information we hold about you"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Correction:"})," Request correction of inaccurate or incomplete information"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Deletion:"})," Request deletion of your personal information (subject to legal obligations)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Opt-Out:"})," Unsubscribe from marketing communications at any time"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Data Portability:"})," Request transfer of your data to another service"]})]}),l.jsxs("p",{className:"mt-3",children:["To exercise these rights, please contact us at ",l.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:text-blue-300",children:"hello@innovend.net"}),"."]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"8. Children's Privacy"}),l.jsx("p",{children:"Our services are not directed to individuals under the age of 18. We do not knowingly collect personal information from children. If you believe we have inadvertently collected information from a child, please contact us immediately."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"9. Third-Party Links"}),l.jsx("p",{children:"Our website may contain links to third-party websites. We are not responsible for the privacy practices or content of these external sites. We encourage you to review the privacy policies of any third-party sites you visit."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"10. Data Retention"}),l.jsx("p",{children:"We retain your personal information for as long as necessary to fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required or permitted by law. When we no longer need your information, we will securely delete or anonymize it."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"11. California Privacy Rights (CCPA)"}),l.jsx("p",{className:"mb-3",children:"If you are a California resident, you have additional rights under the California Consumer Privacy Act (CCPA):"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Right to know what personal information is collected, used, shared, or sold"}),l.jsx("li",{children:"Right to delete personal information"}),l.jsx("li",{children:"Right to opt-out of the sale of personal information (we do not sell your information)"}),l.jsx("li",{children:"Right to non-discrimination for exercising your CCPA rights"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"12. European Privacy Rights (GDPR)"}),l.jsx("p",{children:"If you are located in the European Economic Area (EEA), you have rights under the General Data Protection Regulation (GDPR), including the right to access, rectify, erase, restrict processing, object to processing, and data portability. You also have the right to lodge a complaint with a supervisory authority."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"13. Changes to This Privacy Policy"}),l.jsx("p",{children:'We may update this Privacy Policy from time to time to reflect changes in our practices or legal requirements. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. Your continued use of our services after changes constitutes acceptance of the updated policy.'})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"14. Contact Us"}),l.jsx("p",{children:"If you have questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:"}),l.jsxs("div",{className:"mt-3 bg-slate-800 p-4 rounded-lg",children:[l.jsx("p",{children:l.jsx("strong",{children:"InnoVend LLC"})}),l.jsxs("p",{children:["Email: ",l.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:text-blue-300",children:"hello@innovend.net"})]}),l.jsx("p",{children:"Location: North Potomac, Maryland"}),l.jsx("p",{children:"Service Area: Montgomery County, Maryland"})]})]}),l.jsx("div",{className:"mt-8 pt-6 border-t border-gray-700",children:l.jsx("p",{className:"text-sm text-gray-400",children:"By using InnoVend's website and services, you acknowledge that you have read and understood this Privacy Policy and agree to its terms."})})]})}),l.jsx("div",{className:"p-6 border-t border-gray-700 flex-shrink-0",children:l.jsx("button",{onClick:r,className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})})}function BD({onClose:r}){return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full border border-blue-400/30 shadow-2xl my-8",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[l.jsx("h2",{className:"text-3xl font-bold",children:"Terms of Service"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:l.jsxs("div",{className:"space-y-6 text-gray-300",children:[l.jsxs("p",{className:"text-sm text-gray-400",children:[l.jsx("strong",{children:"Last Updated:"})," January 9, 2026"]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"1. Acceptance of Terms"}),l.jsx("p",{children:'Welcome to InnoVend LLC. By accessing or using our website and services, you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use our services. We reserve the right to modify these Terms at any time, and your continued use constitutes acceptance of any changes.'})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"2. Description of Services"}),l.jsx("p",{className:"mb-3",children:"InnoVend LLC provides vending machine placement and management services to businesses in Montgomery County, Maryland. Our services include:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Free vending machine placement at qualified business locations"}),l.jsx("li",{children:"Machine installation, maintenance, and restocking"}),l.jsx("li",{children:"Product selection and inventory management"}),l.jsx("li",{children:"Online account management and reporting"}),l.jsx("li",{children:"Customer support and service requests"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"3. Eligibility and Service Requirements"}),l.jsx("p",{className:"mb-3",children:"To qualify for our services, you must:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Operate a legitimate business in Montgomery County, Maryland or surrounding areas"}),l.jsx("li",{children:"Be at least 18 years of age and legally capable of entering into contracts"}),l.jsx("li",{children:"Provide a suitable location with adequate space, power, and WiFi"}),l.jsx("li",{children:"Have authorization to make decisions regarding equipment placement"}),l.jsx("li",{children:"Maintain a safe and accessible environment for machine servicing"})]}),l.jsx("p",{className:"mt-3",children:"We reserve the right to accept or decline any service request at our sole discretion."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"4. Free Service Model"}),l.jsx("p",{children:"Our vending machines are provided at no cost to qualified business partners. This means:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"No upfront fees:"})," We do not charge for machine placement, installation, or equipment"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"No monthly fees:"})," There are no recurring charges for our services"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Your responsibilities:"})," You provide power and WiFi; we handle everything else"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Revenue model:"})," InnoVend retains all vending sales revenue"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Optional commissions:"})," Commission arrangements may be offered to select partners"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"5. Account Registration and Security"}),l.jsx("p",{className:"mb-3",children:"When you create an account with us:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"You must provide accurate, current, and complete information"}),l.jsx("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),l.jsx("li",{children:"You are responsible for all activities that occur under your account"}),l.jsx("li",{children:"You must notify us immediately of any unauthorized use or security breach"}),l.jsx("li",{children:"We reserve the right to terminate accounts that violate these Terms"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"6. Machine Placement and Installation"}),l.jsx("p",{className:"mb-3",children:"Regarding vending machine placement:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Location approval:"})," Final placement location must be mutually agreed upon"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Installation:"})," We will coordinate installation at a mutually convenient time"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Machine ownership:"})," All machines remain the property of InnoVend LLC"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Relocation:"})," Machines may be relocated within your premises if necessary"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Removal:"})," We reserve the right to remove machines that don't meet performance standards"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"7. Maintenance and Restocking"}),l.jsx("p",{children:"InnoVend is responsible for all machine maintenance and product restocking. We will:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[l.jsx("li",{children:"Restock products on a regular schedule based on usage"}),l.jsx("li",{children:"Clean and sanitize machines during each service visit"}),l.jsx("li",{children:"Perform preventive maintenance and repairs as needed"}),l.jsx("li",{children:"Respond to service requests within a reasonable timeframe"}),l.jsx("li",{children:"Replace malfunctioning machines if repairs are not feasible"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"8. Your Responsibilities"}),l.jsx("p",{className:"mb-3",children:"As a business partner, you agree to:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"Provide continuous power and WiFi connectivity for the machine"}),l.jsx("li",{children:"Maintain a safe, clean, and accessible location for the machine"}),l.jsx("li",{children:"Not tamper with, damage, or modify the machine in any way"}),l.jsx("li",{children:"Report any damage, vandalism, or technical issues promptly"}),l.jsx("li",{children:"Allow InnoVend personnel access for servicing during business hours"}),l.jsx("li",{children:"Not relocate the machine without prior approval"}),l.jsx("li",{children:"Notify us if you plan to relocate your business or terminate services"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"9. Service Termination"}),l.jsx("p",{className:"mb-3",children:"Either party may terminate services with written notice:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Your termination:"})," Provide 30 days' written notice to hello@innovend.net"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Our termination:"})," We may terminate with 30 days' notice or immediately for cause"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Causes for immediate termination:"})," Violation of Terms, machine damage, safety concerns, or location closure"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Machine removal:"})," We will remove the machine within 14 days of termination"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"No penalties:"})," Neither party owes termination fees"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"10. Intellectual Property"}),l.jsx("p",{children:"All content on our website, including text, graphics, logos, images, and software, is the property of InnoVend LLC or its licensors and is protected by copyright, trademark, and other intellectual property laws. You may not use, reproduce, or distribute any content without our express written permission."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"11. Limitation of Liability"}),l.jsx("p",{className:"mb-3",children:"To the fullest extent permitted by law:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsx("li",{children:"InnoVend LLC is not liable for any indirect, incidental, or consequential damages"}),l.jsx("li",{children:"We are not responsible for lost profits, data, or business opportunities"}),l.jsx("li",{children:"Our total liability shall not exceed $500 or the amount of commissions paid to you in the last 12 months, whichever is greater"}),l.jsx("li",{children:"We are not liable for machine downtime, product shortages, or service delays beyond our control"}),l.jsx("li",{children:"This limitation applies regardless of the form of action (contract, tort, negligence, etc.)"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"12. Indemnification"}),l.jsx("p",{children:"You agree to indemnify and hold harmless InnoVend LLC, its officers, employees, and agents from any claims, damages, losses, or expenses (including reasonable attorneys' fees) arising from:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[l.jsx("li",{children:"Your violation of these Terms"}),l.jsx("li",{children:"Your negligence or willful misconduct"}),l.jsx("li",{children:"Third-party claims related to the machine placement at your location"}),l.jsx("li",{children:"Any damage to the machine caused by you or your employees/customers"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"13. Warranties and Disclaimers"}),l.jsxs("p",{children:[l.jsx("strong",{children:"LIMITED WARRANTY:"})," We warrant that our machines will be in good working condition at the time of installation."]}),l.jsxs("p",{className:"mt-3",children:[l.jsx("strong",{children:"DISCLAIMERS:"}),' EXCEPT AS EXPRESSLY STATED ABOVE, OUR SERVICES ARE PROVIDED "AS IS" WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT. WE DO NOT GUARANTEE UNINTERRUPTED SERVICE, ERROR-FREE OPERATION, OR SPECIFIC SALES VOLUMES.']})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"14. Dispute Resolution"}),l.jsx("p",{className:"mb-3",children:"In the event of any dispute arising from these Terms or our services:"}),l.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Informal Resolution:"})," Contact us first at hello@innovend.net to resolve informally"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Mediation:"})," If unresolved, disputes will be submitted to mediation before litigation"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Arbitration:"})," Any unresolved disputes will be settled by binding arbitration in Maryland"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Governing Law:"})," These Terms are governed by Maryland state law"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Venue:"})," Any legal action must be brought in Montgomery County, Maryland"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"15. Privacy"}),l.jsx("p",{children:"Your use of our services is also governed by our Privacy Policy, which explains how we collect, use, and protect your personal information. Please review our Privacy Policy to understand our practices."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"16. Severability"}),l.jsx("p",{children:"If any provision of these Terms is found to be invalid or unenforceable, the remaining provisions will remain in full force and effect. The invalid provision will be modified to the minimum extent necessary to make it valid and enforceable."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"17. Entire Agreement"}),l.jsx("p",{children:"These Terms, together with our Privacy Policy and any written agreements between you and InnoVend, constitute the entire agreement between the parties and supersede all prior or contemporaneous agreements, representations, or understandings."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"18. Assignment"}),l.jsx("p",{children:"You may not assign or transfer these Terms or your account without our prior written consent. We may assign these Terms to any successor or affiliate without notice or consent."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"19. Force Majeure"}),l.jsx("p",{children:"Neither party shall be liable for delays or failures in performance resulting from causes beyond reasonable control, including but not limited to acts of God, natural disasters, war, terrorism, labor disputes, government actions, or supply chain disruptions."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"20. Contact Information"}),l.jsx("p",{children:"For questions about these Terms of Service, please contact us:"}),l.jsxs("div",{className:"mt-3 bg-slate-800 p-4 rounded-lg",children:[l.jsx("p",{children:l.jsx("strong",{children:"InnoVend LLC"})}),l.jsxs("p",{children:["Email: ",l.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:text-blue-300",children:"hello@innovend.net"})]}),l.jsx("p",{children:"Location: North Potomac, Maryland"}),l.jsx("p",{children:"Service Area: Montgomery County, Maryland"})]})]}),l.jsx("div",{className:"mt-8 pt-6 border-t border-gray-700",children:l.jsx("p",{className:"text-sm text-gray-400",children:"By using InnoVend's services, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})})]})}),l.jsx("div",{className:"p-6 border-t border-gray-700 flex-shrink-0",children:l.jsx("button",{onClick:r,className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})})}const FD=()=>{const r="0x4AAAAAACLMd5-QZYHJfpGf",e=R_(),n=ga(),{user:i,userProfile:o,signOut:u,isAuthenticated:h,isAdmin:p}=Ec(),[g,y]=T.useState(!1),[_,w]=T.useState(!1),[S,U]=T.useState(!1),[Q,J]=T.useState(!1),[F,ue]=T.useState(!1),[se,fe]=T.useState("home"),[we,Oe]=T.useState(1),[X,R]=T.useState({email:"",firstName:"",lastName:"",businessName:"",address:"",city:"",state:"MD",zip:"",phone:"",contactMethod:"",contactMethodOther:"",locationType:"",locationTypeOther:"",hasVending:"",dailyPeopleCount:"",hearAbout:"",referral:"",additionalInfo:"",termsAgreed:!1,finalTermsAgreed:!1}),[A,j]=T.useState(!1),[P,k]=T.useState(!1),[z,I]=T.useState(!1),[nt,_t]=T.useState(!1),[ee,pe]=T.useState(!1),[Ae,Te]=T.useState("home"),[tt,C]=T.useState(1),[te,ye]=T.useState(""),[Se,Pe]=T.useState(""),[Ue,Je]=T.useState(!1),[Tt,It]=T.useState(!1),[Zs,Er]=T.useState(null),[xi,Nr]=T.useState(!1),[ms,wa]=T.useState(""),[vi,Ea]=T.useState([]),[it,qt]=T.useState({}),[Me,Ds]=T.useState({}),[Os,Tr]=T.useState(""),[un,Ms]=T.useState(!1),[Sr,er]=T.useState(!1),[ps,tr]=T.useState(!1),[Zn,nr]=T.useState(0),[Ar,es]=T.useState(!1),[Xt,_n]=T.useState(!1),Mt=[{target:"nav",title:"Navigation",description:"Use the navigation bar to jump to different sections of the website quickly."},{target:"#services",title:"Our Services",description:"Learn about the benefits of our free vending machine placement service and what makes us different."},{target:"#machines",title:"Vending Machines",description:"Explore the different types of vending machines we offer for your location."},{target:"#products",title:"Available Products",description:"See the variety of snacks, beverages, and other products available in our machines."},{target:"footer",title:"Contact & Resources",description:"Find our contact information, helpful links, and system status at the bottom of the page."},{target:"request-btn",title:"Request Services",description:"Ready to get started? Click here to request a free vending machine for your location!"}],mt=(D,L)=>{if(D==="phone"){const Y=L.replace(/\D/g,"");R(de=>({...de,[D]:Y})),Vn(D,Y)}else if(D==="zip"){const Y=L.replace(/\D/g,"");R(de=>({...de,[D]:Y})),Vn(D,Y)}else R(Y=>({...Y,[D]:L})),Vn(D,L)},Pn=D=>{qt(L=>({...L,[D]:!0})),Vn(D,X[D])},sr=D=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(D),Vn=(D,L)=>{let Y="";switch(D){case"email":L?sr(L)||(Y="Please enter a valid email address"):Y="Email is required";break;case"firstName":!L||L.trim().length===0?Y="First name is required":L.trim().length<2&&(Y="First name must be at least 2 characters");break;case"lastName":!L||L.trim().length===0?Y="Last name is required":L.trim().length<2&&(Y="Last name must be at least 2 characters");break;case"businessName":!L||L.trim().length===0?Y="Business name is required":L.trim().length<2&&(Y="Business name must be at least 2 characters");break;case"address":!L||L.trim().length===0?Y="Street address is required":L.trim().length<5&&(Y="Please enter a complete street address");break;case"city":!L||L.trim().length===0?Y="City is required":L.trim().length<2&&(Y="City name must be at least 2 characters");break;case"zip":const de=L.replace(/\D/g,"");L?de.length!==5&&(Y="ZIP code must be exactly 5 digits"):Y="ZIP code is required";break;case"phone":const Z=L.replace(/\D/g,"");L?Z.length!==10&&(Y="Phone number must be exactly 10 digits"):Y="Phone number is required";break;case"contactMethod":L||(Y="Please select a contact method");break;case"locationType":L||(Y="Please select a location type");break;case"hasVending":L||(Y="Please answer this question");break;case"dailyPeopleCount":L||(Y="Please select an estimate");break}return Ds(de=>({...de,[D]:Y})),Y===""},rr=X.email&&sr(X.email)&&X.termsAgreed,Bt=X.firstName&&X.lastName&&X.businessName&&X.address&&X.city&&X.state&&X.zip&&X.zip.length===5&&X.phone&&X.phone.length===10&&X.contactMethod&&X.locationType&&X.hasVending&&X.dailyPeopleCount&&(X.contactMethod!=="Other"||X.contactMethodOther)&&(X.locationType!=="Other"||X.locationTypeOther),Ln=X.finalTermsAgreed&&Os,gs=async()=>{if(console.log("Form submit attempted"),console.log("finalTermsAgreed:",X.finalTermsAgreed),console.log("turnstileToken:",Os?"present":"missing"),console.log("canSubmit:",Ln),!X.finalTermsAgreed){alert("Please agree to the terms and conditions before submitting.");return}if(!Os){alert("Please complete the CAPTCHA verification before submitting.");return}try{console.log("Saving to Firestore...");const D=await Nd(Gs(xn,"serviceRequests"),{...X,turnstileToken:Os,submittedAt:ii(),status:"pending"});console.log("Saved to Firestore:",D.id);try{console.log("Sending confirmation email...");const L=qn();await Kn(L,"sendServiceRequestConfirmation")({email:X.email,firstName:X.firstName,lastName:X.lastName,businessName:X.businessName}),console.log("Confirmation email sent")}catch(L){console.error("Failed to send confirmation email:",L)}y(!1),Oe(1),Ea([]),Tr(""),qt({}),Ds({}),R({email:"",firstName:"",lastName:"",businessName:"",address:"",city:"",state:"MD",zip:"",phone:"",contactMethod:"",contactMethodOther:"",locationType:"",locationTypeOther:"",hasVending:"",dailyPeopleCount:"",hearAbout:"",referral:"",additionalInfo:"",termsAgreed:!1,finalTermsAgreed:!1}),wa("Your service request has been submitted successfully! We'll contact you within 1-2 business days. Check your email for confirmation."),Nr(!0)}catch(D){console.error("Error submitting form:",D),console.error("Error details:",D.message,D.code);let L="Failed to submit your request. ";D.code==="permission-denied"||D.message?.includes("permission")?L+="Database permissions error. Please contact us directly at hello@innovend.net with your request details.":D.code==="unavailable"||D.message?.includes("network")?L+="Network error. Please check your internet connection and try again.":D.message?.includes("Firebase")?L+="Service temporarily unavailable. Please try again in a few moments or contact us at hello@innovend.net.":(L+=`An unexpected error occurred. Please contact us directly at hello@innovend.net with the following details:

`,L+=`Name: ${X.firstName} ${X.lastName}
`,L+=`Email: ${X.email}
`,L+=`Business: ${X.businessName}
`,L+=`Phone: ${X.phone}`),alert(L)}},Ft=D=>{const L=document.getElementById(D);L&&(L.scrollIntoView({behavior:"smooth"}),ue(!1))},ll=({items:D})=>l.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-400 mb-6",children:D.map((L,Y)=>l.jsxs(JT.Fragment,{children:[Y>0&&l.jsx(Cx,{className:"w-4 h-4"}),L.onClick?l.jsx("button",{onClick:L.onClick,className:"hover:text-blue-400 transition",children:L.label}):l.jsx("span",{className:"text-white",children:L.label})]},Y))});return T.useEffect(()=>{localStorage.getItem("lastSeenVersion")!=="1.3.0"&&setTimeout(()=>Ms(!0),1500)},[]),T.useEffect(()=>{const D={threshold:.15,rootMargin:"0px 0px -100px 0px"},L=new IntersectionObserver(de=>{de.forEach(Z=>{Z.isIntersecting&&(Z.target.classList.add("animate-fadeInUp"),Z.target.classList.remove("opacity-0","translate-y-8"))})},D);return document.querySelectorAll(".scroll-animate").forEach(de=>L.observe(de)),()=>L.disconnect()},[Ae]),T.useEffect(()=>{if(Ae!=="home")return;const D=["home","about","services","machines","products"],L={threshold:.3,rootMargin:"-80px 0px -50% 0px"},Y=new IntersectionObserver(de=>{de.forEach(Z=>{Z.isIntersecting&&fe(Z.target.id)})},L);return D.forEach(de=>{const Z=document.getElementById(de);Z&&Y.observe(Z)}),()=>Y.disconnect()},[Ae]),T.useEffect(()=>{n.pathname==="/admin-access-secure-portal"&&!h&&(I(!0),Te("home"))},[n.pathname,h]),T.useEffect(()=>{const D=localStorage.getItem("viewMode");D&&h?["home","dashboard","admin","status","help"].includes(D)&&Te(D==="admin"&&!p?"dashboard":D==="dashboard"&&!h?"home":D):h||(localStorage.removeItem("viewMode"),Te("home"))},[h,p]),T.useEffect(()=>{Ae!=="home"&&h?localStorage.setItem("viewMode",Ae):Ae==="home"&&localStorage.removeItem("viewMode")},[Ae,h]),T.useEffect(()=>{const D=()=>{es(window.scrollY>50)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]),T.useEffect(()=>{const D=L=>{L.target.tagName==="INPUT"||L.target.tagName==="TEXTAREA"||L.target.isContentEditable||(L.key==="Escape"&&(Xt?_n(!1):g?y(!1):A?j(!1):P?k(!1):z?I(!1):nt?_t(!1):Ue?Je(!1):un?Ms(!1):Sr?er(!1):ps&&tr(!1)),L.key==="?"&&!L.shiftKey&&(L.preventDefault(),_n(!0)))};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[Xt,g,A,P,z,nt,Ue,un,Sr,ps]),l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-white",children:[l.jsx("nav",{className:`fixed top-0 w-full bg-slate-900/95 backdrop-blur-sm z-50 border-b border-blue-500/20 transition-all duration-300 ${Ar?"shadow-lg":""}`,children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:`flex justify-between items-center transition-all duration-300 ${Ar?"h-12":"h-16"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`bg-gradient-to-br from-blue-400 to-cyan-400 rounded-lg flex items-center justify-center transition-all duration-300 ${Ar?"w-8 h-8 text-xl":"w-10 h-10 text-2xl"}`,children:""}),l.jsx("span",{className:`font-bold transition-all duration-300 ${Ar?"text-lg":"text-xl"}`,children:"InnoVend LLC"})]}),l.jsxs("div",{className:"hidden md:flex space-x-6 items-center",children:[l.jsx("button",{onClick:()=>{Ft("home"),Te("home")},className:`hover:text-blue-400 transition ${se==="home"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"Home"}),l.jsx("button",{onClick:()=>{Ft("about"),Te("home")},className:`hover:text-blue-400 transition ${se==="about"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"About"}),l.jsx("button",{onClick:()=>{Ft("services"),Te("home")},className:`hover:text-blue-400 transition ${se==="services"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"Services"}),l.jsx("button",{onClick:()=>{Ft("machines"),Te("home")},className:`hover:text-blue-400 transition ${se==="machines"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"Machines"}),l.jsx("button",{onClick:()=>{Ft("products"),Te("home")},className:`hover:text-blue-400 transition ${se==="products"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"Products"}),l.jsx("button",{onClick:()=>y(!0),className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition",children:"Request Services"}),h?l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>pe(!ee),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 px-4 py-2 rounded-lg transition flex items-center space-x-2",children:[l.jsx("span",{children:"My Account"}),l.jsx(jx,{className:"w-4 h-4"})]}),ee&&l.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-slate-800 rounded-lg shadow-xl border border-blue-400/30 py-2 z-50",children:[l.jsx("button",{onClick:()=>{Te("dashboard"),pe(!1),window.scrollTo(0,0)},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition",children:"Dashboard"}),p&&l.jsx("button",{onClick:()=>{Te("admin"),pe(!1),window.scrollTo(0,0)},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition",children:"Admin Panel"}),l.jsx("hr",{className:"my-2 border-gray-700"}),l.jsx("button",{onClick:async()=>{await u(),pe(!1),Te("home")},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition text-red-400",children:"Log Out"})]})]}):l.jsx("button",{onClick:()=>j(!0),className:"bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded-lg transition",children:"Log In"})]}),l.jsx("button",{onClick:()=>ue(!F),className:"md:hidden",children:l.jsx(sA,{className:"w-6 h-6"})})]}),F&&l.jsxs("div",{className:"md:hidden py-4 space-y-2",children:[l.jsx("button",{onClick:()=>{Ft("home"),Te("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="home"?"text-blue-400 font-semibold":""}`,children:"Home"}),l.jsx("button",{onClick:()=>{Ft("about"),Te("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="about"?"text-blue-400 font-semibold":""}`,children:"About"}),l.jsx("button",{onClick:()=>{Ft("services"),Te("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="services"?"text-blue-400 font-semibold":""}`,children:"Services"}),l.jsx("button",{onClick:()=>{Ft("machines"),Te("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="machines"?"text-blue-400 font-semibold":""}`,children:"Machines"}),l.jsx("button",{onClick:()=>{Ft("products"),Te("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="products"?"text-blue-400 font-semibold":""}`,children:"Products"}),l.jsx("button",{onClick:()=>{y(!0),ue(!1)},className:"block w-full text-left bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition",children:"Request Services"}),h?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{Te("dashboard"),ue(!1),window.scrollTo(0,0)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Dashboard"}),p&&l.jsx("button",{onClick:()=>{Te("admin"),ue(!1),window.scrollTo(0,0)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Admin Panel"}),l.jsx("button",{onClick:async()=>{await u(),ue(!1),Te("home")},className:"block w-full text-left py-2 hover:text-red-400 transition",children:"Log Out"})]}):l.jsx("button",{onClick:()=>{j(!0),ue(!1)},className:"block w-full text-left bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded-lg transition",children:"Log In"})]})]})}),Ae==="home"&&l.jsxs(l.Fragment,{children:[l.jsx("section",{id:"home",className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[l.jsx("div",{className:"inline-block mb-4 px-4 py-2 bg-blue-500/20 rounded-full border border-blue-400/30",children:l.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"Serving Montgomery County, Maryland"})}),l.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-cyan-300 to-blue-400 bg-clip-text text-transparent",children:["Innovating Convenience",l.jsx("br",{}),"One Vend at a Time"]}),l.jsxs("p",{className:"text-xl sm:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto",children:["Providing Convenient Vending Solutions for Local Businesses ",l.jsx("br",{}),"At No Cost To You"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("button",{onClick:()=>y(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-8 py-4 rounded-lg font-semibold text-lg transition transform hover:scale-105 shadow-lg flex items-center justify-center",children:["Request Services ",l.jsx(Cx,{className:"ml-2"})]}),l.jsx("button",{onClick:()=>Ft("about"),className:"bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-lg font-semibold text-lg transition border border-white/20",children:"Learn More"})]})]})}),l.jsx("section",{id:"about",className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-800/50",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Who We Are"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"InnoVend LLC is a premier vending machine service provider dedicated to enhancing your business environment with convenient, modern vending solutions. We specialize in placing and maintaining state-of-the-art vending machines at businesses throughout Montgomery County, Maryland."}),l.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"Our mission is simple: to provide your customers, employees, or clients with easy access to quality snacks and beverages while improving the overall experience at your facility   all at zero cost to you."}),l.jsx("p",{className:"text-lg text-gray-300",children:"With cutting-edge technology, including touchscreen interfaces and UV sanitization, we bring innovation and convenience to every location we serve. We handle everything from installation to restocking, so you can focus on running your business."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[l.jsx(yd,{className:"w-12 h-12 text-blue-400 mb-4"}),l.jsx("h3",{className:"font-bold text-lg mb-2",children:"Modern Technology"}),l.jsx("p",{className:"text-sm text-gray-300",children:"Touchscreen interfaces & UV sanitization"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[l.jsx(Wl,{className:"w-12 h-12 text-blue-400 mb-4"}),l.jsx("h3",{className:"font-bold text-lg mb-2",children:"Zero Cost"}),l.jsx("p",{className:"text-sm text-gray-300",children:"Free placement & maintenance"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[l.jsx(Xm,{className:"w-12 h-12 text-blue-400 mb-4"}),l.jsx("h3",{className:"font-bold text-lg mb-2",children:"Customizable"}),l.jsx("p",{className:"text-sm text-gray-300",children:"Product selection tailored to you"})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[l.jsx(Km,{className:"w-12 h-12 text-blue-400 mb-4"}),l.jsx("h3",{className:"font-bold text-lg mb-2",children:"Full Service"}),l.jsx("p",{className:"text-sm text-gray-300",children:"We handle restocking & cleaning"})]})]})]})]})}),l.jsx("section",{id:"services",className:"py-20 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Why Choose InnoVend?"}),l.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"We provide complete vending solutions that enhance your business and delight your customers  all at no cost to you."}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:l.jsx(ri,{className:"w-8 h-8 text-blue-400"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Completely Free"}),l.jsx("p",{className:"text-gray-300",children:"No upfront costs, no monthly fees, no hidden charges. We cover everything  you only provide power and WiFi."})]}),l.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:l.jsx(Xm,{className:"w-8 h-8 text-blue-400"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Enhance Customer Experience"}),l.jsx("p",{className:"text-gray-300",children:"Improve client satisfaction and drive return visits by offering convenient access to snacks and beverages. A well-placed vending machine can transform your waiting area or break room into a more welcoming space."})]}),l.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:l.jsx(Wl,{className:"w-8 h-8 text-blue-400"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Hassle-Free Maintenance"}),l.jsx("p",{className:"text-gray-300",children:"We handle all restocking, cleaning, and repairs. Our machines feature modern touchscreen technology and UV sanitization to ensure a clean, professional appearance that reflects well on your business."})]}),l.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:l.jsx(yd,{className:"w-8 h-8 text-blue-400"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Customizable Selection"}),l.jsx("p",{className:"text-gray-300",children:"You have input on what products go into your machine. We work with you to stock items that match your clientele's preferences and dietary needs."})]}),l.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:l.jsx(Ix,{className:"w-8 h-8 text-blue-400"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Local Service"}),l.jsx("p",{className:"text-gray-300",children:"We're a local business proudly serving Montgomery County, Maryland. Quick response times and personalized service you can count on."})]}),l.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:l.jsx(Km,{className:"w-8 h-8 text-blue-400"})}),l.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Perfect For High-Traffic Locations"}),l.jsx("p",{className:"text-gray-300",children:"Ideal for salons, laundromats, fitness centers, office buildings, medical offices, car washes, and any location where customers wait or need convenient refreshments."})]})]})]})}),l.jsx("section",{id:"machines",className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-800/50",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Our Vending Machines"}),l.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"We offer a variety of state-of-the-art vending machines to fit your space and needs."}),l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:l.jsx("span",{className:"text-6xl",children:""})}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Snack Machines"}),l.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"MarketOne 6 Wide with 48 selections and up to 738 items. Features touchscreen interface, guaranteed delivery, and UV sanitization."}),l.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[l.jsx("li",{children:' 10.1" Touchscreen'}),l.jsx("li",{children:" iVend Guaranteed Delivery"}),l.jsx("li",{children:" UVend Sanitization"}),l.jsx("li",{children:" 48 Product Selections"})]})]}),l.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:l.jsx("span",{className:"text-6xl",children:""})}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Drink Machines"}),l.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'Cold Drink Elevator Machine with 36 selections and 216 items. Features pre-cool storage area and 7" touchscreen.'}),l.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[l.jsx("li",{children:' 7" Touchscreen'}),l.jsx("li",{children:" Pre-Cool Storage"}),l.jsx("li",{children:" UVend Sanitization"}),l.jsx("li",{children:" 36 Product Selections"})]})]}),l.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:l.jsx("span",{className:"text-6xl",children:""})}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Combo Machines"}),l.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'MarketOne 5 Wide Combo offering both snacks and drinks. Features anti-fog heated glass and 7" touchscreen.'}),l.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[l.jsx("li",{children:' 7" Touchscreen'}),l.jsx("li",{children:" Snacks & Drinks"}),l.jsx("li",{children:" Anti-Fog Heated Glass"}),l.jsx("li",{children:" 38 Product Selections"})]})]}),l.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:l.jsx("span",{className:"text-6xl",children:""})}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Coffee Machines"}),l.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"MarketOne Coffee Machine with 34 combo options including coffee, tea, cappuccino, and espresso. Fresh brew technology."}),l.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[l.jsx("li",{children:" Fresh Brew Technology"}),l.jsx("li",{children:" 34 Beverage Options"}),l.jsx("li",{children:" UVend Sanitization"}),l.jsx("li",{children:" Hot Chocolate & Tea"})]})]}),l.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:l.jsx("span",{className:"text-6xl",children:""})}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ice Cream Machines"}),l.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'Specialized ice cream vending with 36 selections. Features anti-fog heated glass and 7" touchscreen for easy selection.'}),l.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[l.jsx("li",{children:' 7" Touchscreen'}),l.jsx("li",{children:" 36 Ice Cream Selections"}),l.jsx("li",{children:" Anti-Fog Heated Glass"}),l.jsx("li",{children:" Temperature Controlled"})]})]}),l.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:l.jsx("span",{className:"text-6xl",children:""})}),l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Specialty Machines"}),l.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Fitness centers, laundromats, car washes, and more. We have specialized machines for unique business needs."}),l.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[l.jsx("li",{children:" Fitness & Wellness Products"}),l.jsx("li",{children:" Laundry Supplies"}),l.jsx("li",{children:" School Supplies"}),l.jsx("li",{children:" PPE Options"})]})]})]})]})}),l.jsx("section",{id:"products",className:"py-20 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"What We Offer"}),l.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"A wide selection of popular snacks and beverages to keep your customers satisfied."}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20",children:[l.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[l.jsx("span",{className:"text-3xl mr-3",children:""})," Beverages"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Sodas & Soft Drinks"}),l.jsxs("ul",{className:"text-gray-300 space-y-1",children:[l.jsx("li",{children:" Coca-Cola & Diet Coke"}),l.jsx("li",{children:" Pepsi & Diet Pepsi"}),l.jsx("li",{children:" Dr. Pepper"}),l.jsx("li",{children:" Mountain Dew"}),l.jsx("li",{children:" Sprite & Fanta"}),l.jsx("li",{children:" 7-Up & Root Beer"})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Energy & Sports"}),l.jsxs("ul",{className:"text-gray-300 space-y-1",children:[l.jsx("li",{children:" Monster Energy"}),l.jsx("li",{children:" Bang Energy"}),l.jsx("li",{children:" Gatorade"}),l.jsx("li",{children:" Powerade"}),l.jsx("li",{children:" Prime"})]}),l.jsx("p",{className:"font-semibold text-blue-300 mb-2 mt-4",children:"Other"}),l.jsxs("ul",{className:"text-gray-300 space-y-1",children:[l.jsx("li",{children:" Water & Smart Water"}),l.jsx("li",{children:" Starbucks Frappuccino"}),l.jsx("li",{children:" Arizona Tea"}),l.jsx("li",{children:" Gold Peak Tea"})]})]})]})]}),l.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20",children:[l.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[l.jsx("span",{className:"text-3xl mr-3",children:""})," Snacks"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Chips & Savory"}),l.jsxs("ul",{className:"text-gray-300 space-y-1",children:[l.jsx("li",{children:" Doritos"}),l.jsx("li",{children:" Ruffles"}),l.jsx("li",{children:" Takis"}),l.jsx("li",{children:" Sun Chips"}),l.jsx("li",{children:" Pretzels"}),l.jsx("li",{children:" Goldfish"}),l.jsx("li",{children:" Skinny Pop"})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Candy & Sweets"}),l.jsxs("ul",{className:"text-gray-300 space-y-1",children:[l.jsx("li",{children:" Snickers & Twix"}),l.jsx("li",{children:" M&M's & Skittles"}),l.jsx("li",{children:" Reese's"}),l.jsx("li",{children:" KitKat"}),l.jsx("li",{children:" Starburst"}),l.jsx("li",{children:" Sour Patch Kids"})]}),l.jsx("p",{className:"font-semibold text-blue-300 mb-2 mt-4",children:"Healthy Options"}),l.jsxs("ul",{className:"text-gray-300 space-y-1",children:[l.jsx("li",{children:" Nature Valley Bars"}),l.jsx("li",{children:" Kind Bars"}),l.jsx("li",{children:" Rice Krispies"})]})]})]})]})]}),l.jsx("p",{className:"text-center text-gray-400 mt-8",children:"*Prices range from $1.00 - $3.00. Product selection can be customized based on your preferences."})]})}),l.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-600 to-cyan-600",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Get Started?"}),l.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join local businesses who have enhanced their customer experience with InnoVend's convenient vending solutions."}),l.jsx("button",{onClick:()=>y(!0),className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 rounded-lg font-semibold text-lg transition transform hover:scale-105 shadow-lg",children:"Request Services Today"})]})}),l.jsx("footer",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-slate-900 border-t border-blue-500/20",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-lg flex items-center justify-center text-2xl",children:""}),l.jsx("span",{className:"text-xl font-bold",children:"InnoVend LLC"})]}),l.jsx("p",{className:"text-gray-400",children:"Innovating Convenience, One Vend at a Time"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold mb-4",children:"Contact Us"}),l.jsxs("div",{className:"space-y-2 text-gray-400",children:[l.jsxs("p",{className:"flex items-center",children:[l.jsx(Rx,{className:"w-4 h-4 mr-2"}),l.jsx("a",{href:"mailto:hello@innovend.net",className:"hover:text-blue-400 transition",children:"hello@innovend.net"})]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx(oA,{className:"w-4 h-4 mr-2"}),l.jsx("a",{href:"sms:+13015551234",className:"hover:text-blue-400 transition",children:"Text Us"})]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx(iA,{className:"w-4 h-4 mr-2"}),l.jsx("a",{href:"https://wa.me/13015551234",target:"_blank",rel:"noopener noreferrer",className:"hover:text-green-400 transition",children:"WhatsApp"})]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx(Ix,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:"North Potomac, MD"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold mb-4",children:"Quick Links"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>y(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Request Services"}),l.jsx("button",{onClick:()=>{er(!0),nr(0)},className:"block text-gray-400 hover:text-blue-400 transition",children:"Take a Tour"}),l.jsx("button",{onClick:()=>{Te("help"),window.scrollTo(0,0)},className:"block text-gray-400 hover:text-blue-400 transition",children:"Help & FAQ"}),l.jsx("button",{onClick:()=>{Te("status"),window.scrollTo(0,0)},className:"block text-gray-400 hover:text-blue-400 transition",children:"System Status"}),l.jsx("button",{onClick:()=>U(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Privacy Policy"}),l.jsx("button",{onClick:()=>J(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Terms of Service"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold mb-4",children:"Newsletter"}),l.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Stay updated with our latest news"}),l.jsxs("form",{onSubmit:async D=>{D.preventDefault();const L=D.target.email.value;if(!(!L||!sr(L)))try{await Nd(Gs(xn,"newsletterSignups"),{email:L,timestamp:ii(),status:"active"}),D.target.email.value="",alert("Subscribed successfully!")}catch{alert("Failed to subscribe. Try again.")}},className:"space-y-2",children:[l.jsx("input",{type:"email",name:"email",placeholder:"your@email.com",className:"w-full px-3 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 text-sm",autoComplete:"email"}),l.jsx("button",{type:"submit",className:"w-full py-2 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 rounded-lg font-semibold text-sm transition",children:"Subscribe"})]})]})]}),l.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-gray-400",children:l.jsx("p",{children:" 2026 InnoVend LLC. All Rights Reserved."})})]})})]}),Ae==="dashboard"&&o&&l.jsx(Cr,{}),Ae==="admin"&&p&&l.jsx(Na,{}),Ae==="status"&&l.jsx(bs,{}),Ae==="help"&&l.jsx(_i,{}),g&&l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"InnoVend Services Request"}),l.jsx("button",{onClick:()=>{y(!1),Oe(1)},className:"text-gray-400 hover:text-white",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto",children:[l.jsx("div",{className:"flex justify-between mb-8",children:[1,2,3,4].map(D=>l.jsxs("div",{className:"flex items-center flex-1",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${we>=D?"bg-blue-500 text-white":"bg-gray-700 text-gray-400"}`,children:we>D?l.jsx(ri,{className:"w-5 h-5"}):D}),D<4&&l.jsx("div",{className:`flex-1 h-1 mx-2 ${we>D?"bg-blue-500":"bg-gray-700"}`})]},D))}),we===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Welcome!"}),l.jsx("p",{className:"text-gray-300 mb-4",children:"Thank you for your interest in requesting our services for your business. Complete the following form accurately and we will get back to you soon regarding placing a machine at your business location."}),l.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 mb-4",children:[l.jsx("p",{className:"text-sm text-gray-300 mb-2",children:l.jsx("strong",{children:"A few things to note:"})}),l.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"The purpose of this form is for InnoVend LLC to place a machine at your facility/location. This will be of no cost to you, aside from WiFi connectivity and power costs."}),l.jsx("li",{children:"This form does not guarantee that a Vending Machine will be placed at your location. We will be in touch with you shortly regarding your services request."})]})]}),l.jsxs("p",{className:"text-gray-300 mb-4",children:["Again, thank you for your interest in our services and we look forward to speaking with you. If you have any questions, please contact us at ",l.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:underline",children:"hello@innovend.net"})," and we will get back to you as soon as we can."]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),l.jsx("input",{type:"email",value:X.email,onChange:D=>mt("email",D.target.value),onBlur:()=>Pn("email"),className:`w-full px-4 py-3 bg-slate-800 border rounded-lg focus:outline-none transition ${it.email&&Me.email?"border-red-500 focus:border-red-500":it.email&&!Me.email?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"your.email@example.com"}),it.email&&Me.email&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[l.jsx(Dt,{className:"w-4 h-4"}),l.jsx("span",{children:Me.email})]}),it.email&&!Me.email&&X.email&&l.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:"Valid email address"})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",checked:X.termsAgreed,onChange:D=>mt("termsAgreed",D.target.checked),className:"mt-1 mr-3"}),l.jsxs("label",{className:"text-sm text-gray-300",children:["By continuing with this form, I confirm that I have read, understood, and agree to the"," ",l.jsx("button",{onClick:()=>w(!0),className:"text-blue-400 hover:underline",children:"Terms and Conditions"}),"."]})]}),l.jsx("button",{onClick:()=>Oe(2),disabled:!rr,className:`w-full py-3 rounded-lg font-semibold transition ${rr?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Next"})]}),we===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Personal Information"}),l.jsx("p",{className:"text-gray-300 mb-4",children:"This section is for your personal information so we can efficiently contact you in the future."})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),l.jsx("input",{type:"text",value:X.firstName,onChange:D=>mt("firstName",D.target.value),onBlur:()=>Pn("firstName"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.firstName&&Me.firstName?"border-red-500 focus:border-red-500":it.firstName&&!Me.firstName?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"John"}),it.firstName&&Me.firstName&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[l.jsx(Dt,{className:"w-4 h-4"}),l.jsx("span",{children:Me.firstName})]}),it.firstName&&!Me.firstName&&X.firstName&&l.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:"Looks good!"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",value:X.lastName,onChange:D=>mt("lastName",D.target.value),onBlur:()=>Pn("lastName"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.lastName&&Me.lastName?"border-red-500 focus:border-red-500":it.lastName&&!Me.lastName?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"Doe"}),it.lastName&&Me.lastName&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[l.jsx(Dt,{className:"w-4 h-4"}),l.jsx("span",{children:Me.lastName})]}),it.lastName&&!Me.lastName&&X.lastName&&l.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:"Looks good!"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Legal Name of Your Business *"}),l.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This should be the official legal entity name your business is filed under."}),l.jsx("input",{type:"text",value:X.businessName,onChange:D=>mt("businessName",D.target.value),onBlur:()=>Pn("businessName"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.businessName&&Me.businessName?"border-red-500 focus:border-red-500":it.businessName&&!Me.businessName?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"ABC Company LLC"}),it.businessName&&Me.businessName&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[l.jsx(Dt,{className:"w-4 h-4"}),l.jsx("span",{children:Me.businessName})]}),it.businessName&&!Me.businessName&&X.businessName&&l.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:"Looks good!"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Address *"}),l.jsx("input",{type:"text",value:X.address,onChange:D=>mt("address",D.target.value),onBlur:()=>Pn("address"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.address&&Me.address?"border-red-500 focus:border-red-500":it.address&&!Me.address?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"123 Main Street"}),it.address&&Me.address&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[l.jsx(Dt,{className:"w-4 h-4"}),l.jsx("span",{children:Me.address})]}),it.address&&!Me.address&&X.address&&l.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:"Looks good!"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"City *"}),l.jsx("input",{type:"text",value:X.city,onChange:D=>mt("city",D.target.value),onBlur:()=>Pn("city"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.city&&Me.city?"border-red-500 focus:border-red-500":it.city&&!Me.city?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"Rockville"}),it.city&&Me.city&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[l.jsx(Dt,{className:"w-4 h-4"}),l.jsx("span",{children:Me.city})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"State *"}),l.jsxs("select",{value:X.state,onChange:D=>mt("state",D.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",children:[l.jsx("option",{value:"MD",children:"MD"}),l.jsx("option",{value:"VA",children:"VA"}),l.jsx("option",{value:"DC",children:"DC"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code *"}),l.jsx("input",{type:"text",value:X.zip,onChange:D=>mt("zip",D.target.value),onBlur:()=>Pn("zip"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.zip&&Me.zip?"border-red-500 focus:border-red-500":it.zip&&!Me.zip?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,maxLength:5,placeholder:"20850"}),it.zip&&Me.zip&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[l.jsx(Dt,{className:"w-4 h-4"}),l.jsx("span",{children:Me.zip})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),l.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Message and data rates may apply."}),l.jsx("input",{type:"tel",value:X.phone,onChange:D=>mt("phone",D.target.value),onBlur:()=>Pn("phone"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.phone&&Me.phone?"border-red-500 focus:border-red-500":it.phone&&!Me.phone?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"5551234567",maxLength:10}),it.phone&&Me.phone&&l.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[l.jsx(Dt,{className:"w-4 h-4"}),l.jsx("span",{children:Me.phone})]}),it.phone&&!Me.phone&&X.phone&&l.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:"Valid phone number"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Method of Contact *"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"Email",checked:X.contactMethod==="Email",onChange:D=>mt("contactMethod",D.target.value),className:"mr-2"}),"Email"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"Phone",checked:X.contactMethod==="Phone",onChange:D=>mt("contactMethod",D.target.value),className:"mr-2"}),"Phone"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"Other",checked:X.contactMethod==="Other",onChange:D=>mt("contactMethod",D.target.value),className:"mr-2"}),"Other"]}),X.contactMethod==="Other"&&l.jsx("input",{type:"text",value:X.contactMethodOther,onChange:D=>mt("contactMethodOther",D.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 mt-2",placeholder:"Please specify your preferred contact method"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"What type of location do you have? *"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"Office",checked:X.locationType==="Office",onChange:D=>mt("locationType",D.target.value),className:"mr-2"}),"Office"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"Hotel",checked:X.locationType==="Hotel",onChange:D=>mt("locationType",D.target.value),className:"mr-2"}),"Hotel"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"School",checked:X.locationType==="School",onChange:D=>mt("locationType",D.target.value),className:"mr-2"}),"School"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"Other",checked:X.locationType==="Other",onChange:D=>mt("locationType",D.target.value),className:"mr-2"}),"Other"]}),X.locationType==="Other"&&l.jsx("input",{type:"text",value:X.locationTypeOther,onChange:D=>mt("locationTypeOther",D.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 mt-2",placeholder:"Please specify your location type"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Do you currently have vending machines? *"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"Yes",checked:X.hasVending==="Yes",onChange:D=>mt("hasVending",D.target.value),className:"mr-2"}),"Yes"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"No",checked:X.hasVending==="No",onChange:D=>mt("hasVending",D.target.value),className:"mr-2"}),"No"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"On average, how many people are in your facility daily? *"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"Under 50",checked:X.dailyPeopleCount==="Under 50",onChange:D=>mt("dailyPeopleCount",D.target.value),className:"mr-2"}),"Under 50"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"50-99",checked:X.dailyPeopleCount==="50-99",onChange:D=>mt("dailyPeopleCount",D.target.value),className:"mr-2"}),"50-99"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"100-250",checked:X.dailyPeopleCount==="100-250",onChange:D=>mt("dailyPeopleCount",D.target.value),className:"mr-2"}),"100-250"]}),l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",value:"250+",checked:X.dailyPeopleCount==="250+",onChange:D=>mt("dailyPeopleCount",D.target.value),className:"mr-2"}),"250+"]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>Oe(1),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),l.jsx("button",{onClick:()=>Oe(3),disabled:!Bt,className:`flex-1 py-3 rounded-lg font-semibold transition ${Bt?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Next"})]})]}),we===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold mb-2",children:"Additional Information"}),l.jsx("p",{className:"text-gray-300 mb-4",children:"This section is just some additional information we would like (Optional)."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"How did you hear about us?"}),l.jsx("input",{type:"text",value:X.hearAbout,onChange:D=>mt("hearAbout",D.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"e.g., Google search, referral, social media"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Do you have a business or person referral?"}),l.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"If so, type it below. Otherwise, leave blank."}),l.jsx("input",{type:"text",value:X.referral,onChange:D=>mt("referral",D.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Name of person or business"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Would you like to share any additional information?"}),l.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"If so, type it below. Otherwise, leave blank."}),l.jsx("textarea",{value:X.additionalInfo,onChange:D=>mt("additionalInfo",D.target.value),rows:4,className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Any additional details about your location, business hours, customer demographics, etc."})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>Oe(2),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),l.jsx("button",{onClick:()=>Oe(4),className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Next"})]})]}),we===4&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Submission"}),l.jsx("p",{className:"text-gray-300 mb-4",children:"Thank you so much for your continued interest in our services! InnoVend LLC will be in touch with you soon, and we look forward to your business."}),l.jsxs("p",{className:"text-gray-300 mb-4",children:["When you are ready, please click the Submit button below to submit your responses to us. If you have any questions, feel free to email us at"," ",l.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:underline",children:"hello@innovend.net"})," and we will get back to you as soon as we can."]})]}),l.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Review Your Information:"}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," ",X.email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Name:"})," ",X.firstName," ",X.lastName]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Business:"})," ",X.businessName]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Address:"})," ",X.address,", ",X.city,", ",X.state," ",X.zip]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Phone:"})," ",X.phone]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Preferred Contact:"})," ",X.contactMethod==="Other"?X.contactMethodOther:X.contactMethod]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Location Type:"})," ",X.locationType==="Other"?X.locationTypeOther:X.locationType]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Has Vending:"})," ",X.hasVending]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Daily People Count:"})," ",X.dailyPeopleCount]})]})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"checkbox",checked:X.finalTermsAgreed,onChange:D=>mt("finalTermsAgreed",D.target.checked),className:"mt-1 mr-3"}),l.jsxs("label",{className:"text-sm text-gray-300",children:["By submitting the form, I confirm that I have read, understood, and agree to the"," ",l.jsx("button",{onClick:()=>w(!0),className:"text-blue-400 hover:underline",children:"Terms and Conditions"}),". *"]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(no,{siteKey:r,onSuccess:Tr,onError:()=>Tr(""),onExpire:()=>Tr("")})}),!Ln&&l.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-400/30 rounded-lg p-3 text-sm text-yellow-400",children:[!X.finalTermsAgreed&&!Os&&"Please agree to the terms and complete the CAPTCHA above to submit.",X.finalTermsAgreed&&!Os&&"Please complete the CAPTCHA verification above to submit.",!X.finalTermsAgreed&&Os&&"Please agree to the terms and conditions to submit."]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>Oe(3),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),l.jsx("button",{onClick:gs,disabled:!Ln,className:`flex-1 py-3 rounded-lg font-semibold transition ${Ln?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Submit Request"})]})]})]})]})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Terms and Conditions for Service Request Form"}),l.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Last Updated: December 3, 2024"}),l.jsxs("div",{className:"space-y-6 text-gray-300",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"1. Purpose of Information Collection"}),l.jsx("p",{children:"The information collected through this form will be used solely to evaluate and process your service request. By submitting this form, you acknowledge and consent to our use of the provided information for this purpose."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"2. Privacy Policy"}),l.jsx("p",{children:"We respect your privacy. Any personal or contact information submitted through this form will be securely stored and used only to fulfill your request. Your data will not be shared with any third parties without your explicit consent, except as required by law."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"3. Fees and Costs"}),l.jsx("p",{children:"If applicable, fees for services will be clearly communicated to you after your request has been reviewed. Submission of this form does not create a binding contract or obligation to pay unless explicitly agreed upon in writing."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"4. Service Limitations"}),l.jsx("p",{children:"While we strive to fulfill all requests to the best of our ability, submission of this form does not guarantee service. We reserve the right to decline any request that falls outside our scope of offerings or for any reason."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"5. Liability"}),l.jsx("p",{children:"We are not liable for delays, interruptions, or issues arising from unforeseen circumstances beyond our control. Any costs, damages, or inconveniences incurred as a result of using our services are limited to the extent permitted by law."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"6. Consent to Contact"}),l.jsx("p",{children:"By submitting this form, you agree to be contacted using the email or phone number provided. Standard message and data rates may apply for SMS or calls."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"7. Modifications"}),l.jsx("p",{children:"We reserve the right to update or modify these terms and conditions at any time. Changes will be effective immediately upon posting to the form or via direct communication."})]})]})]}),l.jsx("div",{className:"p-6 border-t border-gray-700 flex-shrink-0",children:l.jsx("button",{onClick:()=>w(!1),className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})}),A&&l.jsx(ol,{}),P&&l.jsx(ys,{}),z&&l.jsx(jr,{}),nt&&l.jsx(To,{}),Ue&&l.jsx(ts,{onClose:()=>Je(!1),onSuccess:()=>{}}),xi&&l.jsx(Yt,{message:ms,onClose:()=>Nr(!1)}),S&&l.jsx(qD,{onClose:()=>U(!1)}),Q&&l.jsx(BD,{onClose:()=>J(!1)}),un&&l.jsx(ul,{}),ps&&l.jsx(So,{}),Sr&&Ae==="home"&&l.jsx(tn,{}),Xt&&l.jsx(dl,{}),l.jsxs("button",{onClick:()=>tr(!0),className:"fixed bottom-24 right-6 w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110 z-40 group",title:"Send Feedback",children:[l.jsx(Gm,{className:"w-6 h-6 text-white"}),l.jsx("span",{className:"absolute right-16 bg-slate-900 text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none border border-blue-400/30",children:"Send Feedback"})]}),l.jsx(VD,{}),l.jsx(LD,{onLearnMore:()=>U(!0)}),l.jsx(zD,{})]});function ol(){const{signIn:D}=Ec(),[L,Y]=T.useState({email:"",password:""}),[de,Z]=T.useState(!1),[ge,he]=T.useState(""),[je,Be]=T.useState(!1),[oe,ie]=T.useState(null),[xe,be]=T.useState(0),[ze,Ne]=T.useState(""),De=L.email&&L.password&&ze&&!oe?.isLocked,Ze=async Ie=>{if(!(!Ie||!sr(Ie)))try{const gt=qn(),Fe=await Kn(gt,"checkAccountLockout")({email:Ie});Fe.data.isLocked?(ie(Fe.data),he(`Account locked due to too many failed attempts. Locked for ${Fe.data.hoursRemaining} more hours. Email hello@innovend.net for immediate unlock.`)):(ie(null),be(Fe.data.attemptCount||0))}catch(gt){console.error("Error checking lockout:",gt)}},_e=async()=>{if(he(""),Be(!0),await Ze(L.email),oe?.isLocked){Be(!1);return}try{const Ie=await D(L.email,L.password,de),gt=await Ld(sa(xn,"users",Ie.user.uid));if(gt.exists()&&gt.data().role==="admin"){await u(),he("Admin accounts must log in through the secure portal. Please use the admin access link."),Be(!1);return}try{const ve=qn();await Kn(ve,"resetFailedLoginAttempts")({email:L.email})}catch(ve){console.error("Failed to reset attempts:",ve)}j(!1),Te("dashboard"),window.scrollTo(0,0)}catch(Ie){try{const gt=qn(),Fe=await Kn(gt,"recordFailedLogin")({email:L.email});if(Fe.data.isLocked)ie(Fe.data),he('Account locked after 5 failed attempts. Locked for 48 hours. Email hello@innovend.net with subject "Account Unlock Request" for immediate assistance.');else{be(Fe.data.attemptCount);const dt=Fe.data.remainingAttempts;Ie.code==="auth/user-not-found"?he("No account found with this email. Would you like to sign up?"):Ie.code==="auth/wrong-password"||Ie.code==="auth/invalid-credential"?he(`Incorrect password. ${dt} ${dt===1?"attempt":"attempts"} remaining before account lockout.`):Ie.code==="auth/invalid-email"?he("Please enter a valid email address."):Ie.code==="auth/network-request-failed"?he("Network error. Please check your connection."):he(`Login failed. ${dt} ${dt===1?"attempt":"attempts"} remaining.`)}}catch(gt){console.error("Failed to record attempt:",gt),he("Login failed. Please try again.")}}finally{Be(!1)}};return l.jsxs(l.Fragment,{children:[je&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[60] flex items-center justify-center",children:l.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 border border-blue-400/30 shadow-2xl text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),l.jsx("p",{className:"text-lg font-semibold text-white",children:"Logging you in..."}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Please wait a moment"})]})}),l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Log In to InnoVend"}),l.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-white",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[oe?.isLocked&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Qm,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Account Locked"}),l.jsx("p",{className:"mt-1",children:ge})]})]})}),!oe?.isLocked&&xe>0&&xe<5&&l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 text-yellow-400 text-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{children:["Failed login attempts: ",xe,"/5"]}),l.jsxs("span",{className:"font-semibold",children:[5-xe," remaining"]})]})}),ge&&!oe?.isLocked&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:ge}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),l.jsx("input",{type:"email",value:L.email,onChange:Ie=>Y({...L,email:Ie.target.value}),onKeyPress:Ie=>Ie.key==="Enter"&&De&&_e(),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"your.email@example.com",autoComplete:"email",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Password"}),l.jsx("button",{onClick:()=>{j(!1),_t(!0)},className:"text-xs text-blue-400 hover:text-blue-300",children:"Forgot Password?"})]}),l.jsx("input",{type:"password",value:L.password,onChange:Ie=>Y({...L,password:Ie.target.value}),onKeyPress:Ie=>Ie.key==="Enter"&&De&&_e(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"",autoComplete:"current-password"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"rememberMe",checked:de,onChange:Ie=>Z(Ie.target.checked),className:"w-4 h-4 text-blue-500 bg-slate-800 border-gray-700 rounded focus:ring-blue-500 focus:ring-2"}),l.jsx("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-gray-300",children:"Remember me"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(no,{siteKey:r,onSuccess:Ne,onError:()=>Ne(""),onExpire:()=>Ne("")})}),l.jsx("button",{onClick:_e,disabled:!De||je||oe?.isLocked,className:`w-full py-3 rounded-lg font-semibold transition ${De&&!je&&!oe?.isLocked?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:oe?.isLocked?"Account Locked":je?"Logging in...":"Log In"}),l.jsx("div",{className:"text-center space-y-2 text-sm",children:l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[l.jsx("span",{children:"Don't have an account?"}),l.jsx("button",{onClick:()=>{j(!1),k(!0)},className:"text-cyan-400 hover:underline font-medium",children:"Sign Up"})]})})]})]})})]})}function ys(){const{signIn:D}=Ec(),[L,Y]=T.useState({firstName:"",lastName:"",email:"",phone:"",username:"",password:"",confirmPassword:"",clientCode:""}),[de,Z]=T.useState(""),[ge,he]=T.useState(!1),[je,Be]=T.useState(null),[oe,ie]=T.useState({}),[xe,be]=T.useState("");T.useEffect(()=>{L.confirmPassword?Be(L.password===L.confirmPassword):Be(null)},[L.password,L.confirmPassword]);const ze=ve=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ve),Ne=ve=>ve.replace(/\D/g,"").length===10,De=ve=>ve.length>=8&&/[A-Z]/.test(ve)&&/[a-z]/.test(ve)&&/[0-9]/.test(ve),Ze=ve=>{const Fe=ve.replace(/\D/g,"").slice(0,10);Y({...L,phone:Fe})},_e=()=>{const ve={};return L.firstName.trim()||(ve.firstName="First name is required"),L.lastName.trim()||(ve.lastName="Last name is required"),L.email.trim()?ze(L.email)||(ve.email="Please enter a valid email address"):ve.email="Email is required",L.phone?Ne(L.phone)||(ve.phone="Must be exactly 10 digits"):ve.phone="Phone number is required",L.username.trim()||(ve.username="Username is required"),L.password?De(L.password)||(ve.password="Password must be at least 8 characters with uppercase, lowercase, and number"):ve.password="Password is required",L.confirmPassword?L.password!==L.confirmPassword&&(ve.confirmPassword="Passwords do not match"):ve.confirmPassword="Please confirm your password",L.clientCode.trim()||(ve.clientCode="Client code is required"),ie(ve),Object.keys(ve).length===0},Ie=L.firstName&&L.lastName&&L.email&&L.phone&&L.username&&L.password&&L.confirmPassword&&L.clientCode&&je&&xe,gt=async()=>{if(_e()){Z(""),he(!0);try{const ve=qn();(await Kn(ve,"validateAndCreateAccount")({email:L.email,password:L.password,firstName:L.firstName,lastName:L.lastName,phone:L.phone,username:L.username,clientCode:L.clientCode,turnstileToken:xe})).data.success&&(await D(L.email,L.password),k(!1),Te("dashboard"),window.scrollTo(0,0))}catch(ve){console.error("Signup error:",ve),ve.code==="functions/not-found"?Z("Invalid client code. Please check your code and try again."):ve.code==="functions/already-exists"?Z(ve.message||"This client code has already been used or email is already registered."):ve.code==="functions/invalid-argument"?Z(ve.message||"Your details do not match the client code on file. Please verify and try again."):ve.code==="functions/failed-precondition"?Z(ve.message||"This client code has expired. Please contact support."):ve.code==="functions/unauthenticated"?Z("Authentication error. Please try again."):Z(ve.message||"Signup failed. Please try again or contact support.")}finally{he(!1)}}};return l.jsxs(l.Fragment,{children:[ge&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[60] flex items-center justify-center",children:l.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 border border-blue-400/30 shadow-2xl text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),l.jsx("p",{className:"text-lg font-semibold text-white",children:"Creating your account..."}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Please wait a moment"})]})}),l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Create Your Account"}),l.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-white",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[de&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:de}),l.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 text-sm text-gray-300",children:[l.jsx("p",{className:"font-semibold mb-2",children:"Before you start:"}),l.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[l.jsx("li",{children:"You must have a valid Client Code to sign up"}),l.jsx("li",{children:"Your details must match the information on file"}),l.jsx("li",{children:"Client Codes are one-time use only"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),l.jsx("input",{type:"text",value:L.firstName,onChange:ve=>Y({...L,firstName:ve.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${oe.firstName?"border-red-500":"border-gray-700"}`,placeholder:"John"}),oe.firstName&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:oe.firstName})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",value:L.lastName,onChange:ve=>Y({...L,lastName:ve.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${oe.lastName?"border-red-500":"border-gray-700"}`,placeholder:"Doe"}),oe.lastName&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:oe.lastName})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),l.jsx("input",{type:"email",value:L.email,onChange:ve=>Y({...L,email:ve.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${oe.email?"border-red-500":"border-gray-700"}`,placeholder:"your.email@example.com"}),oe.email&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:oe.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),l.jsx("input",{type:"tel",value:L.phone,onChange:ve=>Ze(ve.target.value),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${oe.phone?"border-red-500":"border-gray-700"}`,placeholder:"5551234567",maxLength:10}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"10 digits only (no dashes or spaces)"}),oe.phone&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:oe.phone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username *"}),l.jsx("input",{type:"text",value:L.username,onChange:ve=>Y({...L,username:ve.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${oe.username?"border-red-500":"border-gray-700"}`,placeholder:"johndoe"}),oe.username&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:oe.username})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password *"}),l.jsx("input",{type:"password",value:L.password,onChange:ve=>Y({...L,password:ve.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${oe.password?"border-red-500":"border-gray-700"}`,placeholder:""}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Must be at least 8 characters with uppercase, lowercase, and number"}),l.jsx(UD,{password:L.password}),oe.password&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:oe.password})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password *"}),l.jsx("input",{type:"password",value:L.confirmPassword,onChange:ve=>Y({...L,confirmPassword:ve.target.value}),onPaste:ve=>ve.preventDefault(),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${oe.confirmPassword?"border-red-500":"border-gray-700"}`,placeholder:""}),je!==null&&l.jsx("div",{className:`flex items-center space-x-2 mt-2 text-sm ${je?"text-green-400":"text-red-400"}`,children:je?l.jsxs(l.Fragment,{children:[l.jsx(ri,{className:"w-4 h-4"}),l.jsx("span",{children:"Passwords match"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Dt,{className:"w-4 h-4"}),l.jsx("span",{children:"Passwords don't match"})]})}),oe.confirmPassword&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:oe.confirmPassword})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client Code *"}),l.jsx("input",{type:"text",value:L.clientCode,onChange:ve=>Y({...L,clientCode:ve.target.value.toUpperCase()}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 font-mono ${oe.clientCode?"border-red-500":"border-gray-700"}`,placeholder:"ABC123XYZ",style:{textTransform:"uppercase"}}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the unique client code provided to you by InnoVend"}),oe.clientCode&&l.jsx("p",{className:"text-xs text-red-400 mt-1",children:oe.clientCode})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(no,{siteKey:r,onSuccess:be,onError:()=>be(""),onExpire:()=>be("")})}),l.jsx("button",{onClick:gt,disabled:!Ie||ge,className:`w-full py-3 rounded-lg font-semibold transition ${Ie&&!ge?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:ge?"Creating Account...":"Create Account"}),l.jsx("div",{className:"text-center text-sm",children:l.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[l.jsx("span",{children:"Already have an account?"}),l.jsx("button",{onClick:()=>{k(!1),j(!0)},className:"text-cyan-400 hover:underline font-medium",children:"Log In"})]})})]})]})})]})}function jr(){const{signIn:D,signOut:L}=Ec(),[Y,de]=T.useState({email:"",password:""}),[Z,ge]=T.useState(""),[he,je]=T.useState(""),[Be,oe]=T.useState(!1),[ie,xe]=T.useState(""),be=Y.email&&Y.password&&ie,ze=Z.length===6,Ne=()=>{I(!1),C(1),ye(""),Pe(""),de({email:"",password:""}),ge(""),je(""),n.pathname==="/admin-access-secure-portal"&&e("/")},De=async()=>{je(""),oe(!0);try{await D(Y.email,Y.password),await L();const _e=qn(),gt=await Kn(_e,"sendAdmin2FACode")({email:Y.email,turnstileToken:ie});ye(Y.email),Pe(Y.password),C(2)}catch(_e){try{const Ie=qn(),gt=Kn(Ie,"logFailedAdminLogin");let ve="Unknown error";_e.code==="auth/user-not-found"?ve="User not found":_e.code==="auth/wrong-password"||_e.code==="auth/invalid-credential"?ve="Wrong password":_e.message?.includes("Not an admin account")?ve="Not an admin account":(_e.message?.includes("CAPTCHA")||_e.message?.includes("Turnstile"))&&(ve="Turnstile/CAPTCHA verification failed"),await gt({email:Y.email,reason:ve})}catch(Ie){console.error("Failed to log admin login failure:",Ie)}_e.code==="auth/user-not-found"?je("No admin account found with this email."):_e.code==="auth/wrong-password"||_e.code==="auth/invalid-credential"?je("Incorrect password."):_e.message?.includes("Not an admin account")?je("This account does not have admin privileges."):_e.message?.includes("CAPTCHA")||_e.message?.includes("Turnstile")?je("CAPTCHA verification failed. Please try again."):je("Admin login failed. Please try again.")}finally{oe(!1)}},Ze=async()=>{je(""),oe(!0);try{const _e=qn();await Kn(_e,"verifyAdmin2FACode")({email:te,code:Z}),await D(te,Se),I(!1),C(1),ye(""),Pe(""),e("/"),Te("admin"),window.scrollTo(0,0)}catch(_e){try{const Ie=qn();await Kn(Ie,"logFailedAdminLogin")({email:te,reason:`Failed 2FA verification: ${_e.message||"unknown"}`})}catch(Ie){console.error("Failed to log 2FA failure:",Ie)}_e.message?.includes("Invalid verification code")?je("Invalid verification code. Please try again."):_e.message?.includes("Code has expired")?(je("Verification code has expired. Please request a new one."),C(1)):_e.message?.includes("already been used")?(je("This code has already been used. Please request a new one."),C(1)):je("Verification failed. Please try again.")}finally{oe(!1)}};return l.jsxs(l.Fragment,{children:[Be&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[60] flex items-center justify-center",children:l.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 border border-blue-400/30 shadow-2xl text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),l.jsx("p",{className:"text-lg font-semibold text-white",children:tt===1?"Verifying credentials...":"Verifying 2FA code..."}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Please wait a moment"})]})}),l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Admin Login"}),l.jsx("button",{onClick:Ne,className:"text-gray-400 hover:text-white","aria-label":"Close",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 text-yellow-400 text-sm",children:" Admin access only. 2FA required. Unauthorized attempts logged."}),he&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:he}),tt===1?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Email"}),l.jsx("input",{type:"email",value:Y.email,onChange:_e=>de({...Y,email:_e.target.value}),onKeyPress:_e=>_e.key==="Enter"&&be&&De(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Password"}),l.jsx("input",{type:"password",value:Y.password,onChange:_e=>de({...Y,password:_e.target.value}),onKeyPress:_e=>_e.key==="Enter"&&be&&De(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(no,{siteKey:r,onSuccess:xe,onError:()=>xe(""),onExpire:()=>xe("")})}),l.jsx("button",{onClick:De,disabled:!be||Be,className:`w-full py-3 rounded-lg font-semibold transition ${be&&!Be?"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:Be?"Verifying...":"Send 2FA Code"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 text-blue-400 text-sm",children:" A 6-digit verification code has been sent to your email. Please check your inbox (and spam folder)."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"6-Digit Verification Code"}),l.jsx("input",{type:"text",value:Z,onChange:_e=>{const Ie=_e.target.value.replace(/\D/g,"");Ie.length<=6&&ge(Ie)},onKeyPress:_e=>_e.key==="Enter"&&ze&&Ze(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 text-center text-2xl tracking-widest font-mono",placeholder:"000000",maxLength:6,autoFocus:!0})]}),l.jsx("button",{onClick:Ze,disabled:!ze||Be,className:`w-full py-3 rounded-lg font-semibold transition ${ze&&!Be?"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:Be?"Verifying...":"Verify & Login"}),l.jsx("button",{onClick:()=>{C(1),ye(""),Pe(""),ge(""),je("")},className:"w-full text-sm text-gray-400 hover:text-white",children:" Request New Code"})]}),l.jsx("div",{className:"text-center text-sm",children:l.jsx("button",{onClick:Ne,className:"text-gray-500 hover:text-gray-300",children:" Back to Home"})})]})]})})]})}function To(){const[D,L]=T.useState(1),[Y,de]=T.useState(""),[Z,ge]=T.useState(""),[he,je]=T.useState(""),[Be,oe]=T.useState(""),[ie,xe]=T.useState(""),[be,ze]=T.useState(""),[Ne,De]=T.useState(!1),[Ze,_e]=T.useState(""),Ie=Y&&sr(Y)&&Ze,gt=Z.length===6&&he.length>=8&&he===Be,ve=async()=>{xe(""),ze(""),De(!0);try{const dt=qn();await Kn(dt,"sendPasswordResetEmail")({email:Y,turnstileToken:Ze}),ze("If an account exists with this email, a reset code has been sent."),L(2)}catch{xe("Failed to send reset email. Please try again.")}finally{De(!1)}},Fe=async()=>{xe(""),ze(""),De(!0);try{const dt=qn();await Kn(dt,"resetPasswordWithCode")({email:Y,resetCode:Z,newPassword:he}),ze("Password reset successful! You can now log in with your new password."),setTimeout(()=>{_t(!1),j(!0)},2e3)}catch(dt){dt.message?.includes("Invalid reset code")?xe("Invalid reset code. Please try again."):dt.message?.includes("expired")?(xe("Reset code has expired. Please request a new one."),L(1)):xe("Failed to reset password. Please try again.")}finally{De(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Reset Password"}),l.jsx("button",{onClick:()=>_t(!1),className:"text-gray-400 hover:text-white","aria-label":"Close",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[ie&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:ie}),be&&l.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4 text-green-400 text-sm",children:be}),D===1?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-gray-300 text-sm",children:"Enter your email address and we'll send you a verification code to reset your password."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),l.jsx("input",{type:"email",value:Y,onChange:dt=>de(dt.target.value),onKeyPress:dt=>dt.key==="Enter"&&Ie&&ve(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"your.email@example.com",autoFocus:!0})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(no,{siteKey:r,onSuccess:_e,onError:()=>_e(""),onExpire:()=>_e("")})}),l.jsx("button",{onClick:ve,disabled:!Ie||Ne,className:`w-full py-3 rounded-lg font-semibold transition ${Ie&&!Ne?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:Ne?"Sending...":"Send Reset Code"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 text-blue-400 text-sm",children:" Check your email for the 6-digit reset code."}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"6-Digit Reset Code"}),l.jsx("input",{type:"text",value:Z,onChange:dt=>{const gn=dt.target.value.replace(/\D/g,"");gn.length<=6&&ge(gn)},className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 text-center text-2xl tracking-widest font-mono",placeholder:"000000",maxLength:6,autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"New Password"}),l.jsx("input",{type:"password",value:he,onChange:dt=>je(dt.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"At least 8 characters"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm New Password"}),l.jsx("input",{type:"password",value:Be,onChange:dt=>oe(dt.target.value),onKeyPress:dt=>dt.key==="Enter"&&gt&&Fe(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Re-enter password"}),Be&&he!==Be&&l.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Passwords don't match"})]}),l.jsx("button",{onClick:Fe,disabled:!gt||Ne,className:`w-full py-3 rounded-lg font-semibold transition ${gt&&!Ne?"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:Ne?"Resetting...":"Reset Password"}),l.jsx("button",{onClick:()=>{L(1),ge(""),je(""),oe(""),xe("")},className:"w-full text-sm text-gray-400 hover:text-white",children:" Request New Code"})]}),l.jsx("div",{className:"text-center text-sm",children:l.jsx("button",{onClick:()=>{_t(!1),j(!0)},className:"text-gray-500 hover:text-gray-300",children:" Back to Login"})})]})]})})}function Cr(){const[D,L]=T.useState(null),[Y,de]=T.useState(!0);return T.useEffect(()=>{(async()=>{if(!o?.machineId){de(!1);return}try{const ge=await Ld(sa(xn,"machines",o.machineId));ge.exists()&&L(ge.data())}catch(ge){console.error("Error fetching machine data:",ge)}finally{de(!1)}})()},[o?.machineId]),Y?l.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"h-10 bg-slate-800 rounded w-1/3 mb-2 animate-pulse"}),l.jsx("div",{className:"h-4 bg-slate-800 rounded w-1/4 animate-pulse"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[l.jsx(Ji,{type:"stat"}),l.jsx(Ji,{type:"stat"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx(Ji,{type:"card"}),l.jsx(Ji,{type:"card"})]})]})}):l.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx(ll,{items:[{label:"Home",onClick:()=>Te("home")},{label:"Dashboard"}]}),l.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome back, ",o?.firstName,"!"]}),l.jsxs("p",{className:"text-gray-400",children:[o?.businessName,"  Member since"," ",o?.createdAt?new Date(o.createdAt.toDate()).toLocaleDateString():"N/A"]})]}),l.jsxs("button",{onClick:()=>Je(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg",children:[l.jsx(fA,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit Profile"})]})]}),o?.machineId?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Status"}),l.jsx(Wl,{className:"w-5 h-5 text-cyan-400"})]}),l.jsx("p",{className:"text-2xl font-bold capitalize",children:D?.status||"Active"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current"})]}),l.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Machine Type"}),l.jsx(yd,{className:"w-5 h-5 text-purple-400"})]}),l.jsx("p",{className:"text-2xl font-bold capitalize",children:D?.machineType||"Combo"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Your Vending Machine"}),D?.machinePhotoUrl?l.jsx("img",{src:D.machinePhotoUrl,alt:"Vending machine",className:"w-full h-64 object-cover rounded-lg mb-4"}):l.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg flex items-center justify-center mb-4",children:l.jsx("span",{className:"text-6xl",children:""})}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Location:"})," ",D?.location?.address||o?.businessName]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Installed:"})," ",D?.installDate?new Date(D.installDate.toDate()).toLocaleDateString():"N/A"]})]})]}),l.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Contract Information"}),D?.contractPdfUrl?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-2xl",children:""})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Signed Contract"}),l.jsx("p",{className:"text-xs text-gray-400",children:"PDF Document"})]})]}),l.jsx("a",{href:D.contractPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg text-sm transition",children:"View PDF"})]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-400",children:"Contract End Date"}),l.jsx("p",{className:"font-semibold",children:D?.contractEndDate?new Date(D.contractEndDate.toDate()).toLocaleDateString():"N/A"})]}),D?.contractEndDate&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-400",children:"Time Remaining"}),l.jsxs("p",{className:"font-semibold text-cyan-400",children:[Math.max(0,Math.ceil((D.contractEndDate.toDate()-new Date)/(1e3*60*60*24)))," ","days"]})]})]})]}):l.jsx("div",{className:"text-center py-8 text-gray-400",children:l.jsx("p",{children:"Contract document will be available soon"})})]})]}),l.jsxs("div",{className:"mt-8 bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Recent Activity"}),l.jsx("div",{className:"text-center py-8 text-gray-400",children:l.jsx("p",{children:"Live stats and transaction history coming soon!"})})]})]}):l.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-xl p-8 text-center",children:[l.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Machine Assigned Yet"}),l.jsx("p",{className:"text-gray-300",children:"Your vending machine will be assigned soon. We'll notify you once it's ready!"})]})]})})}function Na(){const[D,L]=T.useState([]),[Y,de]=T.useState([]),[Z,ge]=T.useState([]),[he,je]=T.useState([]),[Be,oe]=T.useState([]),[ie,xe]=T.useState([]),[be,ze]=T.useState([]),[Ne,De]=T.useState(!0),[Ze,_e]=T.useState("users"),[Ie,gt]=T.useState(!1),[ve,Fe]=T.useState(!1),[dt,gn]=T.useState(!1),[Ir,dn]=T.useState(!1),[kr,Dr]=T.useState(null),[hl,Or]=T.useState(""),[Ao,Mr]=T.useState("asc"),[Un,jo]=T.useState(""),[fl,ml]=T.useState("asc"),[Sa,Co]=T.useState(""),[Pr,Aa]=T.useState("asc"),[xs,pl]=T.useState(""),[ss,Vr]=T.useState("asc"),[Vs,wi]=T.useState(""),[ja,Lr]=T.useState("asc"),[vs,rs]=T.useState(1),[Ei,wt]=T.useState(1),[Ls,gl]=T.useState(1),[Ni,yl]=T.useState(1),[Ti,ir]=T.useState(1),[_s,yn]=T.useState(1),[ar,Us]=T.useState(1),[Ur,bl]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[zr,Ca]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[zs,Ra]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[xl,Si]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[Ro,Io]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[Ai,vl]=T.useState([]),[ko,ji]=T.useState([]),[Do,_l]=T.useState([]),[qs,wl]=T.useState([]),[Oo,Mo]=T.useState([]),[Po,qr]=T.useState([]),[Rn,Vo]=T.useState([]),[Lo,lr]=T.useState(!1),[d,b]=T.useState(null),[v,N]=T.useState(!1),B=(V,$e=5)=>{const Ye=`recentlyViewed_${V}`;return JSON.parse(localStorage.getItem(Ye)||"[]").slice(0,$e)},K=(V,$e,Ye)=>{if(!V||V.length===0){alert("No data to export");return}const ht=Ye.map(is=>is.label).join(","),St=V.map(is=>Ye.map(Br=>{let hn=Br.accessor(is);return hn==null&&(hn=""),typeof hn=="string"&&(hn.includes(",")||hn.includes('"')||hn.includes(`
`))&&(hn=`"${hn.replace(/"/g,'""')}"`),hn}).join(",")).join(`
`),Ht=`${ht}
${St}`,Bn=new Blob([Ht],{type:"text/csv;charset=utf-8;"}),wn=document.createElement("a");wn.href=URL.createObjectURL(Bn),wn.download=`${$e}-${new Date().toISOString().split("T")[0]}.csv`,wn.click()};T.useEffect(()=>{ji(B("users",5)),_l(B("businesses",5)),wl(B("machines",5))},[]),T.useEffect(()=>{let $e;const Ye=()=>{$e&&clearTimeout($e),$e=setTimeout(async()=>{console.log("Admin session timed out due to inactivity"),await u(),Te("home"),alert("Your session has expired due to inactivity. Please log in again.")},9e5)},ht=["mousedown","mousemove","keydown","scroll","touchstart","click"];ht.forEach(Ht=>{window.addEventListener(Ht,Ye)}),Ye();const St=async Ht=>{u()};return window.addEventListener("beforeunload",St),()=>{$e&&clearTimeout($e),ht.forEach(Ht=>{window.removeEventListener(Ht,Ye)}),window.removeEventListener("beforeunload",St)}},[]),T.useEffect(()=>{me()},[]);const me=async()=>{try{const $e=(await Ya(Gs(xn,"users"))).docs.map(Pt=>({id:Pt.id,...Pt.data()}));L($e);const ht=(await Ya(Gs(xn,"businesses"))).docs.map(Pt=>({id:Pt.id,...Pt.data()}));de(ht);const Ht=(await Ya(Gs(xn,"clientCodes"))).docs.map(Pt=>({id:Pt.id,...Pt.data()}));ge(Ht);const wn=(await Ya(Gs(xn,"machines"))).docs.map(Pt=>({id:Pt.id,...Pt.data()}));je(wn);const is=cp(Gs(xn,"serviceRequests"),up("submittedAt","desc"),dp(50)),hn=(await Ya(is)).docs.map(Pt=>({id:Pt.id,...Pt.data()}));oe(hn);const Vh=cp(Gs(xn,"failedAdminLogins"),up("timestamp","desc"),dp(50)),Lh=(await Ya(Vh)).docs.map(Pt=>({id:Pt.id,...Pt.data()}));xe(Lh);const du=cp(Gs(xn,"passwordChanges"),up("timestamp","desc"),dp(50)),Ia=(await Ya(du)).docs.map(Pt=>({id:Pt.id,...Pt.data()}));ze(Ia)}catch(V){console.error("Error fetching admin data:",V)}finally{De(!1)}};return Ne?l.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("div",{className:"h-10 bg-slate-800 rounded w-1/4 mb-8 animate-pulse"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[l.jsx(Ji,{type:"stat"}),l.jsx(Ji,{type:"stat"}),l.jsx(Ji,{type:"stat"})]}),l.jsxs("div",{className:"bg-slate-800/50 border border-gray-700 rounded-xl p-6",children:[l.jsx("div",{className:"h-6 bg-slate-700 rounded w-1/6 mb-4 animate-pulse"}),[1,2,3,4,5].map(V=>l.jsx(Ji,{type:"table-row"},V))]})]})}):l.jsxs("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx(ll,{items:[{label:"Home",onClick:()=>Te("home")},{label:"Admin Panel"}]}),l.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Admin Dashboard"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 p-6 rounded-xl border border-purple-400/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Users"}),l.jsx(Xm,{className:"w-5 h-5 text-purple-400"})]}),l.jsx("p",{className:"text-3xl font-bold",children:D.length})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Active Machines"}),l.jsx(yd,{className:"w-5 h-5 text-blue-400"})]}),l.jsx("p",{className:"text-3xl font-bold",children:he.filter(V=>V.status==="active").length})]}),l.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-cyan-500/20 p-6 rounded-xl border border-green-400/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Client Codes"}),l.jsx(Km,{className:"w-5 h-5 text-green-400"})]}),l.jsxs("p",{className:"text-3xl font-bold",children:[Z.filter(V=>!V.used).length," available"]})]})]}),l.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-gray-700",children:[l.jsxs("button",{onClick:()=>_e("users"),className:`px-6 py-3 font-semibold transition ${Ze==="users"?"border-b-2 border-purple-400 text-purple-400":"text-gray-400 hover:text-white"}`,children:["Users (",D.length,")"]}),l.jsxs("button",{onClick:()=>_e("businesses"),className:`px-6 py-3 font-semibold transition ${Ze==="businesses"?"border-b-2 border-orange-400 text-orange-400":"text-gray-400 hover:text-white"}`,children:["Businesses (",Y.length,")"]}),l.jsxs("button",{onClick:()=>_e("codes"),className:`px-6 py-3 font-semibold transition ${Ze==="codes"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-white"}`,children:["Client Codes (",Z.length,")"]}),l.jsxs("button",{onClick:()=>_e("machines"),className:`px-6 py-3 font-semibold transition ${Ze==="machines"?"border-b-2 border-cyan-400 text-cyan-400":"text-gray-400 hover:text-white"}`,children:["Machines (",he.length,")"]}),l.jsxs("button",{onClick:()=>_e("requests"),className:`px-6 py-3 font-semibold transition ${Ze==="requests"?"border-b-2 border-green-400 text-green-400":"text-gray-400 hover:text-white"}`,children:[l.jsx(Z1,{className:"w-4 h-4 inline mr-2"}),"Service Requests (",Be.length,")"]}),l.jsxs("button",{onClick:()=>_e("failedLogins"),className:`px-6 py-3 font-semibold transition ${Ze==="failedLogins"?"border-b-2 border-red-400 text-red-400":"text-gray-400 hover:text-white"}`,children:[l.jsx(Qm,{className:"w-4 h-4 inline mr-2"}),"Failed Logins (",ie.length,")"]}),l.jsxs("button",{onClick:()=>_e("passwordChanges"),className:`px-6 py-3 font-semibold transition ${Ze==="passwordChanges"?"border-b-2 border-yellow-400 text-yellow-400":"text-gray-400 hover:text-white"}`,children:[l.jsx(Wl,{className:"w-4 h-4 inline mr-2"}),"Password Changes (",be.length,")"]})]}),Ze==="users"&&l.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"User Accounts"}),l.jsxs("button",{onClick:()=>K(D,"users",[{label:"Name",accessor:V=>`${V.firstName} ${V.lastName}`},{label:"Email",accessor:V=>V.email},{label:"Business",accessor:V=>V.businessName||""},{label:"Role",accessor:V=>V.role},{label:"Joined",accessor:V=>V.createdAt?.toDate?.()?.toLocaleDateString()||""}]),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-medium transition",children:[l.jsx(gd,{className:"w-4 h-4"}),l.jsx("span",{children:"Export CSV"})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Role"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Joined"})]})}),l.jsx("tbody",{children:D.length>0?D.map(V=>l.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("button",{onClick:()=>{Er(V),It(!0)},className:"text-blue-400 hover:text-blue-300 hover:underline flex items-center space-x-1",children:[l.jsxs("span",{children:[V.firstName," ",V.lastName]}),l.jsx(Ym,{className:"w-3 h-3"})]})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:V.email}),l.jsx("td",{className:"px-6 py-4 text-sm",children:V.businessId?l.jsxs("button",{onClick:()=>{const $e=Y.find(Ye=>Ye.id===V.businessId);$e&&(Dr($e),dn(!0))},className:"text-orange-400 hover:text-orange-300 hover:underline flex items-center space-x-1",children:[l.jsx("span",{children:Y.find($e=>$e.id===V.businessId)?.businessName||V.businessName||"Unknown"}),Y.find($e=>$e.id===V.businessId)&&l.jsx(Ym,{className:"w-3 h-3"})]}):l.jsx("span",{className:"text-gray-500",children:V.businessName||"No Business"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:V.role||"client"})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:V.createdAt?new Date(V.createdAt.toDate()).toLocaleDateString():"N/A"})]},V.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:"No users found"})})})]})})]}),Ze==="businesses"&&l.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Business Management"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>K(Y,"businesses",[{label:"Business Name",accessor:V=>V.businessName},{label:"Type",accessor:V=>V.businessType},{label:"Contact Name",accessor:V=>V.primaryContact?.name||""},{label:"Contact Email",accessor:V=>V.primaryContact?.email||""},{label:"Users",accessor:V=>D.filter($e=>$e.businessId===V.id).length},{label:"Machines",accessor:V=>V.machines?.length||0},{label:"Status",accessor:V=>V.status}]),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-medium transition",children:[l.jsx(gd,{className:"w-4 h-4"}),l.jsx("span",{children:"Export"})]}),l.jsxs("button",{onClick:()=>gn(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg transition",children:[l.jsx($m,{className:"w-4 h-4"}),l.jsx("span",{children:"Add Business"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business Name"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Type"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Primary Contact"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Users"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Machines"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-700",children:Y.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-400",children:'No businesses yet. Click "Add Business" to create your first business.'})}):Y.map(V=>l.jsxs("tr",{className:"hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"font-medium",children:V.businessName})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs capitalize",children:V.businessType||"Other"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{children:V.primaryContact?.name||"N/A"}),l.jsx("div",{className:"text-gray-400 text-xs",children:V.primaryContact?.email||""})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"text-purple-400 font-semibold",children:V.users?.length||0})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"text-cyan-400 font-semibold",children:V.machines?.length||0})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${V.status==="active"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:V.status||"Active"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("button",{onClick:()=>{Dr(V),dn(!0)},className:"text-blue-400 hover:text-blue-300 transition",children:l.jsx(Ym,{className:"w-5 h-5"})})})]},V.id))})]})})]}),Ze==="codes"&&l.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Client Codes"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>K(Z,"client-codes",[{label:"Code",accessor:V=>V.code},{label:"Name",accessor:V=>`${V.firstName} ${V.lastName}`},{label:"Email",accessor:V=>V.email},{label:"Business",accessor:V=>V.businessName||""},{label:"Status",accessor:V=>V.used?"Used":"Available"},{label:"Created",accessor:V=>V.createdAt?.toDate?.()?.toLocaleDateString()||""}]),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-medium transition",children:[l.jsx(gd,{className:"w-4 h-4"}),l.jsx("span",{children:"Export"})]}),l.jsxs("button",{onClick:()=>gt(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition",children:[l.jsx($m,{className:"w-5 h-5"}),l.jsx("span",{children:"Create New Code"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Code"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Created"})]})}),l.jsx("tbody",{children:Z.length>0?Z.map(V=>l.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 font-mono text-cyan-400",children:V.code}),l.jsxs("td",{className:"px-6 py-4",children:[V.firstName," ",V.lastName]}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:V.email}),l.jsx("td",{className:"px-6 py-4 text-sm",children:V.businessName||"N/A"}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.used?"bg-gray-500/20 text-gray-400":"bg-green-500/20 text-green-400"}`,children:V.used?"Used":"Available"})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:V.createdAt?new Date(V.createdAt.toDate()).toLocaleDateString():"N/A"})]},V.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No client codes found. Create one to get started."})})})]})})]}),Ze==="machines"&&l.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Vending Machines"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>K(he,"machines",[{label:"Machine ID",accessor:V=>V.machineId},{label:"Type",accessor:V=>V.machineType},{label:"Address",accessor:V=>V.location?.address||""},{label:"City",accessor:V=>V.location?.city||""},{label:"State",accessor:V=>V.location?.state||""},{label:"Business",accessor:V=>Y.find($e=>$e.id===V.businessId)?.businessName||""},{label:"Status",accessor:V=>V.status},{label:"Install Date",accessor:V=>V.installDate?.toDate?.()?.toLocaleDateString()||""}]),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-medium transition",children:[l.jsx(gd,{className:"w-4 h-4"}),l.jsx("span",{children:"Export"})]}),l.jsxs("button",{onClick:()=>Fe(!0),className:"flex items-center space-x-2 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition",children:[l.jsx($m,{className:"w-5 h-5"}),l.jsx("span",{children:"Add Machine"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Machine ID"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Type"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Location"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Assigned Users"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Installed"})]})}),l.jsx("tbody",{children:he.length>0?he.map(V=>{const $e=Y.find(St=>St.id===V.businessId),Ye=V.assignedUsers?.map(St=>D.find(Ht=>Ht.id===St)).filter(Boolean)||[],ht=D.find(St=>St.id===V.userId);return l.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 font-mono text-cyan-400",children:V.machineId}),l.jsx("td",{className:"px-6 py-4 capitalize",children:V.machineType}),l.jsx("td",{className:"px-6 py-4 text-sm",children:V.location?.address||V.businessName}),l.jsx("td",{className:"px-6 py-4 text-sm",children:$e?l.jsx("button",{onClick:()=>{Dr($e),dn(!0)},className:"text-orange-400 hover:text-orange-300 hover:underline",children:$e.businessName}):l.jsx("span",{className:"text-gray-500",children:V.businessName||"No Business"})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:Ye.length>0?l.jsx("div",{className:"flex flex-wrap gap-1",children:Ye.map((St,Ht)=>l.jsxs("span",{className:"text-xs px-2 py-1 bg-purple-500/20 text-purple-400 rounded",children:[St.firstName," ",St.lastName,Ht<Ye.length-1?",":""]},St.id))}):ht?l.jsxs("span",{className:"text-xs",children:[ht.firstName," ",ht.lastName," (legacy)"]}):l.jsx("span",{className:"text-gray-500",children:"Unassigned"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs capitalize ${V.status==="active"?"bg-green-500/20 text-green-400":V.status==="maintenance"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:V.status||"active"})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:V.installDate?new Date(V.installDate.toDate()).toLocaleDateString():"N/A"})]},V.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No machines found. Add one to get started."})})})]})})]}),Ze==="requests"&&l.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-green-400/20 overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsx("h2",{className:"text-2xl font-bold",children:"Service Requests"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Date"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Phone"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"})]})}),l.jsx("tbody",{children:Be.length>0?Be.map(V=>l.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 text-sm",children:V.submittedAt?new Date(V.submittedAt.toDate()).toLocaleDateString():"N/A"}),l.jsxs("td",{className:"px-6 py-4",children:[V.firstName," ",V.lastName]}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:V.email}),l.jsx("td",{className:"px-6 py-4 text-sm",children:V.businessName}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:V.phone}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.status==="pending"?"bg-yellow-500/20 text-yellow-400":V.status==="contacted"?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"}`,children:V.status||"pending"})})]},V.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No service requests yet."})})})]})})]}),Ze==="failedLogins"&&l.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-red-400/20 overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[l.jsx(Qm,{className:"w-6 h-6 text-red-400"}),l.jsx("span",{children:"Unauthorized Admin Login Attempts"})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Timestamp"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Reason"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"IP Address"})]})}),l.jsx("tbody",{children:ie.length>0?ie.map(V=>l.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 text-sm",children:V.timestamp?new Date(V.timestamp.toDate()).toLocaleString():"N/A"}),l.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-300",children:V.email}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-500/20 text-red-400",children:V.reason})}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-400 font-mono",children:V.ipAddress})]},V.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"No failed login attempts recorded."})})})]})})]}),Ze==="passwordChanges"&&l.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-yellow-400/20 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700",children:[l.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[l.jsx(Wl,{className:"w-6 h-6 text-yellow-400"}),l.jsx("span",{children:"Password Reset Activity"})]}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Monitor all password changes for security purposes"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-slate-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Timestamp"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"User ID"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Method"})]})}),l.jsx("tbody",{children:be.length>0?be.map(V=>l.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[l.jsx("td",{className:"px-6 py-4 text-sm",children:V.timestamp?new Date(V.timestamp.toDate()).toLocaleString():"N/A"}),l.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-300",children:V.email}),l.jsxs("td",{className:"px-6 py-4 text-sm text-gray-400 font-mono",children:[V.userId?.substring(0,8),"..."]}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.method==="reset-with-code"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:V.method==="reset-with-code"?"Email Reset":V.method})})]},V.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"No password changes recorded yet."})})})]})})]})]}),Tt&&Zs&&l.jsx(ns,{user:Zs,onClose:()=>{It(!1),Er(null)},onSuccess:me}),Ie&&l.jsx(Ta,{onClose:()=>gt(!1),onSuccess:me}),ve&&l.jsx(Rr,{onClose:()=>Fe(!1),onSuccess:me,users:D,businesses:Y}),dt&&l.jsx(Ps,{onClose:()=>gn(!1),onSuccess:me}),Ir&&kr&&l.jsx(cl,{business:kr,onClose:()=>{dn(!1),Dr(null)},onSuccess:me,users:D,machines:he})]})}function Ta({onClose:D,onSuccess:L}){const[Y,de]=T.useState({code:"",firstName:"",lastName:"",email:"",phone:"",businessName:""}),[Z,ge]=T.useState(!1),[he,je]=T.useState(""),Be=()=>{const ie="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let xe="";for(let be=0;be<9;be++)xe+=ie.charAt(Math.floor(Math.random()*ie.length));de(be=>({...be,code:xe}))},oe=async ie=>{ie.preventDefault(),je(""),ge(!0);try{const xe=qn();(await Kn(xe,"createClientCode")({code:Y.code,firstName:Y.firstName,lastName:Y.lastName,email:Y.email,phone:Y.phone,businessName:Y.businessName})).data.success&&(L(),D())}catch(xe){console.error("Error creating client code:",xe),je(xe.message||"Failed to create client code")}finally{ge(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Create New Client Code"}),l.jsx("button",{onClick:D,className:"text-gray-400 hover:text-white transition",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:oe,className:"p-6 space-y-4 overflow-y-auto",children:[he&&l.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:he}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client Code"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:Y.code,onChange:ie=>de(xe=>({...xe,code:ie.target.value.toUpperCase()})),className:"flex-1 bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none font-mono",placeholder:"XXXABC123",required:!0}),l.jsx("button",{type:"button",onClick:Be,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 rounded-lg transition",children:"Generate"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),l.jsx("input",{type:"text",value:Y.firstName,onChange:ie=>de(xe=>({...xe,firstName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),l.jsx("input",{type:"text",value:Y.lastName,onChange:ie=>de(xe=>({...xe,lastName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",value:Y.email,onChange:ie=>de(xe=>({...xe,email:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone (10 digits)"}),l.jsx("input",{type:"tel",value:Y.phone,onChange:ie=>de(xe=>({...xe,phone:ie.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",placeholder:"5551234567",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),l.jsx("input",{type:"text",value:Y.businessName,onChange:ie=>de(xe=>({...xe,businessName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:D,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg transition",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:Z,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:Z?"Creating...":"Create Client Code"})]})]})]})})}function Rr({onClose:D,onSuccess:L,users:Y,businesses:de}){const[Z,ge]=T.useState({machineId:"",businessId:"",assignedUsers:[],machineType:"combo",address:"",city:"",state:"MD",zip:"",status:"active",installDate:new Date().toISOString().split("T")[0],contractEndDate:""}),[he,je]=T.useState(!1),[Be,oe]=T.useState(""),ie=()=>{const be=Date.now().toString().slice(-6),ze=Math.floor(Math.random()*1e3).toString().padStart(3,"0");ge(Ne=>({...Ne,machineId:`VM${be}${ze}`}))},xe=async be=>{be.preventDefault(),oe(""),je(!0);try{const ze=de.find(De=>De.id===Z.businessId),Ne=sa(xn,"machines",Z.machineId);if(await dN(Ne,{machineId:Z.machineId,businessId:Z.businessId||null,assignedUsers:Z.assignedUsers||[],primaryContact:Z.assignedUsers.length>0?Z.assignedUsers[0]:null,location:{address:Z.address,city:Z.city,state:Z.state,zip:Z.zip},machineType:Z.machineType,installDate:Rt.fromDate(new Date(Z.installDate)),contractSignedDate:Rt.fromDate(new Date(Z.installDate)),contractEndDate:Z.contractEndDate?Rt.fromDate(new Date(Z.contractEndDate)):null,contractPdfUrl:null,machinePhotoUrl:null,status:Z.status,stats:{totalSales:0,totalTransactions:0,lastRestocked:null},createdAt:ii(),updatedAt:ii()}),Z.businessId){const De=sa(xn,"businesses",Z.businessId),Ze=await Ld(De);if(Ze.exists()){const _e=Ze.data().machines||[];await l_(De,{machines:[..._e,Z.machineId],updatedAt:ii()})}}L(),D()}catch(ze){console.error("Error creating machine:",ze),oe(ze.message||"Failed to create machine")}finally{je(!1)}};return Y.filter(be=>be.role!=="admin"),l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-cyan-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Add Vending Machine"}),l.jsx("button",{onClick:D,className:"text-gray-400 hover:text-white transition",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:xe,className:"p-6 space-y-4 overflow-y-auto",children:[Be&&l.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:Be}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Machine ID"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{type:"text",value:Z.machineId,onChange:be=>ge(ze=>({...ze,machineId:be.target.value.toUpperCase()})),className:"flex-1 bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none font-mono",placeholder:"VM123456789",required:!0}),l.jsx("button",{type:"button",onClick:ie,className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition",children:"Generate"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Assign to Business (Required)"}),l.jsxs("select",{value:Z.businessId,onChange:be=>{const ze=be.target.value;ge(Ne=>({...Ne,businessId:ze,assignedUsers:[]}))},className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0,children:[l.jsx("option",{value:"",children:"Select a business..."}),de.map(be=>l.jsxs("option",{value:be.id,children:[be.businessName," (",be.primaryContact?.name||"No contact",")"]},be.id))]})]}),Z.businessId&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Assign Users (Optional - Select users who can access this machine)"}),l.jsxs("div",{className:"bg-slate-800 border border-gray-700 rounded-lg p-4 max-h-40 overflow-y-auto",children:[Y.filter(be=>be.businessId===Z.businessId&&be.role!=="admin").map(be=>l.jsxs("label",{className:"flex items-center space-x-2 py-2 hover:bg-slate-700 px-2 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:Z.assignedUsers.includes(be.id),onChange:ze=>{ze.target.checked?ge(Ne=>({...Ne,assignedUsers:[...Ne.assignedUsers,be.id]})):ge(Ne=>({...Ne,assignedUsers:Ne.assignedUsers.filter(De=>De!==be.id)}))},className:"w-4 h-4 text-cyan-500 bg-slate-700 border-gray-600 rounded focus:ring-cyan-500"}),l.jsxs("span",{className:"text-sm",children:[be.firstName," ",be.lastName," (",be.email,")"]})]},be.id)),Y.filter(be=>be.businessId===Z.businessId&&be.role!=="admin").length===0&&l.jsx("p",{className:"text-gray-400 text-sm",children:"No users found for this business"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Machine Type"}),l.jsxs("select",{value:Z.machineType,onChange:be=>ge(ze=>({...ze,machineType:be.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0,children:[l.jsx("option",{value:"snack",children:"Snack Machine"}),l.jsx("option",{value:"drink",children:"Drink Machine"}),l.jsx("option",{value:"combo",children:"Combo (Snack + Drink)"}),l.jsx("option",{value:"coffee",children:"Coffee Machine"}),l.jsx("option",{value:"healthy",children:"Healthy Snacks"}),l.jsx("option",{value:"ice-cream",children:"Ice Cream"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),l.jsx("input",{type:"text",value:Z.address,onChange:be=>ge(ze=>({...ze,address:be.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"City"}),l.jsx("input",{type:"text",value:Z.city,onChange:be=>ge(ze=>({...ze,city:be.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"State"}),l.jsx("input",{type:"text",value:Z.state,onChange:be=>ge(ze=>({...ze,state:be.target.value.toUpperCase().slice(0,2)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",maxLength:"2",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code"}),l.jsx("input",{type:"text",value:Z.zip,onChange:be=>ge(ze=>({...ze,zip:be.target.value.slice(0,5)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",maxLength:"5",required:!0})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Install Date"}),l.jsx("input",{type:"date",value:Z.installDate,onChange:be=>ge(ze=>({...ze,installDate:be.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contract End Date (Optional)"}),l.jsx("input",{type:"date",value:Z.contractEndDate,onChange:be=>ge(ze=>({...ze,contractEndDate:be.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:Z.status,onChange:be=>ge(ze=>({...ze,status:be.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0,children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:D,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg transition",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:he,className:"flex-1 px-4 py-3 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:he?"Creating...":"Add Machine"})]})]})]})})}function Ps({onClose:D,onSuccess:L}){const[Y,de]=T.useState({businessName:"",businessType:"other",primaryContact:{name:"",email:"",phone:""},primaryLocation:{address:"",city:"",state:"MD",zip:""},status:"active"}),[Z,ge]=T.useState(!1),[he,je]=T.useState(""),Be=async oe=>{oe.preventDefault(),ge(!0),je("");try{await Nd(Gs(xn,"businesses"),{...Y,users:[],machines:[],settings:{allowEmployeeAccess:!0,notifyOnRestock:!0,preferredContactMethod:"email"},createdAt:ii(),createdBy:i?.uid||"admin",updatedAt:ii()}),L(),D()}catch(ie){console.error("Error creating business:",ie),je("Failed to create business. Please try again.")}finally{ge(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full border border-orange-400/30 shadow-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[l.jsx("h2",{className:"text-2xl font-bold text-orange-400",children:"Create New Business"}),l.jsx("button",{onClick:D,className:"text-gray-400 hover:text-white",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:Be,className:"p-6 space-y-6",children:[he&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:he}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Business Information"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name *"}),l.jsx("input",{type:"text",value:Y.businessName,onChange:oe=>de(ie=>({...ie,businessName:oe.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Type *"}),l.jsxs("select",{value:Y.businessType,onChange:oe=>de(ie=>({...ie,businessType:oe.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[l.jsx("option",{value:"salon",children:"Salon"}),l.jsx("option",{value:"gym",children:"Gym"}),l.jsx("option",{value:"office",children:"Office"}),l.jsx("option",{value:"medical",children:"Medical"}),l.jsx("option",{value:"retail",children:"Retail"}),l.jsx("option",{value:"other",children:"Other"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Primary Contact"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Name *"}),l.jsx("input",{type:"text",value:Y.primaryContact.name,onChange:oe=>de(ie=>({...ie,primaryContact:{...ie.primaryContact,name:oe.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),l.jsx("input",{type:"email",value:Y.primaryContact.email,onChange:oe=>de(ie=>({...ie,primaryContact:{...ie.primaryContact,email:oe.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone *"}),l.jsx("input",{type:"tel",value:Y.primaryContact.phone,onChange:oe=>de(ie=>({...ie,primaryContact:{...ie.primaryContact,phone:oe.target.value.replace(/\D/g,"").slice(0,10)}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",placeholder:"5551234567",maxLength:"10",required:!0})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Primary Location"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Street Address *"}),l.jsx("input",{type:"text",value:Y.primaryLocation.address,onChange:oe=>de(ie=>({...ie,primaryLocation:{...ie.primaryLocation,address:oe.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"City *"}),l.jsx("input",{type:"text",value:Y.primaryLocation.city,onChange:oe=>de(ie=>({...ie,primaryLocation:{...ie.primaryLocation,city:oe.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"State *"}),l.jsxs("select",{value:Y.primaryLocation.state,onChange:oe=>de(ie=>({...ie,primaryLocation:{...ie.primaryLocation,state:oe.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[l.jsx("option",{value:"MD",children:"MD"}),l.jsx("option",{value:"VA",children:"VA"}),l.jsx("option",{value:"DC",children:"DC"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code *"}),l.jsx("input",{type:"text",value:Y.primaryLocation.zip,onChange:oe=>de(ie=>({...ie,primaryLocation:{...ie.primaryLocation,zip:oe.target.value.slice(0,5)}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",maxLength:"5",required:!0})]})]})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx("button",{type:"button",onClick:D,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:Z,className:`flex-1 py-3 rounded-lg font-semibold transition ${Z?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"}`,children:Z?"Creating...":"Create Business"})]})]})]})})}function cl({business:D,onClose:L,onSuccess:Y,users:de,machines:Z}){const[ge,he]=T.useState({businessName:D.businessName||"",businessType:D.businessType||"other",primaryContact:{name:D.primaryContact?.name||"",email:D.primaryContact?.email||"",phone:D.primaryContact?.phone||""},primaryLocation:{address:D.primaryLocation?.address||"",city:D.primaryLocation?.city||"",state:D.primaryLocation?.state||"MD",zip:D.primaryLocation?.zip||""},status:D.status||"active"}),[je,Be]=T.useState(!1),[oe,ie]=T.useState(""),xe=de.filter(Ne=>Ne.businessId===D.id),be=Z.filter(Ne=>Ne.businessId===D.id),ze=async Ne=>{Ne.preventDefault(),Be(!0),ie("");try{await l_(sa(xn,"businesses",D.id),{...ge,updatedAt:ii()}),Y(),L()}catch(De){console.error("Error updating business:",De),ie("Failed to update business. Please try again.")}finally{Be(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full border border-orange-400/30 shadow-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[l.jsxs("h2",{className:"text-2xl font-bold text-orange-400",children:["Edit Business: ",D.businessName]}),l.jsx("button",{onClick:L,className:"text-gray-400 hover:text-white",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[oe&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:oe}),l.jsxs("form",{onSubmit:ze,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Business Information"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name *"}),l.jsx("input",{type:"text",value:ge.businessName,onChange:Ne=>he(De=>({...De,businessName:Ne.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Type *"}),l.jsxs("select",{value:ge.businessType,onChange:Ne=>he(De=>({...De,businessType:Ne.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[l.jsx("option",{value:"salon",children:"Salon"}),l.jsx("option",{value:"gym",children:"Gym"}),l.jsx("option",{value:"office",children:"Office"}),l.jsx("option",{value:"medical",children:"Medical"}),l.jsx("option",{value:"retail",children:"Retail"}),l.jsx("option",{value:"other",children:"Other"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),l.jsxs("select",{value:ge.status,onChange:Ne=>he(De=>({...De,status:Ne.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"}),l.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Primary Contact"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Name *"}),l.jsx("input",{type:"text",value:ge.primaryContact.name,onChange:Ne=>he(De=>({...De,primaryContact:{...De.primaryContact,name:Ne.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),l.jsx("input",{type:"email",value:ge.primaryContact.email,onChange:Ne=>he(De=>({...De,primaryContact:{...De.primaryContact,email:Ne.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone *"}),l.jsx("input",{type:"tel",value:ge.primaryContact.phone,onChange:Ne=>he(De=>({...De,primaryContact:{...De.primaryContact,phone:Ne.target.value.replace(/\D/g,"").slice(0,10)}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",placeholder:"5551234567",maxLength:"10",required:!0})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Primary Location"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Street Address *"}),l.jsx("input",{type:"text",value:ge.primaryLocation.address,onChange:Ne=>he(De=>({...De,primaryLocation:{...De.primaryLocation,address:Ne.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"City *"}),l.jsx("input",{type:"text",value:ge.primaryLocation.city,onChange:Ne=>he(De=>({...De,primaryLocation:{...De.primaryLocation,city:Ne.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"State *"}),l.jsxs("select",{value:ge.primaryLocation.state,onChange:Ne=>he(De=>({...De,primaryLocation:{...De.primaryLocation,state:Ne.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[l.jsx("option",{value:"MD",children:"MD"}),l.jsx("option",{value:"VA",children:"VA"}),l.jsx("option",{value:"DC",children:"DC"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code *"}),l.jsx("input",{type:"text",value:ge.primaryLocation.zip,onChange:Ne=>he(De=>({...De,primaryLocation:{...De.primaryLocation,zip:Ne.target.value.slice(0,5)}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",maxLength:"5",required:!0})]})]})]}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsx("button",{type:"button",onClick:L,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:je,className:`flex-1 py-3 rounded-lg font-semibold transition ${je?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"}`,children:je?"Saving...":"Save Changes"})]})]}),l.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-purple-400 mb-4",children:["Team Members (",xe.length,")"]}),xe.length===0?l.jsx("p",{className:"text-gray-400 text-sm",children:"No users assigned to this business yet."}):l.jsx("div",{className:"space-y-2",children:xe.map(Ne=>l.jsxs("div",{className:"flex items-center justify-between bg-slate-800 p-3 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:[Ne.firstName," ",Ne.lastName]}),l.jsx("p",{className:"text-sm text-gray-400",children:Ne.email})]}),l.jsx("span",{className:"text-xs px-2 py-1 bg-purple-500/20 text-purple-400 rounded",children:Ne.businessRole||"Member"})]},Ne.id))})]}),l.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4",children:["Machines (",be.length,")"]}),be.length===0?l.jsx("p",{className:"text-gray-400 text-sm",children:"No machines assigned to this business yet."}):l.jsx("div",{className:"space-y-2",children:be.map(Ne=>l.jsxs("div",{className:"flex items-center justify-between bg-slate-800 p-3 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:Ne.machineType||"Machine"}),l.jsx("p",{className:"text-sm text-gray-400",children:Ne.location?.address||"No address"})]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${Ne.status==="active"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:Ne.status||"Active"})]},Ne.id))})]})]})]})})}function ts({onClose:D,onSuccess:L}){const[Y,de]=T.useState({firstName:o?.firstName||"",lastName:o?.lastName||"",phone:o?.phone||"",businessName:o?.businessName||""}),[Z,ge]=T.useState(!1),[he,je]=T.useState(""),Be=async oe=>{oe.preventDefault(),je(""),ge(!0);try{const ie=qn();await Kn(ie,"updateUserProfile")({userId:i.uid,firstName:Y.firstName.trim(),lastName:Y.lastName.trim(),phone:Y.phone.trim(),businessName:Y.businessName.trim()}),L(),D(),window.location.reload()}catch(ie){console.error("Error updating profile:",ie),je(ie.message||"Failed to update profile")}finally{ge(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Edit Profile"}),l.jsx("button",{onClick:D,className:"text-gray-400 hover:text-white transition","aria-label":"Close",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:Be,className:"p-6 space-y-4 overflow-y-auto",children:[he&&l.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:he}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),l.jsx("input",{type:"text",value:Y.firstName,onChange:oe=>de(ie=>({...ie,firstName:oe.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),l.jsx("input",{type:"text",value:Y.lastName,onChange:oe=>de(ie=>({...ie,lastName:oe.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),l.jsx("input",{type:"tel",value:Y.phone,onChange:oe=>de(ie=>({...ie,phone:oe.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),l.jsx("input",{type:"text",value:Y.businessName,onChange:oe=>de(ie=>({...ie,businessName:oe.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none"})]}),l.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 text-sm text-blue-300",children:[l.jsx("p",{className:"font-semibold mb-1",children:"Note about email changes:"}),l.jsx("p",{children:"Email addresses can only be changed by an administrator for security reasons. Please contact support if you need to update your email."})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:D,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:Z,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:Z?"Saving...":"Save Changes"})]})]})]})})}function ns({user:D,onClose:L,onSuccess:Y}){const[de,Z]=T.useState({firstName:D?.firstName||"",lastName:D?.lastName||"",email:D?.email||"",phone:D?.phone||"",businessName:D?.businessName||""}),[ge,he]=T.useState(!1),[je,Be]=T.useState(""),oe=async ie=>{ie.preventDefault(),Be(""),he(!0);try{const xe=qn();await Kn(xe,"updateUserProfile")({userId:D.id,firstName:de.firstName.trim(),lastName:de.lastName.trim(),email:de.email.trim(),phone:de.phone.trim(),businessName:de.businessName.trim()}),Y(),L()}catch(xe){console.error("Error updating user:",xe),Be(xe.message||"Failed to update user")}finally{he(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-purple-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[l.jsxs("h2",{className:"text-2xl font-bold",children:["Edit User - ",D?.firstName," ",D?.lastName]}),l.jsx("button",{onClick:L,className:"text-gray-400 hover:text-white transition","aria-label":"Close",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:oe,className:"p-6 space-y-4 overflow-y-auto",children:[je&&l.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:je}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),l.jsx("input",{type:"text",value:de.firstName,onChange:ie=>Z(xe=>({...xe,firstName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),l.jsx("input",{type:"text",value:de.lastName,onChange:ie=>Z(xe=>({...xe,lastName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",value:de.email,onChange:ie=>Z(xe=>({...xe,email:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),l.jsx("input",{type:"tel",value:de.phone,onChange:ie=>Z(xe=>({...xe,phone:ie.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),l.jsx("input",{type:"text",value:de.businessName,onChange:ie=>Z(xe=>({...xe,businessName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:L,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:ge,className:"flex-1 px-4 py-3 bg-purple-500 hover:bg-purple-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:ge?"Saving...":"Save Changes"})]})]})]})})}function Yt({message:D,onClose:L}){return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-green-400/30 shadow-2xl animate-bounce-in",children:l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:l.jsx(Fm,{className:"w-12 h-12 text-green-400"})}),l.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Success!"}),l.jsx("p",{className:"text-gray-300 leading-relaxed mb-6",children:D}),l.jsx("button",{onClick:L,className:"px-8 py-3 bg-green-500 hover:bg-green-600 rounded-lg font-semibold",children:"Got it!"})]})})})}function tn(){const D=Mt[Zn],L=Zn===Mt.length-1,Y=()=>{if(L)ge();else{nr(Zn+1);const he=D.target.startsWith("#")?document.querySelector(D.target):document.querySelector(`[data-tour="${D.target}"]`);he&&he.scrollIntoView({behavior:"smooth",block:"center"})}},de=()=>{Zn>0&&nr(Zn-1)},Z=()=>{localStorage.setItem("tourCompleted","true"),er(!1),nr(0)},ge=()=>{localStorage.setItem("tourCompleted","true"),er(!1),nr(0)};return l.jsxs("div",{className:"fixed inset-0 z-50",children:[l.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-slate-900 rounded-2xl max-w-md w-full mx-4 border border-blue-400/30 shadow-2xl animate-bounce-in",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-blue-400 mb-2",children:D.title}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Step ",Zn+1," of ",Mt.length]})]}),l.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-white transition",children:l.jsx(Dt,{className:"w-6 h-6"})})]}),l.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:D.description}),l.jsx("div",{className:"mb-6",children:l.jsx("div",{className:"flex gap-1",children:Mt.map((he,je)=>l.jsx("div",{className:`h-1 flex-1 rounded-full transition ${je<=Zn?"bg-blue-500":"bg-gray-700"}`},je))})}),l.jsxs("div",{className:"flex gap-3",children:[Zn>0&&l.jsx("button",{onClick:de,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Previous"}),l.jsx("button",{onClick:Z,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Skip Tour"}),l.jsx("button",{onClick:Y,className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:L?"Finish":"Next"})]})]})})]})}function bs(){const[D]=T.useState([{name:"Website",status:"operational",uptime:"99.9%"},{name:"User Dashboard",status:"operational",uptime:"99.8%"},{name:"Admin Panel",status:"operational",uptime:"99.7%"},{name:"Authentication",status:"operational",uptime:"99.9%"},{name:"Database (Firestore)",status:"operational",uptime:"99.95%"},{name:"File Storage",status:"operational",uptime:"99.9%"}]),L=D.every(Z=>Z.status==="operational"),Y=Z=>{switch(Z){case"operational":return"Operational";case"degraded":return"Degraded Performance";case"outage":return"Outage";case"maintenance":return"Maintenance";default:return"Unknown"}},de=Z=>{switch(Z){case"operational":return"";case"degraded":return"";case"outage":return"";case"maintenance":return"";default:return""}};return l.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-900 via-blue-900/20 to-slate-900",children:l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("button",{onClick:()=>Te("home"),className:"mb-4 text-blue-400 hover:text-blue-300 transition flex items-center gap-2",children:" Back to Home"}),l.jsx("h1",{className:"text-4xl font-bold mb-2",children:"System Status"}),l.jsx("p",{className:"text-gray-400",children:"Real-time status of InnoVend services"})]}),l.jsxs("div",{className:`p-6 rounded-2xl border-2 mb-8 ${L?"bg-green-500/10 border-green-400/30":"bg-yellow-500/10 border-yellow-400/30"}`,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:`w-4 h-4 rounded-full ${L?"bg-green-500":"bg-yellow-500"} animate-pulse`}),l.jsx("h2",{className:"text-2xl font-bold",children:L?"All Systems Operational":"Some Services Experiencing Issues"})]}),l.jsxs("p",{className:"text-gray-300 text-sm",children:["Last updated: ",new Date().toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})]}),l.jsxs("div",{className:"space-y-4 mb-8",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Service Status"}),D.map((Z,ge)=>l.jsx("div",{className:"bg-slate-800 border border-gray-700 rounded-xl p-6 hover:border-blue-400/30 transition",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-2xl",children:de(Z.status)}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-lg",children:Z.name}),l.jsx("p",{className:"text-sm text-gray-400",children:Y(Z.status)})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-gray-400",children:"Uptime"}),l.jsx("p",{className:"font-bold text-green-400",children:Z.uptime})]})]})},ge))]}),l.jsxs("div",{className:"bg-slate-800 border border-gray-700 rounded-xl p-6 mb-8",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Uptime Statistics (Last 30 Days)"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-green-400",children:"99.9%"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Overall Uptime"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-blue-400",children:"245ms"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Avg Response Time"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"0"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Incidents"})]})]})]}),l.jsxs("div",{className:"bg-slate-800 border border-gray-700 rounded-xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:"Incident History"}),l.jsxs("div",{className:"text-center py-8 text-gray-400",children:[l.jsx(q1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No incidents reported in the last 30 days"}),l.jsx("p",{className:"text-sm mt-2",children:"Our systems have been running smoothly "})]})]}),l.jsxs("div",{className:"mt-8 bg-blue-500/10 border border-blue-400/30 rounded-xl p-6 text-center",children:[l.jsx("h3",{className:"text-lg font-bold mb-2",children:"Get Status Updates"}),l.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Want to be notified of incidents? Coming soon!"}),l.jsx("button",{disabled:!0,className:"px-6 py-2 bg-gray-700 text-gray-400 rounded-lg cursor-not-allowed",children:"Subscribe (Coming Soon)"})]})]})})}function _i(){const[D,L]=T.useState(""),[Y,de]=T.useState(null),ge=[{category:"Getting Started",icon:"",questions:[{q:"How does free vending machine placement work?",a:"We place and maintain vending machines at your location at absolutely no cost to you. We handle installation, restocking, maintenance, and all expenses. You provide the space, we provide the convenience for your customers or employees."},{q:"What is a client code and how do I get one?",a:"A client code is a unique identifier we provide after discussing your vending needs. Contact us via the service request form or email hello@innovend.net, and we'll provide you with a code to create your dashboard account."},{q:"How long does installation take?",a:"Typically, installation takes 1-2 hours. We'll schedule a convenient time with you, deliver the machine, set it up, stock it with products, and train your staff on basic operation."},{q:"What areas do you serve?",a:"We currently serve Montgomery County, Maryland, including Rockville, Gaithersburg, Germantown, North Potomac, and surrounding areas."}]},{category:"Vending Machines",icon:"",questions:[{q:"What types of vending machines are available?",a:"We offer snack machines, beverage machines, combo machines (snacks + drinks), coffee machines, and specialty machines for specific products. We'll recommend the best option based on your location type and customer needs."},{q:"Can I choose what products are in the machine?",a:"Yes! We work with you to customize product selection based on your preferences and customer preferences. We can adjust products based on sales data and feedback."},{q:"Who handles restocking and maintenance?",a:"We handle everything! Our team monitors inventory levels and restocks machines regularly. All maintenance, repairs, and cleaning are our responsibility at no cost to you."},{q:"What if the machine breaks down?",a:"Contact us immediately via your dashboard, email, or phone. We prioritize machine issues and typically respond within 24 hours. For urgent issues, we offer same-day service when possible."}]},{category:"Dashboard & Account",icon:"",questions:[{q:"How do I track sales and usage?",a:"Your dashboard provides real-time sales data, transaction history, inventory levels, and usage patterns. You can view daily, weekly, and monthly reports."},{q:"I forgot my password. How do I reset it?",a:`Click "Forgot Password" on the login screen, enter your email, and we'll send you a verification code to reset your password.`},{q:"Can multiple people from my business access the dashboard?",a:"Currently, each business has one account. If you need multiple user access, contact us and we can set that up for you."},{q:"How do I update my profile information?",a:'Log into your dashboard, click your account menu (top right), and select "Edit Profile" to update your information.'}]},{category:"Billing & Payments",icon:"",questions:[{q:"Is there really no cost to me?",a:"Correct! There are no upfront costs, monthly fees, or hidden charges. We make revenue from product sales and handle all expenses ourselves."},{q:"How do you make money?",a:"We purchase products wholesale and sell them through our machines. The profits from sales cover our costs and generate our revenue."},{q:"Do I earn commission from sales?",a:"Our standard model doesn't include commission, but for high-traffic locations, we may offer revenue sharing. Contact us to discuss your specific situation."},{q:"What payment methods do the machines accept?",a:"Our machines accept cash, credit/debit cards, Apple Pay, Google Pay, and other contactless payment methods."}]},{category:"Service Requests",icon:"",questions:[{q:"How do I request service or report an issue?",a:'Log into your dashboard and use the "Request Service" button, or email us at hello@innovend.net with your machine ID and issue description.'},{q:"What is your typical response time?",a:"For urgent issues (machine down, money jams), we respond within 24 hours. For routine requests (product changes, restocking), we respond within 2-3 business days."},{q:"Can I request specific products be added?",a:"Absolutely! We welcome product suggestions. Submit a request through your dashboard and we'll evaluate availability and pricing."}]},{category:"Contract & Terms",icon:"",questions:[{q:"Is there a contract period?",a:"Yes, we typically require a 12-month minimum agreement. This allows us to recoup installation costs and establish a consistent service relationship."},{q:"What happens if I want to end the service?",a:"Contact us with 30 days notice. We'll schedule machine removal at a convenient time. There are no termination fees after the initial contract period."},{q:"Can I move the machine to a different location?",a:"Yes, if you relocate, we can move the machine. Contact us to discuss the new location and ensure it meets our placement criteria."}]}].map(he=>({...he,questions:he.questions.filter(je=>je.q.toLowerCase().includes(D.toLowerCase())||je.a.toLowerCase().includes(D.toLowerCase()))})).filter(he=>he.questions.length>0);return l.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-900 via-blue-900/20 to-slate-900",children:l.jsxs("div",{className:"max-w-5xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("button",{onClick:()=>Te("home"),className:"mb-4 text-blue-400 hover:text-blue-300 transition flex items-center gap-2",children:" Back to Home"}),l.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Help & FAQ"}),l.jsx("p",{className:"text-gray-400",children:"Find answers to common questions"})]}),l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"relative",children:[l.jsx(dA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search for help...",value:D,onChange:he=>L(he.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800 border border-gray-700 rounded-xl focus:outline-none focus:border-blue-500 transition"})]})}),l.jsx("div",{className:"space-y-6",children:ge.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-400",children:[l.jsx(Hm,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsxs("p",{className:"text-lg",children:['No results found for "',D,'"']}),l.jsx("p",{className:"text-sm mt-2",children:"Try a different search term"})]}):ge.map((he,je)=>l.jsxs("div",{className:"bg-slate-800 border border-gray-700 rounded-xl p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[l.jsx("span",{children:he.icon}),he.category]}),l.jsx("div",{className:"space-y-3",children:he.questions.map((Be,oe)=>{const ie=`${je}-${oe}`,xe=Y===ie;return l.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>de(xe?null:ie),className:"w-full p-4 text-left flex justify-between items-center hover:bg-slate-700/50 transition",children:[l.jsx("span",{className:"font-medium pr-4",children:Be.q}),l.jsx(jx,{className:`w-5 h-5 flex-shrink-0 transition-transform ${xe?"rotate-180":""}`})]}),xe&&l.jsx("div",{className:"p-4 pt-0 text-gray-300 border-t border-gray-700 bg-slate-900/50",children:l.jsx("p",{className:"leading-relaxed",children:Be.a})})]},oe)})})]},je))}),l.jsxs("div",{className:"mt-8 bg-blue-500/10 border border-blue-400/30 rounded-xl p-8 text-center",children:[l.jsx(Hm,{className:"w-12 h-12 mx-auto mb-4 text-blue-400"}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Still need help?"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Can't find what you're looking for? We're here to help!"}),l.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[l.jsxs("a",{href:"mailto:hello@innovend.net",className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition inline-flex items-center gap-2",children:[l.jsx(Rx,{className:"w-5 h-5"}),"Email Us"]}),l.jsxs("button",{onClick:()=>tr(!0),className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition inline-flex items-center gap-2",children:[l.jsx(Gm,{className:"w-5 h-5"}),"Send Feedback"]})]})]})]})})}function So(){const{user:D,userProfile:L}=Ec(),[Y,de]=T.useState(!1),[Z,ge]=T.useState({type:"bug",subject:"",description:"",contactEmail:L?.email||""}),[he,je]=T.useState(""),Be=async oe=>{if(oe.preventDefault(),!Z.description||Z.description.length<10){je("error:Please provide a description (minimum 10 characters)");return}de(!0),je("");try{await Nd(Gs(xn,"feedback"),{...Z,userId:D?.uid||null,userEmail:L?.email||Z.contactEmail,timestamp:ii(),status:"new",userAgent:navigator.userAgent,url:window.location.href}),je("success"),setTimeout(()=>{tr(!1),ge({type:"bug",subject:"",description:"",contactEmail:L?.email||""}),je("")},2e3)}catch(ie){console.error("Error submitting feedback:",ie);let xe="Failed to submit feedback. ";ie.code==="permission-denied"||ie.message?.includes("permission")?xe+="Database permissions error. Please email your feedback to hello@innovend.net.":ie.code==="unavailable"||ie.message?.includes("network")?xe+="Network error. Please check your connection and try again.":ie.message?.includes("Firebase")?xe+="Service temporarily unavailable. Please try again later or email hello@innovend.net.":xe+="An unexpected error occurred. Please try again or email your feedback to hello@innovend.net.",je("error:"+xe)}finally{de(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full border border-blue-400/30 shadow-2xl",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Send Feedback"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Help us improve InnoVend"})]}),l.jsx("button",{onClick:()=>tr(!1),className:"text-gray-400 hover:text-white transition",children:l.jsx(Dt,{className:"w-6 h-6"})})]})}),l.jsxs("form",{onSubmit:Be,className:"p-6 space-y-4",children:[he.startsWith("error:")&&l.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:he.replace("error:","")}),he==="success"&&l.jsxs("div",{className:"bg-green-500/10 border border-green-400/30 rounded-lg p-4 text-green-400 flex items-center gap-2",children:[l.jsx(Fm,{className:"w-5 h-5"}),l.jsx("span",{children:"Thank you! Your feedback has been submitted."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Type of Feedback *"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:["bug","feature","question","other"].map(oe=>l.jsxs("button",{type:"button",onClick:()=>ge(ie=>({...ie,type:oe})),className:`py-3 px-4 rounded-lg border-2 transition capitalize ${Z.type===oe?"bg-blue-500/20 border-blue-400 text-blue-400":"bg-slate-800 border-gray-700 hover:border-gray-600"}`,children:[oe==="bug"&&" Bug Report",oe==="feature"&&" Feature Request",oe==="question"&&" Question",oe==="other"&&" Other"]},oe))})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium",children:"Subject (Optional)"}),l.jsx("input",{type:"text",id:"subject",value:Z.subject,onChange:oe=>ge(ie=>({...ie,subject:oe.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition",placeholder:"Brief summary of your feedback"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block mb-2 text-sm font-medium",children:"Description *"}),l.jsx("textarea",{id:"description",value:Z.description,onChange:oe=>ge(ie=>({...ie,description:oe.target.value})),rows:6,required:!0,minLength:10,className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition resize-none",placeholder:"Please provide as much detail as possible..."}),l.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[Z.description.length,"/10 characters minimum"]})]}),!D&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"contactEmail",className:"block mb-2 text-sm font-medium",children:"Contact Email (Optional)"}),l.jsx("input",{type:"email",id:"contactEmail",value:Z.contactEmail,onChange:oe=>ge(ie=>({...ie,contactEmail:oe.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition",placeholder:"your@email.com (if you'd like a response)"})]}),l.jsxs("div",{className:"flex gap-3 pt-2",children:[l.jsx("button",{type:"button",onClick:()=>tr(!1),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:Y||!Z.description||Z.description.length<10,className:`flex-1 py-3 rounded-lg font-semibold transition ${Y||!Z.description||Z.description.length<10?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:Y?"Submitting...":"Submit Feedback"})]})]})]})})}function ul(){const D="1.3.0",[L,Y]=T.useState(!1),de=()=>{L&&localStorage.setItem("lastSeenVersion",D),Ms(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full border border-blue-400/30 shadow-2xl animate-bounce-in",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:"What's New in InnoVend"}),l.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Version ",D,"  January 10, 2026"]})]}),l.jsx("button",{onClick:de,className:"text-gray-400 hover:text-white transition",children:l.jsx(Dt,{className:"w-6 h-6"})})]})}),l.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx(Fm,{className:"w-5 h-5 text-green-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white mb-1",children:"Improved Service Request Form"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Enhanced form validation with helpful error messages and real-time feedback. Now includes location type and daily people count questions."})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx(gA,{className:"w-5 h-5 text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white mb-1",children:"Navigation Highlighting"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Active section is now highlighted in the navigation bar as you scroll through the page."})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-purple-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx(Wl,{className:"w-5 h-5 text-purple-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white mb-1",children:"Password Strength Indicator"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time password strength feedback when creating your account, helping you choose a secure password."})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-cyan-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx(Gm,{className:"w-5 h-5 text-cyan-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white mb-1",children:"Feedback System"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"New floating feedback button lets you report bugs, request features, or ask questions directly."})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx(Hm,{className:"w-5 h-5 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-white mb-1",children:"Help & FAQ Page"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Comprehensive FAQ with 22 answers to common questions, searchable and organized by category."})]})]})]})}),l.jsxs("div",{className:"p-6 border-t border-gray-700 space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"dontShowAgain",checked:L,onChange:Z=>Y(Z.target.checked),className:"w-4 h-4"}),l.jsx("label",{htmlFor:"dontShowAgain",className:"text-sm text-gray-300 cursor-pointer",children:"Don't show this again for this version"})]}),l.jsx("button",{onClick:de,className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Got it, thanks!"})]})]})})}function dl(){const D=[{key:"?",description:"Show this keyboard shortcuts help"},{key:"Esc",description:"Close open modals"}];return l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-lg w-full border border-blue-400/30 shadow-2xl",children:[l.jsx("div",{className:"p-6 border-b border-gray-700",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Keyboard Shortcuts"}),l.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Navigate faster with these shortcuts"})]}),l.jsx("button",{onClick:()=>_n(!1),className:"text-gray-400 hover:text-white transition",children:l.jsx(Dt,{className:"w-6 h-6"})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"space-y-3",children:D.map((L,Y)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg border border-gray-700",children:[l.jsx("span",{className:"text-gray-300",children:L.description}),l.jsx("kbd",{className:"px-3 py-1.5 bg-slate-700 border border-gray-600 rounded text-sm font-mono text-blue-400",children:L.key})]},Y))}),l.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-400/30 rounded-lg",children:l.jsxs("p",{className:"text-sm text-gray-300 text-center",children:["Press ",l.jsx("kbd",{className:"px-2 py-1 bg-slate-700 border border-gray-600 rounded text-xs font-mono text-blue-400",children:"?"})," anytime to see this help"]})})]}),l.jsx("div",{className:"p-6 border-t border-gray-700",children:l.jsx("button",{onClick:()=>_n(!1),className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})})}};iS.createRoot(document.getElementById("root")).render(l.jsx(T.StrictMode,{children:l.jsx(T1,{children:l.jsx(jD,{children:l.jsx(FD,{})})})}));
