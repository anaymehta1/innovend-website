(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function YT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dm={exports:{}},xc={};var ux;function KT(){if(ux)return xc;ux=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:i,key:h,ref:l!==void 0?l:null,props:u}}return xc.Fragment=e,xc.jsx=n,xc.jsxs=n,xc}var dx;function QT(){return dx||(dx=1,Dm.exports=KT()),Dm.exports}var o=QT(),Om={exports:{}},Ye={};var hx;function XT(){if(hx)return Ye;hx=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function L(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,F={};function ue(C,te,ge){this.props=C,this.context=te,this.refs=F,this.updater=ge||Q}ue.prototype.isReactComponent={},ue.prototype.setState=function(C,te){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,te,"setState")},ue.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function se(){}se.prototype=ue.prototype;function fe(C,te,ge){this.props=C,this.context=te,this.refs=F,this.updater=ge||Q}var _e=fe.prototype=new se;_e.constructor=fe,J(_e,ue.prototype),_e.isPureReactComponent=!0;var Oe=Array.isArray;function X(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function j(C,te,ge){var Te=ge.ref;return{$$typeof:r,type:C,key:te,ref:Te!==void 0?Te:null,props:ge}}function P(C,te){return j(C.type,te,C.props)}function k(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function U(C){var te={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ge){return te[ge]})}var I=/\/+/g;function nt(C,te){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):te.toString(36)}function _t(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(X,X):(C.status="pending",C.then(function(te){C.status==="pending"&&(C.status="fulfilled",C.value=te)},function(te){C.status==="pending"&&(C.status="rejected",C.reason=te)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ee(C,te,ge,Te,Pe){var Ue=typeof C;(Ue==="undefined"||Ue==="boolean")&&(C=null);var Xe=!1;if(C===null)Xe=!0;else switch(Ue){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(C.$$typeof){case r:case e:Xe=!0;break;case _:return Xe=C._init,ee(Xe(C._payload),te,ge,Te,Pe)}}if(Xe)return Pe=Pe(C),Xe=Te===""?"."+nt(C,0):Te,Oe(Pe)?(ge="",Xe!=null&&(ge=Xe.replace(I,"$&/")+"/"),ee(Pe,te,ge,"",function(Ws){return Ws})):Pe!=null&&(k(Pe)&&(Pe=P(Pe,ge+(Pe.key==null||C&&C.key===Pe.key?"":(""+Pe.key).replace(I,"$&/")+"/")+Xe)),te.push(Pe)),1;Xe=0;var Tt=Te===""?".":Te+":";if(Oe(C))for(var Rt=0;Rt<C.length;Rt++)Te=C[Rt],Ue=Tt+nt(Te,Rt),Xe+=ee(Te,te,ge,Ue,Pe);else if(Rt=L(C),typeof Rt=="function")for(C=Rt.call(C),Rt=0;!(Te=C.next()).done;)Te=Te.value,Ue=Tt+nt(Te,Rt++),Xe+=ee(Te,te,ge,Ue,Pe);else if(Ue==="object"){if(typeof C.then=="function")return ee(_t(C),te,ge,Te,Pe);throw te=String(C),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function me(C,te,ge){if(C==null)return C;var Te=[],Pe=0;return ee(C,Te,"","",function(Ue){return te.call(ge,Ue,Pe++)}),Te}function Se(C){if(C._status===-1){var te=C._result;te=te(),te.then(function(ge){(C._status===0||C._status===-1)&&(C._status=1,C._result=ge)},function(ge){(C._status===0||C._status===-1)&&(C._status=2,C._result=ge)}),C._status===-1&&(C._status=0,C._result=te)}if(C._status===1)return C._result.default;throw C._result}var Ne=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ze={map:me,forEach:function(C,te,ge){me(C,function(){te.apply(this,arguments)},ge)},count:function(C){var te=0;return me(C,function(){te++}),te},toArray:function(C){return me(C,function(te){return te})||[]},only:function(C){if(!k(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Ye.Activity=w,Ye.Children=Ze,Ye.Component=ue,Ye.Fragment=n,Ye.Profiler=l,Ye.PureComponent=fe,Ye.StrictMode=i,Ye.Suspense=g,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},Ye.cache=function(C){return function(){return C.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(C,te,ge){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Te=J({},C.props),Pe=C.key;if(te!=null)for(Ue in te.key!==void 0&&(Pe=""+te.key),te)!A.call(te,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&te.ref===void 0||(Te[Ue]=te[Ue]);var Ue=arguments.length-2;if(Ue===1)Te.children=ge;else if(1<Ue){for(var Xe=Array(Ue),Tt=0;Tt<Ue;Tt++)Xe[Tt]=arguments[Tt+2];Te.children=Xe}return j(C.type,Pe,Te)},Ye.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Ye.createElement=function(C,te,ge){var Te,Pe={},Ue=null;if(te!=null)for(Te in te.key!==void 0&&(Ue=""+te.key),te)A.call(te,Te)&&Te!=="key"&&Te!=="__self"&&Te!=="__source"&&(Pe[Te]=te[Te]);var Xe=arguments.length-2;if(Xe===1)Pe.children=ge;else if(1<Xe){for(var Tt=Array(Xe),Rt=0;Rt<Xe;Rt++)Tt[Rt]=arguments[Rt+2];Pe.children=Tt}if(C&&C.defaultProps)for(Te in Xe=C.defaultProps,Xe)Pe[Te]===void 0&&(Pe[Te]=Xe[Te]);return j(C,Ue,Pe)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(C){return{$$typeof:p,render:C}},Ye.isValidElement=k,Ye.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:Se}},Ye.memo=function(C,te){return{$$typeof:y,type:C,compare:te===void 0?null:te}},Ye.startTransition=function(C){var te=R.T,ge={};R.T=ge;try{var Te=C(),Pe=R.S;Pe!==null&&Pe(ge,Te),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"&&Te.then(X,Ne)}catch(Ue){Ne(Ue)}finally{te!==null&&ge.types!==null&&(te.types=ge.types),R.T=te}},Ye.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ye.use=function(C){return R.H.use(C)},Ye.useActionState=function(C,te,ge){return R.H.useActionState(C,te,ge)},Ye.useCallback=function(C,te){return R.H.useCallback(C,te)},Ye.useContext=function(C){return R.H.useContext(C)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(C,te){return R.H.useDeferredValue(C,te)},Ye.useEffect=function(C,te){return R.H.useEffect(C,te)},Ye.useEffectEvent=function(C){return R.H.useEffectEvent(C)},Ye.useId=function(){return R.H.useId()},Ye.useImperativeHandle=function(C,te,ge){return R.H.useImperativeHandle(C,te,ge)},Ye.useInsertionEffect=function(C,te){return R.H.useInsertionEffect(C,te)},Ye.useLayoutEffect=function(C,te){return R.H.useLayoutEffect(C,te)},Ye.useMemo=function(C,te){return R.H.useMemo(C,te)},Ye.useOptimistic=function(C,te){return R.H.useOptimistic(C,te)},Ye.useReducer=function(C,te,ge){return R.H.useReducer(C,te,ge)},Ye.useRef=function(C){return R.H.useRef(C)},Ye.useState=function(C){return R.H.useState(C)},Ye.useSyncExternalStore=function(C,te,ge){return R.H.useSyncExternalStore(C,te,ge)},Ye.useTransition=function(){return R.H.useTransition()},Ye.version="19.2.3",Ye}var fx;function zp(){return fx||(fx=1,Om.exports=XT()),Om.exports}var T=zp();const WT=YT(T);var Mm={exports:{}},vc={},Pm={exports:{}},Vm={};var mx;function JT(){return mx||(mx=1,(function(r){function e(ee,me){var Se=ee.length;ee.push(me);e:for(;0<Se;){var Ne=Se-1>>>1,Ze=ee[Ne];if(0<l(Ze,me))ee[Ne]=me,ee[Se]=Ze,Se=Ne;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var me=ee[0],Se=ee.pop();if(Se!==me){ee[0]=Se;e:for(var Ne=0,Ze=ee.length,C=Ze>>>1;Ne<C;){var te=2*(Ne+1)-1,ge=ee[te],Te=te+1,Pe=ee[Te];if(0>l(ge,Se))Te<Ze&&0>l(Pe,ge)?(ee[Ne]=Pe,ee[Te]=Se,Ne=Te):(ee[Ne]=ge,ee[te]=Se,Ne=te);else if(Te<Ze&&0>l(Pe,Se))ee[Ne]=Pe,ee[Te]=Se,Ne=Te;else break e}}return me}function l(ee,me){var Se=ee.sortIndex-me.sortIndex;return Se!==0?Se:ee.id-me.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],_=1,w=null,S=3,L=!1,Q=!1,J=!1,F=!1,ue=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function _e(ee){for(var me=n(y);me!==null;){if(me.callback===null)i(y);else if(me.startTime<=ee)i(y),me.sortIndex=me.expirationTime,e(g,me);else break;me=n(y)}}function Oe(ee){if(J=!1,_e(ee),!Q)if(n(g)!==null)Q=!0,X||(X=!0,U());else{var me=n(y);me!==null&&_t(Oe,me.startTime-ee)}}var X=!1,R=-1,A=5,j=-1;function P(){return F?!0:!(r.unstable_now()-j<A)}function k(){if(F=!1,X){var ee=r.unstable_now();j=ee;var me=!0;try{e:{Q=!1,J&&(J=!1,se(R),R=-1),L=!0;var Se=S;try{t:{for(_e(ee),w=n(g);w!==null&&!(w.expirationTime>ee&&P());){var Ne=w.callback;if(typeof Ne=="function"){w.callback=null,S=w.priorityLevel;var Ze=Ne(w.expirationTime<=ee);if(ee=r.unstable_now(),typeof Ze=="function"){w.callback=Ze,_e(ee),me=!0;break t}w===n(g)&&i(g),_e(ee)}else i(g);w=n(g)}if(w!==null)me=!0;else{var C=n(y);C!==null&&_t(Oe,C.startTime-ee),me=!1}}break e}finally{w=null,S=Se,L=!1}me=void 0}}finally{me?U():X=!1}}}var U;if(typeof fe=="function")U=function(){fe(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,nt=I.port2;I.port1.onmessage=k,U=function(){nt.postMessage(null)}}else U=function(){ue(k,0)};function _t(ee,me){R=ue(function(){ee(r.unstable_now())},me)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var me=3;break;default:me=S}var Se=S;S=me;try{return ee()}finally{S=Se}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(ee,me){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Se=S;S=ee;try{return me()}finally{S=Se}},r.unstable_scheduleCallback=function(ee,me,Se){var Ne=r.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Ne+Se:Ne):Se=Ne,ee){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=Se+Ze,ee={id:_++,callback:me,priorityLevel:ee,startTime:Se,expirationTime:Ze,sortIndex:-1},Se>Ne?(ee.sortIndex=Se,e(y,ee),n(g)===null&&ee===n(y)&&(J?(se(R),R=-1):J=!0,_t(Oe,Se-Ne))):(ee.sortIndex=Ze,e(g,ee),Q||L||(Q=!0,X||(X=!0,U()))),ee},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(ee){var me=S;return function(){var Se=S;S=me;try{return ee.apply(this,arguments)}finally{S=Se}}}})(Vm)),Vm}var px;function ZT(){return px||(px=1,Pm.exports=JT()),Pm.exports}var Lm={exports:{}},jn={};var gx;function eS(){if(gx)return jn;gx=1;var r=zp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:g,containerInfo:y,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,jn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,_)},jn.flushSync=function(g){var y=h.T,_=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=_,i.d.f()}},jn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},jn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},jn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,w=p(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:L}):_==="script"&&i.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},jn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},jn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,w=p(_,y.crossOrigin);i.d.L(g,_,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},jn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},jn.requestFormReset=function(g){i.d.r(g)},jn.unstable_batchedUpdates=function(g,y){return g(y)},jn.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},jn.useFormStatus=function(){return h.H.useHostTransitionStatus()},jn.version="19.2.3",jn}var yx;function tS(){if(yx)return Lm.exports;yx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lm.exports=eS(),Lm.exports}var bx;function nS(){if(bx)return vc;bx=1;var r=ZT(),e=zp(),n=tS();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,c=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===c)return g(f),s;m=m.sibling}throw Error(i(188))}if(a.return!==c.return)a=f,c=m;else{for(var x=!1,E=f.child;E;){if(E===a){x=!0,a=f,c=m;break}if(E===c){x=!0,c=f,a=m;break}E=E.sibling}if(!x){for(E=m.child;E;){if(E===a){x=!0,a=m,c=f;break}if(E===c){x=!0,c=m,a=f;break}E=E.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ue:return"Profiler";case F:return"StrictMode";case Oe:return"Suspense";case X:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case fe:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case _e:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return s=t.displayName||null,s!==null?s:nt(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return nt(t(s))}catch{}}return null}var _t=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Ne=[],Ze=-1;function C(t){return{current:t}}function te(t){0>Ze||(t.current=Ne[Ze],Ne[Ze]=null,Ze--)}function ge(t,s){Ze++,Ne[Ze]=t.current,t.current=s}var Te=C(null),Pe=C(null),Ue=C(null),Xe=C(null);function Tt(t,s){switch(ge(Ue,s),ge(Pe,t),ge(Te,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Db(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Db(s),t=Ob(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(Te),ge(Te,t)}function Rt(){te(Te),te(Pe),te(Ue)}function Ws(t){t.memoizedState!==null&&ge(Xe,t);var s=Te.current,a=Ob(s,t.type);s!==a&&(ge(Pe,t),ge(Te,a))}function _r(t){Pe.current===t&&(te(Te),te(Pe)),Xe.current===t&&(te(Xe),pc._currentValue=Se)}var gi,wr;function ds(t){if(gi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);gi=s&&s[1]||"",wr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gi+t+wr}var wa=!1;function yi(t,s){if(!t||wa)return"";wa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var $=W}Reflect.construct(t,[],oe)}else{try{oe.call()}catch(W){$=W}t.call(oe.prototype)}}else{try{throw Error()}catch(W){$=W}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&$&&typeof W.stack=="string")return[W.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),x=m[0],E=m[1];if(x&&E){var D=x.split(`
`),G=E.split(`
`);for(f=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(c===D.length||f===G.length)for(c=D.length-1,f=G.length-1;1<=c&&0<=f&&D[c]!==G[f];)f--;for(;1<=c&&0<=f;c--,f--)if(D[c]!==G[f]){if(c!==1||f!==1)do if(c--,f--,0>f||D[c]!==G[f]){var ne=`
`+D[c].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=c&&0<=f);break}}}finally{wa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ds(a):""}function Ea(t,s){switch(t.tag){case 26:case 27:case 5:return ds(t.type);case 16:return ds("Lazy");case 13:return t.child!==s&&s!==null?ds("Suspense Fallback"):ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return yi(t.type,!1);case 11:return yi(t.type.render,!1);case 1:return yi(t.type,!0);case 31:return ds("Activity");default:return""}}function it(t){try{var s="",a=null;do s+=Ea(t,a),a=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var zt=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,Rs=r.unstable_cancelCallback,Is=r.unstable_shouldYield,Er=r.unstable_requestPaint,cn=r.unstable_now,ks=r.unstable_getCurrentPriorityLevel,Nr=r.unstable_ImmediatePriority,Js=r.unstable_UserBlockingPriority,hs=r.unstable_NormalPriority,Zs=r.unstable_LowPriority,Qn=r.unstable_IdlePriority,er=r.log,Tr=r.unstable_setDisableYieldValue,Xn=null,Qt=null;function xn(t){if(typeof er=="function"&&Tr(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Xn,t)}catch{}}var Dt=Math.clz32?Math.clz32:tr,ft=Math.log,Dn=Math.LN2;function tr(t){return t>>>=0,t===0?32:31-(ft(t)/Dn|0)|0}var On=256,nr=262144,qt=4194304;function Mn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fs(t,s,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var E=c&134217727;return E!==0?(c=E&~m,c!==0?f=Mn(c):(x&=E,x!==0?f=Mn(x):a||(a=E&~t,a!==0&&(f=Mn(a))))):(E=c&~m,E!==0?f=Mn(E):x!==0?f=Mn(x):a||(a=c&~t,a!==0&&(f=Mn(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Bt(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function ao(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oo(){var t=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),t}function ms(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Sr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nl(t,s,a,c,f,m){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(a=x&~a;0<a;){var ne=31-Dt(a),oe=1<<ne;E[ne]=0,D[ne]=-1;var $=G[ne];if($!==null)for(G[ne]=null,ne=0;ne<$.length;ne++){var W=$[ne];W!==null&&(W.lane&=-536870913)}a&=~oe}c!==0&&Ar(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(x&~s))}function Ar(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-Dt(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function Na(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var c=31-Dt(a),f=1<<c;f&s|t[c]&s&&(t[c]|=s),a&=~f}}function Ta(t,s){var a=s&-s;return a=(a&42)!==0?1:jr(a),(a&(t.suspendedLanes|s))!==0?0:a}function jr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ds(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lo(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:sx(t.type))}function Wn(t,s){var a=me.p;try{return me.p=t,s()}finally{me.p=a}}var Jn=Math.random().toString(36).slice(2),$t="__reactFiber$"+Jn,en="__reactProps$"+Jn,ps="__reactContainer$"+Jn,bi="__reactEvents$"+Jn,Tl="__reactListeners$"+Jn,co="__reactHandles$"+Jn,uo="__reactResources$"+Jn,O="__reactMarker$"+Jn;function V(t){delete t[$t],delete t[en],delete t[bi],delete t[Tl],delete t[co]}function K(t){var s=t[$t];if(s)return s;for(var a=t.parentNode;a;){if(s=a[ps]||a[$t]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=qb(t);t!==null;){if(a=t[$t])return a;t=qb(t)}return s}t=a,a=t.parentNode}return null}function de(t){if(t=t[$t]||t[ps]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Z(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function pe(t){var s=t[uo];return s||(s=t[uo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function he(t){t[O]=!0}var Ae=new Set,Be={};function le(t,s){ie(t,s),ie(t+"Capture",s)}function ie(t,s){for(Be[t]=s,t=0;t<s.length;t++)Ae.add(s[t])}var be=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ye={},ze={};function Ee(t){return zt.call(ze,t)?!0:zt.call(ye,t)?!1:be.test(t)?ze[t]=!0:(ye[t]=!0,!1)}function De(t,s,a){if(Ee(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function We(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function ve(t,s,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+c)}}function Ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gt(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xe(t,s,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(x){a=""+x,m.call(this,x)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Fe(t){if(!t._valueTracker){var s=gt(t)?"checked":"value";t._valueTracker=xe(t,s,""+t[s])}}function dt(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return t&&(c=gt(t)?t.checked?"true":"false":t.value),t=c,t!==a?(s.setValue(t),!0):!1}function mn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function un(t){return t.replace(Cr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Rr(t,s,a,c,f,m,x,E){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),s!=null?x==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Ie(s)):t.value!==""+Ie(s)&&(t.value=""+Ie(s)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),s!=null?ho(t,x,Ie(s)):a!=null?ho(t,x,Ie(a)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ie(E):t.removeAttribute("name")}function Ir(t,s,a,c,f,m,x,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Fe(t);return}a=a!=null?""+Ie(a):"",s=s!=null?""+Ie(s):a,E||s===t.value||(t.value=s),t.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=E?t.checked:!!c,t.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),Fe(t)}function ho(t,s,a){s==="number"&&mn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,s,a,c){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Ie(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Sl(t,s,a){if(s!=null&&(s=""+Ie(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Ie(a):""}function Dr(t,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(_t(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=Ie(s),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),Fe(t)}function Pn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Al=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fo(t,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,a):typeof a!="number"||a===0||Al.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function mo(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&a[f]!==c&&fo(t,f,c)}else for(var m in s)s.hasOwnProperty(m)&&fo(t,m,s[m])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Or.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function gs(){}var po=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mr=null,Os=null;function xi(t){var s=de(t);if(s&&(t=s.stateNode)){var a=t[en]||null;e:switch(t=s.stateNode,s.type){case"input":if(Rr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==t&&c.form===t.form){var f=c[en]||null;if(!f)throw Error(i(90));Rr(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===t.form&&dt(c)}break e;case"textarea":Sl(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&kr(t,!!a.multiple,s,!1)}}}var ja=!1;function Pr(t,s,a){if(ja)return t(s,a);ja=!0;try{var c=t(s);return c}finally{if(ja=!1,(Mr!==null||Os!==null)&&(Yu(),Mr&&(s=Mr,t=Os,Os=Mr=null,xi(s),t)))for(s=0;s<t.length;s++)xi(t[s])}}function ys(t,s){var a=t.stateNode;if(a===null)return null;var c=a[en]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vi=!1;if(es)try{var wt={};Object.defineProperty(wt,"passive",{get:function(){vi=!0}}),window.addEventListener("test",wt,wt),window.removeEventListener("test",wt,wt)}catch{vi=!1}var Ms=null,go=null,_i=null;function yo(){if(_i)return _i;var t,s=go,a=s.length,c,f="value"in Ms?Ms.value:Ms.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var x=a-t;for(c=1;c<=x&&s[a-c]===f[m-c];c++);return _i=f.slice(t,1<c?1-c:void 0)}function wi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function sr(){return!0}function bs(){return!1}function pn(t){function s(a,c,f,m,x){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?sr:bs,this.isPropagationStopped=bs,this}return w(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),s}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=pn(rr),Vr=w({},rr,{view:0,detail:0}),bo=pn(Vr),Lr,Ca,Vs,Ra=w({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vs&&(Vs&&t.type==="mousemove"?(Lr=t.screenX-Vs.screenX,Ca=t.screenY-Vs.screenY):Ca=Lr=0,Vs=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),xo=pn(Ra),Ei=w({},Ra,{dataTransfer:0}),Cl=pn(Ei),Rl=w({},Vr,{relatedTarget:0}),Ni=pn(Rl),vo=w({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Il=pn(vo),Ti=w({},rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kl=pn(Ti),_o=w({},rr,{data:0}),Ls=pn(_o),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ml(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Ol[t])?!!s[t]:!1}function Ur(){return Ml}var An=w({},Vr,{key:function(t){if(t.key){var s=wo[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=wi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(t){return t.type==="keypress"?wi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pl=pn(An),Vl=w({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ir=pn(Vl),d=w({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),b=pn(d),v=w({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=pn(v),B=w({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=pn(B),q=w({},rr,{newState:0,oldState:0}),Re=pn(q),mt=[9,13,27,32],et=es&&"CompositionEvent"in window,tt=null;es&&"documentMode"in document&&(tt=document.documentMode);var Ft=es&&"TextEvent"in window&&!tt,Us=es&&(!et||tt&&8<tt&&11>=tt),ts=" ",ns=!1;function Si(t,s){switch(t){case"keyup":return mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ai(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function Gg(t,s){switch(t){case"compositionend":return Ai(s);case"keypress":return s.which!==32?null:(ns=!0,ts);case"textInput":return t=s.data,t===ts&&ns?null:t;default:return null}}function Ph(t,s){if(ji)return t==="compositionend"||!et&&Si(t,s)?(t=yo(),_i=go=Ms=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Us&&s.locale!=="ko"?null:s.data;default:return null}}var Vh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Vh[t.type]:s==="textarea"}function du(t,s,a,c){Mr?Os?Os.push(c):Os=[c]:Mr=c,s=ed(s,"onChange"),0<s.length&&(a=new Ps("onChange","change",null,a,c),t.push({event:a,listeners:s}))}var Ot=null,Ll=null;function vN(t){Ab(t,0)}function hu(t){var s=Z(t);if(dt(s))return t}function $g(t,s){if(t==="change")return s}var Yg=!1;if(es){var Uh;if(es){var zh="oninput"in document;if(!zh){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),zh=typeof Kg.oninput=="function"}Uh=zh}else Uh=!1;Yg=Uh&&(!document.documentMode||9<document.documentMode)}function Qg(){Ot&&(Ot.detachEvent("onpropertychange",Xg),Ll=Ot=null)}function Xg(t){if(t.propertyName==="value"&&hu(Ll)){var s=[];du(s,Ll,t,Zn(t)),Pr(vN,s)}}function _N(t,s,a){t==="focusin"?(Qg(),Ot=s,Ll=a,Ot.attachEvent("onpropertychange",Xg)):t==="focusout"&&Qg()}function wN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(Ll)}function EN(t,s){if(t==="click")return hu(s)}function NN(t,s){if(t==="input"||t==="change")return hu(s)}function TN(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ss=typeof Object.is=="function"?Object.is:TN;function Ul(t,s){if(ss(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!zt.call(s,f)||!ss(t[f],s[f]))return!1}return!0}function Wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,s){var a=Wg(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=s&&c>=s)return{node:a,offset:s-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wg(a)}}function Zg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Zg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ey(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=mn(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=mn(t.document)}return s}function qh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var SN=es&&"documentMode"in document&&11>=document.documentMode,Eo=null,Bh=null,zl=null,Fh=!1;function ty(t,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fh||Eo==null||Eo!==mn(c)||(c=Eo,"selectionStart"in c&&qh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zl&&Ul(zl,c)||(zl=c,c=ed(Bh,"onSelect"),0<c.length&&(s=new Ps("onSelect","select",null,s,a),t.push({event:s,listeners:c}),s.target=Eo)))}function Ia(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var No={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},Hh={},ny={};es&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function ka(t){if(Hh[t])return Hh[t];if(!No[t])return t;var s=No[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in ny)return Hh[t]=s[a];return t}var sy=ka("animationend"),ry=ka("animationiteration"),iy=ka("animationstart"),AN=ka("transitionrun"),jN=ka("transitionstart"),CN=ka("transitioncancel"),ay=ka("transitionend"),oy=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function zs(t,s){oy.set(t,s),le(s,[t])}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xs=[],To=0,$h=0;function mu(){for(var t=To,s=$h=To=0;s<t;){var a=xs[s];xs[s++]=null;var c=xs[s];xs[s++]=null;var f=xs[s];xs[s++]=null;var m=xs[s];if(xs[s++]=null,c!==null&&f!==null){var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}m!==0&&ly(a,f,m)}}function pu(t,s,a,c){xs[To++]=t,xs[To++]=s,xs[To++]=a,xs[To++]=c,$h|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Yh(t,s,a,c){return pu(t,s,a,c),gu(t)}function Da(t,s){return pu(t,null,null,s),gu(t)}function ly(t,s,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-Dt(a),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[s]:c.push(s),s.lane=a|536870912),m):null}function gu(t){if(50<lc)throw lc=0,sm=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var So={};function RN(t,s,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(t,s,a,c){return new RN(t,s,a,c)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,s){var a=t.alternate;return a===null?(a=rs(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function yu(t,s,a,c,f,m){var x=0;if(c=t,typeof t=="function")Kh(t)&&(x=1);else if(typeof t=="string")x=MT(t,a,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=rs(31,a,s,f),t.elementType=j,t.lanes=m,t;case J:return Oa(a.children,f,m,s);case F:x=8,f|=24;break;case ue:return t=rs(12,a,s,f|2),t.elementType=ue,t.lanes=m,t;case Oe:return t=rs(13,a,s,f),t.elementType=Oe,t.lanes=m,t;case X:return t=rs(19,a,s,f),t.elementType=X,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:x=10;break e;case se:x=9;break e;case _e:x=11;break e;case R:x=14;break e;case A:x=16,c=null;break e}x=29,a=Error(i(130,t===null?"null":typeof t,"")),c=null}return s=rs(x,a,s,f),s.elementType=t,s.type=c,s.lanes=m,s}function Oa(t,s,a,c){return t=rs(7,t,c,s),t.lanes=a,t}function Qh(t,s,a){return t=rs(6,t,null,s),t.lanes=a,t}function uy(t){var s=rs(18,null,null,0);return s.stateNode=t,s}function Xh(t,s,a){return s=rs(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var dy=new WeakMap;function vs(t,s){if(typeof t=="object"&&t!==null){var a=dy.get(t);return a!==void 0?a:(s={value:t,source:s,stack:it(s)},dy.set(t,s),s)}return{value:t,source:s,stack:it(s)}}var Ao=[],jo=0,bu=null,ql=0,_s=[],ws=0,Ci=null,ar=1,or="";function qr(t,s){Ao[jo++]=ql,Ao[jo++]=bu,bu=t,ql=s}function hy(t,s,a){_s[ws++]=ar,_s[ws++]=or,_s[ws++]=Ci,Ci=t;var c=ar;t=or;var f=32-Dt(c)-1;c&=~(1<<f),a+=1;var m=32-Dt(s)+f;if(30<m){var x=f-f%5;m=(c&(1<<x)-1).toString(32),c>>=x,f-=x,ar=1<<32-Dt(s)+f|a<<f|c,or=m+t}else ar=1<<m|a<<f|c,or=t}function Wh(t){t.return!==null&&(qr(t,1),hy(t,1,0))}function Jh(t){for(;t===bu;)bu=Ao[--jo],Ao[jo]=null,ql=Ao[--jo],Ao[jo]=null;for(;t===Ci;)Ci=_s[--ws],_s[ws]=null,or=_s[--ws],_s[ws]=null,ar=_s[--ws],_s[ws]=null}function fy(t,s){_s[ws++]=ar,_s[ws++]=or,_s[ws++]=Ci,ar=s.id,or=s.overflow,Ci=t}var vn=null,Vt=null,ht=!1,Ri=null,Es=!1,Zh=Error(i(519));function Ii(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(vs(s,t)),Zh}function my(t){var s=t.stateNode,a=t.type,c=t.memoizedProps;switch(s[$t]=t,s[en]=c,a){case"dialog":rt("cancel",s),rt("close",s);break;case"iframe":case"object":case"embed":rt("load",s);break;case"video":case"audio":for(a=0;a<uc.length;a++)rt(uc[a],s);break;case"source":rt("error",s);break;case"img":case"image":case"link":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"input":rt("invalid",s),Ir(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":rt("invalid",s);break;case"textarea":rt("invalid",s),Dr(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Ib(s.textContent,a)?(c.popover!=null&&(rt("beforetoggle",s),rt("toggle",s)),c.onScroll!=null&&rt("scroll",s),c.onScrollEnd!=null&&rt("scrollend",s),c.onClick!=null&&(s.onclick=gs),s=!0):s=!1,s||Ii(t,!0)}function py(t){for(vn=t.return;vn;)switch(vn.tag){case 5:case 31:case 13:Es=!1;return;case 27:case 3:Es=!0;return;default:vn=vn.return}}function Co(t){if(t!==vn)return!1;if(!ht)return py(t),ht=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bm(t.type,t.memoizedProps)),a=!a),a&&Vt&&Ii(t),py(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Vt=zb(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));Vt=zb(t)}else s===27?(s=Vt,Gi(t.type)?(t=Em,Em=null,Vt=t):Vt=s):Vt=vn?Ts(t.stateNode.nextSibling):null;return!0}function Ma(){Vt=vn=null,ht=!1}function ef(){var t=Ri;return t!==null&&(Bn===null?Bn=t:Bn.push.apply(Bn,t),Ri=null),t}function Bl(t){Ri===null?Ri=[t]:Ri.push(t)}var tf=C(null),Pa=null,Br=null;function ki(t,s,a){ge(tf,s._currentValue),s._currentValue=a}function Fr(t){t._currentValue=tf.current,te(tf)}function nf(t,s,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===a)break;t=t.return}}function sf(t,s,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var x=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var D=0;D<s.length;D++)if(E.context===s[D]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),nf(m.return,a,t),c||(x=null);break e}m=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(i(341));x.lanes|=a,m=x.alternate,m!==null&&(m.lanes|=a),nf(x,a,t),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Ro(t,s,a,c){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var E=f.type;ss(f.pendingProps.value,x.value)||(t!==null?t.push(E):t=[E])}}else if(f===Xe.current){if(x=f.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(pc):t=[pc])}f=f.return}t!==null&&sf(s,t,a,c),s.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!ss(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Va(t){Pa=t,Br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _n(t){return gy(Pa,t)}function vu(t,s){return Pa===null&&Va(t),gy(t,s)}function gy(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Br===null){if(t===null)throw Error(i(308));Br=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Br=Br.next=s;return a}var IN=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},kN=r.unstable_scheduleCallback,DN=r.unstable_NormalPriority,tn={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new IN,data:new Map,refCount:0}}function Fl(t){t.refCount--,t.refCount===0&&kN(DN,function(){t.controller.abort()})}var Hl=null,af=0,Io=0,ko=null;function ON(t,s){if(Hl===null){var a=Hl=[];af=0,Io=cm(),ko={status:"pending",value:void 0,then:function(c){a.push(c)}}}return af++,s.then(yy,yy),s}function yy(){if(--af===0&&Hl!==null){ko!==null&&(ko.status="fulfilled");var t=Hl;Hl=null,Io=0,ko=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function MN(t,s){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var by=ee.S;ee.S=function(t,s){tb=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ON(t,s),by!==null&&by(t,s)};var La=C(null);function of(){var t=La.current;return t!==null?t:It.pooledCache}function _u(t,s){s===null?ge(La,La.current):ge(La,s.pool)}function xy(){var t=of();return t===null?null:{parent:tn._currentValue,pool:t}}var Do=Error(i(460)),lf=Error(i(474)),wu=Error(i(542)),Eu={then:function(){}};function vy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _y(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(gs,gs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ey(t),t;default:if(typeof s.status=="string")s.then(gs,gs);else{if(t=It,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ey(t),t}throw za=s,Do}}function Ua(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(za=a,Do):a}}var za=null;function wy(){if(za===null)throw Error(i(459));var t=za;return za=null,t}function Ey(t){if(t===Do||t===wu)throw Error(i(483))}var Oo=null,Gl=0;function Nu(t){var s=Gl;return Gl+=1,Oo===null&&(Oo=[]),_y(Oo,t,s)}function $l(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Tu(t,s){throw s.$$typeof===S?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Ny(t){function s(z,M){if(t){var H=z.deletions;H===null?(z.deletions=[M],z.flags|=16):H.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)s(z,M),M=M.sibling;return null}function c(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function f(z,M){return z=zr(z,M),z.index=0,z.sibling=null,z}function m(z,M,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<M?(z.flags|=67108866,M):H):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function x(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,M,H,re){return M===null||M.tag!==6?(M=Qh(H,z.mode,re),M.return=z,M):(M=f(M,H),M.return=z,M)}function D(z,M,H,re){var Ve=H.type;return Ve===J?ne(z,M,H.props.children,re,H.key):M!==null&&(M.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===A&&Ua(Ve)===M.type)?(M=f(M,H.props),$l(M,H),M.return=z,M):(M=yu(H.type,H.key,H.props,null,z.mode,re),$l(M,H),M.return=z,M)}function G(z,M,H,re){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Xh(H,z.mode,re),M.return=z,M):(M=f(M,H.children||[]),M.return=z,M)}function ne(z,M,H,re,Ve){return M===null||M.tag!==7?(M=Oa(H,z.mode,re,Ve),M.return=z,M):(M=f(M,H),M.return=z,M)}function oe(z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qh(""+M,z.mode,H),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return H=yu(M.type,M.key,M.props,null,z.mode,H),$l(H,M),H.return=z,H;case Q:return M=Xh(M,z.mode,H),M.return=z,M;case A:return M=Ua(M),oe(z,M,H)}if(_t(M)||U(M))return M=Oa(M,z.mode,H,null),M.return=z,M;if(typeof M.then=="function")return oe(z,Nu(M),H);if(M.$$typeof===fe)return oe(z,vu(z,M),H);Tu(z,M)}return null}function $(z,M,H,re){var Ve=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ve!==null?null:E(z,M,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===Ve?D(z,M,H,re):null;case Q:return H.key===Ve?G(z,M,H,re):null;case A:return H=Ua(H),$(z,M,H,re)}if(_t(H)||U(H))return Ve!==null?null:ne(z,M,H,re,null);if(typeof H.then=="function")return $(z,M,Nu(H),re);if(H.$$typeof===fe)return $(z,M,vu(z,H),re);Tu(z,H)}return null}function W(z,M,H,re,Ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(H)||null,E(M,z,""+re,Ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case L:return z=z.get(re.key===null?H:re.key)||null,D(M,z,re,Ve);case Q:return z=z.get(re.key===null?H:re.key)||null,G(M,z,re,Ve);case A:return re=Ua(re),W(z,M,H,re,Ve)}if(_t(re)||U(re))return z=z.get(H)||null,ne(M,z,re,Ve,null);if(typeof re.then=="function")return W(z,M,H,Nu(re),Ve);if(re.$$typeof===fe)return W(z,M,H,vu(M,re),Ve);Tu(M,re)}return null}function Ce(z,M,H,re){for(var Ve=null,yt=null,ke=M,Je=M=0,ot=null;ke!==null&&Je<H.length;Je++){ke.index>Je?(ot=ke,ke=null):ot=ke.sibling;var bt=$(z,ke,H[Je],re);if(bt===null){ke===null&&(ke=ot);break}t&&ke&&bt.alternate===null&&s(z,ke),M=m(bt,M,Je),yt===null?Ve=bt:yt.sibling=bt,yt=bt,ke=ot}if(Je===H.length)return a(z,ke),ht&&qr(z,Je),Ve;if(ke===null){for(;Je<H.length;Je++)ke=oe(z,H[Je],re),ke!==null&&(M=m(ke,M,Je),yt===null?Ve=ke:yt.sibling=ke,yt=ke);return ht&&qr(z,Je),Ve}for(ke=c(ke);Je<H.length;Je++)ot=W(ke,z,Je,H[Je],re),ot!==null&&(t&&ot.alternate!==null&&ke.delete(ot.key===null?Je:ot.key),M=m(ot,M,Je),yt===null?Ve=ot:yt.sibling=ot,yt=ot);return t&&ke.forEach(function(Xi){return s(z,Xi)}),ht&&qr(z,Je),Ve}function qe(z,M,H,re){if(H==null)throw Error(i(151));for(var Ve=null,yt=null,ke=M,Je=M=0,ot=null,bt=H.next();ke!==null&&!bt.done;Je++,bt=H.next()){ke.index>Je?(ot=ke,ke=null):ot=ke.sibling;var Xi=$(z,ke,bt.value,re);if(Xi===null){ke===null&&(ke=ot);break}t&&ke&&Xi.alternate===null&&s(z,ke),M=m(Xi,M,Je),yt===null?Ve=Xi:yt.sibling=Xi,yt=Xi,ke=ot}if(bt.done)return a(z,ke),ht&&qr(z,Je),Ve;if(ke===null){for(;!bt.done;Je++,bt=H.next())bt=oe(z,bt.value,re),bt!==null&&(M=m(bt,M,Je),yt===null?Ve=bt:yt.sibling=bt,yt=bt);return ht&&qr(z,Je),Ve}for(ke=c(ke);!bt.done;Je++,bt=H.next())bt=W(ke,z,Je,bt.value,re),bt!==null&&(t&&bt.alternate!==null&&ke.delete(bt.key===null?Je:bt.key),M=m(bt,M,Je),yt===null?Ve=bt:yt.sibling=bt,yt=bt);return t&&ke.forEach(function($T){return s(z,$T)}),ht&&qr(z,Je),Ve}function jt(z,M,H,re){if(typeof H=="object"&&H!==null&&H.type===J&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var Ve=H.key;M!==null;){if(M.key===Ve){if(Ve=H.type,Ve===J){if(M.tag===7){a(z,M.sibling),re=f(M,H.props.children),re.return=z,z=re;break e}}else if(M.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===A&&Ua(Ve)===M.type){a(z,M.sibling),re=f(M,H.props),$l(re,H),re.return=z,z=re;break e}a(z,M);break}else s(z,M);M=M.sibling}H.type===J?(re=Oa(H.props.children,z.mode,re,H.key),re.return=z,z=re):(re=yu(H.type,H.key,H.props,null,z.mode,re),$l(re,H),re.return=z,z=re)}return x(z);case Q:e:{for(Ve=H.key;M!==null;){if(M.key===Ve)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(z,M.sibling),re=f(M,H.children||[]),re.return=z,z=re;break e}else{a(z,M);break}else s(z,M);M=M.sibling}re=Xh(H,z.mode,re),re.return=z,z=re}return x(z);case A:return H=Ua(H),jt(z,M,H,re)}if(_t(H))return Ce(z,M,H,re);if(U(H)){if(Ve=U(H),typeof Ve!="function")throw Error(i(150));return H=Ve.call(H),qe(z,M,H,re)}if(typeof H.then=="function")return jt(z,M,Nu(H),re);if(H.$$typeof===fe)return jt(z,M,vu(z,H),re);Tu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(z,M.sibling),re=f(M,H),re.return=z,z=re):(a(z,M),re=Qh(H,z.mode,re),re.return=z,z=re),x(z)):a(z,M)}return function(z,M,H,re){try{Gl=0;var Ve=jt(z,M,H,re);return Oo=null,Ve}catch(ke){if(ke===Do||ke===wu)throw ke;var yt=rs(29,ke,null,z.mode);return yt.lanes=re,yt.return=z,yt}}}var qa=Ny(!0),Ty=Ny(!1),Di=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Oi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(t,s,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(xt&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=gu(t),ly(t,null,a),s}return pu(t,c,s,a),gu(t)}function Yl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,Na(t,a)}}function df(t,s){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var hf=!1;function Kl(){if(hf){var t=ko;if(t!==null)throw t}}function Ql(t,s,a,c){hf=!1;var f=t.updateQueue;Di=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var D=E,G=D.next;D.next=null,x===null?m=G:x.next=G,x=D;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,E=ne.lastBaseUpdate,E!==x&&(E===null?ne.firstBaseUpdate=G:E.next=G,ne.lastBaseUpdate=D))}if(m!==null){var oe=f.baseState;x=0,ne=G=D=null,E=m;do{var $=E.lane&-536870913,W=$!==E.lane;if(W?(at&$)===$:(c&$)===$){$!==0&&$===Io&&(hf=!0),ne!==null&&(ne=ne.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ce=t,qe=E;$=s;var jt=a;switch(qe.tag){case 1:if(Ce=qe.payload,typeof Ce=="function"){oe=Ce.call(jt,oe,$);break e}oe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=qe.payload,$=typeof Ce=="function"?Ce.call(jt,oe,$):Ce,$==null)break e;oe=w({},oe,$);break e;case 2:Di=!0}}$=E.callback,$!==null&&(t.flags|=64,W&&(t.flags|=8192),W=f.callbacks,W===null?f.callbacks=[$]:W.push($))}else W={lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ne===null?(G=ne=W,D=oe):ne=ne.next=W,x|=$;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;W=E,E=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);ne===null&&(D=oe),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=ne,m===null&&(f.shared.lanes=0),zi|=x,t.lanes=x,t.memoizedState=oe}}function Sy(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Ay(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sy(a[t],s)}var Mo=C(null),Su=C(0);function jy(t,s){t=Jr,ge(Su,t),ge(Mo,s),Jr=t|s.baseLanes}function ff(){ge(Su,Jr),ge(Mo,Mo.current)}function mf(){Jr=Su.current,te(Mo),te(Su)}var is=C(null),Ns=null;function Pi(t){var s=t.alternate;ge(Xt,Xt.current&1),ge(is,t),Ns===null&&(s===null||Mo.current!==null||s.memoizedState!==null)&&(Ns=t)}function pf(t){ge(Xt,Xt.current),ge(is,t),Ns===null&&(Ns=t)}function Cy(t){t.tag===22?(ge(Xt,Xt.current),ge(is,t),Ns===null&&(Ns=t)):Vi()}function Vi(){ge(Xt,Xt.current),ge(is,is.current)}function as(t){te(is),Ns===t&&(Ns=null),te(Xt)}var Xt=C(0);function Au(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_m(a)||wm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Hr=0,Qe=null,St=null,nn=null,ju=!1,Po=!1,Ba=!1,Cu=0,Xl=0,Vo=null,PN=0;function Yt(){throw Error(i(321))}function gf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!ss(t[a],s[a]))return!1;return!0}function yf(t,s,a,c,f,m){return Hr=m,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=t===null||t.memoizedState===null?h0:kf,Ba=!1,m=a(c,f),Ba=!1,Po&&(m=Iy(s,a,c,f)),Ry(t),m}function Ry(t){ee.H=Zl;var s=St!==null&&St.next!==null;if(Hr=0,nn=St=Qe=null,ju=!1,Xl=0,Vo=null,s)throw Error(i(300));t===null||sn||(t=t.dependencies,t!==null&&xu(t)&&(sn=!0))}function Iy(t,s,a,c){Qe=t;var f=0;do{if(Po&&(Vo=null),Xl=0,Po=!1,25<=f)throw Error(i(301));if(f+=1,nn=St=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ee.H=f0,m=s(a,c)}while(Po);return m}function VN(){var t=ee.H,s=t.useState()[0];return s=typeof s.then=="function"?Wl(s):s,t=t.useState()[0],(St!==null?St.memoizedState:null)!==t&&(Qe.flags|=1024),s}function bf(){var t=Cu!==0;return Cu=0,t}function xf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function vf(t){if(ju){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ju=!1}Hr=0,nn=St=Qe=null,Po=!1,Xl=Cu=0,Vo=null}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Qe.memoizedState=nn=t:nn=nn.next=t,nn}function Wt(){if(St===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var s=nn===null?Qe.memoizedState:nn.next;if(s!==null)nn=s,St=t;else{if(t===null)throw Qe.alternate===null?Error(i(467)):Error(i(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},nn===null?Qe.memoizedState=nn=t:nn=nn.next=t}return nn}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var s=Xl;return Xl+=1,Vo===null&&(Vo=[]),t=_y(Vo,t,s),s=Qe,(nn===null?s.memoizedState:nn.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?h0:kf),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===fe)return _n(t)}throw Error(i(438,String(t)))}function _f(t){var s=null,a=Qe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ru(),Qe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),c=0;c<t;c++)a[c]=P;return s.index++,a}function Gr(t,s){return typeof s=="function"?s(t):s}function ku(t){var s=Wt();return wf(s,St,t)}function wf(t,s,a){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}s.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var E=x=null,D=null,G=s,ne=!1;do{var oe=G.lane&-536870913;if(oe!==G.lane?(at&oe)===oe:(Hr&oe)===oe){var $=G.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),oe===Io&&(ne=!0);else if((Hr&$)===$){G=G.next,$===Io&&(ne=!0);continue}else oe={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(E=D=oe,x=m):D=D.next=oe,Qe.lanes|=$,zi|=$;oe=G.action,Ba&&a(m,oe),m=G.hasEagerState?G.eagerState:a(m,oe)}else $={lane:oe,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(E=D=$,x=m):D=D.next=$,Qe.lanes|=oe,zi|=oe;G=G.next}while(G!==null&&G!==s);if(D===null?x=m:D.next=E,!ss(m,t.memoizedState)&&(sn=!0,ne&&(a=ko,a!==null)))throw a;t.memoizedState=m,t.baseState=x,t.baseQueue=D,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Ef(t){var s=Wt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do m=t(m,x.action),x=x.next;while(x!==f);ss(m,s.memoizedState)||(sn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function ky(t,s,a){var c=Qe,f=Wt(),m=ht;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var x=!ss((St||f).memoizedState,a);if(x&&(f.memoizedState=a,sn=!0),f=f.queue,Sf(My.bind(null,c,f,t),[t]),f.getSnapshot!==s||x||nn!==null&&nn.memoizedState.tag&1){if(c.flags|=2048,Lo(9,{destroy:void 0},Oy.bind(null,c,f,a,s),null),It===null)throw Error(i(349));m||(Hr&127)!==0||Dy(c,s,a)}return a}function Dy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Qe.updateQueue,s===null?(s=Ru(),Qe.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Oy(t,s,a,c){s.value=a,s.getSnapshot=c,Py(s)&&Vy(t)}function My(t,s,a){return a(function(){Py(s)&&Vy(t)})}function Py(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!ss(t,a)}catch{return!0}}function Vy(t){var s=Da(t,2);s!==null&&Fn(s,t,2)}function Nf(t){var s=Vn();if(typeof t=="function"){var a=t;if(t=a(),Ba){xn(!0);try{a()}finally{xn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},s}function Ly(t,s,a,c){return t.baseState=a,wf(t,St,typeof c=="function"?c:Gr)}function LN(t,s,a,c,f){if(Mu(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};ee.T!==null?a(!0):m.isTransition=!1,c(m),a=s.pending,a===null?(m.next=s.pending=m,Uy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Uy(t,s){var a=s.action,c=s.payload,f=t.state;if(s.isTransition){var m=ee.T,x={};ee.T=x;try{var E=a(f,c),D=ee.S;D!==null&&D(x,E),zy(t,s,E)}catch(G){Tf(t,s,G)}finally{m!==null&&x.types!==null&&(m.types=x.types),ee.T=m}}else try{m=a(f,c),zy(t,s,m)}catch(G){Tf(t,s,G)}}function zy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){qy(t,s,c)},function(c){return Tf(t,s,c)}):qy(t,s,a)}function qy(t,s,a){s.status="fulfilled",s.value=a,By(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Uy(t,a)))}function Tf(t,s,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,By(s),s=s.next;while(s!==c)}t.action=null}function By(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Fy(t,s){return s}function Hy(t,s){if(ht){var a=It.formState;if(a!==null){e:{var c=Qe;if(ht){if(Vt){t:{for(var f=Vt,m=Es;f.nodeType!==8;){if(!m){f=null;break t}if(f=Ts(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Vt=Ts(f.nextSibling),c=f.data==="F!";break e}}Ii(c)}c=!1}c&&(s=a[0])}}return a=Vn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:s},a.queue=c,a=c0.bind(null,Qe,c),c.dispatch=a,c=Nf(!1),m=If.bind(null,Qe,!1,c.queue),c=Vn(),f={state:s,dispatch:null,action:t,pending:null},c.queue=f,a=LN.bind(null,Qe,f,m,a),f.dispatch=a,c.memoizedState=t,[s,a,!1]}function Gy(t){var s=Wt();return $y(s,St,t)}function $y(t,s,a){if(s=wf(t,s,Fy)[0],t=ku(Gr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Wl(s)}catch(x){throw x===Do?wu:x}else c=s;s=Wt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Qe.flags|=2048,Lo(9,{destroy:void 0},UN.bind(null,f,a),null)),[c,m,t]}function UN(t,s){t.action=s}function Yy(t){var s=Wt(),a=St;if(a!==null)return $y(s,a,t);Wt(),s=s.memoizedState,a=Wt();var c=a.queue.dispatch;return a.memoizedState=t,[s,c,!1]}function Lo(t,s,a,c){return t={tag:t,create:a,deps:c,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=Ru(),Qe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,s.lastEffect=t),t}function Ky(){return Wt().memoizedState}function Du(t,s,a,c){var f=Vn();Qe.flags|=t,f.memoizedState=Lo(1|s,{destroy:void 0},a,c===void 0?null:c)}function Ou(t,s,a,c){var f=Wt();c=c===void 0?null:c;var m=f.memoizedState.inst;St!==null&&c!==null&&gf(c,St.memoizedState.deps)?f.memoizedState=Lo(s,m,a,c):(Qe.flags|=t,f.memoizedState=Lo(1|s,m,a,c))}function Qy(t,s){Du(8390656,8,t,s)}function Sf(t,s){Ou(2048,8,t,s)}function zN(t){Qe.flags|=4;var s=Qe.updateQueue;if(s===null)s=Ru(),Qe.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Xy(t){var s=Wt().memoizedState;return zN({ref:s,nextImpl:t}),function(){if((xt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Wy(t,s){return Ou(4,2,t,s)}function Jy(t,s){return Ou(4,4,t,s)}function Zy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function e0(t,s,a){a=a!=null?a.concat([t]):null,Ou(4,4,Zy.bind(null,s,t),a)}function Af(){}function t0(t,s){var a=Wt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&gf(s,c[1])?c[0]:(a.memoizedState=[t,s],t)}function n0(t,s){var a=Wt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&gf(s,c[1]))return c[0];if(c=t(),Ba){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[c,s],c}function jf(t,s,a){return a===void 0||(Hr&1073741824)!==0&&(at&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=sb(),Qe.lanes|=t,zi|=t,a)}function s0(t,s,a,c){return ss(a,s)?a:Mo.current!==null?(t=jf(t,a,c),ss(t,s)||(sn=!0),t):(Hr&42)===0||(Hr&1073741824)!==0&&(at&261930)===0?(sn=!0,t.memoizedState=a):(t=sb(),Qe.lanes|=t,zi|=t,s)}function r0(t,s,a,c,f){var m=me.p;me.p=m!==0&&8>m?m:8;var x=ee.T,E={};ee.T=E,If(t,!1,s,a);try{var D=f(),G=ee.S;if(G!==null&&G(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=MN(D,c);Jl(t,s,ne,cs(t))}else Jl(t,s,c,cs(t))}catch(oe){Jl(t,s,{then:function(){},status:"rejected",reason:oe},cs())}finally{me.p=m,x!==null&&E.types!==null&&(x.types=E.types),ee.T=x}}function qN(){}function Cf(t,s,a,c){if(t.tag!==5)throw Error(i(476));var f=i0(t).queue;r0(t,f,s,Se,a===null?qN:function(){return a0(t),a(c)})}function i0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:Se},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function a0(t){var s=i0(t);s.next===null&&(s=t.alternate.memoizedState),Jl(t,s.next.queue,{},cs())}function Rf(){return _n(pc)}function o0(){return Wt().memoizedState}function l0(){return Wt().memoizedState}function BN(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=cs();t=Oi(a);var c=Mi(s,t,a);c!==null&&(Fn(c,s,a),Yl(c,s,a)),s={cache:rf()},t.payload=s;return}s=s.return}}function FN(t,s,a){var c=cs();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(t)?u0(s,a):(a=Yh(t,s,a,c),a!==null&&(Fn(a,t,c),d0(a,s,c)))}function c0(t,s,a){var c=cs();Jl(t,s,a,c)}function Jl(t,s,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))u0(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var x=s.lastRenderedState,E=m(x,a);if(f.hasEagerState=!0,f.eagerState=E,ss(E,x))return pu(t,s,f,0),It===null&&mu(),!1}catch{}if(a=Yh(t,s,f,c),a!==null)return Fn(a,t,c),d0(a,s,c),!0}return!1}function If(t,s,a,c){if(c={lane:2,revertLane:cm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(s)throw Error(i(479))}else s=Yh(t,a,c,2),s!==null&&Fn(s,t,2)}function Mu(t){var s=t.alternate;return t===Qe||s!==null&&s===Qe}function u0(t,s){Po=ju=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function d0(t,s,a){if((a&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,Na(t,a)}}var Zl={readContext:_n,use:Iu,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};Zl.useEffectEvent=Yt;var h0={readContext:_n,use:Iu,useCallback:function(t,s){return Vn().memoizedState=[t,s===void 0?null:s],t},useContext:_n,useEffect:Qy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Du(4194308,4,Zy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Du(4194308,4,t,s)},useInsertionEffect:function(t,s){Du(4,2,t,s)},useMemo:function(t,s){var a=Vn();s=s===void 0?null:s;var c=t();if(Ba){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[c,s],c},useReducer:function(t,s,a){var c=Vn();if(a!==void 0){var f=a(s);if(Ba){xn(!0);try{a(s)}finally{xn(!1)}}}else f=s;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=FN.bind(null,Qe,t),[c.memoizedState,t]},useRef:function(t){var s=Vn();return t={current:t},s.memoizedState=t},useState:function(t){t=Nf(t);var s=t.queue,a=c0.bind(null,Qe,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(t,s){var a=Vn();return jf(a,t,s)},useTransition:function(){var t=Nf(!1);return t=r0.bind(null,Qe,t.queue,!0,!1),Vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var c=Qe,f=Vn();if(ht){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),It===null)throw Error(i(349));(at&127)!==0||Dy(c,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Qy(My.bind(null,c,m,t),[t]),c.flags|=2048,Lo(9,{destroy:void 0},Oy.bind(null,c,m,a,s),null),a},useId:function(){var t=Vn(),s=It.identifierPrefix;if(ht){var a=or,c=ar;a=(c&~(1<<32-Dt(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Cu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=PN++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Rf,useFormState:Hy,useActionState:Hy,useOptimistic:function(t){var s=Vn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=If.bind(null,Qe,!0,a),a.dispatch=s,[t,s]},useMemoCache:_f,useCacheRefresh:function(){return Vn().memoizedState=BN.bind(null,Qe)},useEffectEvent:function(t){var s=Vn(),a={impl:t};return s.memoizedState=a,function(){if((xt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:_n,use:Iu,useCallback:t0,useContext:_n,useEffect:Sf,useImperativeHandle:e0,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:n0,useReducer:ku,useRef:Ky,useState:function(){return ku(Gr)},useDebugValue:Af,useDeferredValue:function(t,s){var a=Wt();return s0(a,St.memoizedState,t,s)},useTransition:function(){var t=ku(Gr)[0],s=Wt().memoizedState;return[typeof t=="boolean"?t:Wl(t),s]},useSyncExternalStore:ky,useId:o0,useHostTransitionStatus:Rf,useFormState:Gy,useActionState:Gy,useOptimistic:function(t,s){var a=Wt();return Ly(a,St,t,s)},useMemoCache:_f,useCacheRefresh:l0};kf.useEffectEvent=Xy;var f0={readContext:_n,use:Iu,useCallback:t0,useContext:_n,useEffect:Sf,useImperativeHandle:e0,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:n0,useReducer:Ef,useRef:Ky,useState:function(){return Ef(Gr)},useDebugValue:Af,useDeferredValue:function(t,s){var a=Wt();return St===null?jf(a,t,s):s0(a,St.memoizedState,t,s)},useTransition:function(){var t=Ef(Gr)[0],s=Wt().memoizedState;return[typeof t=="boolean"?t:Wl(t),s]},useSyncExternalStore:ky,useId:o0,useHostTransitionStatus:Rf,useFormState:Yy,useActionState:Yy,useOptimistic:function(t,s){var a=Wt();return St!==null?Ly(a,St,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:l0};f0.useEffectEvent=Xy;function Df(t,s,a,c){s=t.memoizedState,a=a(c,s),a=a==null?s:w({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Of={enqueueSetState:function(t,s,a){t=t._reactInternals;var c=cs(),f=Oi(c);f.payload=s,a!=null&&(f.callback=a),s=Mi(t,f,c),s!==null&&(Fn(s,t,c),Yl(s,t,c))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var c=cs(),f=Oi(c);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Mi(t,f,c),s!==null&&(Fn(s,t,c),Yl(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=cs(),c=Oi(a);c.tag=2,s!=null&&(c.callback=s),s=Mi(t,c,a),s!==null&&(Fn(s,t,a),Yl(s,t,a))}};function m0(t,s,a,c,f,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,x):s.prototype&&s.prototype.isPureReactComponent?!Ul(a,c)||!Ul(f,m):!0}function p0(t,s,a,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==t&&Of.enqueueReplaceState(s,s.state,null)}function Fa(t,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(t=t.defaultProps){a===s&&(a=w({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function g0(t){fu(t)}function y0(t){console.error(t)}function b0(t){fu(t)}function Pu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function x0(t,s,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mf(t,s,a){return a=Oi(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(t,s)},a}function v0(t){return t=Oi(t),t.tag=3,t}function _0(t,s,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){x0(s,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){x0(s,a,c),typeof f!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function HN(t,s,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Ro(s,a,f,!0),a=is.current,a!==null){switch(a.tag){case 31:case 13:return Ns===null?Ku():a.alternate===null&&Kt===0&&(Kt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===Eu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),am(t,c,f)),!1;case 22:return a.flags|=65536,c===Eu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),am(t,c,f)),!1}throw Error(i(435,a.tag))}return am(t,c,f),Ku(),!1}if(ht)return s=is.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==Zh&&(t=Error(i(422),{cause:c}),Bl(vs(t,a)))):(c!==Zh&&(s=Error(i(423),{cause:c}),Bl(vs(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=vs(c,a),f=Mf(t.stateNode,c,f),df(t,f),Kt!==4&&(Kt=2)),!1;var m=Error(i(520),{cause:c});if(m=vs(m,a),oc===null?oc=[m]:oc.push(m),Kt!==4&&(Kt=2),s===null)return!0;c=vs(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Mf(a.stateNode,c,t),df(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qi===null||!qi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=v0(f),_0(f,t,a,c),df(a,f),!1}a=a.return}while(a!==null);return!1}var Pf=Error(i(461)),sn=!1;function wn(t,s,a,c){s.child=t===null?Ty(s,null,a,c):qa(s,t.child,a,c)}function w0(t,s,a,c,f){a=a.render;var m=s.ref;if("ref"in c){var x={};for(var E in c)E!=="ref"&&(x[E]=c[E])}else x=c;return Va(s),c=yf(t,s,a,x,m,f),E=bf(),t!==null&&!sn?(xf(t,s,f),$r(t,s,f)):(ht&&E&&Wh(s),s.flags|=1,wn(t,s,c,f),s.child)}function E0(t,s,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!Kh(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,N0(t,s,m,c,f)):(t=yu(a.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Hf(t,f)){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ul,a(x,c)&&t.ref===s.ref)return $r(t,s,f)}return s.flags|=1,t=zr(m,c),t.ref=s.ref,t.return=s,s.child=t}function N0(t,s,a,c,f){if(t!==null){var m=t.memoizedProps;if(Ul(m,c)&&t.ref===s.ref)if(sn=!1,s.pendingProps=c=m,Hf(t,f))(t.flags&131072)!==0&&(sn=!0);else return s.lanes=t.lanes,$r(t,s,f)}return Vf(t,s,a,c,f)}function T0(t,s,a,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(c=s.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,s.child=null;return S0(t,s,m,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(s,m!==null?m.cachePool:null),m!==null?jy(s,m):ff(),Cy(s);else return c=s.lanes=536870912,S0(t,s,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(_u(s,m.cachePool),jy(s,m),Vi(),s.memoizedState=null):(t!==null&&_u(s,null),ff(),Vi());return wn(t,s,f,a),s.child}function ec(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function S0(t,s,a,c,f){var m=of();return m=m===null?null:{parent:tn._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&_u(s,null),ff(),Cy(s),t!==null&&Ro(t,s,c,!0),s.childLanes=f,null}function Vu(t,s){return s=Uu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function A0(t,s,a){return qa(s,t.child,null,a),t=Vu(s,s.pendingProps),t.flags|=2,as(s),s.memoizedState=null,t}function GN(t,s,a){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ht){if(c.mode==="hidden")return t=Vu(s,c),s.lanes=536870912,ec(null,t);if(pf(s),(t=Vt)?(t=Ub(t,Es),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ci!==null?{id:ar,overflow:or}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=s,s.child=a,vn=s,Vt=null)):t=null,t===null)throw Ii(s);return s.lanes=536870912,null}return Vu(s,c)}var m=t.memoizedState;if(m!==null){var x=m.dehydrated;if(pf(s),f)if(s.flags&256)s.flags&=-257,s=A0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(sn||Ro(t,s,a,!1),f=(a&t.childLanes)!==0,sn||f){if(c=It,c!==null&&(x=Ta(c,a),x!==0&&x!==m.retryLane))throw m.retryLane=x,Da(t,x),Fn(c,t,x),Pf;Ku(),s=A0(t,s,a)}else t=m.treeContext,Vt=Ts(x.nextSibling),vn=s,ht=!0,Ri=null,Es=!1,t!==null&&fy(s,t),s=Vu(s,c),s.flags|=4096;return s}return t=zr(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Lu(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Vf(t,s,a,c,f){return Va(s),a=yf(t,s,a,c,void 0,f),c=bf(),t!==null&&!sn?(xf(t,s,f),$r(t,s,f)):(ht&&c&&Wh(s),s.flags|=1,wn(t,s,a,f),s.child)}function j0(t,s,a,c,f,m){return Va(s),s.updateQueue=null,a=Iy(s,c,a,f),Ry(t),c=bf(),t!==null&&!sn?(xf(t,s,m),$r(t,s,m)):(ht&&c&&Wh(s),s.flags|=1,wn(t,s,a,m),s.child)}function C0(t,s,a,c,f){if(Va(s),s.stateNode===null){var m=So,x=a.contextType;typeof x=="object"&&x!==null&&(m=_n(x)),m=new a(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Of,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},cf(s),x=a.contextType,m.context=typeof x=="object"&&x!==null?_n(x):So,m.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Df(s,a,x,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Of.enqueueReplaceState(m,m.state,null),Ql(s,c,m,f),Kl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){m=s.stateNode;var E=s.memoizedProps,D=Fa(a,E);m.props=D;var G=m.context,ne=a.contextType;x=So,typeof ne=="object"&&ne!==null&&(x=_n(ne));var oe=a.getDerivedStateFromProps;ne=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||G!==x)&&p0(s,m,c,x),Di=!1;var $=s.memoizedState;m.state=$,Ql(s,c,m,f),Kl(),G=s.memoizedState,E||$!==G||Di?(typeof oe=="function"&&(Df(s,a,oe,c),G=s.memoizedState),(D=Di||m0(s,a,D,c,$,G,x))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=G),m.props=c,m.state=G,m.context=x,c=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,uf(t,s),x=s.memoizedProps,ne=Fa(a,x),m.props=ne,oe=s.pendingProps,$=m.context,G=a.contextType,D=So,typeof G=="object"&&G!==null&&(D=_n(G)),E=a.getDerivedStateFromProps,(G=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==oe||$!==D)&&p0(s,m,c,D),Di=!1,$=s.memoizedState,m.state=$,Ql(s,c,m,f),Kl();var W=s.memoizedState;x!==oe||$!==W||Di||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof E=="function"&&(Df(s,a,E,c),W=s.memoizedState),(ne=Di||m0(s,a,ne,c,$,W,D)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,W,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,W,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=W),m.props=c,m.state=W,m.context=D,c=ne):(typeof m.componentDidUpdate!="function"||x===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),c=!1)}return m=c,Lu(t,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&c?(s.child=qa(s,t.child,null,f),s.child=qa(s,null,a,f)):wn(t,s,a,f),s.memoizedState=m.state,t=s.child):t=$r(t,s,f),t}function R0(t,s,a,c){return Ma(),s.flags|=256,wn(t,s,a,c),s.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:xy()}}function zf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=ls),t}function I0(t,s,a){var c=s.pendingProps,f=!1,m=(s.flags&128)!==0,x;if((x=m)||(x=t!==null&&t.memoizedState===null?!1:(Xt.current&2)!==0),x&&(f=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,t===null){if(ht){if(f?Pi(s):Vi(),(t=Vt)?(t=Ub(t,Es),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Ci!==null?{id:ar,overflow:or}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=s,s.child=a,vn=s,Vt=null)):t=null,t===null)throw Ii(s);return wm(t)?s.lanes=32:s.lanes=536870912,null}var E=c.children;return c=c.fallback,f?(Vi(),f=s.mode,E=Uu({mode:"hidden",children:E},f),c=Oa(c,f,a,null),E.return=s,c.return=s,E.sibling=c,s.child=E,c=s.child,c.memoizedState=Uf(a),c.childLanes=zf(t,x,a),s.memoizedState=Lf,ec(null,c)):(Pi(s),qf(s,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(m)s.flags&256?(Pi(s),s.flags&=-257,s=Bf(t,s,a)):s.memoizedState!==null?(Vi(),s.child=t.child,s.flags|=128,s=null):(Vi(),E=c.fallback,f=s.mode,c=Uu({mode:"visible",children:c.children},f),E=Oa(E,f,a,null),E.flags|=2,c.return=s,E.return=s,c.sibling=E,s.child=c,qa(s,t.child,null,a),c=s.child,c.memoizedState=Uf(a),c.childLanes=zf(t,x,a),s.memoizedState=Lf,s=ec(null,c));else if(Pi(s),wm(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var G=x.dgst;x=G,c=Error(i(419)),c.stack="",c.digest=x,Bl({value:c,source:null,stack:null}),s=Bf(t,s,a)}else if(sn||Ro(t,s,a,!1),x=(a&t.childLanes)!==0,sn||x){if(x=It,x!==null&&(c=Ta(x,a),c!==0&&c!==D.retryLane))throw D.retryLane=c,Da(t,c),Fn(x,t,c),Pf;_m(E)||Ku(),s=Bf(t,s,a)}else _m(E)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,Vt=Ts(E.nextSibling),vn=s,ht=!0,Ri=null,Es=!1,t!==null&&fy(s,t),s=qf(s,c.children),s.flags|=4096);return s}return f?(Vi(),E=c.fallback,f=s.mode,D=t.child,G=D.sibling,c=zr(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,G!==null?E=zr(G,E):(E=Oa(E,f,a,null),E.flags|=2),E.return=s,c.return=s,c.sibling=E,s.child=c,ec(null,c),c=s.child,E=t.child.memoizedState,E===null?E=Uf(a):(f=E.cachePool,f!==null?(D=tn._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=xy(),E={baseLanes:E.baseLanes|a,cachePool:f}),c.memoizedState=E,c.childLanes=zf(t,x,a),s.memoizedState=Lf,ec(t.child,c)):(Pi(s),a=t.child,t=a.sibling,a=zr(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,t!==null&&(x=s.deletions,x===null?(s.deletions=[t],s.flags|=16):x.push(t)),s.child=a,s.memoizedState=null,a)}function qf(t,s){return s=Uu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Uu(t,s){return t=rs(22,t,null,s),t.lanes=0,t}function Bf(t,s,a){return qa(s,t.child,null,a),t=qf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function k0(t,s,a){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),nf(t.return,s,a)}function Ff(t,s,a,c,f,m){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:m}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=a,x.tailMode=f,x.treeForkCount=m)}function D0(t,s,a){var c=s.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var x=Xt.current,E=(x&2)!==0;if(E?(x=x&1|2,s.flags|=128):x&=1,ge(Xt,x),wn(t,s,c,a),c=ht?ql:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k0(t,a,s);else if(t.tag===19)k0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&Au(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Ff(s,!1,f,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&Au(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ff(s,!0,a,null,m,c);break;case"together":Ff(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function $r(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),zi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Ro(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=zr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=zr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Hf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function $N(t,s,a){switch(s.tag){case 3:Tt(s,s.stateNode.containerInfo),ki(s,tn,t.memoizedState.cache),Ma();break;case 27:case 5:Ws(s);break;case 4:Tt(s,s.stateNode.containerInfo);break;case 10:ki(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,pf(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Pi(s),s.flags|=128,null):(a&s.child.childLanes)!==0?I0(t,s,a):(Pi(s),t=$r(t,s,a),t!==null?t.sibling:null);Pi(s);break;case 19:var f=(t.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Ro(t,s,a,!1),c=(a&s.childLanes)!==0),f){if(c)return D0(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ge(Xt,Xt.current),c)break;return null;case 22:return s.lanes=0,T0(t,s,a,s.pendingProps);case 24:ki(s,tn,t.memoizedState.cache)}return $r(t,s,a)}function O0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)sn=!0;else{if(!Hf(t,a)&&(s.flags&128)===0)return sn=!1,$N(t,s,a);sn=(t.flags&131072)!==0}else sn=!1,ht&&(s.flags&1048576)!==0&&hy(s,ql,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=Ua(s.elementType),s.type=t,typeof t=="function")Kh(t)?(c=Fa(t,c),s.tag=1,s=C0(null,s,t,c,a)):(s.tag=0,s=Vf(null,s,t,c,a));else{if(t!=null){var f=t.$$typeof;if(f===_e){s.tag=11,s=w0(null,s,t,c,a);break e}else if(f===R){s.tag=14,s=E0(null,s,t,c,a);break e}}throw s=nt(t)||t,Error(i(306,s,""))}}return s;case 0:return Vf(t,s,s.type,s.pendingProps,a);case 1:return c=s.type,f=Fa(c,s.pendingProps),C0(t,s,c,f,a);case 3:e:{if(Tt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));c=s.pendingProps;var m=s.memoizedState;f=m.element,uf(t,s),Ql(s,c,null,a);var x=s.memoizedState;if(c=x.cache,ki(s,tn,c),c!==m.cache&&sf(s,[tn],a,!0),Kl(),c=x.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=R0(t,s,c,a);break e}else if(c!==f){f=vs(Error(i(424)),s),Bl(f),s=R0(t,s,c,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Vt=Ts(t.firstChild),vn=s,ht=!0,Ri=null,Es=!0,a=Ty(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ma(),c===f){s=$r(t,s,a);break e}wn(t,s,c,a)}s=s.child}return s;case 26:return Lu(t,s),t===null?(a=Gb(s.type,null,s.pendingProps,null))?s.memoizedState=a:ht||(a=s.type,t=s.pendingProps,c=td(Ue.current).createElement(a),c[$t]=s,c[en]=t,En(c,a,t),he(c),s.stateNode=c):s.memoizedState=Gb(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ws(s),t===null&&ht&&(c=s.stateNode=Bb(s.type,s.pendingProps,Ue.current),vn=s,Es=!0,f=Vt,Gi(s.type)?(Em=f,Vt=Ts(c.firstChild)):Vt=f),wn(t,s,s.pendingProps.children,a),Lu(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ht&&((f=c=Vt)&&(c=wT(c,s.type,s.pendingProps,Es),c!==null?(s.stateNode=c,vn=s,Vt=Ts(c.firstChild),Es=!1,f=!0):f=!1),f||Ii(s)),Ws(s),f=s.type,m=s.pendingProps,x=t!==null?t.memoizedProps:null,c=m.children,bm(f,m)?c=null:x!==null&&bm(f,x)&&(s.flags|=32),s.memoizedState!==null&&(f=yf(t,s,VN,null,null,a),pc._currentValue=f),Lu(t,s),wn(t,s,c,a),s.child;case 6:return t===null&&ht&&((t=a=Vt)&&(a=ET(a,s.pendingProps,Es),a!==null?(s.stateNode=a,vn=s,Vt=null,t=!0):t=!1),t||Ii(s)),null;case 13:return I0(t,s,a);case 4:return Tt(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=qa(s,null,c,a):wn(t,s,c,a),s.child;case 11:return w0(t,s,s.type,s.pendingProps,a);case 7:return wn(t,s,s.pendingProps,a),s.child;case 8:return wn(t,s,s.pendingProps.children,a),s.child;case 12:return wn(t,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,ki(s,s.type,c.value),wn(t,s,c.children,a),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,Va(s),f=_n(f),c=c(f),s.flags|=1,wn(t,s,c,a),s.child;case 14:return E0(t,s,s.type,s.pendingProps,a);case 15:return N0(t,s,s.type,s.pendingProps,a);case 19:return D0(t,s,a);case 31:return GN(t,s,a);case 22:return T0(t,s,a,s.pendingProps);case 24:return Va(s),c=_n(tn),t===null?(f=of(),f===null&&(f=It,m=rf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:c,cache:f},cf(s),ki(s,tn,f)):((t.lanes&a)!==0&&(uf(t,s),Ql(s,null,null,a),Kl()),f=t.memoizedState,m=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ki(s,tn,c)):(c=m.cache,ki(s,tn,c),c!==f.cache&&sf(s,[tn],a,!0))),wn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Yr(t){t.flags|=4}function Gf(t,s,a,c,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(ob())t.flags|=8192;else throw za=Eu,lf}else t.flags&=-16777217}function M0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xb(s))if(ob())t.flags|=8192;else throw za=Eu,lf}function zu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?oo():536870912,t.lanes|=s,Bo|=s)}function tc(t,s){if(!ht)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Lt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,s}function YN(t,s,a){var c=s.pendingProps;switch(Jh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(s),null;case 1:return Lt(s),null;case 3:return a=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Fr(tn),Rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Co(s)?Yr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ef())),Lt(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(Yr(s),m!==null?(Lt(s),M0(s,m)):(Lt(s),Gf(s,f,null,c,a))):m?m!==t.memoizedState?(Yr(s),Lt(s),M0(s,m)):(Lt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&Yr(s),Lt(s),Gf(s,f,t,c,a)),null;case 27:if(_r(s),a=Ue.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Lt(s),null}t=Te.current,Co(s)?my(s):(t=Bb(f,c,a),s.stateNode=t,Yr(s))}return Lt(s),null;case 5:if(_r(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Lt(s),null}if(m=Te.current,Co(s))my(s);else{var x=td(Ue.current);switch(m){case 1:m=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=x.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?x.createElement(f,{is:c.is}):x.createElement(f)}}m[$t]=s,m[en]=c;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)m.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=m;e:switch(En(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Yr(s)}}return Lt(s),Gf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Yr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ue.current,Co(s)){if(t=s.stateNode,a=s.memoizedProps,c=null,f=vn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[$t]=s,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Ib(t.nodeValue,a)),t||Ii(s,!0)}else t=td(t).createTextNode(c),t[$t]=s,s.stateNode=t}return Lt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(c=Co(s),a!==null){if(t===null){if(!c)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[$t]=s}else Ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lt(s),t=!1}else a=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(as(s),s):(as(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Lt(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Co(s),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[$t]=s}else Ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Lt(s),f=!1}else f=ef(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(as(s),s):(as(s),null)}return as(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),zu(s,s.updateQueue),Lt(s),null);case 4:return Rt(),t===null&&fm(s.stateNode.containerInfo),Lt(s),null;case 10:return Fr(s.type),Lt(s),null;case 19:if(te(Xt),c=s.memoizedState,c===null)return Lt(s),null;if(f=(s.flags&128)!==0,m=c.rendering,m===null)if(f)tc(c,!1);else{if(Kt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Au(t),m!==null){for(s.flags|=128,tc(c,!1),t=m.updateQueue,s.updateQueue=t,zu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)cy(a,t),a=a.sibling;return ge(Xt,Xt.current&1|2),ht&&qr(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&cn()>Gu&&(s.flags|=128,f=!0,tc(c,!1),s.lanes=4194304)}else{if(!f)if(t=Au(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,zu(s,t),tc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!ht)return Lt(s),null}else 2*cn()-c.renderingStartTime>Gu&&a!==536870912&&(s.flags|=128,f=!0,tc(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(t=c.last,t!==null?t.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=cn(),t.sibling=null,a=Xt.current,ge(Xt,f?a&1|2:a&1),ht&&qr(s,c.treeForkCount),t):(Lt(s),null);case 22:case 23:return as(s),mf(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(Lt(s),s.subtreeFlags&6&&(s.flags|=8192)):Lt(s),a=s.updateQueue,a!==null&&zu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),t!==null&&te(La),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Fr(tn),Lt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function KN(t,s){switch(Jh(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Fr(tn),Rt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return _r(s),null;case 31:if(s.memoizedState!==null){if(as(s),s.alternate===null)throw Error(i(340));Ma()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(as(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ma()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return te(Xt),null;case 4:return Rt(),null;case 10:return Fr(s.type),null;case 22:case 23:return as(s),mf(),t!==null&&te(La),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Fr(tn),null;case 25:return null;default:return null}}function P0(t,s){switch(Jh(s),s.tag){case 3:Fr(tn),Rt();break;case 26:case 27:case 5:_r(s);break;case 4:Rt();break;case 31:s.memoizedState!==null&&as(s);break;case 13:as(s);break;case 19:te(Xt);break;case 10:Fr(s.type);break;case 22:case 23:as(s),mf(),t!==null&&te(La);break;case 24:Fr(tn)}}function nc(t,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var m=a.create,x=a.inst;c=m(),x.destroy=c}a=a.next}while(a!==f)}}catch(E){Nt(s,s.return,E)}}function Li(t,s,a){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var x=c.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=s;var D=a,G=E;try{G()}catch(ne){Nt(f,D,ne)}}}c=c.next}while(c!==m)}}catch(ne){Nt(s,s.return,ne)}}function V0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Ay(s,a)}catch(c){Nt(t,t.return,c)}}}function L0(t,s,a){a.props=Fa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Nt(t,s,c)}}function sc(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){Nt(t,s,f)}}function lr(t,s){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){Nt(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Nt(t,s,f)}else a.current=null}function U0(t){var s=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){Nt(t,t.return,f)}}function $f(t,s,a){try{var c=t.stateNode;gT(c,t.type,a,s),c[en]=s}catch(f){Nt(t,t.return,f)}}function z0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gi(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=gs));else if(c!==4&&(c===27&&Gi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Kf(t,s,a),t=t.sibling;t!==null;)Kf(t,s,a),t=t.sibling}function qu(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(c!==4&&(c===27&&Gi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qu(t,s,a),t=t.sibling;t!==null;)qu(t,s,a),t=t.sibling}function q0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);En(s,c,a),s[$t]=t,s[en]=a}catch(m){Nt(t,t.return,m)}}var Kr=!1,rn=!1,Qf=!1,B0=typeof WeakSet=="function"?WeakSet:Set,gn=null;function QN(t,s){if(t=t.containerInfo,gm=ld,t=ey(t),qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,E=-1,D=-1,G=0,ne=0,oe=t,$=null;t:for(;;){for(var W;oe!==a||f!==0&&oe.nodeType!==3||(E=x+f),oe!==m||c!==0&&oe.nodeType!==3||(D=x+c),oe.nodeType===3&&(x+=oe.nodeValue.length),(W=oe.firstChild)!==null;)$=oe,oe=W;for(;;){if(oe===t)break t;if($===a&&++G===f&&(E=x),$===m&&++ne===c&&(D=x),(W=oe.nextSibling)!==null)break;oe=$,$=oe.parentNode}oe=W}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:t,selectionRange:a},ld=!1,gn=s;gn!==null;)if(s=gn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,gn=t;else for(;gn!==null;){switch(s=gn,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var Ce=Fa(a.type,f);t=c.getSnapshotBeforeUpdate(Ce,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(qe){Nt(a,a.return,qe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)vm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,gn=t;break}gn=s.return}}function F0(t,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Xr(t,a),c&4&&nc(5,a);break;case 1:if(Xr(t,a),c&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(x){Nt(a,a.return,x)}else{var f=Fa(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(x){Nt(a,a.return,x)}}c&64&&V0(a),c&512&&sc(a,a.return);break;case 3:if(Xr(t,a),c&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ay(t,s)}catch(x){Nt(a,a.return,x)}}break;case 27:s===null&&c&4&&q0(a);case 26:case 5:Xr(t,a),s===null&&c&4&&U0(a),c&512&&sc(a,a.return);break;case 12:Xr(t,a);break;case 31:Xr(t,a),c&4&&$0(t,a);break;case 13:Xr(t,a),c&4&&Y0(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rT.bind(null,a),NT(t,a))));break;case 22:if(c=a.memoizedState!==null||Kr,!c){s=s!==null&&s.memoizedState!==null||rn,f=Kr;var m=rn;Kr=c,(rn=s)&&!m?Wr(t,a,(a.subtreeFlags&8772)!==0):Xr(t,a),Kr=f,rn=m}break;case 30:break;default:Xr(t,a)}}function H0(t){var s=t.alternate;s!==null&&(t.alternate=null,H0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&V(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ut=null,Un=!1;function Qr(t,s,a){for(a=a.child;a!==null;)G0(t,s,a),a=a.sibling}function G0(t,s,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:rn||lr(a,s),Qr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rn||lr(a,s);var c=Ut,f=Un;Gi(a.type)&&(Ut=a.stateNode,Un=!1),Qr(t,s,a),hc(a.stateNode),Ut=c,Un=f;break;case 5:rn||lr(a,s);case 6:if(c=Ut,f=Un,Ut=null,Qr(t,s,a),Ut=c,Un=f,Ut!==null)if(Un)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(a.stateNode)}catch(m){Nt(a,s,m)}else try{Ut.removeChild(a.stateNode)}catch(m){Nt(a,s,m)}break;case 18:Ut!==null&&(Un?(t=Ut,Vb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xo(t)):Vb(Ut,a.stateNode));break;case 4:c=Ut,f=Un,Ut=a.stateNode.containerInfo,Un=!0,Qr(t,s,a),Ut=c,Un=f;break;case 0:case 11:case 14:case 15:Li(2,a,s),rn||Li(4,a,s),Qr(t,s,a);break;case 1:rn||(lr(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&L0(a,s,c)),Qr(t,s,a);break;case 21:Qr(t,s,a);break;case 22:rn=(c=rn)||a.memoizedState!==null,Qr(t,s,a),rn=c;break;default:Qr(t,s,a)}}function $0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xo(t)}catch(a){Nt(s,s.return,a)}}}function Y0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xo(t)}catch(a){Nt(s,s.return,a)}}function XN(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new B0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new B0),s;default:throw Error(i(435,t.tag))}}function Bu(t,s){var a=XN(t);s.forEach(function(c){if(!a.has(c)){a.add(c);var f=iT.bind(null,t,c);c.then(f,f)}})}function zn(t,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],m=t,x=s,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Gi(E.type)){Ut=E.stateNode,Un=!1;break e}break;case 5:Ut=E.stateNode,Un=!1;break e;case 3:case 4:Ut=E.stateNode.containerInfo,Un=!0;break e}E=E.return}if(Ut===null)throw Error(i(160));G0(m,x,f),Ut=null,Un=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)K0(s,t),s=s.sibling}var qs=null;function K0(t,s){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zn(s,t),qn(t),c&4&&(Li(3,t,t.return),nc(3,t),Li(5,t,t.return));break;case 1:zn(s,t),qn(t),c&512&&(rn||a===null||lr(a,a.return)),c&64&&Kr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=qs;if(zn(s,t),qn(t),c&512&&(rn||a===null||lr(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[O]||m[$t]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),En(m,c,a),m[$t]=t,he(m),c=m;break e;case"link":var x=Kb("link","href",f).get(c+(a.href||""));if(x){for(var E=0;E<x.length;E++)if(m=x[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(E,1);break t}}m=f.createElement(c),En(m,c,a),f.head.appendChild(m);break;case"meta":if(x=Kb("meta","content",f).get(c+(a.content||""))){for(E=0;E<x.length;E++)if(m=x[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(E,1);break t}}m=f.createElement(c),En(m,c,a),f.head.appendChild(m);break;default:throw Error(i(468,c))}m[$t]=t,he(m),c=m}t.stateNode=c}else Qb(f,t.type,t.stateNode);else t.stateNode=Yb(f,c,t.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?Qb(f,t.type,t.stateNode):Yb(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:zn(s,t),qn(t),c&512&&(rn||a===null||lr(a,a.return)),a!==null&&c&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(zn(s,t),qn(t),c&512&&(rn||a===null||lr(a,a.return)),t.flags&32){f=t.stateNode;try{Pn(f,"")}catch(Ce){Nt(t,t.return,Ce)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,$f(t,f,a!==null?a.memoizedProps:f)),c&1024&&(Qf=!0);break;case 6:if(zn(s,t),qn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(Ce){Nt(t,t.return,Ce)}}break;case 3:if(rd=null,f=qs,qs=nd(s.containerInfo),zn(s,t),qs=f,qn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Xo(s.containerInfo)}catch(Ce){Nt(t,t.return,Ce)}Qf&&(Qf=!1,Q0(t));break;case 4:c=qs,qs=nd(t.stateNode.containerInfo),zn(s,t),qn(t),qs=c;break;case 12:zn(s,t),qn(t);break;case 31:zn(s,t),qn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Bu(t,c)));break;case 13:zn(s,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hu=cn()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Bu(t,c)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,G=Kr,ne=rn;if(Kr=G||f,rn=ne||D,zn(s,t),rn=ne,Kr=G,qn(t),c&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||Kr||rn||Ha(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=D.stateNode;var oe=D.memoizedProps.style,$=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;E.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Ce){Nt(D,D.return,Ce)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(Ce){Nt(D,D.return,Ce)}}}else if(s.tag===18){if(a===null){D=s;try{var W=D.stateNode;f?Lb(W,!0):Lb(D.stateNode,!1)}catch(Ce){Nt(D,D.return,Ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Bu(t,a))));break;case 19:zn(s,t),qn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Bu(t,c)));break;case 30:break;case 21:break;default:zn(s,t),qn(t)}}function qn(t){var s=t.flags;if(s&2){try{for(var a,c=t.return;c!==null;){if(z0(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Yf(t);qu(t,m,f);break;case 5:var x=a.stateNode;a.flags&32&&(Pn(x,""),a.flags&=-33);var E=Yf(t);qu(t,E,x);break;case 3:case 4:var D=a.stateNode.containerInfo,G=Yf(t);Kf(t,G,D);break;default:throw Error(i(161))}}catch(ne){Nt(t,t.return,ne)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Q0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Q0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Xr(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)F0(t,s.alternate,s),s=s.sibling}function Ha(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Li(4,s,s.return),Ha(s);break;case 1:lr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&L0(s,s.return,a),Ha(s);break;case 27:hc(s.stateNode);case 26:case 5:lr(s,s.return),Ha(s);break;case 22:s.memoizedState===null&&Ha(s);break;case 30:Ha(s);break;default:Ha(s)}t=t.sibling}}function Wr(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=t,m=s,x=m.flags;switch(m.tag){case 0:case 11:case 15:Wr(f,m,a),nc(4,m);break;case 1:if(Wr(f,m,a),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Nt(c,c.return,G)}if(c=m,f=c.updateQueue,f!==null){var E=c.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Sy(D[f],E)}catch(G){Nt(c,c.return,G)}}a&&x&64&&V0(m),sc(m,m.return);break;case 27:q0(m);case 26:case 5:Wr(f,m,a),a&&c===null&&x&4&&U0(m),sc(m,m.return);break;case 12:Wr(f,m,a);break;case 31:Wr(f,m,a),a&&x&4&&$0(f,m);break;case 13:Wr(f,m,a),a&&x&4&&Y0(f,m);break;case 22:m.memoizedState===null&&Wr(f,m,a),sc(m,m.return);break;case 30:break;default:Wr(f,m,a)}s=s.sibling}}function Xf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fl(a))}function Wf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Fl(t))}function Bs(t,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)X0(t,s,a,c),s=s.sibling}function X0(t,s,a,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Bs(t,s,a,c),f&2048&&nc(9,s);break;case 1:Bs(t,s,a,c);break;case 3:Bs(t,s,a,c),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Fl(t)));break;case 12:if(f&2048){Bs(t,s,a,c),t=s.stateNode;try{var m=s.memoizedProps,x=m.id,E=m.onPostCommit;typeof E=="function"&&E(x,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Nt(s,s.return,D)}}else Bs(t,s,a,c);break;case 31:Bs(t,s,a,c);break;case 13:Bs(t,s,a,c);break;case 23:break;case 22:m=s.stateNode,x=s.alternate,s.memoizedState!==null?m._visibility&2?Bs(t,s,a,c):rc(t,s):m._visibility&2?Bs(t,s,a,c):(m._visibility|=2,Uo(t,s,a,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Xf(x,s);break;case 24:Bs(t,s,a,c),f&2048&&Wf(s.alternate,s);break;default:Bs(t,s,a,c)}}function Uo(t,s,a,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,x=s,E=a,D=c,G=x.flags;switch(x.tag){case 0:case 11:case 15:Uo(m,x,E,D,f),nc(8,x);break;case 23:break;case 22:var ne=x.stateNode;x.memoizedState!==null?ne._visibility&2?Uo(m,x,E,D,f):rc(m,x):(ne._visibility|=2,Uo(m,x,E,D,f)),f&&G&2048&&Xf(x.alternate,x);break;case 24:Uo(m,x,E,D,f),f&&G&2048&&Wf(x.alternate,x);break;default:Uo(m,x,E,D,f)}s=s.sibling}}function rc(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,c=s,f=c.flags;switch(c.tag){case 22:rc(a,c),f&2048&&Xf(c.alternate,c);break;case 24:rc(a,c),f&2048&&Wf(c.alternate,c);break;default:rc(a,c)}s=s.sibling}}var ic=8192;function zo(t,s,a){if(t.subtreeFlags&ic)for(t=t.child;t!==null;)W0(t,s,a),t=t.sibling}function W0(t,s,a){switch(t.tag){case 26:zo(t,s,a),t.flags&ic&&t.memoizedState!==null&&PT(a,qs,t.memoizedState,t.memoizedProps);break;case 5:zo(t,s,a);break;case 3:case 4:var c=qs;qs=nd(t.stateNode.containerInfo),zo(t,s,a),qs=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=ic,ic=16777216,zo(t,s,a),ic=c):zo(t,s,a));break;default:zo(t,s,a)}}function J0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ac(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];gn=c,eb(c,t)}J0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Z0(t),t=t.sibling}function Z0(t){switch(t.tag){case 0:case 11:case 15:ac(t),t.flags&2048&&Li(9,t,t.return);break;case 3:ac(t);break;case 12:ac(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Fu(t)):ac(t);break;default:ac(t)}}function Fu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];gn=c,eb(c,t)}J0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Li(8,s,s.return),Fu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(s));break;default:Fu(s)}t=t.sibling}}function eb(t,s){for(;gn!==null;){var a=gn;switch(a.tag){case 0:case 11:case 15:Li(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Fl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,gn=c;else e:for(a=t;gn!==null;){c=gn;var f=c.sibling,m=c.return;if(H0(c),c===a){gn=null;break e}if(f!==null){f.return=m,gn=f;break e}gn=m}}}var WN={getCacheForType:function(t){var s=_n(tn),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return _n(tn).controller.signal}},JN=typeof WeakMap=="function"?WeakMap:Map,xt=0,It=null,st=null,at=0,Et=0,os=null,Ui=!1,qo=!1,Jf=!1,Jr=0,Kt=0,zi=0,Ga=0,Zf=0,ls=0,Bo=0,oc=null,Bn=null,em=!1,Hu=0,tb=0,Gu=1/0,$u=null,qi=null,dn=0,Bi=null,Fo=null,Zr=0,tm=0,nm=null,nb=null,lc=0,sm=null;function cs(){return(xt&2)!==0&&at!==0?at&-at:ee.T!==null?cm():lo()}function sb(){if(ls===0)if((at&536870912)===0||ht){var t=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),ls=t}else ls=536870912;return t=is.current,t!==null&&(t.flags|=32),ls}function Fn(t,s,a){(t===It&&(Et===2||Et===9)||t.cancelPendingCommit!==null)&&(Ho(t,0),Fi(t,at,ls,!1)),Sr(t,a),((xt&2)===0||t!==It)&&(t===It&&((xt&2)===0&&(Ga|=a),Kt===4&&Fi(t,at,ls,!1)),cr(t))}function rb(t,s,a){if((xt&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Bt(t,s),f=c?tT(t,s):im(t,s,!0),m=c;do{if(f===0){qo&&!c&&Fi(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!ZN(a)){f=im(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var E=t;f=oc;var D=E.current.memoizedState.isDehydrated;if(D&&(Ho(E,x).flags|=256),x=im(E,x,!1),x!==2){if(Jf&&!D){E.errorRecoveryDisabledLanes|=m,Ga|=m,f=4;break e}m=Bn,Bn=f,m!==null&&(Bn===null?Bn=m:Bn.push.apply(Bn,m))}f=x}if(m=!1,f!==2)continue}}if(f===1){Ho(t,0),Fi(t,s,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Fi(c,s,ls,!Ui);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Hu+300-cn(),10<f)){if(Fi(c,s,ls,!Ui),fs(c,0,!0)!==0)break e;Zr=s,c.timeoutHandle=Mb(ib.bind(null,c,a,Bn,$u,em,s,ls,Ga,Bo,Ui,m,"Throttled",-0,0),f);break e}ib(c,a,Bn,$u,em,s,ls,Ga,Bo,Ui,m,null,-0,0)}}break}while(!0);cr(t)}function ib(t,s,a,c,f,m,x,E,D,G,ne,oe,$,W){if(t.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gs},W0(s,m,oe);var Ce=(m&62914560)===m?Hu-cn():(m&4194048)===m?tb-cn():0;if(Ce=VT(oe,Ce),Ce!==null){Zr=m,t.cancelPendingCommit=Ce(fb.bind(null,t,s,m,a,c,f,x,E,D,ne,oe,null,$,W)),Fi(t,m,x,!G);return}}fb(t,s,m,a,c,f,x,E,D)}function ZN(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!ss(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fi(t,s,a,c){s&=~Zf,s&=~Ga,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var f=s;0<f;){var m=31-Dt(f),x=1<<m;c[m]=-1,f&=~x}a!==0&&Ar(t,a,s)}function Yu(){return(xt&6)===0?(cc(0),!1):!0}function rm(){if(st!==null){if(Et===0)var t=st.return;else t=st,Br=Pa=null,vf(t),Oo=null,Gl=0,t=st;for(;t!==null;)P0(t.alternate,t),t=t.return;st=null}}function Ho(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zr=0,rm(),It=t,st=a=zr(t.current,null),at=s,Et=0,os=null,Ui=!1,qo=Bt(t,s),Jf=!1,Bo=ls=Zf=Ga=zi=Kt=0,Bn=oc=null,em=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var f=31-Dt(c),m=1<<f;s|=t[f],c&=~m}return Jr=s,mu(),a}function ab(t,s){Qe=null,ee.H=Zl,s===Do||s===wu?(s=wy(),Et=3):s===lf?(s=wy(),Et=4):Et=s===Pf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,os=s,st===null&&(Kt=1,Pu(t,vs(s,t.current)))}function ob(){var t=is.current;return t===null?!0:(at&4194048)===at?Ns===null:(at&62914560)===at||(at&536870912)!==0?t===Ns:!1}function lb(){var t=ee.H;return ee.H=Zl,t===null?Zl:t}function cb(){var t=ee.A;return ee.A=WN,t}function Ku(){Kt=4,Ui||(at&4194048)!==at&&is.current!==null||(qo=!0),(zi&134217727)===0&&(Ga&134217727)===0||It===null||Fi(It,at,ls,!1)}function im(t,s,a){var c=xt;xt|=2;var f=lb(),m=cb();(It!==t||at!==s)&&($u=null,Ho(t,s)),s=!1;var x=Kt;e:do try{if(Et!==0&&st!==null){var E=st,D=os;switch(Et){case 8:rm(),x=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(s=!0);var G=Et;if(Et=0,os=null,Go(t,E,D,G),a&&qo){x=0;break e}break;default:G=Et,Et=0,os=null,Go(t,E,D,G)}}eT(),x=Kt;break}catch(ne){ab(t,ne)}while(!0);return s&&t.shellSuspendCounter++,Br=Pa=null,xt=c,ee.H=f,ee.A=m,st===null&&(It=null,at=0,mu()),x}function eT(){for(;st!==null;)ub(st)}function tT(t,s){var a=xt;xt|=2;var c=lb(),f=cb();It!==t||at!==s?($u=null,Gu=cn()+500,Ho(t,s)):qo=Bt(t,s);e:do try{if(Et!==0&&st!==null){s=st;var m=os;t:switch(Et){case 1:Et=0,os=null,Go(t,s,m,1);break;case 2:case 9:if(vy(m)){Et=0,os=null,db(s);break}s=function(){Et!==2&&Et!==9||It!==t||(Et=7),cr(t)},m.then(s,s);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:vy(m)?(Et=0,os=null,db(s)):(Et=0,os=null,Go(t,s,m,7));break;case 5:var x=null;switch(st.tag){case 26:x=st.memoizedState;case 5:case 27:var E=st;if(x?Xb(x):E.stateNode.complete){Et=0,os=null;var D=E.sibling;if(D!==null)st=D;else{var G=E.return;G!==null?(st=G,Qu(G)):st=null}break t}}Et=0,os=null,Go(t,s,m,5);break;case 6:Et=0,os=null,Go(t,s,m,6);break;case 8:rm(),Kt=6;break e;default:throw Error(i(462))}}nT();break}catch(ne){ab(t,ne)}while(!0);return Br=Pa=null,ee.H=c,ee.A=f,xt=a,st!==null?0:(It=null,at=0,mu(),Kt)}function nT(){for(;st!==null&&!Is();)ub(st)}function ub(t){var s=O0(t.alternate,t,Jr);t.memoizedProps=t.pendingProps,s===null?Qu(t):st=s}function db(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=j0(a,s,s.pendingProps,s.type,void 0,at);break;case 11:s=j0(a,s,s.pendingProps,s.type.render,s.ref,at);break;case 5:vf(s);default:P0(a,s),s=st=cy(s,Jr),s=O0(a,s,Jr)}t.memoizedProps=t.pendingProps,s===null?Qu(t):st=s}function Go(t,s,a,c){Br=Pa=null,vf(s),Oo=null,Gl=0;var f=s.return;try{if(HN(t,f,s,a,at)){Kt=1,Pu(t,vs(a,t.current)),st=null;return}}catch(m){if(f!==null)throw st=f,m;Kt=1,Pu(t,vs(a,t.current)),st=null;return}s.flags&32768?(ht||c===1?t=!0:qo||(at&536870912)!==0?t=!1:(Ui=t=!0,(c===2||c===9||c===3||c===6)&&(c=is.current,c!==null&&c.tag===13&&(c.flags|=16384))),hb(s,t)):Qu(s)}function Qu(t){var s=t;do{if((s.flags&32768)!==0){hb(s,Ui);return}t=s.return;var a=YN(s.alternate,s,Jr);if(a!==null){st=a;return}if(s=s.sibling,s!==null){st=s;return}st=s=t}while(s!==null);Kt===0&&(Kt=5)}function hb(t,s){do{var a=KN(t.alternate,t);if(a!==null){a.flags&=32767,st=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){st=t;return}st=t=a}while(t!==null);Kt=6,st=null}function fb(t,s,a,c,f,m,x,E,D){t.cancelPendingCommit=null;do Xu();while(dn!==0);if((xt&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=$h,Nl(t,a,m,x,E,D),t===It&&(st=It=null,at=0),Fo=s,Bi=t,Zr=a,tm=m,nm=f,nb=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aT(hs,function(){return bb(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,f=me.p,me.p=2,x=xt,xt|=4;try{QN(t,s,a)}finally{xt=x,me.p=f,ee.T=c}}dn=1,mb(),pb(),gb()}}function mb(){if(dn===1){dn=0;var t=Bi,s=Fo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=ee.T,ee.T=null;var c=me.p;me.p=2;var f=xt;xt|=4;try{K0(s,t);var m=ym,x=ey(t.containerInfo),E=m.focusedElem,D=m.selectionRange;if(x!==E&&E&&E.ownerDocument&&Zg(E.ownerDocument.documentElement,E)){if(D!==null&&qh(E)){var G=D.start,ne=D.end;if(ne===void 0&&(ne=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(ne,E.value.length);else{var oe=E.ownerDocument||document,$=oe&&oe.defaultView||window;if($.getSelection){var W=$.getSelection(),Ce=E.textContent.length,qe=Math.min(D.start,Ce),jt=D.end===void 0?qe:Math.min(D.end,Ce);!W.extend&&qe>jt&&(x=jt,jt=qe,qe=x);var z=Jg(E,qe),M=Jg(E,jt);if(z&&M&&(W.rangeCount!==1||W.anchorNode!==z.node||W.anchorOffset!==z.offset||W.focusNode!==M.node||W.focusOffset!==M.offset)){var H=oe.createRange();H.setStart(z.node,z.offset),W.removeAllRanges(),qe>jt?(W.addRange(H),W.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),W.addRange(H))}}}}for(oe=[],W=E;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<oe.length;E++){var re=oe[E];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ld=!!gm,ym=gm=null}finally{xt=f,me.p=c,ee.T=a}}t.current=s,dn=2}}function pb(){if(dn===2){dn=0;var t=Bi,s=Fo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=ee.T,ee.T=null;var c=me.p;me.p=2;var f=xt;xt|=4;try{F0(t,s.alternate,s)}finally{xt=f,me.p=c,ee.T=a}}dn=3}}function gb(){if(dn===4||dn===3){dn=0,Er();var t=Bi,s=Fo,a=Zr,c=nb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,Fo=Bi=null,yb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(qi=null),Ds(a),s=s.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Xn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=ee.T,f=me.p,me.p=2,ee.T=null;try{for(var m=t.onRecoverableError,x=0;x<c.length;x++){var E=c[x];m(E.value,{componentStack:E.stack})}}finally{ee.T=s,me.p=f}}(Zr&3)!==0&&Xu(),cr(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===sm?lc++:(lc=0,sm=t):lc=0,cc(0)}}function yb(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Fl(s)))}function Xu(){return mb(),pb(),gb(),bb()}function bb(){if(dn!==5)return!1;var t=Bi,s=tm;tm=0;var a=Ds(Zr),c=ee.T,f=me.p;try{me.p=32>a?32:a,ee.T=null,a=nm,nm=null;var m=Bi,x=Zr;if(dn=0,Fo=Bi=null,Zr=0,(xt&6)!==0)throw Error(i(331));var E=xt;if(xt|=4,Z0(m.current),X0(m,m.current,x,a),xt=E,cc(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Xn,m)}catch{}return!0}finally{me.p=f,ee.T=c,yb(t,s)}}function xb(t,s,a){s=vs(a,s),s=Mf(t.stateNode,s,2),t=Mi(t,s,2),t!==null&&(Sr(t,2),cr(t))}function Nt(t,s,a){if(t.tag===3)xb(t,t,a);else for(;s!==null;){if(s.tag===3){xb(s,t,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(qi===null||!qi.has(c))){t=vs(a,t),a=v0(2),c=Mi(s,a,2),c!==null&&(_0(a,c,s,t),Sr(c,2),cr(c));break}}s=s.return}}function am(t,s,a){var c=t.pingCache;if(c===null){c=t.pingCache=new JN;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(Jf=!0,f.add(a),t=sT.bind(null,t,s,a),s.then(t,t))}function sT(t,s,a){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,It===t&&(at&a)===a&&(Kt===4||Kt===3&&(at&62914560)===at&&300>cn()-Hu?(xt&2)===0&&Ho(t,0):Zf|=a,Bo===at&&(Bo=0)),cr(t)}function vb(t,s){s===0&&(s=oo()),t=Da(t,s),t!==null&&(Sr(t,s),cr(t))}function rT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),vb(t,a)}function iT(t,s){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),vb(t,a)}function aT(t,s){return Me(t,s)}var Wu=null,$o=null,om=!1,Ju=!1,lm=!1,Hi=0;function cr(t){t!==$o&&t.next===null&&($o===null?Wu=$o=t:$o=$o.next=t),Ju=!0,om||(om=!0,lT())}function cc(t,s){if(!lm&&Ju){lm=!0;do for(var a=!1,c=Wu;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var x=c.suspendedLanes,E=c.pingedLanes;m=(1<<31-Dt(42|t)+1)-1,m&=f&~(x&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Nb(c,m))}else m=at,m=fs(c,c===It?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Bt(c,m)||(a=!0,Nb(c,m));c=c.next}while(a);lm=!1}}function oT(){_b()}function _b(){Ju=om=!1;var t=0;Hi!==0&&bT()&&(t=Hi);for(var s=cn(),a=null,c=Wu;c!==null;){var f=c.next,m=wb(c,s);m===0?(c.next=null,a===null?Wu=f:a.next=f,f===null&&($o=a)):(a=c,(t!==0||(m&3)!==0)&&(Ju=!0)),c=f}dn!==0&&dn!==5||cc(t),Hi!==0&&(Hi=0)}function wb(t,s){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var x=31-Dt(m),E=1<<x,D=f[x];D===-1?((E&a)===0||(E&c)!==0)&&(f[x]=ao(E,s)):D<=s&&(t.expiredLanes|=E),m&=~E}if(s=It,a=at,a=fs(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===s&&(Et===2||Et===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Rs(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bt(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(c!==null&&Rs(c),Ds(a)){case 2:case 8:a=Js;break;case 32:a=hs;break;case 268435456:a=Qn;break;default:a=hs}return c=Eb.bind(null,t),a=Me(a,c),t.callbackPriority=s,t.callbackNode=a,s}return c!==null&&c!==null&&Rs(c),t.callbackPriority=2,t.callbackNode=null,2}function Eb(t,s){if(dn!==0&&dn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Xu()&&t.callbackNode!==a)return null;var c=at;return c=fs(t,t===It?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(rb(t,c,s),wb(t,cn()),t.callbackNode!=null&&t.callbackNode===a?Eb.bind(null,t):null)}function Nb(t,s){if(Xu())return null;rb(t,s,!0)}function lT(){vT(function(){(xt&6)!==0?Me(Nr,oT):_b()})}function cm(){if(Hi===0){var t=Io;t===0&&(t=On,On<<=1,(On&261888)===0&&(On=256)),Hi=t}return Hi}function Tb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function Sb(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function cT(t,s,a,c,f){if(s==="submit"&&a&&a.stateNode===f){var m=Tb((f[en]||null).action),x=c.submitter;x&&(s=(s=x[en]||null)?Tb(s.formAction):x.getAttribute("formAction"),s!==null&&(m=s,x=null));var E=new Ps("action","action",null,c,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Hi!==0){var D=x?Sb(f,x):new FormData(f);Cf(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(E.preventDefault(),D=x?Sb(f,x):new FormData(f),Cf(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var um=0;um<Gh.length;um++){var dm=Gh[um],uT=dm.toLowerCase(),dT=dm[0].toUpperCase()+dm.slice(1);zs(uT,"on"+dT)}zs(sy,"onAnimationEnd"),zs(ry,"onAnimationIteration"),zs(iy,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(AN,"onTransitionRun"),zs(jN,"onTransitionStart"),zs(CN,"onTransitionCancel"),zs(ay,"onTransitionEnd"),ie("onMouseEnter",["mouseout","mouseover"]),ie("onMouseLeave",["mouseout","mouseover"]),ie("onPointerEnter",["pointerout","pointerover"]),ie("onPointerLeave",["pointerout","pointerover"]),le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),le("onBeforeInput",["compositionend","keypress","textInput","paste"]),le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function Ab(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var x=c.length-1;0<=x;x--){var E=c[x],D=E.instance,G=E.currentTarget;if(E=E.listener,D!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=G;try{m(f)}catch(ne){fu(ne)}f.currentTarget=null,m=D}else for(x=0;x<c.length;x++){if(E=c[x],D=E.instance,G=E.currentTarget,E=E.listener,D!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=G;try{m(f)}catch(ne){fu(ne)}f.currentTarget=null,m=D}}}}function rt(t,s){var a=s[bi];a===void 0&&(a=s[bi]=new Set);var c=t+"__bubble";a.has(c)||(jb(s,t,2,!1),a.add(c))}function hm(t,s,a){var c=0;s&&(c|=4),jb(a,t,c,s)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function fm(t){if(!t[Zu]){t[Zu]=!0,Ae.forEach(function(a){a!=="selectionchange"&&(hT.has(a)||hm(a,!1,t),hm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Zu]||(s[Zu]=!0,hm("selectionchange",!1,s))}}function jb(t,s,a,c){switch(sx(s)){case 2:var f=zT;break;case 8:f=qT;break;default:f=jm}a=f.bind(null,s,a,t),f=void 0,!vi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function mm(t,s,a,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var E=c.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=c.return;x!==null;){var D=x.tag;if((D===3||D===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=K(E),x===null)return;if(D=x.tag,D===5||D===6||D===26||D===27){c=m=x;continue e}E=E.parentNode}}c=c.return}Pr(function(){var G=m,ne=Zn(a),oe=[];e:{var $=oy.get(t);if($!==void 0){var W=Ps,Ce=t;switch(t){case"keypress":if(wi(a)===0)break e;case"keydown":case"keyup":W=Pl;break;case"focusin":Ce="focus",W=Ni;break;case"focusout":Ce="blur",W=Ni;break;case"beforeblur":case"afterblur":W=Ni;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Cl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case sy:case ry:case iy:W=Il;break;case ay:W=N;break;case"scroll":case"scrollend":W=bo;break;case"wheel":W=Y;break;case"copy":case"cut":case"paste":W=kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ir;break;case"toggle":case"beforetoggle":W=Re}var qe=(s&4)!==0,jt=!qe&&(t==="scroll"||t==="scrollend"),z=qe?$!==null?$+"Capture":null:$;qe=[];for(var M=G,H;M!==null;){var re=M;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||z===null||(re=ys(M,z),re!=null&&qe.push(dc(M,re,H))),jt)break;M=M.return}0<qe.length&&($=new W($,Ce,null,a,ne),oe.push({event:$,listeners:qe}))}}if((s&7)===0){e:{if($=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",$&&a!==po&&(Ce=a.relatedTarget||a.fromElement)&&(K(Ce)||Ce[ps]))break e;if((W||$)&&($=ne.window===ne?ne:($=ne.ownerDocument)?$.defaultView||$.parentWindow:window,W?(Ce=a.relatedTarget||a.toElement,W=G,Ce=Ce?K(Ce):null,Ce!==null&&(jt=u(Ce),qe=Ce.tag,Ce!==jt||qe!==5&&qe!==27&&qe!==6)&&(Ce=null)):(W=null,Ce=G),W!==Ce)){if(qe=xo,re="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(qe=ir,re="onPointerLeave",z="onPointerEnter",M="pointer"),jt=W==null?$:Z(W),H=Ce==null?$:Z(Ce),$=new qe(re,M+"leave",W,a,ne),$.target=jt,$.relatedTarget=H,re=null,K(ne)===G&&(qe=new qe(z,M+"enter",Ce,a,ne),qe.target=H,qe.relatedTarget=jt,re=qe),jt=re,W&&Ce)t:{for(qe=fT,z=W,M=Ce,H=0,re=z;re;re=qe(re))H++;re=0;for(var Ve=M;Ve;Ve=qe(Ve))re++;for(;0<H-re;)z=qe(z),H--;for(;0<re-H;)M=qe(M),re--;for(;H--;){if(z===M||M!==null&&z===M.alternate){qe=z;break t}z=qe(z),M=qe(M)}qe=null}else qe=null;W!==null&&Cb(oe,$,W,qe,!1),Ce!==null&&jt!==null&&Cb(oe,jt,Ce,qe,!0)}}e:{if($=G?Z(G):window,W=$.nodeName&&$.nodeName.toLowerCase(),W==="select"||W==="input"&&$.type==="file")var yt=$g;else if(Lh($))if(Yg)yt=NN;else{yt=wN;var ke=_N}else W=$.nodeName,!W||W.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Sa(G.elementType)&&(yt=$g):yt=EN;if(yt&&(yt=yt(t,G))){du(oe,yt,a,ne);break e}ke&&ke(t,$,G),t==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&ho($,"number",$.value)}switch(ke=G?Z(G):window,t){case"focusin":(Lh(ke)||ke.contentEditable==="true")&&(Eo=ke,Bh=G,zl=null);break;case"focusout":zl=Bh=Eo=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,ty(oe,a,ne);break;case"selectionchange":if(SN)break;case"keydown":case"keyup":ty(oe,a,ne)}var Je;if(et)e:{switch(t){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else ji?Si(t,a)&&(ot="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ot="onCompositionStart");ot&&(Us&&a.locale!=="ko"&&(ji||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&ji&&(Je=yo()):(Ms=ne,go="value"in Ms?Ms.value:Ms.textContent,ji=!0)),ke=ed(G,ot),0<ke.length&&(ot=new Ls(ot,t,null,a,ne),oe.push({event:ot,listeners:ke}),Je?ot.data=Je:(Je=Ai(a),Je!==null&&(ot.data=Je)))),(Je=Ft?Gg(t,a):Ph(t,a))&&(ot=ed(G,"onBeforeInput"),0<ot.length&&(ke=new Ls("onBeforeInput","beforeinput",null,a,ne),oe.push({event:ke,listeners:ot}),ke.data=Je)),cT(oe,t,G,a,ne)}Ab(oe,s)})}function dc(t,s,a){return{instance:t,listener:s,currentTarget:a}}function ed(t,s){for(var a=s+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ys(t,a),f!=null&&c.unshift(dc(t,f,m)),f=ys(t,s),f!=null&&c.push(dc(t,f,m))),t.tag===3)return c;t=t.return}return[]}function fT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cb(t,s,a,c,f){for(var m=s._reactName,x=[];a!==null&&a!==c;){var E=a,D=E.alternate,G=E.stateNode;if(E=E.tag,D!==null&&D===c)break;E!==5&&E!==26&&E!==27||G===null||(D=G,f?(G=ys(a,m),G!=null&&x.unshift(dc(a,G,D))):f||(G=ys(a,m),G!=null&&x.push(dc(a,G,D)))),a=a.return}x.length!==0&&t.push({event:s,listeners:x})}var mT=/\r\n?/g,pT=/\u0000|\uFFFD/g;function Rb(t){return(typeof t=="string"?t:""+t).replace(mT,`
`).replace(pT,"")}function Ib(t,s){return s=Rb(s),Rb(t)===s}function At(t,s,a,c,f,m){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Pn(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Pn(t,""+c);break;case"className":We(t,"class",c);break;case"tabIndex":We(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":We(t,a,c);break;case"style":mo(t,c,m);break;case"data":if(s!=="object"){We(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Aa(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&At(t,s,"name",f.name,f,null),At(t,s,"formEncType",f.formEncType,f,null),At(t,s,"formMethod",f.formMethod,f,null),At(t,s,"formTarget",f.formTarget,f,null)):(At(t,s,"encType",f.encType,f,null),At(t,s,"method",f.method,f,null),At(t,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=Aa(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=gs);break;case"onScroll":c!=null&&rt("scroll",t);break;case"onScrollEnd":c!=null&&rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":rt("beforetoggle",t),rt("toggle",t),De(t,"popover",c);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":De(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jl.get(a)||a,De(t,a,c))}}function pm(t,s,a,c,f,m){switch(a){case"style":mo(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof c=="string"?Pn(t,c):(typeof c=="number"||typeof c=="bigint")&&Pn(t,""+c);break;case"onScroll":c!=null&&rt("scroll",t);break;case"onScrollEnd":c!=null&&rt("scrollend",t);break;case"onClick":c!=null&&(t.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Be.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[en]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):De(t,a,c)}}}function En(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",t),rt("load",t);var c=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var x=a[m];if(x!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:At(t,s,m,x,a,null)}}f&&At(t,s,"srcSet",a.srcSet,a,null),c&&At(t,s,"src",a.src,a,null);return;case"input":rt("invalid",t);var E=m=x=f=null,D=null,G=null;for(c in a)if(a.hasOwnProperty(c)){var ne=a[c];if(ne!=null)switch(c){case"name":f=ne;break;case"type":x=ne;break;case"checked":D=ne;break;case"defaultChecked":G=ne;break;case"value":m=ne;break;case"defaultValue":E=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:At(t,s,c,ne,a,null)}}Ir(t,m,E,D,G,x,f,!1);return;case"select":rt("invalid",t),c=x=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":x=E;break;case"multiple":c=E;default:At(t,s,f,E,a,null)}s=m,a=x,t.multiple=!!c,s!=null?kr(t,!!c,s,!1):a!=null&&kr(t,!!c,a,!0);return;case"textarea":rt("invalid",t),m=f=c=null;for(x in a)if(a.hasOwnProperty(x)&&(E=a[x],E!=null))switch(x){case"value":c=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:At(t,s,x,E,a,null)}Dr(t,c,f,m);return;case"option":for(D in a)a.hasOwnProperty(D)&&(c=a[D],c!=null)&&(D==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":At(t,s,D,c,a,null));return;case"dialog":rt("beforetoggle",t),rt("toggle",t),rt("cancel",t),rt("close",t);break;case"iframe":case"object":rt("load",t);break;case"video":case"audio":for(c=0;c<uc.length;c++)rt(uc[c],t);break;case"image":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"embed":case"source":case"link":rt("error",t),rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(c=a[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:At(t,s,G,c,a,null)}return;default:if(Sa(s)){for(ne in a)a.hasOwnProperty(ne)&&(c=a[ne],c!==void 0&&pm(t,s,ne,c,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(c=a[E],c!=null&&At(t,s,E,c,a,null))}function gT(t,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,x=null,E=null,D=null,G=null,ne=null;for(W in a){var oe=a[W];if(a.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=oe;default:c.hasOwnProperty(W)||At(t,s,W,null,c,oe)}}for(var $ in c){var W=c[$];if(oe=a[$],c.hasOwnProperty($)&&(W!=null||oe!=null))switch($){case"type":m=W;break;case"name":f=W;break;case"checked":G=W;break;case"defaultChecked":ne=W;break;case"value":x=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==oe&&At(t,s,$,W,c,oe)}}Rr(t,x,E,D,G,ne,m,f);return;case"select":W=x=E=$=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":W=D;default:c.hasOwnProperty(m)||At(t,s,m,null,c,D)}for(f in c)if(m=c[f],D=a[f],c.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":$=m;break;case"defaultValue":E=m;break;case"multiple":x=m;default:m!==D&&At(t,s,f,m,c,D)}s=E,a=x,c=W,$!=null?kr(t,!!a,$,!1):!!c!=!!a&&(s!=null?kr(t,!!a,s,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":W=$=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:At(t,s,E,null,c,f)}for(x in c)if(f=c[x],m=a[x],c.hasOwnProperty(x)&&(f!=null||m!=null))switch(x){case"value":$=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&At(t,s,x,f,c,m)}Sl(t,$,W);return;case"option":for(var Ce in a)$=a[Ce],a.hasOwnProperty(Ce)&&$!=null&&!c.hasOwnProperty(Ce)&&(Ce==="selected"?t.selected=!1:At(t,s,Ce,null,c,$));for(D in c)$=c[D],W=a[D],c.hasOwnProperty(D)&&$!==W&&($!=null||W!=null)&&(D==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":At(t,s,D,$,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in a)$=a[qe],a.hasOwnProperty(qe)&&$!=null&&!c.hasOwnProperty(qe)&&At(t,s,qe,null,c,$);for(G in c)if($=c[G],W=a[G],c.hasOwnProperty(G)&&$!==W&&($!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:At(t,s,G,$,c,W)}return;default:if(Sa(s)){for(var jt in a)$=a[jt],a.hasOwnProperty(jt)&&$!==void 0&&!c.hasOwnProperty(jt)&&pm(t,s,jt,void 0,c,$);for(ne in c)$=c[ne],W=a[ne],!c.hasOwnProperty(ne)||$===W||$===void 0&&W===void 0||pm(t,s,ne,$,c,W);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!c.hasOwnProperty(z)&&At(t,s,z,null,c,$);for(oe in c)$=c[oe],W=a[oe],!c.hasOwnProperty(oe)||$===W||$==null&&W==null||At(t,s,oe,$,c,W)}function kb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],m=f.transferSize,x=f.initiatorType,E=f.duration;if(m&&E&&kb(x)){for(x=0,E=f.responseEnd,c+=1;c<a.length;c++){var D=a[c],G=D.startTime;if(G>E)break;var ne=D.transferSize,oe=D.initiatorType;ne&&kb(oe)&&(D=D.responseEnd,x+=ne*(D<E?1:(E-G)/(D-G)))}if(--c,s+=8*(m+x)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gm=null,ym=null;function td(t){return t.nodeType===9?t:t.ownerDocument}function Db(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function bm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xm=null;function bT(){var t=window.event;return t&&t.type==="popstate"?t===xm?!1:(xm=t,!0):(xm=null,!1)}var Mb=typeof setTimeout=="function"?setTimeout:void 0,xT=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,vT=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(t){return Pb.resolve(null).then(t).catch(_T)}:Mb;function _T(t){setTimeout(function(){throw t})}function Gi(t){return t==="head"}function Vb(t,s){var a=s,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(f),Xo(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")hc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,hc(a);for(var m=a.firstChild;m;){var x=m.nextSibling,E=m.nodeName;m[O]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=x}}else a==="body"&&hc(t.ownerDocument.body);a=f}while(a);Xo(s)}function Lb(t,s){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function vm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vm(a),V(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function wT(t,s,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[O])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Ts(t.nextSibling),t===null)break}return null}function ET(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ts(t.nextSibling),t===null))return null;return t}function Ub(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ts(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$?"||t.data==="$~"}function wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function NT(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Ts(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Em=null;function zb(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Ts(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function qb(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Bb(t,s,a){switch(s=td(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function hc(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);V(t)}var Ss=new Map,Fb=new Set;function nd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=me.d;me.d={f:TT,r:ST,D:AT,C:jT,L:CT,m:RT,X:kT,S:IT,M:DT};function TT(){var t=ei.f(),s=Yu();return t||s}function ST(t){var s=de(t);s!==null&&s.tag===5&&s.type==="form"?a0(s):ei.r(t)}var Yo=typeof document>"u"?null:document;function Hb(t,s,a){var c=Yo;if(c&&typeof s=="string"&&s){var f=un(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Fb.has(f)||(Fb.add(f),t={rel:t,crossOrigin:a,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),En(s,"link",t),he(s),c.head.appendChild(s)))}}function AT(t){ei.D(t),Hb("dns-prefetch",t,null)}function jT(t,s){ei.C(t,s),Hb("preconnect",t,s)}function CT(t,s,a){ei.L(t,s,a);var c=Yo;if(c&&t&&s){var f='link[rel="preload"][as="'+un(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var m=f;switch(s){case"style":m=Ko(t);break;case"script":m=Qo(t)}Ss.has(m)||(t=w({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Ss.set(m,t),c.querySelector(f)!==null||s==="style"&&c.querySelector(fc(m))||s==="script"&&c.querySelector(mc(m))||(s=c.createElement("link"),En(s,"link",t),he(s),c.head.appendChild(s)))}}function RT(t,s){ei.m(t,s);var a=Yo;if(a&&t){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+un(c)+'"][href="'+un(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Qo(t)}if(!Ss.has(m)&&(t=w({rel:"modulepreload",href:t},s),Ss.set(m,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mc(m)))return}c=a.createElement("link"),En(c,"link",t),he(c),a.head.appendChild(c)}}}function IT(t,s,a){ei.S(t,s,a);var c=Yo;if(c&&t){var f=pe(c).hoistableStyles,m=Ko(t);s=s||"default";var x=f.get(m);if(!x){var E={loading:0,preload:null};if(x=c.querySelector(fc(m)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Ss.get(m))&&Nm(t,a);var D=x=c.createElement("link");he(D),En(D,"link",t),D._p=new Promise(function(G,ne){D.onload=G,D.onerror=ne}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sd(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(m,x)}}}function kT(t,s){ei.X(t,s);var a=Yo;if(a&&t){var c=pe(a).hoistableScripts,f=Qo(t),m=c.get(f);m||(m=a.querySelector(mc(f)),m||(t=w({src:t,async:!0},s),(s=Ss.get(f))&&Tm(t,s),m=a.createElement("script"),he(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function DT(t,s){ei.M(t,s);var a=Yo;if(a&&t){var c=pe(a).hoistableScripts,f=Qo(t),m=c.get(f);m||(m=a.querySelector(mc(f)),m||(t=w({src:t,async:!0,type:"module"},s),(s=Ss.get(f))&&Tm(t,s),m=a.createElement("script"),he(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Gb(t,s,a,c){var f=(f=Ue.current)?nd(f):null;if(!f)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ko(a.href),a=pe(f).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ko(a.href);var m=pe(f).hoistableStyles,x=m.get(t);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,x),(m=f.querySelector(fc(t)))&&!m._p&&(x.instance=m,x.state.loading=5),Ss.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ss.set(t,a),m||OT(f,t,a,x.state))),s&&c===null)throw Error(i(528,""));return x}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Qo(a),a=pe(f).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ko(t){return'href="'+un(t)+'"'}function fc(t){return'link[rel="stylesheet"]['+t+"]"}function $b(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function OT(t,s,a,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),En(s,"link",a),he(s),t.head.appendChild(s))}function Qo(t){return'[src="'+un(t)+'"]'}function mc(t){return"script[async]"+t}function Yb(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(c)return s.instance=c,he(c),c;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),he(c),En(c,"style",f),sd(c,a.precedence,t),s.instance=c;case"stylesheet":f=Ko(a.href);var m=t.querySelector(fc(f));if(m)return s.state.loading|=4,s.instance=m,he(m),m;c=$b(a),(f=Ss.get(f))&&Nm(c,f),m=(t.ownerDocument||t).createElement("link"),he(m);var x=m;return x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),En(m,"link",c),s.state.loading|=4,sd(m,a.precedence,t),s.instance=m;case"script":return m=Qo(a.src),(f=t.querySelector(mc(m)))?(s.instance=f,he(f),f):(c=a,(f=Ss.get(m))&&(c=w({},a),Tm(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),he(f),En(f,"link",c),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,sd(c,a.precedence,t));return s.instance}function sd(t,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,x=0;x<c.length;x++){var E=c[x];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Nm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Tm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var rd=null;function Kb(t,s,a){if(rd===null){var c=new Map,f=rd=new Map;f.set(a,c)}else f=rd,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[O]||m[$t]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(s)||"";x=t+x;var E=c.get(x);E?E.push(m):c.set(x,[m])}}return c}function Qb(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function MT(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Xb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function PT(t,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ko(c.href),m=s.querySelector(fc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=id.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,he(m);return}m=s.ownerDocument||s,c=$b(c),(f=Ss.get(f))&&Nm(c,f),m=m.createElement("link"),he(m);var x=m;x._p=new Promise(function(E,D){x.onload=E,x.onerror=D}),En(m,"link",c),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=id.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Sm=0;function VT(t,s){return t.stylesheets&&t.count===0&&od(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&od(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&Sm===0&&(Sm=62500*yT());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&od(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Sm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)od(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ad=null;function od(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ad=new Map,s.forEach(LT,t),ad=null,id.call(t))}function LT(t,s){if(!(s.state.loading&4)){var a=ad.get(t);if(a)var c=a.get(null);else{a=new Map,ad.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var x=f[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}f=s.instance,x=f.getAttribute("data-precedence"),m=a.get(x)||c,m===c&&a.set(null,f),a.set(x,f),this.count++,c=id.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var pc={$$typeof:fe,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function UT(t,s,a,c,f,m,x,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ms(0),this.hiddenUpdates=ms(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Wb(t,s,a,c,f,m,x,E,D,G,ne,oe){return t=new UT(t,s,a,x,D,G,ne,oe,E),s=1,m===!0&&(s|=24),m=rs(3,null,null,s),t.current=m,m.stateNode=t,s=rf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:s},cf(m),t}function Jb(t){return t?(t=So,t):So}function Zb(t,s,a,c,f,m){f=Jb(f),c.context===null?c.context=f:c.pendingContext=f,c=Oi(s),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Mi(t,c,s),a!==null&&(Fn(a,t,s),Yl(a,t,s))}function ex(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Am(t,s){ex(t,s),(t=t.alternate)&&ex(t,s)}function tx(t){if(t.tag===13||t.tag===31){var s=Da(t,67108864);s!==null&&Fn(s,t,67108864),Am(t,67108864)}}function nx(t){if(t.tag===13||t.tag===31){var s=cs();s=jr(s);var a=Da(t,s);a!==null&&Fn(a,t,s),Am(t,s)}}var ld=!0;function zT(t,s,a,c){var f=ee.T;ee.T=null;var m=me.p;try{me.p=2,jm(t,s,a,c)}finally{me.p=m,ee.T=f}}function qT(t,s,a,c){var f=ee.T;ee.T=null;var m=me.p;try{me.p=8,jm(t,s,a,c)}finally{me.p=m,ee.T=f}}function jm(t,s,a,c){if(ld){var f=Cm(c);if(f===null)mm(t,s,c,cd,a),rx(t,c);else if(FT(f,t,s,a,c))c.stopPropagation();else if(rx(t,c),s&4&&-1<BT.indexOf(t)){for(;f!==null;){var m=de(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Mn(m.pendingLanes);if(x!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var D=1<<31-Dt(x);E.entanglements[1]|=D,x&=~D}cr(m),(xt&6)===0&&(Gu=cn()+500,cc(0))}}break;case 31:case 13:E=Da(m,2),E!==null&&Fn(E,m,2),Yu(),Am(m,2)}if(m=Cm(c),m===null&&mm(t,s,c,cd,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else mm(t,s,c,null,a)}}function Cm(t){return t=Zn(t),Rm(t)}var cd=null;function Rm(t){if(cd=null,t=K(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return cd=t,null}function sx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case Nr:return 2;case Js:return 8;case hs:case Zs:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var Im=!1,$i=null,Yi=null,Ki=null,gc=new Map,yc=new Map,Qi=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rx(t,s){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":gc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(s.pointerId)}}function bc(t,s,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=de(s),s!==null&&tx(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function FT(t,s,a,c,f){switch(s){case"focusin":return $i=bc($i,t,s,a,c,f),!0;case"dragenter":return Yi=bc(Yi,t,s,a,c,f),!0;case"mouseover":return Ki=bc(Ki,t,s,a,c,f),!0;case"pointerover":var m=f.pointerId;return gc.set(m,bc(gc.get(m)||null,t,s,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,yc.set(m,bc(yc.get(m)||null,t,s,a,c,f)),!0}return!1}function ix(t){var s=K(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Wn(t.priority,function(){nx(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,Wn(t.priority,function(){nx(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);po=c,a.target.dispatchEvent(c),po=null}else return s=de(a),s!==null&&tx(s),t.blockedOn=a,!1;s.shift()}return!0}function ax(t,s,a){ud(t)&&a.delete(s)}function HT(){Im=!1,$i!==null&&ud($i)&&($i=null),Yi!==null&&ud(Yi)&&(Yi=null),Ki!==null&&ud(Ki)&&(Ki=null),gc.forEach(ax),yc.forEach(ax)}function dd(t,s){t.blockedOn===s&&(t.blockedOn=null,Im||(Im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,HT)))}var hd=null;function ox(t){hd!==t&&(hd=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hd===t&&(hd=null);for(var s=0;s<t.length;s+=3){var a=t[s],c=t[s+1],f=t[s+2];if(typeof c!="function"){if(Rm(c||a)===null)continue;break}var m=de(a);m!==null&&(t.splice(s,3),s-=3,Cf(m,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Xo(t){function s(D){return dd(D,t)}$i!==null&&dd($i,t),Yi!==null&&dd(Yi,t),Ki!==null&&dd(Ki,t),gc.forEach(s),yc.forEach(s);for(var a=0;a<Qi.length;a++){var c=Qi[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)ix(a),a.blockedOn===null&&Qi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],m=a[c+1],x=f[en]||null;if(typeof m=="function")x||ox(a);else if(x){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,x=m[en]||null)E=x.formAction;else if(Rm(f)!==null)continue}else E=x.action;typeof E=="function"?a[c+1]=E:(a.splice(c,3),c-=3),ox(a)}}}function lx(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function km(t){this._internalRoot=t}fd.prototype.render=km.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=cs();Zb(a,c,t,s,null,null)},fd.prototype.unmount=km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Zb(t.current,2,null,t,null,null),Yu(),s[ps]=null}};function fd(t){this._internalRoot=t}fd.prototype.unstable_scheduleHydration=function(t){if(t){var s=lo();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Qi.length&&s!==0&&s<Qi[a].priority;a++);Qi.splice(a,0,t),a===0&&ix(t)}};var cx=e.version;if(cx!=="19.2.3")throw Error(i(527,cx,"19.2.3"));me.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var GT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Xn=md.inject(GT),Qt=md}catch{}}return vc.createRoot=function(t,s){if(!l(t))throw Error(i(299));var a=!1,c="",f=g0,m=y0,x=b0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=Wb(t,1,!1,null,null,a,c,null,f,m,x,lx),t[ps]=s.current,fm(t),new km(s)},vc.hydrateRoot=function(t,s,a){if(!l(t))throw Error(i(299));var c=!1,f="",m=g0,x=y0,E=b0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=Wb(t,1,!0,s,a??null,c,f,D,m,x,E,lx),s.context=Jb(null),a=s.current,c=cs(),c=jr(c),f=Oi(c),f.callback=null,Mi(a,f,c),a=c,s.current.lanes=a,Sr(s,a),cr(s),t[ps]=s.current,fm(t),new fd(s)},vc.version="19.2.3",vc}var xx;function sS(){if(xx)return Mm.exports;xx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=nS(),Mm.exports}var rS=sS();var vx="popstate";function iS(r={}){function e(i,l){let{pathname:u,search:h,hash:p}=i.location;return hp("",{pathname:u,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:Vc(l)}return oS(e,n,null,r)}function hn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ys(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aS(){return Math.random().toString(36).substring(2,10)}function _x(r,e){return{usr:r.state,key:r.key,idx:e}}function hp(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Qc(e):e,state:n,key:e&&e.key||i||aS()}}function Vc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Qc(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function oS(r,e,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,h=l.history,p="POP",g=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function w(){p="POP";let F=_(),ue=F==null?null:F-y;y=F,g&&g({action:p,location:J.location,delta:ue})}function S(F,ue){p="PUSH";let se=hp(J.location,F,ue);y=_()+1;let fe=_x(se,y),_e=J.createHref(se);try{h.pushState(fe,"",_e)}catch(Oe){if(Oe instanceof DOMException&&Oe.name==="DataCloneError")throw Oe;l.location.assign(_e)}u&&g&&g({action:p,location:J.location,delta:1})}function L(F,ue){p="REPLACE";let se=hp(J.location,F,ue);y=_();let fe=_x(se,y),_e=J.createHref(se);h.replaceState(fe,"",_e),u&&g&&g({action:p,location:J.location,delta:0})}function Q(F){return lS(F)}let J={get action(){return p},get location(){return r(l,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(vx,w),g=F,()=>{l.removeEventListener(vx,w),g=null}},createHref(F){return e(l,F)},createURL:Q,encodeLocation(F){let ue=Q(F);return{pathname:ue.pathname,search:ue.search,hash:ue.hash}},push:S,replace:L,go(F){return h.go(F)}};return J}function lS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),hn(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Vc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function g_(r,e,n="/"){return cS(r,e,n,!1)}function cS(r,e,n,i){let l=typeof e=="string"?Qc(e):e,u=li(l.pathname||"/",n);if(u==null)return null;let h=y_(r);uS(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=_S(u);p=xS(h[g],y,i)}return p}function y_(r,e=[],n=[],i="",l=!1){let u=(h,p,g=l,y)=>{let _={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&g)return;hn(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let w=ii([i,_.relativePath]),S=n.concat(_);h.children&&h.children.length>0&&(hn(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),y_(h.children,e,S,w,g)),!(h.path==null&&!h.index)&&e.push({path:w,score:yS(w,h.index),routesMeta:S})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of b_(h.path))u(h,p,!0,g)}),e}function b_(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let h=b_(i.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),l&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function uS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:bS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var dS=/^:[\w-]+$/,hS=3,fS=2,mS=1,pS=10,gS=-2,wx=r=>r==="*";function yS(r,e){let n=r.split("/"),i=n.length;return n.some(wx)&&(i+=gS),e&&(i+=fS),n.filter(l=>!wx(l)).reduce((l,u)=>l+(dS.test(u)?hS:u===""?mS:pS),i)}function bS(r,e){return r.length===e.length&&r.slice(0,-1).every((i,l)=>i===e[l])?r[r.length-1]-e[e.length-1]:0}function xS(r,e,n=!1){let{routesMeta:i}=r,l={},u="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,_=u==="/"?e:e.slice(u.length)||"/",w=Ld({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),S=g.route;if(!w&&y&&n&&!i[i.length-1].route.index&&(w=Ld({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!w)return null;Object.assign(l,w.params),h.push({params:l,pathname:ii([u,w.pathname]),pathnameBase:TS(ii([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=ii([u,w.pathnameBase]))}return h}function Ld(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=vS(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:w},S)=>{if(_==="*"){let Q=p[S]||"";h=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const L=p[S];return w&&!L?y[_]=void 0:y[_]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function vS(r,e=!1,n=!0){Ys(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function _S(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ys(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function li(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}var x_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wS=r=>x_.test(r);function ES(r,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof r=="string"?Qc(r):r,u;if(n)if(wS(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Ys(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Ex(n.substring(1),"/"):u=Ex(n,e)}else u=e;return{pathname:u,search:SS(i),hash:AS(l)}}function Ex(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Um(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function v_(r){let e=NS(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function __(r,e,n,i=!1){let l;typeof r=="string"?l=Qc(r):(l={...r},hn(!l.pathname||!l.pathname.includes("?"),Um("?","pathname","search",l)),hn(!l.pathname||!l.pathname.includes("#"),Um("#","pathname","hash",l)),hn(!l.search||!l.search.includes("#"),Um("#","search","hash",l)));let u=r===""||l.pathname==="",h=u?"/":l.pathname,p;if(h==null)p=n;else{let w=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;l.pathname=S.join("/")}p=w>=0?e[w]:"/"}let g=ES(l,p),y=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var ii=r=>r.join("/").replace(/\/\/+/g,"/"),TS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),SS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,AS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,jS=class{constructor(r,e,n,i=!1){this.status=r,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function CS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function RS(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var w_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function E_(r,e){let n=r;if(typeof n!="string"||!x_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,l=!1;if(w_)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=li(h.pathname,e);h.origin===u.origin&&p!=null?n=p+h.search+h.hash:l=!0}catch{Ys(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N_=["POST","PUT","PATCH","DELETE"];new Set(N_);var IS=["GET",...N_];new Set(IS);var gl=T.createContext(null);gl.displayName="DataRouter";var lh=T.createContext(null);lh.displayName="DataRouterState";var kS=T.createContext(!1),T_=T.createContext({isTransitioning:!1});T_.displayName="ViewTransition";var DS=T.createContext(new Map);DS.displayName="Fetchers";var OS=T.createContext(null);OS.displayName="Await";var Cs=T.createContext(null);Cs.displayName="Navigation";var ch=T.createContext(null);ch.displayName="Location";var mi=T.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var qp=T.createContext(null);qp.displayName="RouteError";var S_="REACT_ROUTER_ERROR",MS="REDIRECT",PS="ROUTE_ERROR_RESPONSE";function VS(r){if(r.startsWith(`${S_}:${MS}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function LS(r){if(r.startsWith(`${S_}:${PS}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jS(e.status,e.statusText,e.data)}catch{}}function US(r,{relative:e}={}){hn(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=T.useContext(Cs),{hash:l,pathname:u,search:h}=Wc(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:ii([n,u])),i.createHref({pathname:p,search:h,hash:l})}function Xc(){return T.useContext(ch)!=null}function ga(){return hn(Xc(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(ch).location}var A_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j_(r){T.useContext(Cs).static||T.useLayoutEffect(r)}function C_(){let{isDataRoute:r}=T.useContext(mi);return r?JS():zS()}function zS(){hn(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(gl),{basename:e,navigator:n}=T.useContext(Cs),{matches:i}=T.useContext(mi),{pathname:l}=ga(),u=JSON.stringify(v_(i)),h=T.useRef(!1);return j_(()=>{h.current=!0}),T.useCallback((g,y={})=>{if(Ys(h.current,A_),!h.current)return;if(typeof g=="number"){n.go(g);return}let _=__(g,JSON.parse(u),l,y.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ii([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,u,l,r])}T.createContext(null);function Wc(r,{relative:e}={}){let{matches:n}=T.useContext(mi),{pathname:i}=ga(),l=JSON.stringify(v_(n));return T.useMemo(()=>__(r,JSON.parse(l),i,e==="path"),[r,l,i,e])}function qS(r,e,n,i,l){hn(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=T.useContext(Cs),{matches:h}=T.useContext(mi),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",_=p?p.pathnameBase:"/",w=p&&p.route;{let se=w&&w.path||"";I_(y,!w||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let S=ga(),L;L=S;let Q=L.pathname||"/",J=Q;if(_!=="/"){let se=_.replace(/^\//,"").split("/");J="/"+Q.replace(/^\//,"").split("/").slice(se.length).join("/")}let F=g_(r,{pathname:J});return Ys(w||F!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Ys(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$S(F&&F.map(se=>Object.assign({},se,{params:Object.assign({},g,se.params),pathname:ii([_,u.encodeLocation?u.encodeLocation(se.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?_:ii([_,u.encodeLocation?u.encodeLocation(se.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:se.pathnameBase])})),h,n,i,l)}function BS(){let r=WS(),e=CS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:u},"ErrorBoundary")," or"," ",T.createElement("code",{style:u},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:l},n):null,h)}var FS=T.createElement(BS,null),R_=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=LS(r.digest);n&&(r=n)}let e=r!==void 0?T.createElement(mi.Provider,{value:this.props.routeContext},T.createElement(qp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?T.createElement(HS,{error:r},e):e}};R_.contextType=kS;var zm=new WeakMap;function HS({children:r,error:e}){let{basename:n}=T.useContext(Cs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=VS(e.digest);if(i){let l=zm.get(e);if(l)throw l;let u=E_(i.location,n);if(w_&&!zm.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw zm.set(e,h),h}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function GS({routeContext:r,match:e,children:n}){let i=T.useContext(gl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(mi.Provider,{value:r},n)}function $S(r,e=[],n=null,i=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let _=u.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);hn(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let p=!1,g=-1;if(n)for(let _=0;_<u.length;_++){let w=u[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=_),w.route.id){let{loaderData:S,errors:L}=n,Q=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!L||L[w.route.id]===void 0);if(w.route.lazy||Q){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&i?(_,w)=>{i(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:RS(n.matches),errorInfo:w})}:void 0;return u.reduceRight((_,w,S)=>{let L,Q=!1,J=null,F=null;n&&(L=h&&w.route.id?h[w.route.id]:void 0,J=w.route.errorElement||FS,p&&(g<0&&S===0?(I_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,F=null):g===S&&(Q=!0,F=w.route.hydrateFallbackElement||null)));let ue=e.concat(u.slice(0,S+1)),se=()=>{let fe;return L?fe=J:Q?fe=F:w.route.Component?fe=T.createElement(w.route.Component,null):w.route.element?fe=w.route.element:fe=_,T.createElement(GS,{match:w,routeContext:{outlet:_,matches:ue,isDataRoute:n!=null},children:fe})};return n&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?T.createElement(R_,{location:n.location,revalidation:n.revalidation,component:J,error:L,children:se(),routeContext:{outlet:null,matches:ue,isDataRoute:!0},onError:y}):se()},null)}function Bp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YS(r){let e=T.useContext(gl);return hn(e,Bp(r)),e}function KS(r){let e=T.useContext(lh);return hn(e,Bp(r)),e}function QS(r){let e=T.useContext(mi);return hn(e,Bp(r)),e}function Fp(r){let e=QS(r),n=e.matches[e.matches.length-1];return hn(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function XS(){return Fp("useRouteId")}function WS(){let r=T.useContext(qp),e=KS("useRouteError"),n=Fp("useRouteError");return r!==void 0?r:e.errors?.[n]}function JS(){let{router:r}=YS("useNavigate"),e=Fp("useNavigate"),n=T.useRef(!1);return j_(()=>{n.current=!0}),T.useCallback(async(l,u={})=>{Ys(n.current,A_),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var Nx={};function I_(r,e,n){!e&&!Nx[r]&&(Nx[r]=!0,Ys(!1,n))}T.memo(ZS);function ZS({routes:r,future:e,state:n,onError:i}){return qS(r,void 0,n,i,e)}function e1({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:u=!1,unstable_useTransitions:h}){hn(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=T.useMemo(()=>({basename:p,navigator:l,static:u,unstable_useTransitions:h,future:{}}),[p,l,u,h]);typeof n=="string"&&(n=Qc(n));let{pathname:y="/",search:_="",hash:w="",state:S=null,key:L="default"}=n,Q=T.useMemo(()=>{let J=li(y,p);return J==null?null:{location:{pathname:J,search:_,hash:w,state:S,key:L},navigationType:i}},[p,y,_,w,S,L,i]);return Ys(Q!=null,`<Router basename="${p}"> is not able to match the URL "${y}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:T.createElement(Cs.Provider,{value:g},T.createElement(ch.Provider,{children:e,value:Q}))}var Td="get",Sd="application/x-www-form-urlencoded";function uh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function t1(r){return uh(r)&&r.tagName.toLowerCase()==="button"}function n1(r){return uh(r)&&r.tagName.toLowerCase()==="form"}function s1(r){return uh(r)&&r.tagName.toLowerCase()==="input"}function r1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function i1(r,e){return r.button===0&&(!e||e==="_self")&&!r1(r)}var pd=null;function a1(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var o1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(r){return r!=null&&!o1.has(r)?(Ys(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sd}"`),null):r}function l1(r,e){let n,i,l,u,h;if(n1(r)){let p=r.getAttribute("action");i=p?li(p,e):null,n=r.getAttribute("method")||Td,l=qm(r.getAttribute("enctype"))||Sd,u=new FormData(r)}else if(t1(r)||s1(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?li(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Td,l=qm(r.getAttribute("formenctype"))||qm(p.getAttribute("enctype"))||Sd,u=new FormData(p,r),!a1()){let{name:y,type:_,value:w}=r;if(_==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,w)}}else{if(uh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Td,i=null,l=Sd,h=r}return u&&l==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function c1(r,e,n,i){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${i}`:l.pathname=`${l.pathname}.${i}`:l.pathname==="/"?l.pathname=`_root.${i}`:e&&li(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function u1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function h1(r,e,n){let i=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let h=await u1(u,n);return h.links?h.links():[]}return[]}));return g1(i.flat(1).filter(d1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Tx(r,e,n,i,l,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let _=i.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function f1(r,e,{includeHydrateFallback:n}={}){return m1(r.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function m1(r){return[...new Set(r)]}function p1(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function g1(r,e){let n=new Set;return new Set(e),r.reduce((i,l)=>{let u=JSON.stringify(p1(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}function k_(){let r=T.useContext(gl);return Hp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function y1(){let r=T.useContext(lh);return Hp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gp=T.createContext(void 0);Gp.displayName="FrameworkContext";function D_(){let r=T.useContext(Gp);return Hp(r,"You must render this element inside a <HydratedRouter> element"),r}function b1(r,e){let n=T.useContext(Gp),[i,l]=T.useState(!1),[u,h]=T.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:w}=e,S=T.useRef(null);T.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let J=ue=>{ue.forEach(se=>{h(se.isIntersecting)})},F=new IntersectionObserver(J,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),T.useEffect(()=>{if(i){let J=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(J)}}},[i]);let L=()=>{l(!0)},Q=()=>{l(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:_c(p,L),onBlur:_c(g,Q),onMouseEnter:_c(y,L),onMouseLeave:_c(_,Q),onTouchStart:_c(w,L)}]:[!1,S,{}]}function _c(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function x1({page:r,...e}){let{router:n}=k_(),i=T.useMemo(()=>g_(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?T.createElement(_1,{page:r,matches:i,...e}):null}function v1(r){let{manifest:e,routeModules:n}=D_(),[i,l]=T.useState([]);return T.useEffect(()=>{let u=!1;return h1(r,e,n).then(h=>{u||l(h)}),()=>{u=!0}},[r,e,n]),i}function _1({page:r,matches:e,...n}){let i=ga(),{future:l,manifest:u,routeModules:h}=D_(),{basename:p}=k_(),{loaderData:g,matches:y}=y1(),_=T.useMemo(()=>Tx(r,e,y,u,i,"data"),[r,e,y,u,i]),w=T.useMemo(()=>Tx(r,e,y,u,i,"assets"),[r,e,y,u,i]),S=T.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let J=new Set,F=!1;if(e.forEach(se=>{let fe=u.routes[se.route.id];!fe||!fe.hasLoader||(!_.some(_e=>_e.route.id===se.route.id)&&se.route.id in g&&h[se.route.id]?.shouldRevalidate||fe.hasClientLoader?F=!0:J.add(se.route.id))}),J.size===0)return[];let ue=c1(r,p,l.unstable_trailingSlashAwareDataRequests,"data");return F&&J.size>0&&ue.searchParams.set("_routes",e.filter(se=>J.has(se.route.id)).map(se=>se.route.id).join(",")),[ue.pathname+ue.search]},[p,l.unstable_trailingSlashAwareDataRequests,g,i,u,_,e,r,h]),L=T.useMemo(()=>f1(w,u),[w,u]),Q=v1(w);return T.createElement(T.Fragment,null,S.map(J=>T.createElement("link",{key:J,rel:"prefetch",as:"fetch",href:J,...n})),L.map(J=>T.createElement("link",{key:J,rel:"modulepreload",href:J,...n})),Q.map(({key:J,link:F})=>T.createElement("link",{key:J,nonce:n.nonce,...F})))}function w1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var E1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E1&&(window.__reactRouterVersion="7.12.0")}catch{}function N1({basename:r,children:e,unstable_useTransitions:n,window:i}){let l=T.useRef();l.current==null&&(l.current=iS({window:i,v5Compat:!0}));let u=l.current,[h,p]=T.useState({action:u.action,location:u.location}),g=T.useCallback(y=>{n===!1?p(y):T.startTransition(()=>p(y))},[n]);return T.useLayoutEffect(()=>u.listen(g),[u,g]),T.createElement(e1,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var O_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M_=T.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:h,state:p,target:g,to:y,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:S,...L},Q){let{basename:J,unstable_useTransitions:F}=T.useContext(Cs),ue=typeof y=="string"&&O_.test(y),se=E_(y,J);y=se.to;let fe=US(y,{relative:l}),[_e,Oe,X]=b1(i,L),R=j1(y,{replace:h,state:p,target:g,preventScrollReset:_,relative:l,viewTransition:w,unstable_defaultShouldRevalidate:S,unstable_useTransitions:F});function A(P){e&&e(P),P.defaultPrevented||R(P)}let j=T.createElement("a",{...L,...X,href:se.absoluteURL||fe,onClick:se.isExternal||u?e:A,ref:w1(Q,Oe),target:g,"data-discover":!ue&&n==="render"?"true":void 0});return _e&&!ue?T.createElement(T.Fragment,null,j,T.createElement(x1,{page:fe})):j});M_.displayName="Link";var T1=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:h,viewTransition:p,children:g,...y},_){let w=Wc(h,{relative:y.relative}),S=ga(),L=T.useContext(lh),{navigator:Q,basename:J}=T.useContext(Cs),F=L!=null&&D1(w)&&p===!0,ue=Q.encodeLocation?Q.encodeLocation(w).pathname:w.pathname,se=S.pathname,fe=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(se=se.toLowerCase(),fe=fe?fe.toLowerCase():null,ue=ue.toLowerCase()),fe&&J&&(fe=li(fe,J)||fe);const _e=ue!=="/"&&ue.endsWith("/")?ue.length-1:ue.length;let Oe=se===ue||!l&&se.startsWith(ue)&&se.charAt(_e)==="/",X=fe!=null&&(fe===ue||!l&&fe.startsWith(ue)&&fe.charAt(ue.length)==="/"),R={isActive:Oe,isPending:X,isTransitioning:F},A=Oe?e:void 0,j;typeof i=="function"?j=i(R):j=[i,Oe?"active":null,X?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(R):u;return T.createElement(M_,{...y,"aria-current":A,className:j,ref:_,style:P,to:h,viewTransition:p},typeof g=="function"?g(R):g)});T1.displayName="NavLink";var S1=T.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:u,method:h=Td,action:p,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:S,...L},Q)=>{let{unstable_useTransitions:J}=T.useContext(Cs),F=I1(),ue=k1(p,{relative:y}),se=h.toLowerCase()==="get"?"get":"post",fe=typeof p=="string"&&O_.test(p),_e=Oe=>{if(g&&g(Oe),Oe.defaultPrevented)return;Oe.preventDefault();let X=Oe.nativeEvent.submitter,R=X?.getAttribute("formmethod")||h,A=()=>F(X||Oe.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:l,state:u,relative:y,preventScrollReset:_,viewTransition:w,unstable_defaultShouldRevalidate:S});J&&n!==!1?T.startTransition(()=>A()):A()};return T.createElement("form",{ref:Q,method:se,action:ue,onSubmit:i?g:_e,...L,"data-discover":!fe&&r==="render"?"true":void 0})});S1.displayName="Form";function A1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P_(r){let e=T.useContext(gl);return hn(e,A1(r)),e}function j1(r,{target:e,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=C_(),_=ga(),w=Wc(r,{relative:u});return T.useCallback(S=>{if(i1(S,e)){S.preventDefault();let L=n!==void 0?n:Vc(_)===Vc(w),Q=()=>y(r,{replace:L,state:i,preventScrollReset:l,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p});g?T.startTransition(()=>Q()):Q()}},[_,y,w,n,i,e,r,l,u,h,p,g])}var C1=0,R1=()=>`__${String(++C1)}__`;function I1(){let{router:r}=P_("useSubmit"),{basename:e}=T.useContext(Cs),n=XS(),i=r.fetch,l=r.navigate;return T.useCallback(async(u,h={})=>{let{action:p,method:g,encType:y,formData:_,body:w}=l1(u,e);if(h.navigate===!1){let S=h.fetcherKey||R1();await i(S,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:w,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await l(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:w,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[i,l,e,n])}function k1(r,{relative:e}={}){let{basename:n}=T.useContext(Cs),i=T.useContext(mi);hn(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...Wc(r||".",{relative:e})},h=ga();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let _=p.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ii([n,u.pathname])),Vc(u)}function D1(r,{relative:e}={}){let n=T.useContext(T_);hn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=P_("useViewTransitionState"),l=Wc(r,{relative:e});if(!n.isTransitioning)return!1;let u=li(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=li(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ld(l.pathname,h)!=null||Ld(l.pathname,u)!=null}const O1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Sx=r=>{const e=M1(r);return e.charAt(0).toUpperCase()+e.slice(1)},V_=(...r)=>r.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),P1=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var V1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const L1=T.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:h,...p},g)=>T.createElement("svg",{ref:g,...V1,width:e,height:e,stroke:r,strokeWidth:i?Number(n)*24/Number(e):n,className:V_("lucide",l),...!u&&!P1(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,_])=>T.createElement(y,_)),...Array.isArray(u)?u:[u]]));const Pt=(r,e)=>{const n=T.forwardRef(({className:i,...l},u)=>T.createElement(L1,{ref:u,iconNode:e,className:V_(`lucide-${O1(Sx(r))}`,`lucide-${r}`,i),...l}));return n.displayName=Sx(r),n};const U1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],z1=Pt("activity",U1);const q1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ti=Pt("check",q1);const B1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ax=Pt("chevron-down",B1);const F1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jx=Pt("chevron-right",F1);const H1=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],G1=Pt("chevron-up",H1);const $1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bm=Pt("circle-check",$1);const Y1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fm=Pt("circle-question-mark",Y1);const K1=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],Q1=Pt("cookie",K1);const X1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],W1=Pt("file-text",X1);const J1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Cx=Pt("mail",J1);const Z1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Rx=Pt("map-pin",Z1);const eA=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tA=Pt("menu",eA);const nA=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],sA=Pt("message-circle",nA);const rA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Hm=Pt("message-square",rA);const iA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],aA=Pt("phone",iA);const oA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gm=Pt("plus",oA);const lA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cA=Pt("search",lA);const uA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dA=Pt("settings",uA);const hA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Wo=Pt("shield",hA);const fA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mA=Pt("sparkles",fA);const pA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$m=Pt("square-pen",pA);const gA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ym=Pt("trending-up",gA);const yA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Km=Pt("triangle-alert",yA);const bA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qm=Pt("users",bA);const xA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kt=Pt("x",xA);const vA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gd=Pt("zap",vA),_A=()=>{};var Ix={};const L_=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let l=r.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},wA=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const l=r[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],h=r[n++],p=r[n++],g=((l&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return e.join("")},U_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<r.length;l+=3){const u=r[l],h=l+1<r.length,p=h?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,_=u>>2,w=(u&3)<<4|p>>4;let S=(p&15)<<2|y>>6,L=y&63;g||(L=64,h||(S=64)),i.push(n[_],n[w],n[S],n[L])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(L_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const w=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||y==null||w==null)throw new EA;const S=u<<2|p>>4;if(i.push(S),y!==64){const L=p<<4&240|y>>2;if(i.push(L),w!==64){const Q=y<<6&192|w;i.push(Q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class EA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NA=function(r){const e=L_(r);return U_.encodeByteArray(e,!0)},Ud=function(r){return NA(r).replace(/\./g,"")},z_=function(r){try{return U_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SA=()=>TA().__FIREBASE_DEFAULTS__,AA=()=>{if(typeof process>"u"||typeof Ix>"u")return;const r=Ix.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&z_(r[1]);return e&&JSON.parse(e)},dh=()=>{try{return _A()||SA()||AA()||jA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},q_=r=>dh()?.emulatorHosts?.[r],$p=r=>{const e=q_(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},B_=()=>dh()?.config,F_=r=>dh()?.[`_${r}`];class CA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function pi(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hh(r){return(await fetch(r,{credentials:"include"})).ok}function H_(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ud(JSON.stringify(n)),Ud(JSON.stringify(h)),""].join(".")}const Rc={};function RA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Rc))Rc[e]?r.emulator.push(e):r.prod.push(e);return r}function IA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let kx=!1;function fh(r,e){if(typeof window>"u"||typeof document>"u"||!pi(window.location.host)||Rc[r]===e||Rc[r]||kx)return;Rc[r]=e;function n(S){return`__firebase__banner__${S}`}const i="__firebase__banner",u=RA().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,L){S.setAttribute("width","24"),S.setAttribute("id",L),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{kx=!0,h()},S}function _(S,L){S.setAttribute("id",L),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=IA(i),L=n("text"),Q=document.getElementById(L)||document.createElement("span"),J=n("learnmore"),F=document.getElementById(J)||document.createElement("a"),ue=n("preprendIcon"),se=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const fe=S.element;p(fe),_(F,J);const _e=y();g(se,ue),fe.append(se,Q,F,_e),document.body.appendChild(fe)}u?(Q.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function DA(){const r=dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VA(){const r=kn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LA(){return!DA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UA(){try{return typeof indexedDB=="object"}catch{return!1}}function zA(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const qA="FirebaseError";class Xs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=qA,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],h=u?BA(u,i):"Error",p=`${this.serviceName}: ${h} (${l}).`;return new Xs(l,p,i)}}function BA(r,e){return r.replace(FA,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const FA=/\{\$([^}]+)}/g;function HA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Wa(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const u=r[l],h=e[l];if(Dx(u)&&Dx(h)){if(!Wa(u,h))return!1}else if(u!==h)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function Dx(r){return r!==null&&typeof r=="object"}function Zc(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Nc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,u]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Tc(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function GA(r,e){const n=new $A(r,e);return n.subscribe.bind(n)}class $A{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");YA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=Xm),l.error===void 0&&(l.error=Xm),l.complete===void 0&&(l.complete=Xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xm(){}function Ht(r){return r&&r._delegate?r._delegate:r}class ci{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ka="[DEFAULT]";class KA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new CA;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XA(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&h.resolve(l)}return l}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(i)??new Set;l.add(e),this.onInitCallbacks.set(i,l);const u=this.instances.get(i);return u&&e(u,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QA(r){return r===Ka?void 0:r}function XA(r){return r.instantiationMode==="EAGER"}class WA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(lt||(lt={}));const JA={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},ZA=lt.INFO,e2={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},t2=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),l=e2[e];if(l)console[l](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=ZA,this._logHandler=t2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const n2=(r,e)=>e.some(n=>r instanceof n);let Ox,Mx;function s2(){return Ox||(Ox=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r2(){return Mx||(Mx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G_=new WeakMap,fp=new WeakMap,$_=new WeakMap,Wm=new WeakMap,Kp=new WeakMap;function i2(r){const e=new Promise((n,i)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ia(r.result)),l()},h=()=>{i(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&G_.set(n,r)}).catch(()=>{}),Kp.set(e,r),e}function a2(r){if(fp.has(r))return;const e=new Promise((n,i)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});fp.set(r,e)}let mp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return fp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||$_.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ia(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function o2(r){mp=r(mp)}function l2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(Jm(this),e,...n);return $_.set(i,e.sort?e.sort():[e]),ia(i)}:r2().includes(r)?function(...e){return r.apply(Jm(this),e),ia(G_.get(this))}:function(...e){return ia(r.apply(Jm(this),e))}}function c2(r){return typeof r=="function"?l2(r):(r instanceof IDBTransaction&&a2(r),n2(r,s2())?new Proxy(r,mp):r)}function ia(r){if(r instanceof IDBRequest)return i2(r);if(Wm.has(r))return Wm.get(r);const e=c2(r);return e!==r&&(Wm.set(r,e),Kp.set(e,r)),e}const Jm=r=>Kp.get(r);function u2(r,e,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const h=indexedDB.open(r,e),p=ia(h);return i&&h.addEventListener("upgradeneeded",g=>{i(ia(h.result),g.oldVersion,g.newVersion,ia(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const d2=["get","getKey","getAll","getAllKeys","count"],h2=["put","add","delete","clear"],Zm=new Map;function Px(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=h2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||d2.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Zm.set(e,u),u}o2(r=>({...r,get:(e,n,i)=>Px(e,n)||r.get(e,n,i),has:(e,n)=>!!Px(e,n)||r.has(e,n)}));class f2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function m2(r){return r.getComponent()?.type==="VERSION"}const pp="@firebase/app",Vx="0.14.6";const ui=new Yp("@firebase/app"),p2="@firebase/app-compat",g2="@firebase/analytics-compat",y2="@firebase/analytics",b2="@firebase/app-check-compat",x2="@firebase/app-check",v2="@firebase/auth",_2="@firebase/auth-compat",w2="@firebase/database",E2="@firebase/data-connect",N2="@firebase/database-compat",T2="@firebase/functions",S2="@firebase/functions-compat",A2="@firebase/installations",j2="@firebase/installations-compat",C2="@firebase/messaging",R2="@firebase/messaging-compat",I2="@firebase/performance",k2="@firebase/performance-compat",D2="@firebase/remote-config",O2="@firebase/remote-config-compat",M2="@firebase/storage",P2="@firebase/storage-compat",V2="@firebase/firestore",L2="@firebase/ai",U2="@firebase/firestore-compat",z2="firebase",q2="12.6.0";const gp="[DEFAULT]",B2={[pp]:"fire-core",[p2]:"fire-core-compat",[y2]:"fire-analytics",[g2]:"fire-analytics-compat",[x2]:"fire-app-check",[b2]:"fire-app-check-compat",[v2]:"fire-auth",[_2]:"fire-auth-compat",[w2]:"fire-rtdb",[E2]:"fire-data-connect",[N2]:"fire-rtdb-compat",[T2]:"fire-fn",[S2]:"fire-fn-compat",[A2]:"fire-iid",[j2]:"fire-iid-compat",[C2]:"fire-fcm",[R2]:"fire-fcm-compat",[I2]:"fire-perf",[k2]:"fire-perf-compat",[D2]:"fire-rc",[O2]:"fire-rc-compat",[M2]:"fire-gcs",[P2]:"fire-gcs-compat",[V2]:"fire-fst",[U2]:"fire-fst-compat",[L2]:"fire-vertex","fire-js":"fire-js",[z2]:"fire-js-all"};const zd=new Map,F2=new Map,yp=new Map;function Lx(r,e){try{r.container.addComponent(e)}catch(n){ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ca(r){const e=r.name;if(yp.has(e))return ui.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,r);for(const n of zd.values())Lx(n,r);for(const n of F2.values())Lx(n,r);return!0}function eu(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function $n(r){return r==null?!1:r.settings!==void 0}const H2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Jc("app","Firebase",H2);class G2{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}const no=q2;function Y_(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:gp,automaticDataCollectionEnabled:!0,...e},l=i.name;if(typeof l!="string"||!l)throw aa.create("bad-app-name",{appName:String(l)});if(n||(n=B_()),!n)throw aa.create("no-options");const u=zd.get(l);if(u){if(Wa(n,u.options)&&Wa(i,u.config))return u;throw aa.create("duplicate-app",{appName:l})}const h=new WA(l);for(const g of yp.values())h.addComponent(g);const p=new G2(n,i,h);return zd.set(l,p),p}function mh(r=gp){const e=zd.get(r);if(!e&&r===gp&&B_())return Y_();if(!e)throw aa.create("no-app",{appName:r});return e}function js(r,e,n){let i=B2[r]??r;n&&(i+=`-${n}`);const l=i.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${i}" with version "${e}":`];l&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ui.warn(h.join(" "));return}ca(new ci(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $2="firebase-heartbeat-database",Y2=1,Lc="firebase-heartbeat-store";let ep=null;function K_(){return ep||(ep=u2($2,Y2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(r=>{throw aa.create("idb-open",{originalErrorMessage:r.message})})),ep}async function K2(r){try{const n=(await K_()).transaction(Lc),i=await n.objectStore(Lc).get(Q_(r));return await n.done,i}catch(e){if(e instanceof Xs)ui.warn(e.message);else{const n=aa.create("idb-get",{originalErrorMessage:e?.message});ui.warn(n.message)}}}async function Ux(r,e){try{const i=(await K_()).transaction(Lc,"readwrite");await i.objectStore(Lc).put(e,Q_(r)),await i.done}catch(n){if(n instanceof Xs)ui.warn(n.message);else{const i=aa.create("idb-set",{originalErrorMessage:n?.message});ui.warn(i.message)}}}function Q_(r){return`${r.name}!${r.options.appId}`}const Q2=1024,X2=30;class W2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>X2){const l=ej(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zx(),{heartbeatsToSend:n,unsentEntries:i}=J2(this._heartbeatsCache.heartbeats),l=Ud(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ui.warn(e),""}}}function zx(){return new Date().toISOString().substring(0,10)}function J2(r,e=Q2){const n=[];let i=r.slice();for(const l of r){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),qx(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),qx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Z2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UA()?zA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ux(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ux(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qx(r){return Ud(JSON.stringify({version:2,heartbeats:r})).length}function ej(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}function tj(r){ca(new ci("platform-logger",e=>new f2(e),"PRIVATE")),ca(new ci("heartbeat",e=>new W2(e),"PRIVATE")),js(pp,Vx,r),js(pp,Vx,"esm2020"),js("fire-js","")}tj("");function X_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nj=X_,W_=new Jc("auth","Firebase",X_());const qd=new Yp("@firebase/auth");function sj(r,...e){qd.logLevel<=lt.WARN&&qd.warn(`Auth (${no}): ${r}`,...e)}function Ad(r,...e){qd.logLevel<=lt.ERROR&&qd.error(`Auth (${no}): ${r}`,...e)}function Ks(r,...e){throw Qp(r,...e)}function dr(r,...e){return Qp(r,...e)}function J_(r,e,n){const i={...nj(),[e]:n};return new Jc("auth","Firebase",i).create(e,{appName:r.name})}function ai(r){return J_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return W_.create(r,...e)}function He(r,e,...n){if(!r)throw Qp(e,...n)}function si(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ad(e),new Error(e)}function di(r,e){r||si(e)}function bp(){return typeof self<"u"&&self.location?.href||""}function rj(){return Bx()==="http:"||Bx()==="https:"}function Bx(){return typeof self<"u"&&self.location?.protocol||null}function ij(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rj()||MA()||"connection"in navigator)?navigator.onLine:!0}function aj(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=kA()||PA()}get(){return ij()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xp(r,e){di(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Z_{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cj=new tu(3e4,6e4);function ya(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ba(r,e,n,i,l={}){return ew(r,l,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const p=Zc({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return OA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&pi(r.emulatorConfig.host)&&(y.credentials="include"),Z_.fetch()(await tw(r,r.config.apiHost,n,p),y)})}async function ew(r,e,n){r._canInitEmulator=!1;const i={...oj,...e};try{const l=new dj(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw yd(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw yd(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw yd(r,"user-disabled",h);const _=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw J_(r,_,y);Ks(r,_)}}catch(l){if(l instanceof Xs)throw l;Ks(r,"network-request-failed",{message:String(l)})}}async function nu(r,e,n,i,l={}){const u=await ba(r,e,n,i,l);return"mfaPendingCredential"in u&&Ks(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tw(r,e,n,i){const l=`${e}${n}?${i}`,u=r,h=u.config.emulator?Xp(r.config,l):`${r.config.apiScheme}://${l}`;return lj.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function uj(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(dr(this.auth,"network-request-failed")),cj.get())})}}function yd(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const l=dr(r,e,i);return l.customData._tokenResponse=n,l}function Fx(r){return r!==void 0&&r.enterprise!==void 0}class hj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fj(r,e){return ba(r,"GET","/v2/recaptchaConfig",ya(r,e))}async function mj(r,e){return ba(r,"POST","/v1/accounts:delete",e)}async function Bd(r,e){return ba(r,"POST","/v1/accounts:lookup",e)}function Ic(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pj(r,e=!1){const n=Ht(r),i=await n.getIdToken(e),l=Wp(i);He(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,h=u?.sign_in_provider;return{claims:l,token:i,authTime:Ic(tp(l.auth_time)),issuedAtTime:Ic(tp(l.iat)),expirationTime:Ic(tp(l.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function tp(r){return Number(r)*1e3}function Wp(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const l=z_(n);return l?JSON.parse(l):(Ad("Failed to decode base64 JWT payload"),null)}catch(l){return Ad("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Hx(r){const e=Wp(r);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Uc(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Xs&&gj(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function gj({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class yj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fd(r){const e=r.auth,n=await r.getIdToken(),i=await Uc(r,Bd(e,{idToken:n}));He(i?.users.length,e,"internal-error");const l=i.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?nw(l.providerUserInfo):[],h=xj(r.providerData,u),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!h?.length,y=p?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new xp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function bj(r){const e=Ht(r);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xj(r,e){return[...r.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function nw(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function vj(r,e){const n=await ew(r,{},async()=>{const i=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,h=await tw(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&pi(r.emulatorConfig.host)&&(g.credentials="include"),Z_.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _j(r,e){return ba(r,"POST","/v2/accounts:revokeToken",ya(r,e))}class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=Hx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:l,expiresIn:u}=await vj(e,n);this.updateTokensAndExpiration(i,l,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:l,expirationTime:u}=n,h=new rl;return i&&(He(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),l&&(He(typeof l=="string","internal-error",{appName:e}),h.accessToken=l),u&&(He(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return si("not implemented")}}function Wi(r,e){He(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Hs{constructor({uid:e,auth:n,stsTokenManager:i,...l}){this.providerId="firebase",this.proactiveRefresh=new yj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pj(this,e)}reload(){return bj(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await Uc(this,mj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:L,providerData:Q,stsTokenManager:J}=n;He(w&&J,e,"internal-error");const F=rl.fromJSON(this.name,J);He(typeof w=="string",e,"internal-error"),Wi(i,e.name),Wi(l,e.name),He(typeof S=="boolean",e,"internal-error"),He(typeof L=="boolean",e,"internal-error"),Wi(u,e.name),Wi(h,e.name),Wi(p,e.name),Wi(g,e.name),Wi(y,e.name),Wi(_,e.name);const ue=new Hs({uid:w,auth:e,email:l,emailVerified:S,displayName:i,isAnonymous:L,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:F,createdAt:y,lastLoginAt:_});return Q&&Array.isArray(Q)&&(ue.providerData=Q.map(se=>({...se}))),g&&(ue._redirectEventId=g),ue}static async _fromIdTokenResponse(e,n,i=!1){const l=new rl;l.updateFromServerResponse(n);const u=new Hs({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await Fd(u),u}static async _fromGetAccountInfoResponse(e,n,i){const l=n.users[0];He(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?nw(l.providerUserInfo):[],h=!(l.email&&l.passwordHash)&&!u?.length,p=new rl;p.updateFromIdToken(i);const g=new Hs({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new xp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Gx=new Map;function ri(r){di(r instanceof Function,"Expected a class definition");let e=Gx.get(r);return e?(di(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Gx.set(r,e),e)}class sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sw.type="NONE";const $x=sw;function jd(r,e,n){return`firebase:${r}:${e}:${n}`}class il{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:l,name:u}=this.auth;this.fullUserKey=jd(this.userKey,l.apiKey,u),this.fullPersistenceKey=jd("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bd(this.auth,{idToken:e}).catch(()=>{});return n?Hs._fromGetAccountInfoResponse(this.auth,n,e):null}return Hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new il(ri($x),e,i);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||ri($x);const h=jd(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const _=await y._get(h);if(_){let w;if(typeof _=="string"){const S=await Bd(e,{idToken:_}).catch(()=>{});if(!S)break;w=await Hs._fromGetAccountInfoResponse(e,S,_)}else w=Hs._fromJSON(e,_);y!==u&&(p=w),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new il(u,e,i):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new il(u,e,i))}}function Yx(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cw(e))return"Blackberry";if(uw(e))return"Webos";if(iw(e))return"Safari";if((e.includes("chrome/")||aw(e))&&!e.includes("edge/"))return"Chrome";if(lw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if(i?.length===2)return i[1]}return"Other"}function rw(r=kn()){return/firefox\//i.test(r)}function iw(r=kn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aw(r=kn()){return/crios\//i.test(r)}function ow(r=kn()){return/iemobile/i.test(r)}function lw(r=kn()){return/android/i.test(r)}function cw(r=kn()){return/blackberry/i.test(r)}function uw(r=kn()){return/webos/i.test(r)}function Jp(r=kn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function wj(r=kn()){return Jp(r)&&!!window.navigator?.standalone}function Ej(){return VA()&&document.documentMode===10}function dw(r=kn()){return Jp(r)||lw(r)||uw(r)||cw(r)||/windows phone/i.test(r)||ow(r)}function hw(r,e=[]){let n;switch(r){case"Browser":n=Yx(kn());break;case"Worker":n=`${Yx(kn())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${i}`}class Nj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Tj(r,e={}){return ba(r,"GET","/v2/passwordPolicy",ya(r,e))}const Sj=6;class Aj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Sj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class jj{constructor(e,n,i,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kx(this),this.idTokenSubscription=new Kx(this),this.beforeStateQueue=new Nj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bd(this,{idToken:e}),i=await Hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(i=p.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(ai(this));const n=e?Ht(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tj(this),n=new Aj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await _j(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,l);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&sj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function so(r){return Ht(r)}class Kx{constructor(e){this.auth=e,this.observer=null,this.addObserver=GA(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cj(r){ph=r}function fw(r){return ph.loadJS(r)}function Rj(){return ph.recaptchaEnterpriseScript}function Ij(){return ph.gapiScript}function kj(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Dj{constructor(){this.enterprise=new Oj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Oj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Mj="recaptcha-enterprise",mw="NO_RECAPTCHA";class Pj{constructor(e){this.type=Mj,this.auth=so(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{fj(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new hj(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function l(u,h,p){const g=window.grecaptcha;Fx(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(mw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Dj().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(p=>{if(!n&&Fx(window.grecaptcha))l(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Rj();g.length!==0&&(g+=p),fw(g).then(()=>{l(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function Qx(r,e,n,i=!1,l=!1){const u=new Pj(r);let h;if(l)h=mw;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function vp(r,e,n,i,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Qx(r,e,n,n==="getOobCode");return i(r,u)}else return i(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Qx(r,e,n,n==="getOobCode");return i(r,h)}else return Promise.reject(u)})}function Vj(r,e){const n=eu(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Wa(u,e??{}))return l;Ks(l,"already-initialized")}return n.initialize({options:e})}function Lj(r,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function Uj(r,e,n){const i=so(r);He(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,u=pw(e),{host:h,port:p}=zj(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},_=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){He(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),He(Wa(y,i.config.emulator)&&Wa(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,pi(h)?(hh(`${u}//${h}${g}`),fh("Auth",!0)):qj()}function pw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function zj(r){const e=pw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const u=l[1];return{host:u,port:Xx(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:Xx(h)}}}function Xx(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qj(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function Bj(r,e){return ba(r,"POST","/v1/accounts:signUp",e)}async function Fj(r,e){return nu(r,"POST","/v1/accounts:signInWithPassword",ya(r,e))}async function Hj(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}async function Gj(r,e){return nu(r,"POST","/v1/accounts:signInWithEmailLink",ya(r,e))}class zc extends Zp{constructor(e,n,i,l=null){super("password",i),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new zc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new zc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(e,n,"signInWithPassword",Fj);case"emailLink":return Hj(e,{email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vp(e,i,"signUpPassword",Bj);case"emailLink":return Gj(e,{idToken:n,email:this._email,oobCode:this._password});default:Ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function al(r,e){return nu(r,"POST","/v1/accounts:signInWithIdp",ya(r,e))}const $j="http://localhost";class Ja extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ks("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l,...u}=n;if(!i||!l)return null;const h=new Ja(i,l);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return al(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,al(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,al(e,n)}buildRequest(){const e={requestUri:$j,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zc(n)}return e}}function Yj(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kj(r){const e=Nc(Tc(r)).link,n=e?Nc(Tc(e)).deep_link_id:null,i=Nc(Tc(r)).deep_link_id;return(i?Nc(Tc(i)).link:null)||i||n||e||r}class eg{constructor(e){const n=Nc(Tc(e)),i=n.apiKey??null,l=n.oobCode??null,u=Yj(n.mode??null);He(i&&l&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Kj(e);try{return new eg(n)}catch{return null}}}class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,n){return zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=eg.parseLink(n);return He(i,"argument-error"),zc._fromEmailAndCode(e,i.code,i.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class su extends gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zi extends su{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";class ea extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ea.credential(n,i)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";class ta extends su{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";class na extends su{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return na.credential(n,i)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";async function Qj(r,e){return nu(r,"POST","/v1/accounts:signUp",ya(r,e))}class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,l=!1){const u=await Hs._fromIdTokenResponse(e,i,l),h=Wx(i);return new Za({user:u,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const l=Wx(i);return new Za({user:e,providerId:l,_tokenResponse:i,operationType:n})}}function Wx(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Hd extends Xs{constructor(e,n,i,l){super(n.code,n.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Hd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,l){return new Hd(e,n,i,l)}}function yw(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hd._fromErrorAndOperation(r,u,e,i):u})}async function Xj(r,e,n=!1){const i=await Uc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Za._forOperation(r,"link",i)}async function Wj(r,e,n=!1){const{auth:i}=r;if($n(i.app))return Promise.reject(ai(i));const l="reauthenticate";try{const u=await Uc(r,yw(i,l,e,r),n);He(u.idToken,i,"internal-error");const h=Wp(u.idToken);He(h,i,"internal-error");const{sub:p}=h;return He(r.uid===p,i,"user-mismatch"),Za._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ks(i,"user-mismatch"),u}}async function bw(r,e,n=!1){if($n(r.app))return Promise.reject(ai(r));const i="signIn",l=await yw(r,i,e),u=await Za._fromIdTokenResponse(r,i,l);return n||await r._updateCurrentUser(u.user),u}async function Jj(r,e){return bw(so(r),e)}async function xw(r){const e=so(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Zj(r,e,n){if($n(r.app))return Promise.reject(ai(r));const i=so(r),h=await vp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qj).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&xw(r),g}),p=await Za._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(p.user),p}function eC(r,e,n){return $n(r.app)?Promise.reject(ai(r)):Jj(Ht(r),yl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&xw(r),i})}function tC(r,e){return Ht(r).setPersistence(e)}function nC(r,e,n,i){return Ht(r).onIdTokenChanged(e,n,i)}function sC(r,e,n){return Ht(r).beforeAuthStateChanged(e,n)}function rC(r,e,n,i){return Ht(r).onAuthStateChanged(e,n,i)}function iC(r){return Ht(r).signOut()}const Gd="__sak";class vw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aC=1e3,oC=10;class _w extends vw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),l=this.localCache[n];i!==l&&e(n,l,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);Ej()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,oC):l()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_w.type="LOCAL";const ww=_w;class Ew extends vw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ew.type="SESSION";const tg=Ew;function lC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const i=new gh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:l,data:u}=n.data,h=this.handlersMap[l];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const p=Array.from(h).map(async y=>y(n.origin,u)),g=await lC(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function ng(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}class cC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=ng("",20);l.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:l,onMessage(w){const S=w;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),l.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function hr(){return window}function uC(r){hr().location.href=r}function Nw(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function dC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hC(){return navigator?.serviceWorker?.controller||null}function fC(){return Nw()?self:null}const Tw="firebaseLocalStorageDb",mC=1,$d="firebaseLocalStorage",Sw="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(r,e){return r.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function pC(){const r=indexedDB.deleteDatabase(Tw);return new ru(r).toPromise()}function _p(){const r=indexedDB.open(Tw,mC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore($d,{keyPath:Sw})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains($d)?e(i):(i.close(),await pC(),e(await _p()))})})}async function Jx(r,e,n){const i=yh(r,!0).put({[Sw]:e,value:n});return new ru(i).toPromise()}async function gC(r,e){const n=yh(r,!1).get(e),i=await new ru(n).toPromise();return i===void 0?null:i.value}function Zx(r,e){const n=yh(r,!0).delete(e);return new ru(n).toPromise()}const yC=800,bC=3;class Aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>bC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(fC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dC(),!this.activeServiceWorker)return;this.sender=new cC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await Jx(e,Gd,"1"),await Zx(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Jx(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>gC(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=yh(l,!1).getAll();return new ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Aw.type="LOCAL";const xC=Aw;new tu(3e4,6e4);function vC(r,e){return e?ri(e):(He(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class sg extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _C(r){return bw(r.auth,new sg(r),r.bypassAuthState)}function wC(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),Wj(n,new sg(r),r.bypassAuthState)}async function EC(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),Xj(n,new sg(r),r.bypassAuthState)}class jw{constructor(e,n,i,l,u=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:l,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _C;case"linkViaPopup":case"linkViaRedirect":return EC;case"reauthViaPopup":case"reauthViaRedirect":return wC;default:Ks(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NC=new tu(2e3,1e4);class sl extends jw{constructor(e,n,i,l,u){super(e,n,l,u),this.provider=i,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NC.get())};e()}}sl.currentPopupAction=null;const TC="pendingRedirect",Cd=new Map;class SC extends jw{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const i=await AC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AC(r,e){const n=RC(e),i=CC(r);if(!await i._isAvailable())return!1;const l=await i._get(n)==="true";return await i._remove(n),l}function jC(r,e){Cd.set(r._key(),e)}function CC(r){return ri(r._redirectPersistence)}function RC(r){return jd(TC,r.config.apiKey,r.name)}async function IC(r,e,n=!1){if($n(r.app))return Promise.reject(ai(r));const i=so(r),l=vC(i,e),h=await new SC(i,l,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}const kC=600*1e3;class DC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Cw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(dr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kC&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(e))}saveEventToCache(e){this.cachedEventUids.add(ev(e)),this.lastProcessedEventTime=Date.now()}}function ev(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Cw({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function OC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cw(r);default:return!1}}async function MC(r,e={}){return ba(r,"GET","/v1/projects",e)}const PC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VC=/^https?/;async function LC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await MC(r);for(const n of e)try{if(UC(n))return}catch{}Ks(r,"unauthorized-domain")}function UC(r){const e=bp(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!VC.test(n))return!1;if(PC.test(r))return i===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}const zC=new tu(3e4,6e4);function tv(){const r=hr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function qC(r){return new Promise((e,n)=>{function i(){tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tv(),n(dr(r,"network-request-failed"))},timeout:zC.get()})}if(hr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hr().gapi?.load)i();else{const l=kj("iframefcb");return hr()[l]=()=>{gapi.load?i():n(dr(r,"network-request-failed"))},fw(`${Ij()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function BC(r){return Rd=Rd||qC(r),Rd}const FC=new tu(5e3,15e3),HC="__/auth/iframe",GC="emulator/auth/iframe",$C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KC(r){const e=r.config;He(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Xp(e,GC):`https://${r.config.authDomain}/${HC}`,i={apiKey:e.apiKey,appName:r.name,v:no},l=YC.get(r.config.apiHost);l&&(i.eid=l);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${Zc(i).slice(1)}`}async function QC(r){const e=await BC(r),n=hr().gapi;return He(n,r,"internal-error"),e.open({where:document.body,url:KC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$C,dontclear:!0},i=>new Promise(async(l,u)=>{await i.restyle({setHideOnLeave:!1});const h=dr(r,"network-request-failed"),p=hr().setTimeout(()=>{u(h)},FC.get());function g(){hr().clearTimeout(p),l(i)}i.ping(g).then(g,()=>{u(h)})}))}const XC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WC=500,JC=600,ZC="_blank",eR="http://localhost";class nv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tR(r,e,n,i=WC,l=JC){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...XC,width:i.toString(),height:l.toString(),top:u,left:h},y=kn().toLowerCase();n&&(p=aw(y)?ZC:n),rw(y)&&(e=e||eR,g.scrollbars="yes");const _=Object.entries(g).reduce((S,[L,Q])=>`${S}${L}=${Q},`,"");if(wj(y)&&p!=="_self")return nR(e||"",p),new nv(null);const w=window.open(e||"",p,_);He(w,r,"popup-blocked");try{w.focus()}catch{}return new nv(w)}function nR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const sR="__/auth/handler",rR="emulator/auth/handler",iR=encodeURIComponent("fac");async function sv(r,e,n,i,l,u){He(r.config.authDomain,r,"auth-domain-config-required"),He(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:no,eventId:l};if(e instanceof gw){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",HA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))h[_]=w}if(e instanceof su){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await r._getAppCheckToken(),y=g?`#${iR}=${encodeURIComponent(g)}`:"";return`${aR(r)}?${Zc(p).slice(1)}${y}`}function aR({config:r}){return r.emulator?Xp(r,rR):`https://${r.authDomain}/${sR}`}const np="webStorageSupport";class oR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tg,this._completeRedirectFn=IC,this._overrideRedirectResult=jC}async _openPopup(e,n,i,l){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await sv(e,n,i,bp(),l);return tR(e,u,ng())}async _openRedirect(e,n,i,l){await this._originValidation(e);const u=await sv(e,n,i,bp(),l);return uC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(di(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await QC(e),i=new DC(e);return n.register("authEvent",l=>(He(l?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},l=>{const u=l?.[0]?.[np];u!==void 0&&n(!!u),Ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dw()||iw()||Jp()}}const lR=oR;var rv="@firebase/auth",iv="1.12.0";class cR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dR(r){ca(new ci("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;He(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hw(r)},y=new jj(i,l,u,g);return Lj(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ca(new ci("auth-internal",e=>{const n=so(e.getProvider("auth").getImmediate());return(i=>new cR(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(rv,iv,uR(r)),js(rv,iv,"esm2020")}const hR=300,fR=F_("authIdTokenMaxAge")||hR;let av=null;const mR=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>fR)return;const l=n?.token;av!==l&&(av=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pR(r=mh()){const e=eu(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Vj(r,{popupRedirectResolver:lR,persistence:[xC,ww,tg]}),i=F_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=mR(u.toString());sC(n,h,()=>h(n.currentUser)),nC(n,p=>h(p))}}const l=q_("auth");return l&&Uj(n,`http://${l}`),n}function gR(){return document.getElementsByTagName("head")?.[0]??document}Cj({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=l=>{const u=dr("internal-error");u.customData=l,n(u)},i.type="text/javascript",i.charset="UTF-8",gR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dR("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oa,Rw;(function(){var r;function e(R,A){function j(){}j.prototype=A.prototype,R.F=A.prototype,R.prototype=new j,R.prototype.constructor=R,R.D=function(P,k,U){for(var I=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)I[nt-2]=arguments[nt];return A.prototype[k].apply(P,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,A,j){j||(j=0);const P=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)P[k]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(k=0;k<16;++k)P[k]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=R.g[0],j=R.g[1],k=R.g[2];let U=R.g[3],I;I=A+(U^j&(k^U))+P[0]+3614090360&4294967295,A=j+(I<<7&4294967295|I>>>25),I=U+(k^A&(j^k))+P[1]+3905402710&4294967295,U=A+(I<<12&4294967295|I>>>20),I=k+(j^U&(A^j))+P[2]+606105819&4294967295,k=U+(I<<17&4294967295|I>>>15),I=j+(A^k&(U^A))+P[3]+3250441966&4294967295,j=k+(I<<22&4294967295|I>>>10),I=A+(U^j&(k^U))+P[4]+4118548399&4294967295,A=j+(I<<7&4294967295|I>>>25),I=U+(k^A&(j^k))+P[5]+1200080426&4294967295,U=A+(I<<12&4294967295|I>>>20),I=k+(j^U&(A^j))+P[6]+2821735955&4294967295,k=U+(I<<17&4294967295|I>>>15),I=j+(A^k&(U^A))+P[7]+4249261313&4294967295,j=k+(I<<22&4294967295|I>>>10),I=A+(U^j&(k^U))+P[8]+1770035416&4294967295,A=j+(I<<7&4294967295|I>>>25),I=U+(k^A&(j^k))+P[9]+2336552879&4294967295,U=A+(I<<12&4294967295|I>>>20),I=k+(j^U&(A^j))+P[10]+4294925233&4294967295,k=U+(I<<17&4294967295|I>>>15),I=j+(A^k&(U^A))+P[11]+2304563134&4294967295,j=k+(I<<22&4294967295|I>>>10),I=A+(U^j&(k^U))+P[12]+1804603682&4294967295,A=j+(I<<7&4294967295|I>>>25),I=U+(k^A&(j^k))+P[13]+4254626195&4294967295,U=A+(I<<12&4294967295|I>>>20),I=k+(j^U&(A^j))+P[14]+2792965006&4294967295,k=U+(I<<17&4294967295|I>>>15),I=j+(A^k&(U^A))+P[15]+1236535329&4294967295,j=k+(I<<22&4294967295|I>>>10),I=A+(k^U&(j^k))+P[1]+4129170786&4294967295,A=j+(I<<5&4294967295|I>>>27),I=U+(j^k&(A^j))+P[6]+3225465664&4294967295,U=A+(I<<9&4294967295|I>>>23),I=k+(A^j&(U^A))+P[11]+643717713&4294967295,k=U+(I<<14&4294967295|I>>>18),I=j+(U^A&(k^U))+P[0]+3921069994&4294967295,j=k+(I<<20&4294967295|I>>>12),I=A+(k^U&(j^k))+P[5]+3593408605&4294967295,A=j+(I<<5&4294967295|I>>>27),I=U+(j^k&(A^j))+P[10]+38016083&4294967295,U=A+(I<<9&4294967295|I>>>23),I=k+(A^j&(U^A))+P[15]+3634488961&4294967295,k=U+(I<<14&4294967295|I>>>18),I=j+(U^A&(k^U))+P[4]+3889429448&4294967295,j=k+(I<<20&4294967295|I>>>12),I=A+(k^U&(j^k))+P[9]+568446438&4294967295,A=j+(I<<5&4294967295|I>>>27),I=U+(j^k&(A^j))+P[14]+3275163606&4294967295,U=A+(I<<9&4294967295|I>>>23),I=k+(A^j&(U^A))+P[3]+4107603335&4294967295,k=U+(I<<14&4294967295|I>>>18),I=j+(U^A&(k^U))+P[8]+1163531501&4294967295,j=k+(I<<20&4294967295|I>>>12),I=A+(k^U&(j^k))+P[13]+2850285829&4294967295,A=j+(I<<5&4294967295|I>>>27),I=U+(j^k&(A^j))+P[2]+4243563512&4294967295,U=A+(I<<9&4294967295|I>>>23),I=k+(A^j&(U^A))+P[7]+1735328473&4294967295,k=U+(I<<14&4294967295|I>>>18),I=j+(U^A&(k^U))+P[12]+2368359562&4294967295,j=k+(I<<20&4294967295|I>>>12),I=A+(j^k^U)+P[5]+4294588738&4294967295,A=j+(I<<4&4294967295|I>>>28),I=U+(A^j^k)+P[8]+2272392833&4294967295,U=A+(I<<11&4294967295|I>>>21),I=k+(U^A^j)+P[11]+1839030562&4294967295,k=U+(I<<16&4294967295|I>>>16),I=j+(k^U^A)+P[14]+4259657740&4294967295,j=k+(I<<23&4294967295|I>>>9),I=A+(j^k^U)+P[1]+2763975236&4294967295,A=j+(I<<4&4294967295|I>>>28),I=U+(A^j^k)+P[4]+1272893353&4294967295,U=A+(I<<11&4294967295|I>>>21),I=k+(U^A^j)+P[7]+4139469664&4294967295,k=U+(I<<16&4294967295|I>>>16),I=j+(k^U^A)+P[10]+3200236656&4294967295,j=k+(I<<23&4294967295|I>>>9),I=A+(j^k^U)+P[13]+681279174&4294967295,A=j+(I<<4&4294967295|I>>>28),I=U+(A^j^k)+P[0]+3936430074&4294967295,U=A+(I<<11&4294967295|I>>>21),I=k+(U^A^j)+P[3]+3572445317&4294967295,k=U+(I<<16&4294967295|I>>>16),I=j+(k^U^A)+P[6]+76029189&4294967295,j=k+(I<<23&4294967295|I>>>9),I=A+(j^k^U)+P[9]+3654602809&4294967295,A=j+(I<<4&4294967295|I>>>28),I=U+(A^j^k)+P[12]+3873151461&4294967295,U=A+(I<<11&4294967295|I>>>21),I=k+(U^A^j)+P[15]+530742520&4294967295,k=U+(I<<16&4294967295|I>>>16),I=j+(k^U^A)+P[2]+3299628645&4294967295,j=k+(I<<23&4294967295|I>>>9),I=A+(k^(j|~U))+P[0]+4096336452&4294967295,A=j+(I<<6&4294967295|I>>>26),I=U+(j^(A|~k))+P[7]+1126891415&4294967295,U=A+(I<<10&4294967295|I>>>22),I=k+(A^(U|~j))+P[14]+2878612391&4294967295,k=U+(I<<15&4294967295|I>>>17),I=j+(U^(k|~A))+P[5]+4237533241&4294967295,j=k+(I<<21&4294967295|I>>>11),I=A+(k^(j|~U))+P[12]+1700485571&4294967295,A=j+(I<<6&4294967295|I>>>26),I=U+(j^(A|~k))+P[3]+2399980690&4294967295,U=A+(I<<10&4294967295|I>>>22),I=k+(A^(U|~j))+P[10]+4293915773&4294967295,k=U+(I<<15&4294967295|I>>>17),I=j+(U^(k|~A))+P[1]+2240044497&4294967295,j=k+(I<<21&4294967295|I>>>11),I=A+(k^(j|~U))+P[8]+1873313359&4294967295,A=j+(I<<6&4294967295|I>>>26),I=U+(j^(A|~k))+P[15]+4264355552&4294967295,U=A+(I<<10&4294967295|I>>>22),I=k+(A^(U|~j))+P[6]+2734768916&4294967295,k=U+(I<<15&4294967295|I>>>17),I=j+(U^(k|~A))+P[13]+1309151649&4294967295,j=k+(I<<21&4294967295|I>>>11),I=A+(k^(j|~U))+P[4]+4149444226&4294967295,A=j+(I<<6&4294967295|I>>>26),I=U+(j^(A|~k))+P[11]+3174756917&4294967295,U=A+(I<<10&4294967295|I>>>22),I=k+(A^(U|~j))+P[2]+718787259&4294967295,k=U+(I<<15&4294967295|I>>>17),I=j+(U^(k|~A))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+U&4294967295}i.prototype.v=function(R,A){A===void 0&&(A=R.length);const j=A-this.blockSize,P=this.C;let k=this.h,U=0;for(;U<A;){if(k==0)for(;U<=j;)l(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(P[k++]=R.charCodeAt(U++),k==this.blockSize){l(this,P),k=0;break}}else for(;U<A;)if(P[k++]=R[U++],k==this.blockSize){l(this,P),k=0;break}}this.h=k,this.o+=A},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var j=R.length-8;j<R.length;++j)R[j]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,j=0;j<4;++j)for(let P=0;P<32;P+=8)R[A++]=this.g[j]>>>P&255;return R};function u(R,A){var j=p;return Object.prototype.hasOwnProperty.call(j,R)?j[R]:j[R]=A(R)}function h(R,A){this.h=A;const j=[];let P=!0;for(let k=R.length-1;k>=0;k--){const U=R[k]|0;P&&U==A||(j[k]=U,P=!1)}this.g=j}var p={};function g(R){return-128<=R&&R<128?u(R,function(A){return new h([A|0],A<0?-1:0)}):new h([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return F(y(-R));const A=[];let j=1;for(let P=0;R>=j;P++)A[P]=R/j|0,j*=4294967296;return new h(A,0)}function _(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return F(_(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(A,8));let P=w;for(let U=0;U<R.length;U+=8){var k=Math.min(8,R.length-U);const I=parseInt(R.substring(U,U+k),A);k<8?(k=y(Math.pow(A,k)),P=P.j(k).add(y(I))):(P=P.j(j),P=P.add(y(I)))}return P}var w=g(0),S=g(1),L=g(16777216);r=h.prototype,r.m=function(){if(J(this))return-F(this).m();let R=0,A=1;for(let j=0;j<this.g.length;j++){const P=this.i(j);R+=(P>=0?P:4294967296+P)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if(J(this))return"-"+F(this).toString(R);const A=y(Math.pow(R,6));var j=this;let P="";for(;;){const k=_e(j,A).g;j=ue(j,k.j(A));let U=((j.g.length>0?j.g[0]:j.h)>>>0).toString(R);if(j=k,Q(j))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function J(R){return R.h==-1}r.l=function(R){return R=ue(this,R),J(R)?-1:Q(R)?0:1};function F(R){const A=R.g.length,j=[];for(let P=0;P<A;P++)j[P]=~R.g[P];return new h(j,~R.h).add(S)}r.abs=function(){return J(this)?F(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),j=[];let P=0;for(let k=0;k<=A;k++){let U=P+(this.i(k)&65535)+(R.i(k)&65535),I=(U>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);P=I>>>16,U&=65535,I&=65535,j[k]=I<<16|U}return new h(j,j[j.length-1]&-2147483648?-1:0)};function ue(R,A){return R.add(F(A))}r.j=function(R){if(Q(this)||Q(R))return w;if(J(this))return J(R)?F(this).j(F(R)):F(F(this).j(R));if(J(R))return F(this.j(F(R)));if(this.l(L)<0&&R.l(L)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,j=[];for(var P=0;P<2*A;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<R.g.length;k++){const U=this.i(P)>>>16,I=this.i(P)&65535,nt=R.i(k)>>>16,_t=R.i(k)&65535;j[2*P+2*k]+=I*_t,se(j,2*P+2*k),j[2*P+2*k+1]+=U*_t,se(j,2*P+2*k+1),j[2*P+2*k+1]+=I*nt,se(j,2*P+2*k+1),j[2*P+2*k+2]+=U*nt,se(j,2*P+2*k+2)}for(R=0;R<A;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=A;R<2*A;R++)j[R]=0;return new h(j,0)};function se(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function fe(R,A){this.g=R,this.h=A}function _e(R,A){if(Q(A))throw Error("division by zero");if(Q(R))return new fe(w,w);if(J(R))return A=_e(F(R),A),new fe(F(A.g),F(A.h));if(J(A))return A=_e(R,F(A)),new fe(F(A.g),A.h);if(R.g.length>30){if(J(R)||J(A))throw Error("slowDivide_ only works with positive integers.");for(var j=S,P=A;P.l(R)<=0;)j=Oe(j),P=Oe(P);var k=X(j,1),U=X(P,1);for(P=X(P,2),j=X(j,2);!Q(P);){var I=U.add(P);I.l(R)<=0&&(k=k.add(j),U=I),P=X(P,1),j=X(j,1)}return A=ue(R,k.j(A)),new fe(k,A)}for(k=w;R.l(A)>=0;){for(j=Math.max(1,Math.floor(R.m()/A.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=y(j),I=U.j(A);J(I)||I.l(R)>0;)j-=P,U=y(j),I=U.j(A);Q(U)&&(U=S),k=k.add(U),R=ue(R,I)}return new fe(k,R)}r.B=function(R){return _e(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),j=[];for(let P=0;P<A;P++)j[P]=this.i(P)&R.i(P);return new h(j,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),j=[];for(let P=0;P<A;P++)j[P]=this.i(P)|R.i(P);return new h(j,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),j=[];for(let P=0;P<A;P++)j[P]=this.i(P)^R.i(P);return new h(j,this.h^R.h)};function Oe(R){const A=R.g.length+1,j=[];for(let P=0;P<A;P++)j[P]=R.i(P)<<1|R.i(P-1)>>>31;return new h(j,R.h)}function X(R,A){const j=A>>5;A%=32;const P=R.g.length-j,k=[];for(let U=0;U<P;U++)k[U]=A>0?R.i(U+j)>>>A|R.i(U+j+1)<<32-A:R.i(U+j);return new h(k,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Rw=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,oa=h}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Iw,Sc,kw,Id,wp,Dw,Ow,Mw;(function(){var r,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var b=0;b<d.length;++b){var v=d[b];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=n(this);function l(d,b){if(b)e:{var v=i;d=d.split(".");for(var N=0;N<d.length-1;N++){var B=d[N];if(!(B in v))break e;v=v[B]}d=d[d.length-1],N=v[d],b=b(N),b!=N&&b!=null&&e(v,d,{configurable:!0,writable:!0,value:b})}}l("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(d){return d||function(b){var v=[],N;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&v.push([N,b[N]]);return v}});var u=u||{},h=this||self;function p(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function g(d,b,v){return d.call.apply(d.bind,arguments)}function y(d,b,v){return y=g,y.apply(null,arguments)}function _(d,b){var v=Array.prototype.slice.call(arguments,1);return function(){var N=v.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function w(d,b){function v(){}v.prototype=b.prototype,d.Z=b.prototype,d.prototype=new v,d.prototype.constructor=d,d.Ob=function(N,B,Y){for(var q=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)q[Re-2]=arguments[Re];return b.prototype[B].apply(N,q)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function L(d){const b=d.length;if(b>0){const v=Array(b);for(let N=0;N<b;N++)v[N]=d[N];return v}return[]}function Q(d,b){for(let N=1;N<arguments.length;N++){const B=arguments[N];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=d.length||0;const Y=B.length||0;d.length=v+Y;for(let q=0;q<Y;q++)d[v+q]=B[q]}else d.push(B)}}class J{constructor(b,v){this.i=b,this.j=v,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function F(d){h.setTimeout(()=>{throw d},0)}function ue(){var d=R;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class se{constructor(){this.h=this.g=null}add(b,v){const N=fe.get();N.set(b,v),this.h?this.h.next=N:this.g=N,this.h=N}}var fe=new J(()=>new _e,d=>d.reset());class _e{constructor(){this.next=this.g=this.h=null}set(b,v){this.h=b,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,X=!1,R=new se,A=()=>{const d=Promise.resolve(void 0);Oe=()=>{d.then(j)}};function j(){for(var d;d=ue();){try{d.h.call(d.g)}catch(v){F(v)}var b=fe;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}X=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};h.addEventListener("test",v,b),h.removeEventListener("test",v,b)}catch{}return d})();function I(d){return/^[\s\xa0]*$/.test(d)}function nt(d,b){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}w(nt,k),nt.prototype.init=function(d,b){const v=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(v=="mouseover"?b=d.fromElement:v=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),ee=0;function me(d,b,v,N,B){this.listener=d,this.proxy=null,this.src=b,this.type=v,this.capture=!!N,this.ha=B,this.key=++ee,this.da=this.fa=!1}function Se(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ne(d,b,v){for(const N in d)b.call(v,d[N],N,d)}function Ze(d,b){for(const v in d)b.call(void 0,d[v],v,d)}function C(d){const b={};for(const v in d)b[v]=d[v];return b}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(d,b){let v,N;for(let B=1;B<arguments.length;B++){N=arguments[B];for(v in N)d[v]=N[v];for(let Y=0;Y<te.length;Y++)v=te[Y],Object.prototype.hasOwnProperty.call(N,v)&&(d[v]=N[v])}}function Te(d){this.src=d,this.g={},this.h=0}Te.prototype.add=function(d,b,v,N,B){const Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);const q=Ue(d,b,N,B);return q>-1?(b=d[q],v||(b.fa=!1)):(b=new me(b,this.src,Y,!!N,B),b.fa=v,d.push(b)),b};function Pe(d,b){const v=b.type;if(v in d.g){var N=d.g[v],B=Array.prototype.indexOf.call(N,b,void 0),Y;(Y=B>=0)&&Array.prototype.splice.call(N,B,1),Y&&(Se(b),d.g[v].length==0&&(delete d.g[v],d.h--))}}function Ue(d,b,v,N){for(let B=0;B<d.length;++B){const Y=d[B];if(!Y.da&&Y.listener==b&&Y.capture==!!v&&Y.ha==N)return B}return-1}var Xe="closure_lm_"+(Math.random()*1e6|0),Tt={};function Rt(d,b,v,N,B){if(Array.isArray(b)){for(let Y=0;Y<b.length;Y++)Rt(d,b[Y],v,N,B);return null}return v=it(v),d&&d[_t]?d.J(b,v,p(N)?!!N.capture:!1,B):Ws(d,b,v,!1,N,B)}function Ws(d,b,v,N,B,Y){if(!b)throw Error("Invalid event type");const q=p(B)?!!B.capture:!!B;let Re=yi(d);if(Re||(d[Xe]=Re=new Te(d)),v=Re.add(b,v,N,q,Y),v.proxy)return v;if(N=_r(),v.proxy=N,N.src=d,N.listener=v,d.addEventListener)U||(B=q),B===void 0&&(B=!1),d.addEventListener(b.toString(),N,B);else if(d.attachEvent)d.attachEvent(ds(b.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return v}function _r(){function d(v){return b.call(d.src,d.listener,v)}const b=wa;return d}function gi(d,b,v,N,B){if(Array.isArray(b))for(var Y=0;Y<b.length;Y++)gi(d,b[Y],v,N,B);else N=p(N)?!!N.capture:!!N,v=it(v),d&&d[_t]?(d=d.i,Y=String(b).toString(),Y in d.g&&(b=d.g[Y],v=Ue(b,v,N,B),v>-1&&(Se(b[v]),Array.prototype.splice.call(b,v,1),b.length==0&&(delete d.g[Y],d.h--)))):d&&(d=yi(d))&&(b=d.g[b.toString()],d=-1,b&&(d=Ue(b,v,N,B)),(v=d>-1?b[d]:null)&&wr(v))}function wr(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[_t])Pe(b.i,d);else{var v=d.type,N=d.proxy;b.removeEventListener?b.removeEventListener(v,N,d.capture):b.detachEvent?b.detachEvent(ds(v),N):b.addListener&&b.removeListener&&b.removeListener(N),(v=yi(b))?(Pe(v,d),v.h==0&&(v.src=null,b[Xe]=null)):Se(d)}}}function ds(d){return d in Tt?Tt[d]:Tt[d]="on"+d}function wa(d,b){if(d.da)d=!0;else{b=new nt(b,this);const v=d.listener,N=d.ha||d.src;d.fa&&wr(d),d=v.call(N,b)}return d}function yi(d){return d=d[Xe],d instanceof Te?d:null}var Ea="__closure_events_fn_"+(Math.random()*1e9>>>0);function it(d){return typeof d=="function"?d:(d[Ea]||(d[Ea]=function(b){return d.handleEvent(b)}),d[Ea])}function zt(){P.call(this),this.i=new Te(this),this.M=this,this.G=null}w(zt,P),zt.prototype[_t]=!0,zt.prototype.removeEventListener=function(d,b,v,N){gi(this,d,b,v,N)};function Me(d,b){var v,N=d.G;if(N)for(v=[];N;N=N.G)v.push(N);if(d=d.M,N=b.type||b,typeof b=="string")b=new k(b,d);else if(b instanceof k)b.target=b.target||d;else{var B=b;b=new k(N,d),ge(b,B)}B=!0;let Y,q;if(v)for(q=v.length-1;q>=0;q--)Y=b.g=v[q],B=Rs(Y,N,!0,b)&&B;if(Y=b.g=d,B=Rs(Y,N,!0,b)&&B,B=Rs(Y,N,!1,b)&&B,v)for(q=0;q<v.length;q++)Y=b.g=v[q],B=Rs(Y,N,!1,b)&&B}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const v=d.g[b];for(let N=0;N<v.length;N++)Se(v[N]);delete d.g[b],d.h--}}this.G=null},zt.prototype.J=function(d,b,v,N){return this.i.add(String(d),b,!1,v,N)},zt.prototype.K=function(d,b,v,N){return this.i.add(String(d),b,!0,v,N)};function Rs(d,b,v,N){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let B=!0;for(let Y=0;Y<b.length;++Y){const q=b[Y];if(q&&!q.da&&q.capture==v){const Re=q.listener,mt=q.ha||q.src;q.fa&&Pe(d.i,q),B=Re.call(mt,N)!==!1&&B}}return B&&!N.defaultPrevented}function Is(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:h.setTimeout(d,b||0)}function Er(d){d.g=Is(()=>{d.g=null,d.i&&(d.i=!1,Er(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class cn extends P{constructor(b,v){super(),this.m=b,this.l=v,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(d){P.call(this),this.h=d,this.g={}}w(ks,P);var Nr=[];function Js(d){Ne(d.g,function(b,v){this.g.hasOwnProperty(v)&&wr(b)},d),d.g={}}ks.prototype.N=function(){ks.Z.N.call(this),Js(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=h.JSON.stringify,Zs=h.JSON.parse,Qn=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function er(){}function Tr(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){k.call(this,"d")}w(Qt,k);function xn(){k.call(this,"c")}w(xn,k);var Dt={},ft=null;function Dn(){return ft=ft||new zt}Dt.Ia="serverreachability";function tr(d){k.call(this,Dt.Ia,d)}w(tr,k);function On(d){const b=Dn();Me(b,new tr(b))}Dt.STAT_EVENT="statevent";function nr(d,b){k.call(this,Dt.STAT_EVENT,d),this.stat=b}w(nr,k);function qt(d){const b=Dn();Me(b,new nr(b,d))}Dt.Ja="timingevent";function Mn(d,b){k.call(this,Dt.Ja,d),this.size=b}w(Mn,k);function fs(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},b)}function Bt(){this.g=!0}Bt.prototype.ua=function(){this.g=!1};function ao(d,b,v,N,B,Y){d.info(function(){if(d.g)if(Y){var q="",Re=Y.split("&");for(let et=0;et<Re.length;et++){var mt=Re[et].split("=");if(mt.length>1){const tt=mt[0];mt=mt[1];const Ft=tt.split("_");q=Ft.length>=2&&Ft[1]=="type"?q+(tt+"="+mt+"&"):q+(tt+"=redacted&")}}}else q=null;else q=Y;return"XMLHTTP REQ ("+N+") [attempt "+B+"]: "+b+`
`+v+`
`+q})}function oo(d,b,v,N,B,Y,q){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+B+"]: "+b+`
`+v+`
`+Y+" "+q})}function ms(d,b,v,N){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Nl(d,v)+(N?" "+N:"")})}function Sr(d,b){d.info(function(){return"TIMEOUT: "+b})}Bt.prototype.info=function(){};function Nl(d,b){if(!d.g)return b;if(!b)return null;try{const Y=JSON.parse(b);if(Y){for(d=0;d<Y.length;d++)if(Array.isArray(Y[d])){var v=Y[d];if(!(v.length<2)){var N=v[1];if(Array.isArray(N)&&!(N.length<1)){var B=N[0];if(B!="noop"&&B!="stop"&&B!="close")for(let q=1;q<N.length;q++)N[q]=""}}}}return hs(Y)}catch{return b}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Na={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ta;function jr(){}w(jr,er),jr.prototype.g=function(){return new XMLHttpRequest},Ta=new jr;function Ds(d){return encodeURIComponent(String(d))}function lo(d){var b=1;d=d.split(":");const v=[];for(;b>0&&d.length;)v.push(d.shift()),b--;return d.length&&v.push(d.join(":")),v}function Wn(d,b,v,N){this.j=d,this.i=b,this.l=v,this.S=N||1,this.V=new ks(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var $t={},en={};function ps(d,b,v){d.M=1,d.A=dt(ve(b)),d.u=v,d.R=!0,bi(d,null)}function bi(d,b){d.F=Date.now(),O(d),d.B=ve(d.A);var v=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Sa(v.i,"t",N),d.C=0,v=d.j.L,d.h=new Jn,d.g=Ol(d.j,v?b:null,!d.u),d.P>0&&(d.O=new cn(y(d.Y,d,d.g),d.P)),b=d.V,v=d.g,N=d.ba;var B="readystatechange";Array.isArray(B)||(B&&(Nr[0]=B.toString()),B=Nr);for(let Y=0;Y<B.length;Y++){const q=Rt(v,B[Y],N||b.handleEvent,!1,b.h||b);if(!q)break;b.g[q.key]=q}b=d.J?C(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),On(),ao(d.i,d.v,d.B,d.l,d.S,d.u)}Wn.prototype.ba=function(d){d=d.target;const b=this.O;b&&bs(d)==3?b.j():this.Y(d)},Wn.prototype.Y=function(d){try{if(d==this.g)e:{const Re=bs(this.g),mt=this.g.ya(),et=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||pn(this.g)))){this.K||Re!=4||mt==7||(mt==8||et<=0?On(3):On(2)),K(this);var b=this.g.ca();this.X=b;var v=Tl(this);if(this.o=b==200,oo(this.i,this.v,this.B,this.l,this.S,Re,b),this.o){if(this.U&&!this.L){t:{if(this.g){var N,B=this.g;if((N=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(N)){var Y=N;break t}}Y=null}if(d=Y)ms(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pe(this,d);else{this.o=!1,this.m=3,qt(12),Z(this),de(this);break e}}if(this.R){d=!0;let tt;for(;!this.K&&this.C<v.length;)if(tt=uo(this,v),tt==en){Re==4&&(this.m=4,qt(14),d=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(tt==$t){this.m=4,qt(15),ms(this.i,this.l,v,"[Invalid Chunk]"),d=!1;break}else ms(this.i,this.l,tt,null),pe(this,tt);if(co(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,qt(16),d=!1),this.o=this.o&&d,!d)ms(this.i,this.l,v,"[Invalid Chunked Response]"),Z(this),de(this);else if(v.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),vo(q),q.P=!0,qt(11))}}else ms(this.i,this.l,v,null),pe(this,v);Re==4&&Z(this),this.o&&!this.K&&(Re==4?kl(this.j,this):(this.o=!1,O(this)))}else rr(this.g),b==400&&v.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Z(this),de(this)}}}catch{}};function Tl(d){if(!co(d))return d.g.la();const b=pn(d.g);if(b==="")return"";let v="";const N=b.length,B=bs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Z(d),de(d),"";d.h.i=new h.TextDecoder}for(let Y=0;Y<N;Y++)d.h.h=!0,v+=d.h.i.decode(b[Y],{stream:!(B&&Y==N-1)});return b.length=0,d.h.g+=v,d.C=0,d.h.g}function co(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function uo(d,b){var v=d.C,N=b.indexOf(`
`,v);return N==-1?en:(v=Number(b.substring(v,N)),isNaN(v)?$t:(N+=1,N+v>b.length?en:(b=b.slice(N,N+v),d.C=N+v,b)))}Wn.prototype.cancel=function(){this.K=!0,Z(this)};function O(d){d.T=Date.now()+d.H,V(d,d.H)}function V(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=fs(y(d.aa,d),b)}function K(d){d.D&&(h.clearTimeout(d.D),d.D=null)}Wn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(On(),qt(17)),Z(this),this.m=2,de(this)):V(this,this.T-d)};function de(d){d.j.I==0||d.K||kl(d.j,d)}function Z(d){K(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,Js(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function pe(d,b){try{var v=d.j;if(v.I!=0&&(v.g==d||ie(v.h,d))){if(!d.L&&ie(v.h,d)&&v.I==3){try{var N=v.Ba.g.parse(b)}catch{N=null}if(Array.isArray(N)&&N.length==3){var B=N;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<d.F)Ti(v),Lr(v);else break e;Ni(v),qt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fs(y(v.Va,v),6e3));le(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ls(v,11)}else if((d.L||v.g==d)&&Ti(v),!I(b))for(B=v.Ba.g.parse(b),b=0;b<B.length;b++){let et=B[b];const tt=et[0];if(!(tt<=v.K))if(v.K=tt,et=et[1],v.I==2)if(et[0]=="c"){v.M=et[1],v.ba=et[2];const Ft=et[3];Ft!=null&&(v.ka=Ft,v.j.info("VER="+v.ka));const Us=et[4];Us!=null&&(v.za=Us,v.j.info("SVER="+v.za));const ts=et[5];ts!=null&&typeof ts=="number"&&ts>0&&(N=1.5*ts,v.O=N,v.j.info("backChannelRequestTimeoutMs_="+N)),N=v;const ns=d.g;if(ns){const Si=ns.g?ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var Y=N.h;Y.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(be(Y,Y.h),Y.h=null))}if(N.G){const Ai=ns.g?ns.g.getResponseHeader("X-HTTP-Session-Id"):null;Ai&&(N.wa=Ai,Fe(N.J,N.G,Ai))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-d.F,v.j.info("Handshake RTT: "+v.T+"ms")),N=v;var q=d;if(N.na=Dl(N,N.L?N.ba:null,N.W),q.L){ye(N.h,q);var Re=q,mt=N.O;mt&&(Re.H=mt),Re.D&&(K(Re),O(Re)),N.g=q}else Rl(N);v.i.length>0&&Vs(v)}else et[0]!="stop"&&et[0]!="close"||Ls(v,7);else v.I==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?Ls(v,7):bo(v):et[0]!="noop"&&v.l&&v.l.qa(et),v.A=0)}}On(4)}catch{}}var he=class{constructor(d,b){this.g=d,this.map=b}};function Ae(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Be(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function le(d){return d.h?1:d.g?d.g.size:0}function ie(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function be(d,b){d.g?d.g.add(b):d.h=b}function ye(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}Ae.prototype.cancel=function(){if(this.i=ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ze(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const v of d.g.values())b=b.concat(v.G);return b}return L(d.i)}var Ee=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function De(d,b){if(d){d=d.split("&");for(let v=0;v<d.length;v++){const N=d[v].indexOf("=");let B,Y=null;N>=0?(B=d[v].substring(0,N),Y=d[v].substring(N+1)):B=d[v],b(B,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function We(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof We?(this.l=d.l,Ie(this,d.j),this.o=d.o,this.g=d.g,gt(this,d.u),this.h=d.h,xe(this,jl(d.i)),this.m=d.m):d&&(b=String(d).match(Ee))?(this.l=!1,Ie(this,b[1]||"",!0),this.o=mn(b[2]||""),this.g=mn(b[3]||"",!0),gt(this,b[4]),this.h=mn(b[5]||"",!0),xe(this,b[6]||"",!0),this.m=mn(b[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}We.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Cr(b,Rr,!0),":");var v=this.g;return(v||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Cr(b,Rr,!0),"@"),d.push(Ds(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&d.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(Cr(v,v.charAt(0)=="/"?ho:Ir,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",Cr(v,Sl)),d.join("")},We.prototype.resolve=function(d){const b=ve(this);let v=!!d.j;v?Ie(b,d.j):v=!!d.o,v?b.o=d.o:v=!!d.g,v?b.g=d.g:v=d.u!=null;var N=d.h;if(v)gt(b,d.u);else if(v=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var B=b.h.lastIndexOf("/");B!=-1&&(N=b.h.slice(0,B+1)+N)}if(B=N,B==".."||B==".")N="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){N=B.lastIndexOf("/",0)==0,B=B.split("/");const Y=[];for(let q=0;q<B.length;){const Re=B[q++];Re=="."?N&&q==B.length&&Y.push(""):Re==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),N&&q==B.length&&Y.push("")):(Y.push(Re),N=!0)}N=Y.join("/")}else N=B}return v?b.h=N:v=d.i.toString()!=="",v?xe(b,jl(d.i)):v=!!d.m,v&&(b.m=d.m),b};function ve(d){return new We(d)}function Ie(d,b,v){d.j=v?mn(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function gt(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function xe(d,b,v){b instanceof Dr?(d.i=b,Aa(d.i,d.l)):(v||(b=Cr(b,kr)),d.i=new Dr(b,d.l))}function Fe(d,b,v){d.i.set(b,v)}function dt(d){return Fe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function mn(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Cr(d,b,v){return typeof d=="string"?(d=encodeURI(d).replace(b,un),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function un(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Rr=/[#\/\?@]/g,Ir=/[#\?:]/g,ho=/[#\?]/g,kr=/[#\?@]/g,Sl=/#/g;function Dr(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Pn(d){d.g||(d.g=new Map,d.h=0,d.i&&De(d.i,function(b,v){d.add(decodeURIComponent(b.replace(/\+/g," ")),v)}))}r=Dr.prototype,r.add=function(d,b){Pn(this),this.i=null,d=Or(this,d);let v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(b),this.h+=1,this};function Al(d,b){Pn(d),b=Or(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function fo(d,b){return Pn(d),b=Or(d,b),d.g.has(b)}r.forEach=function(d,b){Pn(this),this.g.forEach(function(v,N){v.forEach(function(B){d.call(b,B,N,this)},this)},this)};function mo(d,b){Pn(d);let v=[];if(typeof b=="string")fo(d,b)&&(v=v.concat(d.g.get(Or(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)v=v.concat(d[b]);return v}r.set=function(d,b){return Pn(this),this.i=null,d=Or(this,d),fo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},r.get=function(d,b){return d?(d=mo(this,d),d.length>0?String(d[0]):b):b};function Sa(d,b,v){Al(d,b),v.length>0&&(d.i=null,d.g.set(Or(d,b),L(v)),d.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let N=0;N<b.length;N++){var v=b[N];const B=Ds(v);v=mo(this,v);for(let Y=0;Y<v.length;Y++){let q=B;v[Y]!==""&&(q+="="+Ds(v[Y])),d.push(q)}}return this.i=d.join("&")};function jl(d){const b=new Dr;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function Or(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function Aa(d,b){b&&!d.j&&(Pn(d),d.i=null,d.g.forEach(function(v,N){const B=N.toLowerCase();N!=B&&(Al(this,N),Sa(this,B,v))},d)),d.j=b}function gs(d,b){const v=new Bt;if(h.Image){const N=new Image;N.onload=_(Zn,v,"TestLoadImage: loaded",!0,b,N),N.onerror=_(Zn,v,"TestLoadImage: error",!1,b,N),N.onabort=_(Zn,v,"TestLoadImage: abort",!1,b,N),N.ontimeout=_(Zn,v,"TestLoadImage: timeout",!1,b,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else b(!1)}function po(d,b){const v=new Bt,N=new AbortController,B=setTimeout(()=>{N.abort(),Zn(v,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:N.signal}).then(Y=>{clearTimeout(B),Y.ok?Zn(v,"TestPingServer: ok",!0,b):Zn(v,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(B),Zn(v,"TestPingServer: error",!1,b)})}function Zn(d,b,v,N,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),N(v)}catch{}}function Mr(){this.g=new Qn}function Os(d){this.i=d.Sb||null,this.h=d.ab||!1}w(Os,er),Os.prototype.g=function(){return new xi(this.i,this.h)};function xi(d,b){zt.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(xi,zt),r=xi.prototype,r.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,ys(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||h).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ja(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ja(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?Pr(this):ys(this),this.readyState==3&&ja(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,Pr(this))},r.Na=function(d){this.g&&(this.response=d,Pr(this))},r.ga=function(){this.g&&Pr(this)};function Pr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ys(d)}r.setRequestHeader=function(d,b){this.A.append(d,b)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var v=b.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=b.next();return d.join(`\r
`)};function ys(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function es(d){let b="";return Ne(d,function(v,N){b+=N,b+=":",b+=v,b+=`\r
`}),b}function vi(d,b,v){e:{for(N in v){var N=!1;break e}N=!0}N||(v=es(v),typeof d=="string"?v!=null&&Ds(v):Fe(d,b,v))}function wt(d){zt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(wt,zt);var Ms=/^https?$/i,go=["POST","PUT"];r=wt.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,b,v,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ta.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(Y){_i(this,Y);return}if(d=v||"",v=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var B in N)v.set(B,N[B]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Y of N.keys())v.set(Y,N.get(Y));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(go,b,void 0)>=0)||N||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,q]of v)this.g.setRequestHeader(Y,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Y){_i(this,Y)}};function _i(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,yo(d),sr(d)}function yo(d){d.A||(d.A=!0,Me(d,"complete"),Me(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Me(this,"complete"),Me(this,"abort"),sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?wi(this):this.Xa())},r.Xa=function(){wi(this)};function wi(d){if(d.h&&typeof u<"u"){if(d.v&&bs(d)==4)setTimeout(d.Ca.bind(d),0);else if(Me(d,"readystatechange"),bs(d)==4){d.h=!1;try{const Y=d.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var v;if(!(v=b)){var N;if(N=Y===0){let q=String(d.D).match(Ee)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),N=!Ms.test(q?q.toLowerCase():"")}v=N}if(v)Me(d,"complete"),Me(d,"success");else{d.o=6;try{var B=bs(d)>2?d.g.statusText:""}catch{B=""}d.l=B+" ["+d.ca()+"]",yo(d)}}finally{sr(d)}}}}function sr(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const v=d.g;d.g=null,b||Me(d,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function bs(d){return d.g?d.g.readyState:0}r.ca=function(){try{return bs(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Zs(b)}};function pn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function rr(d){const b={};d=(d.g&&bs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(I(d[N]))continue;var v=lo(d[N]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=b[B]||[];b[B]=Y,Y.push(v)}Ze(b,function(N){return N.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(d,b,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||b}function Vr(d){this.za=0,this.i=[],this.j=new Bt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ps("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ps("baseRetryDelayMs",5e3,d),this.Za=Ps("retryDelaySeedMs",1e4,d),this.Ta=Ps("forwardChannelMaxRetries",2,d),this.va=Ps("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ae(d&&d.concurrentRequestLimit),this.Ba=new Mr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vr.prototype,r.ka=8,r.I=1,r.connect=function(d,b,v,N){qt(0),this.W=d,this.H=b||{},v&&N!==void 0&&(this.H.OSID=v,this.H.OAID=N),this.F=this.X,this.J=Dl(this,null,this.W),Vs(this)};function bo(d){if(Ca(d),d.I==3){var b=d.V++,v=ve(d.J);if(Fe(v,"SID",d.M),Fe(v,"RID",b),Fe(v,"TYPE","terminate"),Ei(d,v),b=new Wn(d,d.j,b),b.M=2,b.A=dt(ve(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(b.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=b.A,v=!0),v||(b.g=Ol(b.j,null),b.g.ea(b.A)),b.F=Date.now(),O(b)}wo(d)}function Lr(d){d.g&&(vo(d),d.g.cancel(),d.g=null)}function Ca(d){Lr(d),d.v&&(h.clearTimeout(d.v),d.v=null),Ti(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function Vs(d){if(!Be(d.h)&&!d.m){d.m=!0;var b=d.Ea;Oe||A(),X||(Oe(),X=!0),R.add(b,d),d.D=0}}function Ra(d,b){return le(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=fs(y(d.Ea,d,b),_o(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const B=new Wn(this,this.j,d);let Y=this.o;if(this.U&&(Y?(Y=C(Y),ge(Y,this.U)):Y=this.U),this.u!==null||this.R||(B.J=Y,Y=null),this.S)e:{for(var b=0,v=0;v<this.i.length;v++){t:{var N=this.i[v];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(b+=N,b>4096){b=v;break e}if(b===4096||v===this.i.length-1){b=v+1;break e}}b=1e3}else b=1e3;b=Cl(this,B,b),v=ve(this.J),Fe(v,"RID",d),Fe(v,"CVER",22),this.G&&Fe(v,"X-HTTP-Session-Id",this.G),Ei(this,v),Y&&(this.R?b="headers="+Ds(es(Y))+"&"+b:this.u&&vi(v,this.u,Y)),be(this.h,B),this.Ra&&Fe(v,"TYPE","init"),this.S?(Fe(v,"$req",b),Fe(v,"SID","null"),B.U=!0,ps(B,v,null)):ps(B,v,b),this.I=2}}else this.I==3&&(d?xo(this,d):this.i.length==0||Be(this.h)||xo(this))};function xo(d,b){var v;b?v=b.l:v=d.V++;const N=ve(d.J);Fe(N,"SID",d.M),Fe(N,"RID",v),Fe(N,"AID",d.K),Ei(d,N),d.u&&d.o&&vi(N,d.u,d.o),v=new Wn(d,d.j,v,d.D+1),d.u===null&&(v.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Cl(d,v,1e3),v.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),be(d.h,v),ps(v,N,b)}function Ei(d,b){d.H&&Ne(d.H,function(v,N){Fe(b,N,v)}),d.l&&Ne({},function(v,N){Fe(b,N,v)})}function Cl(d,b,v){v=Math.min(d.i.length,v);const N=d.l?y(d.l.Ka,d.l,d):null;e:{var B=d.i;let Re=-1;for(;;){const mt=["count="+v];Re==-1?v>0?(Re=B[0].g,mt.push("ofs="+Re)):Re=0:mt.push("ofs="+Re);let et=!0;for(let tt=0;tt<v;tt++){var Y=B[tt].g;const Ft=B[tt].map;if(Y-=Re,Y<0)Re=Math.max(0,B[tt].g-100),et=!1;else try{Y="req"+Y+"_"||"";try{var q=Ft instanceof Map?Ft:Object.entries(Ft);for(const[Us,ts]of q){let ns=ts;p(ts)&&(ns=hs(ts)),mt.push(Y+Us+"="+encodeURIComponent(ns))}}catch(Us){throw mt.push(Y+"type="+encodeURIComponent("_badmap")),Us}}catch{N&&N(Ft)}}if(et){q=mt.join("&");break e}}q=void 0}return d=d.i.splice(0,v),b.G=d,q}function Rl(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;Oe||A(),X||(Oe(),X=!0),R.add(b,d),d.A=0}}function Ni(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=fs(y(d.Da,d),_o(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,Il(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=fs(y(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),Lr(this),Il(this))};function vo(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function Il(d){d.g=new Wn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=ve(d.na);Fe(b,"RID","rpc"),Fe(b,"SID",d.M),Fe(b,"AID",d.K),Fe(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&Fe(b,"TO",d.ia),Fe(b,"TYPE","xmlhttp"),Ei(d,b),d.u&&d.o&&vi(b,d.u,d.o),d.O&&(d.g.H=d.O);var v=d.g;d=d.ba,v.M=1,v.A=dt(ve(b)),v.u=null,v.R=!0,bi(v,d)}r.Va=function(){this.C!=null&&(this.C=null,Lr(this),Ni(this),qt(19))};function Ti(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function kl(d,b){var v=null;if(d.g==b){Ti(d),vo(d),d.g=null;var N=2}else if(ie(d.h,b))v=b.G,ye(d.h,b),N=1;else return;if(d.I!=0){if(b.o)if(N==1){v=b.u?b.u.length:0,b=Date.now()-b.F;var B=d.D;N=Dn(),Me(N,new Mn(N,v)),Vs(d)}else Rl(d);else if(B=b.m,B==3||B==0&&b.X>0||!(N==1&&Ra(d,b)||N==2&&Ni(d)))switch(v&&v.length>0&&(b=d.h,b.i=b.i.concat(v)),B){case 1:Ls(d,5);break;case 4:Ls(d,10);break;case 3:Ls(d,6);break;default:Ls(d,2)}}}function _o(d,b){let v=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(v*=2),v*b}function Ls(d,b){if(d.j.info("Error code "+b),b==2){var v=y(d.bb,d),N=d.Ua;const B=!N;N=new We(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ie(N,"https"),dt(N),B?gs(N.toString(),v):po(N.toString(),v)}else qt(2);d.I=0,d.l&&d.l.pa(b),wo(d),Ca(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function wo(d){if(d.I=0,d.ja=[],d.l){const b=ze(d.h);(b.length!=0||d.i.length!=0)&&(Q(d.ja,b),Q(d.ja,d.i),d.h.i.length=0,L(d.i),d.i.length=0),d.l.oa()}}function Dl(d,b,v){var N=v instanceof We?ve(v):new We(v);if(N.g!="")b&&(N.g=b+"."+N.g),gt(N,N.u);else{var B=h.location;N=B.protocol,b=b?b+"."+B.hostname:B.hostname,B=+B.port;const Y=new We(null);N&&Ie(Y,N),b&&(Y.g=b),B&&gt(Y,B),v&&(Y.h=v),N=Y}return v=d.G,b=d.wa,v&&b&&Fe(N,v,b),Fe(N,"VER",d.ka),Ei(d,N),N}function Ol(d,b,v){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new wt(new Os({ab:v})):new wt(d.ma),b.Fa(d.L),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ml(){}r=Ml.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ur(){}Ur.prototype.g=function(d,b){return new An(d,b)};function An(d,b){zt.call(this),this.g=new Vr(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!I(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!I(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new ir(this)}w(An,zt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){bo(this.g)},An.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.v&&(v={},v.__data__=hs(d),d=v);b.i.push(new he(b.Ya++,d)),b.I==3&&Vs(b)},An.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,An.Z.N.call(this)};function Pl(d){Qt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const v in b){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}w(Pl,Qt);function Vl(){xn.call(this),this.status=1}w(Vl,xn);function ir(d){this.g=d}w(ir,Ml),ir.prototype.ra=function(){Me(this.g,"a")},ir.prototype.qa=function(d){Me(this.g,new Pl(d))},ir.prototype.pa=function(d){Me(this.g,new Vl)},ir.prototype.oa=function(){Me(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,Mw=function(){return new Ur},Ow=function(){return Dn()},Dw=Dt,wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Id=Ar,Na.COMPLETE="complete",kw=Na,Tr.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Sc=Tr,wt.prototype.listenOnce=wt.prototype.K,wt.prototype.getLastError=wt.prototype.Ha,wt.prototype.getLastErrorCode=wt.prototype.ya,wt.prototype.getStatus=wt.prototype.ca,wt.prototype.getResponseJson=wt.prototype.La,wt.prototype.getResponseText=wt.prototype.la,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Fa,Iw=wt}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",cv="4.9.3";class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");let bl="12.7.0";const eo=new Yp("@firebase/firestore");function Jo(){return eo.logLevel}function je(r,...e){if(eo.logLevel<=lt.DEBUG){const n=e.map(rg);eo.debug(`Firestore (${bl}): ${r}`,...n)}}function hi(r,...e){if(eo.logLevel<=lt.ERROR){const n=e.map(rg);eo.error(`Firestore (${bl}): ${r}`,...n)}}function cl(r,...e){if(eo.logLevel<=lt.WARN){const n=e.map(rg);eo.warn(`Firestore (${bl}): ${r}`,...n)}}function rg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ge(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Pw(r,i,n)}function Pw(r,e,n){let i=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw hi(i),new Error(i)}function vt(r,e,n,i){let l="Unexpected state";typeof n=="string"?l=n:i=n,r||Pw(e,l,i)}function Ke(r,e){return r}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class oi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Vw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Rn.UNAUTHENTICATED)))}shutdown(){}}class bR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class xR{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vt(this.o===void 0,42304);let i=this.i;const l=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new oi,e.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new oi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string",31837,{l:i}),new Vw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class vR{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _R{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new vR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vt(this.o===void 0,3512);const i=u=>{u.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,je("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const l=u=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ER(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=ER(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=e.charAt(l[u]%62))}return i}}function ct(r,e){return r<e?-1:r>e?1:0}function Ep(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const l=r.charAt(i),u=e.charAt(i);if(l!==u)return sp(l)===sp(u)?ct(l,u):sp(l)?1:-1}return ct(r.length,e.length)}const NR=55296,TR=57343;function sp(r){const e=r.charCodeAt(0);return e>=NR&&e<=TR}function ul(r,e,n){return r.length===e.length&&r.every(((i,l)=>n(i,e[l])))}const dv="__name__";class ur{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ge(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ge(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const u=ur.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return ct(e.length,n.length)}static compareSegments(e,n){const i=ur.isNumericId(e),l=ur.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?ur.extractNumericId(e).compare(ur.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class Mt extends ur{construct(e,n,i){return new Mt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((l=>l.length>0)))}return new Mt(n)}static emptyPath(){return new Mt([])}}const SR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends ur{construct(e,n,i){return new Tn(e,n,i)}static isValidIdentifier(e){return SR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dv}static keyField(){return new Tn([dv])}static fromServerFormat(e){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new we(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new we(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,l+=2}else p==="`"?(h=!h,l++):p!=="."||h?(i+=p,l++):(u(),l++)}if(u(),h)throw new we(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Mt.fromString(e))}static fromName(e){return new Le(Mt.fromString(e).popFirst(5))}static empty(){return new Le(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Mt(e.slice()))}}function Lw(r,e,n){if(!n)throw new we(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function AR(r,e,n,i){if(e===!0&&i===!0)throw new we(ae.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function hv(r){if(!Le.isDocumentKey(r))throw new we(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fv(r){if(Le.isDocumentKey(r))throw new we(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Uw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ge(12329,{type:typeof r})}function yr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new we(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(r);throw new we(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function ln(r,e){const n={typeString:r};return e&&(n.value=e),n}function iu(r,e){if(!Uw(r))throw new we(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const l=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const h=r[i];if(l&&typeof h!==l){n=`JSON field '${i}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new we(ae.INVALID_ARGUMENT,n);return!0}const mv=-62135596800,pv=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*pv);return new Ct(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mv)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:ln("string",Ct._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Ct(0,0))}static max(){return new $e(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qc=-1;function jR(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,l=$e.fromTimestamp(i===1e9?new Ct(n+1,0):new Ct(n,i));return new ua(l,Le.empty(),e)}function CR(r){return new ua(r.readTime,r.key,qc)}class ua{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ua($e.min(),Le.empty(),qc)}static max(){return new ua($e.max(),Le.empty(),qc)}}function RR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Le.comparator(r.documentKey,e.documentKey),n!==0?n:ct(r.largestBatchId,e.largestBatchId))}const IR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xl(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==IR)throw r;je("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,i)=>{n(e)}))}static reject(e){return new ce(((n,i)=>{i(e)}))}static waitFor(e){return new ce(((n,i)=>{let l=0,u=0,h=!1;e.forEach((p=>{++l,p.next((()=>{++u,h&&u===l&&n()}),(g=>i(g)))})),h=!0,u===l&&n()}))}static or(e){let n=ce.resolve(!1);for(const i of e)n=n.next((l=>l?ce.resolve(l):i()));return n}static forEach(e,n){const i=[];return e.forEach(((l,u)=>{i.push(n.call(this,l,u))})),this.waitFor(i)}static mapArray(e,n){return new ce(((i,l)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((_=>{h[y]=_,++p,p===u&&i(h)}),(_=>l(_)))}}))}static doWhile(e,n){return new ce(((i,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):i()};u()}))}}function DR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(r){return r.name==="IndexedDbTransactionError"}class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;const ag=-1;function vh(r){return r==null}function Yd(r){return r===0&&1/r==-1/0}function OR(r){return typeof r=="number"&&Number.isInteger(r)&&!Yd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const zw="";function MR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=gv(e)),e=PR(r.get(n),e);return gv(e)}function PR(r,e){let n=e;const i=r.length;for(let l=0;l<i;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case zw:n+="";break;default:n+=u}}return n}function gv(r){return r+zw+""}function yv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function xa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function qw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Gt{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xd(this.root,e,this.comparator,!0)}}class xd{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,n,i,l,u){this.key=e,this.value=n,this.color=i??Nn.RED,this.left=l??Nn.EMPTY,this.right=u??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,u){return new Nn(e??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const u=i(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Nn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,n,i,l,u){return this}insert(e,n,i){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bv(this.data.getIterator())}getIteratorFrom(e){return new bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class us{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new us([])}unionWith(e){let n=new fn(Tn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new us(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class Bw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Bw("Invalid base64 string: "+u):u}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(r){if(vt(!!r,39018),typeof r=="string"){let e=0;const n=VR.exec(r);if(vt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Jt(r.seconds),nanos:Jt(r.nanos)}}function Jt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ha(r){return typeof r=="string"?Sn.fromBase64String(r):Sn.fromUint8Array(r)}const Fw="server_timestamp",Hw="__type__",Gw="__previous_value__",$w="__local_write_time__";function og(r){return(r?.mapValue?.fields||{})[Hw]?.stringValue===Fw}function _h(r){const e=r.mapValue.fields[Gw];return og(e)?_h(e):e}function Bc(r){const e=da(r.mapValue.fields[$w].timestampValue);return new Ct(e.seconds,e.nanos)}class LR{constructor(e,n,i,l,u,h,p,g,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const Kd="(default)";class Fc{constructor(e,n){this.projectId=e,this.database=n||Kd}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}const Yw="__type__",UR="__max__",vd={mapValue:{}},Kw="__vector__",Qd="value";function fa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?og(r)?4:qR(r)?9007199254740991:zR(r)?10:11:Ge(28295,{value:r})}function br(r,e){if(r===e)return!0;const n=fa(r);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bc(r).isEqual(Bc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=da(l.timestampValue),p=da(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return ha(l.bytesValue).isEqual(ha(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return Jt(l.geoPointValue.latitude)===Jt(u.geoPointValue.latitude)&&Jt(l.geoPointValue.longitude)===Jt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Jt(l.integerValue)===Jt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=Jt(l.doubleValue),p=Jt(u.doubleValue);return h===p?Yd(h)===Yd(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return ul(r.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},p=u.mapValue.fields||{};if(yv(h)!==yv(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!br(h[g],p[g])))return!1;return!0})(r,e);default:return Ge(52216,{left:r})}}function Hc(r,e){return(r.values||[]).find((n=>br(n,e)))!==void 0}function dl(r,e){if(r===e)return 0;const n=fa(r),i=fa(e);if(n!==i)return ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Jt(u.integerValue||u.doubleValue),g=Jt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return xv(r.timestampValue,e.timestampValue);case 4:return xv(Bc(r),Bc(e));case 5:return Ep(r.stringValue,e.stringValue);case 6:return(function(u,h){const p=ha(u),g=ha(h);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const _=ct(p[y],g[y]);if(_!==0)return _}return ct(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=ct(Jt(u.latitude),Jt(h.latitude));return p!==0?p:ct(Jt(u.longitude),Jt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return vv(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},y=p[Qd]?.arrayValue,_=g[Qd]?.arrayValue,w=ct(y?.values?.length||0,_?.values?.length||0);return w!==0?w:vv(y,_)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===vd.mapValue&&h===vd.mapValue)return 0;if(u===vd.mapValue)return 1;if(h===vd.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let w=0;w<g.length&&w<_.length;++w){const S=Ep(g[w],_[w]);if(S!==0)return S;const L=dl(p[g[w]],y[_[w]]);if(L!==0)return L}return ct(g.length,_.length)})(r.mapValue,e.mapValue);default:throw Ge(23264,{he:n})}}function xv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ct(r,e);const n=da(r),i=da(e),l=ct(n.seconds,i.seconds);return l!==0?l:ct(n.nanos,i.nanos)}function vv(r,e){const n=r.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=dl(n[l],i[l]);if(u)return u}return ct(n.length,i.length)}function hl(r){return Np(r)}function Np(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=da(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ha(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Le.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=Np(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of i)u?u=!1:l+=",",l+=`${h}:${Np(n.fields[h])}`;return l+"}"})(r.mapValue):Ge(61005,{value:r})}function kd(r){switch(fa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(r);return e?16+kd(e):16;case 5:return 2*r.stringValue.length;case 6:return ha(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((l,u)=>l+kd(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let l=0;return xa(i.fields,((u,h)=>{l+=u.length+kd(h)})),l})(r.mapValue);default:throw Ge(13486,{value:r})}}function _v(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Tp(r){return!!r&&"integerValue"in r}function lg(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Ev(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dd(r){return!!r&&"mapValue"in r}function zR(r){return(r?.mapValue?.fields||{})[Yw]?.stringValue===Kw}function kc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return xa(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=kc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(r.arrayValue.values[n]);return e}return{...r}}function qR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===UR}class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=Tn.emptyPath(),i={},l=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,l),i={},l=[],n=p.popLast()}h?i[p.lastSegment()]=kc(h):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(e){const n=this.field(e.popLast());Dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];Dd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){xa(n,((l,u)=>e[l]=u));for(const l of i)delete e[l]}clone(){return new Yn(kc(this.value))}}function Qw(r){const e=[];return xa(r.fields,((n,i)=>{const l=new Tn([n]);if(Dd(i)){const u=Qw(i.mapValue).fields;if(u.length===0)e.push(l);else for(const h of u)e.push(l.child(h))}else e.push(l)})),new us(e)}class In{constructor(e,n,i,l,u,h,p){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new In(e,0,$e.min(),$e.min(),$e.min(),Yn.empty(),0)}static newFoundDocument(e,n,i,l){return new In(e,1,n,$e.min(),i,l,0)}static newNoDocument(e,n){return new In(e,2,n,$e.min(),$e.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,$e.min(),$e.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xd{constructor(e,n){this.position=e,this.inclusive=n}}function Nv(r,e,n){let i=0;for(let l=0;l<r.position.length;l++){const u=e[l],h=r.position[l];if(u.field.isKeyField()?i=Le.comparator(Le.fromName(h.referenceValue),n.key):i=dl(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Tv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!br(r.position[n],e.position[n]))return!1;return!0}class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function BR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Xw{}class on extends Xw{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new HR(e,n,i):n==="array-contains"?new YR(e,i):n==="in"?new KR(e,i):n==="not-in"?new QR(e,i):n==="array-contains-any"?new XR(e,i):new on(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new GR(e,i):new $R(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dl(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qs extends Xw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qs(e,n)}matches(e){return Ww(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ww(r){return r.op==="and"}function Jw(r){return FR(r)&&Ww(r)}function FR(r){for(const e of r.filters)if(e instanceof Qs)return!1;return!0}function Sp(r){if(r instanceof on)return r.field.canonicalString()+r.op.toString()+hl(r.value);if(Jw(r))return r.filters.map((e=>Sp(e))).join(",");{const e=r.filters.map((n=>Sp(n))).join(",");return`${r.op}(${e})`}}function Zw(r,e){return r instanceof on?(function(i,l){return l instanceof on&&i.op===l.op&&i.field.isEqual(l.field)&&br(i.value,l.value)})(r,e):r instanceof Qs?(function(i,l){return l instanceof Qs&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce(((u,h,p)=>u&&Zw(h,l.filters[p])),!0):!1})(r,e):void Ge(19439)}function eE(r){return r instanceof on?(function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`})(r):r instanceof Qs?(function(n){return n.op.toString()+" {"+n.getFilters().map(eE).join(" ,")+"}"})(r):"Filter"}class HR extends on{constructor(e,n,i){super(e,n,i),this.key=Le.fromName(i.referenceValue)}matches(e){const n=Le.comparator(e.key,this.key);return this.matchesComparison(n)}}class GR extends on{constructor(e,n){super(e,"in",n),this.keys=tE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $R extends on{constructor(e,n){super(e,"not-in",n),this.keys=tE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tE(r,e){return(e.arrayValue?.values||[]).map((n=>Le.fromName(n.referenceValue)))}class YR extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&Hc(n.arrayValue,this.value)}}class KR extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}}class QR extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hc(this.value.arrayValue,n)}}class XR extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Hc(this.value.arrayValue,i)))}}class WR{constructor(e,n=null,i=[],l=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function Sv(r,e=null,n=[],i=[],l=null,u=null,h=null){return new WR(r,e,n,i,l,u,h)}function cg(r){const e=Ke(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Sp(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>hl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>hl(i))).join(",")),e.Te=n}return e.Te}function ug(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!BR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Zw(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Tv(r.startAt,e.startAt)&&Tv(r.endAt,e.endAt)}function Ap(r){return Le.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _l{constructor(e,n=null,i=[],l=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JR(r,e,n,i,l,u,h,p){return new _l(r,e,n,i,l,u,h,p)}function dg(r){return new _l(r)}function Av(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nE(r){return r.collectionGroup!==null}function Dc(r){const e=Ke(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new fn(Tn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Gc(u,i))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new Gc(Tn.keyField(),i))}return e.Ie}function fr(r){const e=Ke(r);return e.Ee||(e.Ee=ZR(e,Dc(r))),e.Ee}function ZR(r,e){if(r.limitType==="F")return Sv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Gc(l.field,u)}));const n=r.endAt?new Xd(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Xd(r.startAt.position,r.startAt.inclusive):null;return Sv(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function jp(r,e){const n=r.filters.concat([e]);return new _l(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Wd(r,e,n){return new _l(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function wh(r,e){return ug(fr(r),fr(e))&&r.limitType===e.limitType}function sE(r){return`${cg(fr(r))}|lt:${r.limitType}`}function Zo(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((l=>eE(l))).join(", ")}]`),vh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((l=>hl(l))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((l=>hl(l))).join(",")),`Target(${i})`})(fr(r))}; limitType=${r.limitType})`}function Eh(r,e){return e.isFoundDocument()&&(function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):Le.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,e)&&(function(i,l){for(const u of Dc(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(i,l){return!(i.startAt&&!(function(h,p,g){const y=Nv(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,Dc(i),l)||i.endAt&&!(function(h,p,g){const y=Nv(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,Dc(i),l))})(r,e)}function e4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rE(r){return(e,n)=>{let i=!1;for(const l of Dc(r)){const u=t4(l,e,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function t4(r,e,n){const i=r.field.isKeyField()?Le.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?dl(g,y):Ge(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ge(19790,{direction:r.dir})}}class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,((n,i)=>{for(const[l,u]of i)e(l,u)}))}isEmpty(){return qw(this.inner)}size(){return this.innerSize}}const n4=new Gt(Le.comparator);function fi(){return n4}const iE=new Gt(Le.comparator);function Ac(...r){let e=iE;for(const n of r)e=e.insert(n.key,n);return e}function aE(r){let e=iE;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Qa(){return Oc()}function oE(){return Oc()}function Oc(){return new ro((r=>r.toString()),((r,e)=>r.isEqual(e)))}const s4=new Gt(Le.comparator),r4=new fn(Le.comparator);function ut(...r){let e=r4;for(const n of r)e=e.add(n);return e}const i4=new fn(ct);function a4(){return i4}function hg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function lE(r){return{integerValue:""+r}}function o4(r,e){return OR(e)?lE(e):hg(r,e)}class Nh{constructor(){this._=void 0}}function l4(r,e,n){return r instanceof $c?(function(l,u){const h={fields:{[Hw]:{stringValue:Fw},[$w]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&og(u)&&(u=_h(u)),u&&(h.fields[Gw]=u),{mapValue:h}})(n,e):r instanceof Yc?uE(r,e):r instanceof Kc?dE(r,e):(function(l,u){const h=cE(l,u),p=jv(h)+jv(l.Ae);return Tp(h)&&Tp(l.Ae)?lE(p):hg(l.serializer,p)})(r,e)}function c4(r,e,n){return r instanceof Yc?uE(r,e):r instanceof Kc?dE(r,e):n}function cE(r,e){return r instanceof Jd?(function(i){return Tp(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class $c extends Nh{}class Yc extends Nh{constructor(e){super(),this.elements=e}}function uE(r,e){const n=hE(e);for(const i of r.elements)n.some((l=>br(l,i)))||n.push(i);return{arrayValue:{values:n}}}class Kc extends Nh{constructor(e){super(),this.elements=e}}function dE(r,e){let n=hE(e);for(const i of r.elements)n=n.filter((l=>!br(l,i)));return{arrayValue:{values:n}}}class Jd extends Nh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jv(r){return Jt(r.integerValue||r.doubleValue)}function hE(r){return lg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class u4{constructor(e,n){this.field=e,this.transform=n}}function d4(r,e){return r.field.isEqual(e.field)&&(function(i,l){return i instanceof Yc&&l instanceof Yc||i instanceof Kc&&l instanceof Kc?ul(i.elements,l.elements,br):i instanceof Jd&&l instanceof Jd?br(i.Ae,l.Ae):i instanceof $c&&l instanceof $c})(r.transform,e.transform)}class h4{constructor(e,n){this.version=e,this.transformResults=n}}class $s{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $s}static exists(e){return new $s(void 0,e)}static updateTime(e){return new $s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Th{}function fE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pE(r.key,$s.none()):new au(r.key,r.data,$s.none());{const n=r.data,i=Yn.empty();let l=new fn(Tn.comparator);for(let u of e.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),l=l.add(u)}return new va(r.key,i,new us(l.toArray()),$s.none())}}function f4(r,e,n){r instanceof au?(function(l,u,h){const p=l.value.clone(),g=Rv(l.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):r instanceof va?(function(l,u,h){if(!Od(l.precondition,u))return void u.convertToUnknownDocument(h.version);const p=Rv(l.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(mE(l)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Mc(r,e,n,i){return r instanceof au?(function(u,h,p,g){if(!Od(u.precondition,h))return p;const y=u.value.clone(),_=Iv(u.fieldTransforms,g,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof va?(function(u,h,p,g){if(!Od(u.precondition,h))return p;const y=Iv(u.fieldTransforms,g,h),_=h.data;return _.setAll(mE(u)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,i):(function(u,h,p){return Od(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,n)}function m4(r,e){let n=null;for(const i of r.fieldTransforms){const l=e.data.field(i.field),u=cE(i.transform,l||null);u!=null&&(n===null&&(n=Yn.empty()),n.set(i.field,u))}return n||null}function Cv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&ul(i,l,((u,h)=>d4(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Th{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class va extends Th{constructor(e,n,i,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function Rv(r,e,n){const i=new Map;vt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],h=u.transform,p=e.data.field(u.field);i.set(u.field,c4(h,p,n[l]))}return i}function Iv(r,e,n){const i=new Map;for(const l of r){const u=l.transform,h=n.data.field(l.field);i.set(l.field,l4(u,h,e))}return i}class pE extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p4 extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class g4{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&f4(u,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Mc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=oE();return this.mutations.forEach((l=>{const u=e.get(l.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(l.key)?null:p;const g=fE(h,p);g!==null&&i.set(l.key,g),h.isValidDocument()||h.convertToNoDocument($e.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ut())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,((n,i)=>Cv(n,i)))&&ul(this.baseMutations,e.baseMutations,((n,i)=>Cv(n,i)))}}class fg{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){vt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let l=(function(){return s4})();const u=e.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,i[h].version);return new fg(e,n,i,l)}}class y4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class b4{constructor(e,n){this.count=e,this.unchangedNames=n}}var an,pt;function x4(r){switch(r){case ae.OK:return Ge(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ge(15467,{code:r})}}function gE(r){if(r===void 0)return hi("GRPC error has no .code"),ae.UNKNOWN;switch(r){case an.OK:return ae.OK;case an.CANCELLED:return ae.CANCELLED;case an.UNKNOWN:return ae.UNKNOWN;case an.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case an.INTERNAL:return ae.INTERNAL;case an.UNAVAILABLE:return ae.UNAVAILABLE;case an.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case an.NOT_FOUND:return ae.NOT_FOUND;case an.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case an.ABORTED:return ae.ABORTED;case an.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case an.DATA_LOSS:return ae.DATA_LOSS;default:return Ge(39323,{code:r})}}(pt=an||(an={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";function v4(){return new TextEncoder}const _4=new oa([4294967295,4294967295],0);function kv(r){const e=v4().encode(r),n=new Rw;return n.update(e),new Uint8Array(n.digest())}function Dv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new oa([n,i],0),new oa([l,u],0)]}class mg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(i<0)throw new jc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oa.fromNumber(this.ge)}ye(e,n,i){let l=e.add(n.multiply(oa.fromNumber(i)));return l.compare(_4)===1&&(l=new oa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kv(e),[i,l]=Dv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,l,u);if(!this.we(h))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new mg(u,l,n);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=kv(e),[i,l]=Dv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,l,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(e,n,i,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Sh($e.min(),l,new Gt(ct),fi(),ut())}}class ou{constructor(e,n,i,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ou(i,n,ut(),ut(),ut())}}class Md{constructor(e,n,i,l){this.be=e,this.removedTargetIds=n,this.key=i,this.De=l}}class yE{constructor(e,n){this.targetId=e,this.Ce=n}}class bE{constructor(e,n,i=Sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class Ov{constructor(){this.ve=0,this.Fe=Mv(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ut(),n=ut(),i=ut();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:Ge(38017,{changeType:u})}})),new ou(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Mv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class w4{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=_d(),this.He=_d(),this.Ye=new Gt(ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,i=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Ap(u))if(i===0){const h=new Le(u.path);this.et(n,h,In.newNoDocument(h,$e.min()))}else vt(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let h,p;try{h=ha(i).toUint8Array()}catch(g){if(g instanceof Bw)return cl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new mg(h,l,u)}catch(g){return cl(g instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let l=0;return i.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&Ap(p.target)){const g=new Le(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,In.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let i=ut();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const l=new Sh(e,n,this.Ye,this.je,i);return this.je=fi(),this.Je=_d(),this.He=_d(),this.Ye=new Gt(ct),l}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ov,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new fn(ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new fn(ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ov),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _d(){return new Gt(Le.comparator)}function Mv(){return new Gt(Le.comparator)}const E4={asc:"ASCENDING",desc:"DESCENDING"},N4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T4={and:"AND",or:"OR"};class S4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cp(r,e){return r.useProto3Json||vh(e)?e:{value:e}}function Zd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function A4(r,e){return Zd(r,e.toTimestamp())}function mr(r){return vt(!!r,49232),$e.fromTimestamp((function(n){const i=da(n);return new Ct(i.seconds,i.nanos)})(r))}function pg(r,e){return Rp(r,e).canonicalString()}function Rp(r,e){const n=(function(l){return new Mt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function vE(r){const e=Mt.fromString(r);return vt(TE(e),10190,{key:e.toString()}),e}function Ip(r,e){return pg(r.databaseId,e.path)}function rp(r,e){const n=vE(e);if(n.get(1)!==r.databaseId.projectId)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Le(wE(n))}function _E(r,e){return pg(r.databaseId,e)}function j4(r){const e=vE(r);return e.length===4?Mt.emptyPath():wE(e)}function kp(r){return new Mt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wE(r){return vt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Pv(r,e,n){return{name:Ip(r,e),fields:n.value.mapValue.fields}}function C4(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ge(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,_){return y.useProto3Json?(vt(_===void 0||typeof _=="string",58123),Sn.fromBase64String(_||"")):(vt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Sn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const _=y.code===void 0?ae.UNKNOWN:gE(y.code);return new we(_,y.message||"")})(h);n=new bE(i,l,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=rp(r,i.document.name),u=mr(i.document.updateTime),h=i.document.createTime?mr(i.document.createTime):$e.min(),p=new Yn({mapValue:{fields:i.document.fields}}),g=In.newFoundDocument(l,u,h,p),y=i.targetIds||[],_=i.removedTargetIds||[];n=new Md(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=rp(r,i.document),u=i.readTime?mr(i.readTime):$e.min(),h=In.newNoDocument(l,u),p=i.removedTargetIds||[];n=new Md([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=rp(r,i.document),u=i.removedTargetIds||[];n=new Md([],u,l,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,h=new b4(l,u),p=i.targetId;n=new yE(p,h)}}return n}function R4(r,e){let n;if(e instanceof au)n={update:Pv(r,e.key,e.value)};else if(e instanceof pE)n={delete:Ip(r,e.key)};else if(e instanceof va)n={update:Pv(r,e.key,e.data),updateMask:U4(e.fieldMask)};else{if(!(e instanceof p4))return Ge(16599,{Vt:e.type});n={verify:Ip(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const p=h.transform;if(p instanceof $c)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Yc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Kc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jd)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ge(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:A4(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ge(27497)})(r,e.precondition)),n}function I4(r,e){return r&&r.length>0?(vt(e!==void 0,14353),r.map((n=>(function(l,u){let h=l.updateTime?mr(l.updateTime):mr(u);return h.isEqual($e.min())&&(h=mr(u)),new h4(h,l.transformResults||[])})(n,e)))):[]}function k4(r,e){return{documents:[_E(r,e.path)]}}function D4(r,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=_E(r,l);const u=(function(y){if(y.length!==0)return NE(Qs.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((_=>(function(S){return{field:el(S.field),direction:P4(S.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Cp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function O4(r){let e=j4(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){vt(i===1,65062);const _=n.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(w){const S=EE(w);return S instanceof Qs&&Jw(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(w){return w.map((S=>(function(Q){return new Gc(tl(Q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let S;return S=typeof w=="object"?w.value:w,vh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(w){const S=!!w.before,L=w.values||[];return new Xd(L,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const S=!w.before,L=w.values||[];return new Xd(L,S)})(n.endAt)),JR(e,l,h,u,p,"F",g,y)}function M4(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=tl(n.unaryFilter.field);return on.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=tl(n.unaryFilter.field);return on.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=tl(n.unaryFilter.field);return on.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=tl(n.unaryFilter.field);return on.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(r):r.fieldFilter!==void 0?(function(n){return on.create(tl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Qs.create(n.compositeFilter.filters.map((i=>EE(i))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(n.compositeFilter.op))})(r):Ge(30097,{filter:r})}function P4(r){return E4[r]}function V4(r){return N4[r]}function L4(r){return T4[r]}function el(r){return{fieldPath:r.canonicalString()}}function tl(r){return Tn.fromServerFormat(r.fieldPath)}function NE(r){return r instanceof on?(function(n){if(n.op==="=="){if(Ev(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(wv(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ev(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(wv(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:V4(n.op),value:n.value}}})(r):r instanceof Qs?(function(n){const i=n.getFilters().map((l=>NE(l)));return i.length===1?i[0]:{compositeFilter:{op:L4(n.op),filters:i}}})(r):Ge(54877,{filter:r})}function U4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function TE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ra{constructor(e,n,i,l,u=$e.min(),h=$e.min(),p=Sn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class z4{constructor(e){this.yt=e}}function q4(r){const e=O4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wd(e,e.limit,"L"):e}class B4{constructor(){this.Cn=new F4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(ua.min())}updateCollectionGroup(e,n,i){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class F4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new fn(Mt.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new fn(Mt.comparator)).toArray()}}const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(SE,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);class fl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fl(0)}static cr(){return new fl(-1)}}const Lv="LruGarbageCollector",H4=1048576;function Uv([r,e],[n,i]){const l=ct(r,n);return l===0?ct(e,i):l}class G4{constructor(e){this.Ir=e,this.buffer=new fn(Uv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Uv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){je(Lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vl(n)?je(Lv,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Vr(3e5)}))}}class Y4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(xh.ce);const i=new G4(n);return this.mr.forEachTarget(e,(l=>i.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>i.Ar(l))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Vv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,l,u,h,p,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,h=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(i=w,p=Date.now(),this.removeTargets(e,i,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((w=>(y=Date.now(),Jo()<=lt.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${l} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function K4(r,e){return new Y4(r,e)}class Q4{constructor(){this.changes=new ro((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ce.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class X4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class W4{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(i=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(i!==null&&Mc(i.mutation,l,us.empty(),Ct.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ut()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ut()){const l=Qa();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,i).next((u=>{let h=Ac();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=Qa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ut())))}populateOverlays(e,n,i){const l=[];return i.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,i,l){let u=fi();const h=Oc(),p=(function(){return Oc()})();return n.forEach(((g,y)=>{const _=i.get(y.key);l.has(y.key)&&(_===void 0||_.mutation instanceof va)?u=u.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),Mc(_.mutation,y,_.mutation.getFieldMask(),Ct.now())):h.set(y.key,us.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,_)=>h.set(y,_))),n.forEach(((y,_)=>p.set(y,new X4(_,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=Oc();let l=new Gt(((h,p)=>h-p)),u=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=i.get(g)||us.empty();_=p.applyToLocalView(y,_),i.set(g,_);const w=(l.get(p.batchId)||ut()).add(g);l=l.insert(p.batchId,w)}))})).next((()=>{const h=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,_=g.value,w=oE();_.forEach((S=>{if(!u.has(S)){const L=fE(n.get(S),i.get(S));L!==null&&w.set(S,L),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ce.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,l){return(function(h){return Le.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-u.size):ce.resolve(Qa());let p=qc,g=u;return h.next((y=>ce.forEach(y,((_,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(_)?ce.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{g=g.insert(_,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ut()))).next((_=>({batchId:p,changes:aE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Le(n)).next((i=>{let l=Ac();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const u=n.collectionGroup;let h=Ac();return this.indexManager.getCollectionParents(e,u).next((p=>ce.forEach(p,(g=>{const y=(function(w,S){return new _l(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,l).next((_=>{_.forEach(((w,S)=>{h=h.insert(w,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,l)))).next((h=>{u.forEach(((g,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,In.newInvalidDocument(_)))}));let p=Ac();return h.forEach(((g,y)=>{const _=u.get(g);_!==void 0&&Mc(_.mutation,y,us.empty(),Ct.now()),Eh(n,y)&&(p=p.insert(g,y))})),p}))}}class J4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:mr(l.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:q4(l.bundledQuery),readTime:mr(l.readTime)}})(n)),ce.resolve()}}class Z4{constructor(){this.overlays=new Gt(Le.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Qa();return ce.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&i.set(l,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((l,u)=>{this.St(e,n,u)})),ce.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.qr.get(i);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),ce.resolve()}getOverlaysForCollection(e,n,i){const l=Qa(),u=n.length+1,h=new Le(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&l.set(g.getKey(),g)}return ce.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let u=new Gt(((y,_)=>y-_));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let _=u.get(y.largestBatchId);_===null&&(_=Qa(),u=u.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=Qa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>p.set(y,_))),!(p.size()>=l)););return ce.resolve(p)}St(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const h=this.qr.get(l.largestBatchId).delete(i.key);this.qr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new y4(n,i));let u=this.qr.get(n);u===void 0&&(u=ut(),this.qr.set(n,u)),this.qr.set(n,u.add(i.key))}}class eI{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}class gg{constructor(){this.Qr=new fn(bn.$r),this.Ur=new fn(bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new bn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new bn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Le(new Mt([])),i=new bn(n,e),l=new bn(n,e+1),u=[];return this.Ur.forEachInRange([i,l],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Le(new Mt([])),i=new bn(n,e),l=new bn(n,e+1);let u=ut();return this.Ur.forEachInRange([i,l],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new bn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class bn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Le.comparator(e.key,n.key)||ct(e.Yr,n.Yr)}static Kr(e,n){return ct(e.Yr,n.Yr)||Le.comparator(e.key,n.key)}}class tI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new fn(bn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new g4(u,n,i,l);this.mutationQueue.push(h);for(const p of l)this.Zr=this.Zr.add(new bn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ce.resolve(h)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.ei(i),u=l<0?0:l;return ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?ag:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new bn(n,0),l=new bn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,l],(h=>{const p=this.Xr(h.Yr);u.push(p)})),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new fn(ct);return n.forEach((l=>{const u=new bn(l,0),h=new bn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{i=i.add(p.Yr)}))})),ce.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let u=i;Le.isDocumentKey(u)||(u=u.child(""));const h=new bn(new Le(u),0);let p=new fn(ct);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),h),ce.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const l=this.Xr(i);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){vt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ce.forEach(n.mutations,(l=>{const u=new bn(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new bn(n,0),l=this.Zr.firstAfterOrEqual(i);return ce.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class nI{constructor(e){this.ri=e,this.docs=(function(){return new Gt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,h=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ce.resolve(i?i.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let i=fi();return n.forEach((l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():In.newInvalidDocument(l))})),ce.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let u=fi();const h=n.path,p=new Le(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||RR(CR(_),i)<=0||(l.has(_.key)||Eh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ce.resolve(u)}getAllFromCollectionGroup(e,n,i,l){Ge(9500)}ii(e,n){return ce.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new sI(this)}getSize(e){return ce.resolve(this.size)}}class sI extends Q4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(i)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class rI{constructor(e){this.persistence=e,this.si=new ro((n=>cg(n)),ug),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=fl.ur()}forEachTarget(e,n){return this.si.forEach(((i,l)=>n(l))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,i){let l=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ce.waitFor(u).next((()=>l))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ce.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ce.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((h=>{u.push(l.markPotentiallyOrphaned(e,h))})),ce.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ce.resolve(i)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}class AE{constructor(e,n){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new eI,this.referenceDelegate=e(this),this.Pi=new rI(this),this.indexManager=new B4,this.remoteDocumentCache=(function(l){return new nI(l)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new z4(n),this.Ii=new J4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new tI(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){je("MemoryPersistence","Starting transaction:",e);const l=new iI(this.ci.next());return this.referenceDelegate.Ei(),i(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return ce.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class iI extends kR{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new yg(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ce.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(i=>{const l=Le.fromPath(i);return this.gi(e,l).next((u=>{u||n.removeEntry(l,$e.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class eh{constructor(e,n){this.persistence=e,this.pi=new ro((i=>MR(i.path)),((i,l)=>i.isEqual(l))),this.garbageCollector=K4(this,n)}static mi(e,n){return new eh(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((l=>i+l))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((i,l)=>this.br(e,i,l).next((u=>u?ce.resolve():n(l)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(h=>this.br(e,h,n).next((p=>{p||(i++,u.removeEntry(h,$e.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=kd(e.data.value)),n}br(e,n,i){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ce.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bg{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=l}static As(e,n){let i=ut(),l=ut();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new bg(e,n.fromCache,i,l)}}class aI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LA()?8:DR(kn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,l){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,l,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new aI;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,i,l){return i.documentReadCount<this.fs?(Jo()<=lt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(Jo()<=lt.DEBUG&&je("QueryEngine","Query:",Zo(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.gs*l?(Jo()<=lt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):ce.resolve())}ys(e,n){if(Av(n))return ce.resolve(null);let i=fr(n);return this.indexManager.getIndexType(e,i).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Wd(n,null,"F"),i=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=ut(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,Wd(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,i,l){return Av(n)||l.isEqual($e.min())?ce.resolve(null):this.ps.getDocuments(e,i).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,i,l)?ce.resolve(null):(Jo()<=lt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Zo(n)),this.vs(e,h,n,jR(l,qc)).next((p=>p)))}))}Ds(e,n){let i=new fn(rE(e));return n.forEach(((l,u)=>{Eh(e,u)&&(i=i.add(u))})),i}Cs(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,i){return Jo()<=lt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.ps.getDocumentsMatchingQuery(e,n,ua.min(),i)}vs(e,n,i,l){return this.ps.getDocumentsMatchingQuery(e,i,l).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const xg="LocalStore",lI=3e8;class cI{constructor(e,n,i,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new Gt(ct),this.xs=new ro((u=>cg(u)),ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function uI(r,e,n,i){return new cI(r,e,n,i)}async function jE(r,e){const n=Ke(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],p=[];let g=ut();for(const y of l){h.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of u){p.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function dI(r,e){const n=Ke(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,_){const w=y.batch,S=w.keys();let L=ce.resolve();return S.forEach((Q=>{L=L.next((()=>_.getEntry(g,Q))).next((J=>{const F=y.docVersions.get(Q);vt(F!==null,48541),J.version.compareTo(F)<0&&(w.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),_.addEntry(J)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,l)))}))}function CE(r){const e=Ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function hI(r,e){const n=Ke(r),i=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((_,w)=>{const S=l.get(w);if(!S)return;p.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,w))));let L=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?L=L.withResumeToken(Sn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):_.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(_.resumeToken,i)),l=l.insert(w,L),(function(J,F,ue){return J.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=lI?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(S,L,_)&&p.push(n.Pi.updateTargetData(u,L))}));let g=fi(),y=ut();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(fI(u,h,e.documentUpdates).next((_=>{g=_.ks,y=_.qs}))),!i.isEqual($e.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(_)}return ce.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function fI(r,e,n){let i=ut(),l=ut();return n.forEach((u=>i=i.add(u))),e.getEntries(r,i).next((u=>{let h=fi();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual($e.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):je(xg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:l}}))}function mI(r,e){const n=Ke(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ag),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function pI(r,e){const n=Ke(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let l;return n.Pi.getTargetData(i,e).next((u=>u?(l=u,ce.resolve(l)):n.Pi.allocateTargetId(i).next((h=>(l=new ra(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,l).next((()=>l)))))))})).then((i=>{const l=n.Ms.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Dp(r,e,n){const i=Ke(r),l=i.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!vl(h))throw h;je(xg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(l.target)}function zv(r,e,n){const i=Ke(r);let l=$e.min(),u=ut();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,_){const w=Ke(g),S=w.xs.get(_);return S!==void 0?ce.resolve(w.Ms.get(S)):w.Pi.getTargetData(y,_)})(i,h,fr(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,n?l:$e.min(),n?u:ut()))).next((p=>(gI(i,e4(e),p),{documents:p,Qs:u})))))}function gI(r,e,n){let i=r.Os.get(e)||$e.min();n.forEach(((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Os.set(e,i)}class qv{constructor(){this.activeTargetIds=a4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yI{constructor(){this.Mo=new qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bI{Oo(e){}shutdown(){}}const Bv="ConnectivityMonitor";class Fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){je(Bv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){je(Bv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wd=null;function Op(){return wd===null?wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():wd++,"0x"+wd.toString(16)}const ip="RestConnection",xI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${l}`,this.Wo=this.databaseId.database===Kd?`project_id=${i}`:`project_id=${i}&database_id=${l}`}Go(e,n,i,l,u){const h=Op(),p=this.zo(e,n.toUriEncodedString());je(ip,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(p),_=pi(y);return this.Jo(e,p,g,i,_).then((w=>(je(ip,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw cl(ip,`RPC '${e}' ${h} failed with error: `,w,"url: ",p,"request:",i),w}))}Ho(e,n,i,l,u,h){return this.Go(e,n,i,l,u)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),i&&i.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const i=xI[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class _I{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Cn="WebChannelConnection";class wI extends vI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,l,u){const h=Op();return new Promise(((p,g)=>{const y=new Iw;y.setWithCredentials(!0),y.listenOnce(kw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Id.NO_ERROR:const w=y.getResponseJson();je(Cn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),p(w);break;case Id.TIMEOUT:je(Cn,`RPC '${e}' ${h} timed out`),g(new we(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Id.HTTP_ERROR:const S=y.getStatus();if(je(Cn,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const Q=L?.error;if(Q&&Q.status&&Q.message){const J=(function(ue){const se=ue.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(se)>=0?se:ae.UNKNOWN})(Q.status);g(new we(J,Q.message))}else g(new we(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new we(ae.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{je(Cn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(l);je(Cn,`RPC '${e}' ${h} sending request:`,l),y.send(n,"POST",_,i,15)}))}T_(e,n,i){const l=Op(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Mw(),p=Ow(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const _=u.join("");je(Cn,`Creating RPC '${e}' stream ${l}: ${_}`,g);const w=h.createWebChannel(_,g);this.I_(w);let S=!1,L=!1;const Q=new _I({Yo:F=>{L?je(Cn,`Not sending because RPC '${e}' stream ${l} is closed:`,F):(S||(je(Cn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),S=!0),je(Cn,`RPC '${e}' stream ${l} sending:`,F),w.send(F))},Zo:()=>w.close()}),J=(F,ue,se)=>{F.listen(ue,(fe=>{try{se(fe)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return J(w,Sc.EventType.OPEN,(()=>{L||(je(Cn,`RPC '${e}' stream ${l} transport opened.`),Q.o_())})),J(w,Sc.EventType.CLOSE,(()=>{L||(L=!0,je(Cn,`RPC '${e}' stream ${l} transport closed`),Q.a_(),this.E_(w))})),J(w,Sc.EventType.ERROR,(F=>{L||(L=!0,cl(Cn,`RPC '${e}' stream ${l} transport errored. Name:`,F.name,"Message:",F.message),Q.a_(new we(ae.UNAVAILABLE,"The operation could not be completed")))})),J(w,Sc.EventType.MESSAGE,(F=>{if(!L){const ue=F.data[0];vt(!!ue,16349);const se=ue,fe=se?.error||se[0]?.error;if(fe){je(Cn,`RPC '${e}' stream ${l} received error:`,fe);const _e=fe.status;let Oe=(function(A){const j=an[A];if(j!==void 0)return gE(j)})(_e),X=fe.message;Oe===void 0&&(Oe=ae.INTERNAL,X="Unknown error status: "+_e+" with message "+fe.message),L=!0,Q.a_(new we(Oe,X)),w.close()}else je(Cn,`RPC '${e}' stream ${l} received:`,ue),Q.u_(ue)}})),J(p,Dw.STAT_EVENT,(F=>{F.stat===wp.PROXY?je(Cn,`RPC '${e}' stream ${l} detected buffering proxy`):F.stat===wp.NOPROXY&&je(Cn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ap(){return typeof document<"u"?document:null}function Ah(r){return new S4(r,!0)}class RE{constructor(e,n,i=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-i);l>0&&je("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Hv="PersistentStream";class IE{constructor(e,n,i,l,u,h,p,g){this.Mi=e,this.S_=i,this.b_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,l])=>{this.D_===n&&this.G_(i,l)}),(i=>{e((()=>{const l=new we(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(l)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{i((()=>this.z_(l)))})),this.stream.onMessage((l=>{i((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return je(Hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(je(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EI extends IE{constructor(e,n,i,l,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=C4(this.serializer,e),i=(function(u){if(!("targetChange"in u))return $e.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?$e.min():h.readTime?mr(h.readTime):$e.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=kp(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=Ap(g)?{documents:k4(u,g)}:{query:D4(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=xE(u,h.resumeToken);const y=Cp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo($e.min())>0){p.readTime=Zd(u,h.snapshotVersion.toTimestamp());const y=Cp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=M4(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=kp(this.serializer),n.removeTarget=e,this.q_(n)}}class NI extends IE{constructor(e,n,i,l,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=I4(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=kp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>R4(this.serializer,i)))};this.q_(n)}}class TI{}class SI extends TI{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Rp(n,i),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ae.UNKNOWN,u.toString())}))}Ho(e,n,i,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Rp(n,i),l,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new we(ae.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class AI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(n),this.aa=!1):je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const to="RemoteStore";class jI{constructor(e,n,i,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{io(this)&&(je(to,"Restarting streams for network reachability change."),await(async function(g){const y=Ke(g);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await jh(y)})(this))}))})),this.Ra=new AI(i,l)}}async function jh(r){if(io(r))for(const e of r.da)await e(!0)}async function lu(r){for(const e of r.da)await e(!1)}function kE(r,e){const n=Ke(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Eg(n)?wg(n):wl(n).O_()&&_g(n,e))}function vg(r,e){const n=Ke(r),i=wl(n);n.Ia.delete(e),i.O_()&&DE(n,e),n.Ia.size===0&&(i.O_()?i.L_():io(n)&&n.Ra.set("Unknown"))}function _g(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wl(r).Y_(e)}function DE(r,e){r.Va.Ue(e),wl(r).Z_(e)}function wg(r){r.Va=new w4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),wl(r).start(),r.Ra.ua()}function Eg(r){return io(r)&&!wl(r).x_()&&r.Ia.size>0}function io(r){return Ke(r).Ea.size===0}function OE(r){r.Va=void 0}async function CI(r){r.Ra.set("Online")}async function RI(r){r.Ia.forEach(((e,n)=>{_g(r,e)}))}async function II(r,e){OE(r),Eg(r)?(r.Ra.ha(e),wg(r)):r.Ra.set("Unknown")}async function kI(r,e,n){if(r.Ra.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await(async function(l,u){const h=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,h),l.Ia.delete(p),l.Va.removeTarget(p))})(r,e)}catch(i){je(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await th(r,i)}else if(e instanceof Md?r.Va.Ze(e):e instanceof yE?r.Va.st(e):r.Va.tt(e),!n.isEqual($e.min()))try{const i=await CE(r.localStore);n.compareTo(i)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(y);_&&u.Ia.set(y,_.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(Sn.EMPTY_BYTE_STRING,_.snapshotVersion)),DE(u,g);const w=new ra(_.target,g,y,_.sequenceNumber);_g(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){je(to,"Failed to raise snapshot:",i),await th(r,i)}}async function th(r,e,n){if(!vl(e))throw e;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),n||(n=()=>CE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{je(to,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await jh(r)}))}function ME(r,e){return e().catch((n=>th(r,n,e)))}async function Ch(r){const e=Ke(r),n=ma(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ag;for(;DI(e);)try{const l=await mI(e.localStore,i);if(l===null){e.Ta.length===0&&n.L_();break}i=l.batchId,OI(e,l)}catch(l){await th(e,l)}PE(e)&&VE(e)}function DI(r){return io(r)&&r.Ta.length<10}function OI(r,e){r.Ta.push(e);const n=ma(r);n.O_()&&n.X_&&n.ea(e.mutations)}function PE(r){return io(r)&&!ma(r).x_()&&r.Ta.length>0}function VE(r){ma(r).start()}async function MI(r){ma(r).ra()}async function PI(r){const e=ma(r);for(const n of r.Ta)e.ea(n.mutations)}async function VI(r,e,n){const i=r.Ta.shift(),l=fg.from(i,e,n);await ME(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ch(r)}async function LI(r,e){e&&ma(r).X_&&await(async function(i,l){if((function(h){return x4(h)&&h!==ae.ABORTED})(l.code)){const u=i.Ta.shift();ma(i).B_(),await ME(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Ch(i)}})(r,e),PE(r)&&VE(r)}async function Gv(r,e){const n=Ke(r);n.asyncQueue.verifyOperationInProgress(),je(to,"RemoteStore received new credentials");const i=io(n);n.Ea.add(3),await lu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jh(n)}async function UI(r,e){const n=Ke(r);e?(n.Ea.delete(2),await jh(n)):e||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function wl(r){return r.ma||(r.ma=(function(n,i,l){const u=Ke(n);return u.sa(),new EI(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:CI.bind(null,r),t_:RI.bind(null,r),r_:II.bind(null,r),H_:kI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Eg(r)?wg(r):r.Ra.set("Unknown")):(await r.ma.stop(),OE(r))}))),r.ma}function ma(r){return r.fa||(r.fa=(function(n,i,l){const u=Ke(n);return u.sa(),new NI(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:MI.bind(null,r),r_:LI.bind(null,r),ta:PI.bind(null,r),na:VI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(je(to,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ng{constructor(e,n,i,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,u){const h=Date.now()+i,p=new Ng(e,n,h,l,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(r,e){if(hi("AsyncQueue",`${e}: ${r}`),vl(r))return new we(ae.UNAVAILABLE,`${e}: ${r}`);throw r}class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Le.comparator(n.key,i.key):(n,i)=>Le.comparator(n.key,i.key),this.keyedMap=Ac(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ol;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class $v{constructor(){this.ga=new Gt(Le.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class ml{constructor(e,n,i,l,u,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,l,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new ml(e,n,ol.emptySet(n),h,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}class zI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qI{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const l=Ke(n),u=l.queries;l.queries=Yv(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new we(ae.ABORTED,"Firestore shutting down"))}}function Yv(){return new ro((r=>sE(r)),wh)}async function LE(r,e){const n=Ke(r);let i=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(i=2):(u=new zI,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const p=Tg(h,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Sg(n)}async function UE(r,e){const n=Ke(r),i=e.query;let l=3;const u=n.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function BI(r,e){const n=Ke(r);let i=!1;for(const l of e){const u=l.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(l)&&(i=!0);h.wa=l}}i&&Sg(n)}function FI(r,e,n){const i=Ke(r),l=i.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);i.queries.delete(e)}function Sg(r){r.Ca.forEach((e=>{e.next()}))}var Mp,Kv;(Kv=Mp||(Mp={})).Ma="default",Kv.Cache="cache";class zE{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new ml(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mp.Cache}}class qE{constructor(e){this.key=e}}class BE{constructor(e){this.key=e}}class HI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ut(),this.mutatedKeys=ut(),this.eu=rE(e),this.tu=new ol(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new $v,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,w)=>{const S=l.get(_),L=Eh(this.query,w)?w:null,Q=!!S&&this.mutatedKeys.has(S.key),J=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let F=!1;S&&L?S.data.isEqual(L.data)?Q!==J&&(i.track({type:3,doc:L}),F=!0):this.su(S,L)||(i.track({type:2,doc:L}),F=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(p=!0)):!S&&L?(i.track({type:0,doc:L}),F=!0):S&&!L&&(i.track({type:1,doc:S}),F=!0,(g||y)&&(p=!0)),F&&(L?(h=h.add(L),u=J?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),i.track({type:1,doc:_})}return{tu:h,iu:i,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,w)=>(function(L,Q){const J=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:F})}};return J(L)-J(Q)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(i),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new ml(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new BE(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new qE(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=ut();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ag="SyncEngine";class GI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class $I{constructor(e){this.key=e,this.hu=!1}}class YI{constructor(e,n,i,l,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ro((p=>sE(p)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new Gt(Le.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KI(r,e,n=!0){const i=KE(r);let l;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await FE(i,e,n,!0),l}async function QI(r,e){const n=KE(r);await FE(n,e,!0,!1)}async function FE(r,e,n,i){const l=await pI(r.localStore,fr(e)),u=l.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await XI(r,e,u,h==="current",l.resumeToken)),r.isPrimaryClient&&n&&kE(r.remoteStore,l),p}async function XI(r,e,n,i,l){r.pu=(w,S,L)=>(async function(J,F,ue,se){let fe=F.view.ru(ue);fe.Cs&&(fe=await zv(J.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,fe))));const _e=se&&se.targetChanges.get(F.targetId),Oe=se&&se.targetMismatches.get(F.targetId)!=null,X=F.view.applyChanges(fe,J.isPrimaryClient,_e,Oe);return Xv(J,F.targetId,X.au),X.snapshot})(r,w,S,L);const u=await zv(r.localStore,e,!0),h=new HI(e,u.Qs),p=h.ru(u.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",l),y=h.applyChanges(p,r.isPrimaryClient,g);Xv(r,n,y.au);const _=new GI(e,n,h);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function WI(r,e,n){const i=Ke(r),l=i.Tu.get(e),u=i.Iu.get(l.targetId);if(u.length>1)return i.Iu.set(l.targetId,u.filter((h=>!wh(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await Dp(i.localStore,l.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(l.targetId),n&&vg(i.remoteStore,l.targetId),Pp(i,l.targetId)})).catch(xl)):(Pp(i,l.targetId),await Dp(i.localStore,l.targetId,!0))}async function JI(r,e){const n=Ke(r),i=n.Tu.get(e),l=n.Iu.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),vg(n.remoteStore,i.targetId))}async function ZI(r,e,n){const i=ak(r);try{const l=await(function(h,p){const g=Ke(h),y=Ct.now(),_=p.reduce(((L,Q)=>L.add(Q.key)),ut());let w,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Q=fi(),J=ut();return g.Ns.getEntries(L,_).next((F=>{Q=F,Q.forEach(((ue,se)=>{se.isValidDocument()||(J=J.add(ue))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,Q))).next((F=>{w=F;const ue=[];for(const se of p){const fe=m4(se,w.get(se.key).overlayedDocument);fe!=null&&ue.push(new va(se.key,fe,Qw(fe.value.mapValue),$s.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,ue,p)})).next((F=>{S=F;const ue=F.applyToLocalDocumentSet(w,J);return g.documentOverlayCache.saveOverlays(L,F.batchId,ue)}))})).then((()=>({batchId:S.batchId,changes:aE(w)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new Gt(ct)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(i,l.batchId,n),await cu(i,l.changes),await Ch(i.remoteStore)}catch(l){const u=Tg(l,"Failed to persist write");n.reject(u)}}async function HE(r,e){const n=Ke(r);try{const i=await hI(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const h=n.Au.get(u);h&&(vt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?vt(h.hu,14607):l.removedDocuments.size>0&&(vt(h.hu,42227),h.hu=!1))})),await cu(n,i,e)}catch(i){await xl(i)}}function Qv(r,e,n){const i=Ke(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(h,p){const g=Ke(h);g.onlineState=p;let y=!1;g.queries.forEach(((_,w)=>{for(const S of w.Sa)S.va(p)&&(y=!0)})),y&&Sg(g)})(i.eventManager,e),l.length&&i.Pu.H_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ek(r,e,n){const i=Ke(r);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Au.get(e),u=l&&l.key;if(u){let h=new Gt(Le.comparator);h=h.insert(u,In.newNoDocument(u,$e.min()));const p=ut().add(u),g=new Sh($e.min(),new Map,new Gt(ct),h,p);await HE(i,g),i.du=i.du.remove(u),i.Au.delete(e),jg(i)}else await Dp(i.localStore,e,!1).then((()=>Pp(i,e,n))).catch(xl)}async function tk(r,e){const n=Ke(r),i=e.batch.batchId;try{const l=await dI(n.localStore,e);$E(n,i,null),GE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await cu(n,l)}catch(l){await xl(l)}}async function nk(r,e,n){const i=Ke(r);try{const l=await(function(h,p){const g=Ke(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,p).next((w=>(vt(w!==null,37113),_=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);$E(i,e,n),GE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await cu(i,l)}catch(l){await xl(l)}}function GE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function $E(r,e,n){const i=Ke(r);let l=i.Vu[i.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),i.Vu[i.currentUser.toKey()]=l}}function Pp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||YE(r,i)}))}function YE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(vg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),jg(r))}function Xv(r,e,n){for(const i of n)i instanceof qE?(r.Ru.addReference(i.key,e),sk(r,i)):i instanceof BE?(je(Ag,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||YE(r,i.key)):Ge(19791,{wu:i})}function sk(r,e){const n=e.key,i=n.path.canonicalString();r.du.get(n)||r.Eu.has(i)||(je(Ag,"New document in limbo: "+n),r.Eu.add(i),jg(r))}function jg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Le(Mt.fromString(e)),i=r.fu.next();r.Au.set(i,new $I(n)),r.du=r.du.insert(n,i),kE(r.remoteStore,new ra(fr(dg(n.path)),i,"TargetPurposeLimboResolution",xh.ce))}}async function cu(r,e,n){const i=Ke(r),l=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){l.push(y);const _=bg.As(g.targetId,y);u.push(_)}})))})),await Promise.all(h),i.Pu.H_(l),await(async function(g,y){const _=Ke(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ce.forEach(y,(S=>ce.forEach(S.Es,(L=>_.persistence.referenceDelegate.addReference(w,S.targetId,L))).next((()=>ce.forEach(S.ds,(L=>_.persistence.referenceDelegate.removeReference(w,S.targetId,L)))))))))}catch(w){if(!vl(w))throw w;je(xg,"Failed to update sequence numbers: "+w)}for(const w of y){const S=w.targetId;if(!w.fromCache){const L=_.Ms.get(S),Q=L.snapshotVersion,J=L.withLastLimboFreeSnapshotVersion(Q);_.Ms=_.Ms.insert(S,J)}}})(i.localStore,u))}async function rk(r,e){const n=Ke(r);if(!n.currentUser.isEqual(e)){je(Ag,"User change. New user:",e.toKey());const i=await jE(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new we(ae.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cu(n,i.Ls)}}function ik(r,e){const n=Ke(r),i=n.Au.get(e);if(i&&i.hu)return ut().add(i.key);{let l=ut();const u=n.Iu.get(e);if(!u)return l;for(const h of u){const p=n.Tu.get(h);l=l.unionWith(p.view.nu)}return l}}function KE(r){const e=Ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=HE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ik.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ek.bind(null,e),e.Pu.H_=BI.bind(null,e.eventManager),e.Pu.yu=FI.bind(null,e.eventManager),e}function ak(r){const e=Ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nk.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uI(this.persistence,new oI,e.initialUser,this.serializer)}Cu(e){return new AE(yg.mi,this.serializer)}Du(e){return new yI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class ok extends nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vt(this.persistence.referenceDelegate instanceof eh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new $4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new AE((i=>eh.mi(i,n)),this.serializer)}}class Vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Qv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rk.bind(null,this.syncEngine),await UI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qI})()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),i=(function(u){return new wI(u)})(e.databaseInfo);return(function(u,h,p,g){return new SI(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,l,u,h,p){return new jI(i,l,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>Qv(this.syncEngine,n,0)),(function(){return Fv.v()?new Fv:new bI})())}createSyncEngine(e,n){return(function(l,u,h,p,g,y,_){const w=new YI(l,u,h,p,g,y);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ke(n);je(to,"RemoteStore shutting down."),i.Ea.add(5),await lu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vp.provider={build:()=>new Vp};class QE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const pa="FirestoreClient";class lk{constructor(e,n,i,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=Rn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{je(pa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(je(pa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Tg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function op(r,e){r.asyncQueue.verifyOperationInProgress(),je(pa,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async l=>{i.isEqual(l)||(await jE(e.localStore,l),i=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Wv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await ck(r);je(pa,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>Gv(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,l)=>Gv(e.remoteStore,l))),r._onlineComponents=e}async function ck(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){je(pa,"Using user provided OfflineComponentProvider");try{await op(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ae.FAILED_PRECONDITION||l.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;cl("Error using user provided cache. Falling back to memory cache: "+n),await op(r,new nh)}}else je(pa,"Using default OfflineComponentProvider"),await op(r,new ok(void 0));return r._offlineComponents}async function XE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(je(pa,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(je(pa,"Using default OnlineComponentProvider"),await Wv(r,new Vp))),r._onlineComponents}function uk(r){return XE(r).then((e=>e.syncEngine))}async function WE(r){const e=await XE(r),n=e.eventManager;return n.onListen=KI.bind(null,e.syncEngine),n.onUnlisten=WI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JI.bind(null,e.syncEngine),n}function dk(r,e,n={}){const i=new oi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const _=new QE({next:S=>{_.Nu(),h.enqueueAndForget((()=>UE(u,w)));const L=S.docs.has(p);!L&&S.fromCache?y.reject(new we(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&S.fromCache&&g&&g.source==="server"?y.reject(new we(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new zE(dg(p.path),_,{includeMetadataChanges:!0,qa:!0});return LE(u,w)})(await WE(r),r.asyncQueue,e,n,i))),i.promise}function hk(r,e,n={}){const i=new oi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const _=new QE({next:S=>{_.Nu(),h.enqueueAndForget((()=>UE(u,w))),S.fromCache&&g.source==="server"?y.reject(new we(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new zE(p,_,{includeMetadataChanges:!0,qa:!0});return LE(u,w)})(await WE(r),r.asyncQueue,e,n,i))),i.promise}function JE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Jv=new Map;const ZE="firestore.googleapis.com",Zv=!0;class e_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=Zv}else this.host=e.host,this.ssl=e.ssl??Zv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H4)throw new we(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,l){return i.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new yR;switch(i.type){case"firstParty":return new _R(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Jv.get(n);i&&(je("ComponentProvider","Removing Datastore"),Jv.delete(n),i.terminate())})(this),Promise.resolve()}}function fk(r,e,n,i={}){r=yr(r,Rh);const l=pi(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;l&&(hh(`https://${p}`),fh("Firestore",!0)),u.host!==ZE&&u.host!==p&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:i};if(!Wa(g,h)&&(r._setSettings(g),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=Rn.MOCK_USER;else{y=H_(i.mockUserToken,r._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new we(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Rn(w)}r._authCredentials=new bR(new Vw(y,_))}}class _a{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class Zt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(iu(n,Zt._jsonSchema))return new Zt(e,i||null,new Le(Mt.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:ln("string",Zt._jsonSchemaVersion),referencePath:ln("string")};class la extends _a{constructor(e,n,i){super(e,n,dg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Le(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function Fs(r,e,...n){if(r=Ht(r),Lw("collection","path",e),r instanceof Rh){const i=Mt.fromString(e,...n);return fv(i),new la(r,null,i)}{if(!(r instanceof Zt||r instanceof la))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Mt.fromString(e,...n));return fv(i),new la(r.firestore,null,i)}}function sa(r,e,...n){if(r=Ht(r),arguments.length===1&&(e=ig.newId()),Lw("doc","path",e),r instanceof Rh){const i=Mt.fromString(e,...n);return hv(i),new Zt(r,null,new Le(i))}{if(!(r instanceof Zt||r instanceof la))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Mt.fromString(e,...n));return hv(i),new Zt(r.firestore,r instanceof la?r.converter:null,new Le(i))}}const t_="AsyncQueue";class n_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RE(this,"async_queue_retry"),this._c=()=>{const i=ap();i&&je(t_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new oi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vl(e))throw e;je(t_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",s_(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Ng.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ge(47125,{Pc:s_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function s_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class El extends Rh{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new n_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n_(e),this._firestoreClient=void 0,await e}}}function mk(r,e){const n=typeof r=="object"?r:mh(),i=typeof r=="string"?r:Kd,l=eu(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=$p("firestore");u&&fk(l,...u)}return l}function Cg(r){if(r._terminated)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pk(r),r._firestoreClient}function pk(r){const e=r._freezeSettings(),n=(function(l,u,h,p){return new LR(l,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,JE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lk(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class As{constructor(e){this._byteString=e}static fromBase64String(e){try{return new As(Sn.fromBase64String(e))}catch(n){throw new we(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new As(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:As._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,As._jsonSchema))return As.fromBase64String(e.bytes)}}As._jsonSchemaVersion="firestore/bytes/1.0",As._jsonSchema={type:ln("string",As._jsonSchemaVersion),bytes:ln("string")};class Ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class kh{constructor(e){this._methodName=e}}class pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(iu(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:ln("string",pr._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};class gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gr(e.vectorValues);throw new we(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:ln("string",gr._jsonSchemaVersion),vectorValues:ln("object")};const gk=/^__.*__$/;class yk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class eN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new va(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tN(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:r})}}class Rg{constructor(e,n,i,l,u,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tN(this.Ac)&&gk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bk{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ah(e)}Cc(e,n,i,l=!1){return new Rg({Ac:e,methodName:n,Dc:i,path:Tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dh(r){const e=r._freezeSettings(),n=Ah(r._databaseId);return new bk(r._databaseId,!!e.ignoreUndefinedProperties,n)}function nN(r,e,n,i,l,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);kg("Data must be an object, but it was:",h,i);const p=sN(i,h);let g,y;if(u.merge)g=new us(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const S=Lp(e,w,n);if(!h.contains(S))throw new we(ae.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);iN(_,S)||_.push(S)}g=new us(_),y=h.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=h.fieldTransforms;return new yk(new Yn(p),g,y)}class Oh extends kh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}class Ig extends kh{_toFieldTransform(e){return new u4(e.path,new $c)}isEqual(e){return e instanceof Ig}}function xk(r,e,n,i){const l=r.Cc(1,e,n);kg("Data must be an object, but it was:",l,i);const u=[],h=Yn.empty();xa(i,((g,y)=>{const _=Dg(e,g,n);y=Ht(y);const w=l.yc(_);if(y instanceof Oh)u.push(_);else{const S=uu(y,w);S!=null&&(u.push(_),h.set(_,S))}}));const p=new us(u);return new eN(h,p,l.fieldTransforms)}function vk(r,e,n,i,l,u){const h=r.Cc(1,e,n),p=[Lp(e,i,n)],g=[l];if(u.length%2!=0)throw new we(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(Lp(e,u[S])),g.push(u[S+1]);const y=[],_=Yn.empty();for(let S=p.length-1;S>=0;--S)if(!iN(y,p[S])){const L=p[S];let Q=g[S];Q=Ht(Q);const J=h.yc(L);if(Q instanceof Oh)y.push(L);else{const F=uu(Q,J);F!=null&&(y.push(L),_.set(L,F))}}const w=new us(y);return new eN(_,w,h.fieldTransforms)}function _k(r,e,n,i=!1){return uu(n,r.Cc(i?4:3,e))}function uu(r,e){if(rN(r=Ht(r)))return kg("Unsupported field value:",e,r),sN(r,e);if(r instanceof kh)return(function(i,l){if(!tN(l.Ac))throw l.Sc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,l){const u=[];let h=0;for(const p of i){let g=uu(p,l.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(i,l){if((i=Ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return o4(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Ct.fromDate(i);return{timestampValue:Zd(l.serializer,u)}}if(i instanceof Ct){const u=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zd(l.serializer,u)}}if(i instanceof pr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof As)return{bytesValue:xE(l.serializer,i._byteString)};if(i instanceof Zt){const u=l.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw l.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof gr)return(function(h,p){return{mapValue:{fields:{[Yw]:{stringValue:Kw},[Qd]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return hg(p.serializer,y)}))}}}}}})(i,l);throw l.Sc(`Unsupported field value: ${bh(i)}`)})(r,e)}function sN(r,e){const n={};return qw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(r,((i,l)=>{const u=uu(l,e.mc(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function rN(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof pr||r instanceof As||r instanceof Zt||r instanceof kh||r instanceof gr)}function kg(r,e,n){if(!rN(n)||!Uw(n)){const i=bh(n);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Lp(r,e,n){if((e=Ht(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return Dg(r,e);throw sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const wk=new RegExp("[~\\*/\\[\\]]");function Dg(r,e,n){if(e.search(wk)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ih(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sh(r,e,n,i,l){const u=i&&!i.isEmpty(),h=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${l}`),g+=")"),new we(ae.INVALID_ARGUMENT,p+r+g)}function iN(r,e){return r.some((n=>n.isEqual(e)))}class aN{constructor(e,n,i,l,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ek(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ek extends aN{data(){return super.data()}}function Og(r,e){return typeof e=="string"?Dg(r,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}function Nk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new we(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class Pg extends Mg{}function lp(r,e,...n){let i=[];e instanceof Mg&&i.push(e),i=i.concat(n),(function(u){const h=u.filter((g=>g instanceof Lg)).length,p=u.filter((g=>g instanceof Vg)).length;if(h>1||h>0&&p>0)throw new we(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const l of i)r=l._apply(r);return r}class Vg extends Pg{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Vg(e,n,i)}_apply(e){const n=this._parse(e);return oN(e._query,n),new _a(e.firestore,e.converter,jp(e._query,n))}_parse(e){const n=Dh(e.firestore);return(function(u,h,p,g,y,_,w){let S;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new we(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){i_(w,_);const Q=[];for(const J of w)Q.push(r_(g,u,J));S={arrayValue:{values:Q}}}else S=r_(g,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||i_(w,_),S=_k(p,h,w,_==="in"||_==="not-in");return on.create(y,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Lg extends Mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lg(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Qs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let h=l;const p=u.getFlattenedFilters();for(const g of p)oN(h,g),h=jp(h,g)})(e._query,n),new _a(e.firestore,e.converter,jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ug extends Pg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ug(e,n)}_apply(e){const n=(function(l,u,h){if(l.startAt!==null)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(u,h)})(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,(function(l,u){const h=l.explicitOrderBy.concat([u]);return new _l(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function cp(r,e="asc"){const n=e,i=Og("orderBy",r);return Ug._create(i,n)}class zg extends Pg{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new zg(e,n,i)}_apply(e){return new _a(e.firestore,e.converter,Wd(e._query,this._limit,this._limitType))}}function up(r){return zg._create("limit",r,"F")}function r_(r,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new we(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nE(e)&&n.indexOf("/")!==-1)throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Mt.fromString(n));if(!Le.isDocumentKey(i))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _v(r,new Le(i))}if(n instanceof Zt)return _v(r,n._key);throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(n)}.`)}function i_(r,e){if(!Array.isArray(r)||r.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oN(r,e){const n=(function(l,u){for(const h of l)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Tk{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return xa(e,((l,u)=>{i[l]=this.convertValue(u,n)})),i}convertVectorValue(e){const n=e.fields?.[Qd].arrayValue?.values?.map((i=>Jt(i.doubleValue)));return new gr(n)}convertGeoPoint(e){return new pr(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=_h(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const n=da(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Mt.fromString(e);vt(TE(i),9688,{name:e});const l=new Fc(i.get(1),i.get(3)),u=new Le(i.popFirst(5));return l.isEqual(n)||hi(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function lN(r,e,n){let i;return i=r?r.toFirestore(e):e,i}class Cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends aN{constructor(e,n,i,l,u,h){super(e,n,i,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Og("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xa._jsonSchema={type:ln("string",Xa._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class Pd extends Xa{data(e={}){return super.data(e)}}class ll{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Cc(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Pd(this._firestore,this._userDataWriter,i.key,i,new Cc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((p=>{const g=new Pd(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Pd(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,_=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),_=h.indexOf(p.doc.key)),{type:Sk(p.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:r})}}function Vd(r){r=yr(r,Zt);const e=yr(r.firestore,El);return dk(Cg(e),r._key).then((n=>Ak(e,r,n)))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:ln("string",ll._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};class cN extends Tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new As(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function $a(r){r=yr(r,_a);const e=yr(r.firestore,El),n=Cg(e),i=new cN(e);return Nk(r._query),hk(n,r._query).then((l=>new ll(e,i,r,l)))}function uN(r,e,n){r=yr(r,Zt);const i=yr(r.firestore,El),l=lN(r.converter,e);return qg(i,[nN(Dh(i),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,$s.none())])}function a_(r,e,n,...i){r=yr(r,Zt);const l=yr(r.firestore,El),u=Dh(l);let h;return h=typeof(e=Ht(e))=="string"||e instanceof Ih?vk(u,"updateDoc",r._key,e,n,i):xk(u,"updateDoc",r._key,e),qg(l,[h.toMutation(r._key,$s.exists(!0))])}function Ed(r,e){const n=yr(r.firestore,El),i=sa(r),l=lN(r.converter,e);return qg(n,[nN(Dh(r.firestore),"addDoc",i._key,l,r.converter!==null,{}).toMutation(i._key,$s.exists(!1))]).then((()=>i))}function qg(r,e){return(function(i,l){const u=new oi;return i.asyncQueue.enqueueAndForget((async()=>ZI(await uk(i),l,u))),u.promise})(Cg(r),e)}function Ak(r,e,n){const i=n.docs.get(e._key),l=new cN(r);return new Xa(r,l,e._key,i,new Cc(n.hasPendingWrites,n.fromCache),e.converter)}function ni(){return new Ig("serverTimestamp")}(function(e,n=!0){(function(l){bl=l})(no),ca(new ci("firestore",((i,{instanceIdentifier:l,options:u})=>{const h=i.getProvider("app").getImmediate(),p=new El(new xR(i.getProvider("auth-internal")),new wR(h,i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new we(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(y.options.projectId,_)})(h,l),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),js(lv,cv,e),js(lv,cv,"esm2020")})();var jk="firebase",Ck="12.7.0";js(jk,Ck,"app");const dN="firebasestorage.googleapis.com",Rk="storageBucket",Ik=120*1e3,kk=600*1e3;class vr extends Xs{constructor(e,n,i=0){super(dp(e),`Firebase Storage: ${n} (${dp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xr||(xr={}));function dp(r){return"storage/"+r}function Dk(){const r="An unknown error occurred, please check the error payload for server response.";return new vr(xr.UNKNOWN,r)}function Ok(){return new vr(xr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mk(){return new vr(xr.CANCELED,"User canceled the upload/download.")}function Pk(r){return new vr(xr.INVALID_URL,"Invalid URL '"+r+"'.")}function Vk(r){return new vr(xr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function o_(r){return new vr(xr.INVALID_ARGUMENT,r)}function hN(){return new vr(xr.APP_DELETED,"The Firebase app was deleted.")}function Lk(r){return new vr(xr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Gs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Gs.makeFromUrl(e,n)}catch{return new Gs(e,"")}if(i.path==="")return i;throw Vk(e)}static makeFromUrl(e,n){let i=null;const l="([A-Za-z0-9.\\-_]+)";function u(_e){_e.path.charAt(_e.path.length-1)==="/"&&(_e.path_=_e.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+l+h,"i"),g={bucket:1,path:3};function y(_e){_e.path_=decodeURIComponent(_e.path)}const _="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",L=new RegExp(`^https?://${w}/${_}/b/${l}/o${S}`,"i"),Q={bucket:1,path:3},J=n===dN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",ue=new RegExp(`^https?://${J}/${l}/${F}`,"i"),fe=[{regex:p,indices:g,postModify:u},{regex:L,indices:Q,postModify:y},{regex:ue,indices:{bucket:1,path:2},postModify:y}];for(let _e=0;_e<fe.length;_e++){const Oe=fe[_e],X=Oe.regex.exec(e);if(X){const R=X[Oe.indices.bucket];let A=X[Oe.indices.path];A||(A=""),i=new Gs(R,A),Oe.postModify(i);break}}if(i==null)throw Pk(e);return i}}class Uk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function zk(r,e,n){let i=1,l=null,u=null,h=!1,p=0;function g(){return p===2}let y=!1;function _(...F){y||(y=!0,e.apply(null,F))}function w(F){l=setTimeout(()=>{l=null,r(L,g())},F)}function S(){u&&clearTimeout(u)}function L(F,...ue){if(y){S();return}if(F){S(),_.call(null,F,...ue);return}if(g()||h){S(),_.call(null,F,...ue);return}i<64&&(i*=2);let fe;p===1?(p=2,fe=0):fe=(i+Math.random())*1e3,w(fe)}let Q=!1;function J(F){Q||(Q=!0,S(),!y&&(l!==null?(F||(p=2),clearTimeout(l),w(0)):F||(p=1)))}return w(0),u=setTimeout(()=>{h=!0,J(!0)},n),J}function qk(r){r(!1)}function Bk(r){return r!==void 0}function l_(r,e,n,i){if(i<e)throw o_(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>n)throw o_(`Invalid value for '${r}'. Expected ${n} or less.`)}function Fk(r){const e=encodeURIComponent;let n="?";for(const i in r)if(r.hasOwnProperty(i)){const l=e(i)+"="+e(r[i]);n=n+l+"&"}return n=n.slice(0,-1),n}var rh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(rh||(rh={}));function Hk(r,e){const n=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||l||u}class Gk{constructor(e,n,i,l,u,h,p,g,y,_,w,S=!0,L=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,J)=>{this.resolve_=Q,this.reject_=J,this.start_()})}start_(){const e=(i,l)=>{if(l){i(!1,new Nd(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const p=u.getErrorCode()===rh.NO_ERROR,g=u.getStatus();if(!p||Hk(g,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===rh.ABORT;i(!1,new Nd(!1,null,_));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Nd(y,u))})},n=(i,l)=>{const u=this.resolve_,h=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());Bk(g)?u(g):u()}catch(g){h(g)}else if(p!==null){const g=Dk();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(l.canceled){const g=this.appDelete_?hN():Mk();h(g)}else{const g=Ok();h(g)}};this.canceled_?n(!1,new Nd(!1,null,!0)):this.backoffId_=zk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function $k(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Yk(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kk(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Qk(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Xk(r,e,n,i,l,u,h=!0,p=!1){const g=Fk(r.urlParams),y=r.url+g,_=Object.assign({},r.headers);return Kk(_,e),$k(_,n),Yk(_,u),Qk(_,i),new Gk(y,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,h,p)}function Wk(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Jk(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class ih{constructor(e,n){this._service=e,n instanceof Gs?this._location=n:this._location=Gs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ih(e,n)}get root(){const e=new Gs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jk(this._location.path)}get storage(){return this._service}get parent(){const e=Wk(this._location.path);if(e===null)return null;const n=new Gs(this._location.bucket,e);return new ih(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Lk(e)}}function c_(r,e){const n=e?.[Rk];return n==null?null:Gs.makeFromBucketSpec(n,r)}function Zk(r,e,n,i={}){r.host=`${e}:${n}`;const l=pi(e);l&&(hh(`https://${r.host}/b`),fh("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:u}=i;u&&(r._overrideAuthToken=typeof u=="string"?u:H_(u,r.app.options.projectId))}class eD{constructor(e,n,i,l,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=dN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ik,this._maxUploadRetryTime=kk,this._requests=new Set,l!=null?this._bucket=Gs.makeFromBucketSpec(l,this._host):this._bucket=c_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gs.makeFromBucketSpec(this._url,e):this._bucket=c_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){l_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){l_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ih(this,e)}_makeRequest(e,n,i,l,u=!0){if(this._deleted)return new Uk(hN());{const h=Xk(e,this._appId,i,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[i,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,l).getPromise()}}const u_="@firebase/storage",d_="0.14.0";const fN="storage";function tD(r=mh(),e){r=Ht(r);const i=eu(r,fN).getImmediate({identifier:e}),l=$p("storage");return l&&nD(i,...l),i}function nD(r,e,n,i={}){Zk(r,e,n,i)}function sD(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new eD(n,i,l,e,no)}function rD(){ca(new ci(fN,sD,"PUBLIC").setMultipleInstances(!0)),js(u_,d_,""),js(u_,d_,"esm2020")}rD();const iD="type.googleapis.com/google.protobuf.Int64Value",aD="type.googleapis.com/google.protobuf.UInt64Value";function mN(r,e){const n={};for(const i in r)r.hasOwnProperty(i)&&(n[i]=e(r[i]));return n}function ah(r){if(r==null)return null;if(r instanceof Number&&(r=r.valueOf()),typeof r=="number"&&isFinite(r)||r===!0||r===!1||Object.prototype.toString.call(r)==="[object String]")return r;if(r instanceof Date)return r.toISOString();if(Array.isArray(r))return r.map(e=>ah(e));if(typeof r=="function"||typeof r=="object")return mN(r,e=>ah(e));throw new Error("Data cannot be encoded in JSON: "+r)}function pl(r){if(r==null)return r;if(r["@type"])switch(r["@type"]){case iD:case aD:{const e=Number(r.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+r);return e}default:throw new Error("Data cannot be decoded from JSON: "+r)}return Array.isArray(r)?r.map(e=>pl(e)):typeof r=="function"||typeof r=="object"?mN(r,e=>pl(e)):r}const Bg="functions";const h_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kn extends Xs{constructor(e,n,i){super(`${Bg}/${e}`,n||""),this.details=i,Object.setPrototypeOf(this,Kn.prototype)}}function oD(r){if(r>=200&&r<300)return"ok";switch(r){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function oh(r,e){let n=oD(r),i=n,l;try{const u=e&&e.error;if(u){const h=u.status;if(typeof h=="string"){if(!h_[h])return new Kn("internal","internal");n=h_[h],i=h}const p=u.message;typeof p=="string"&&(i=p),l=u.details,l!==void 0&&(l=pl(l))}}catch{}return n==="ok"?null:new Kn(n,i,l)}class lD{constructor(e,n,i,l){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,$n(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||i.get().then(u=>this.messaging=u,()=>{}),this.appCheck||l?.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),l=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:l}}}const Up="us-central1",cD=/^data: (.*?)(?:\n|$)/;function uD(r){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Kn("deadline-exceeded","deadline-exceeded"))},r)}),cancel:()=>{e&&clearTimeout(e)}}}class dD{constructor(e,n,i,l,u=Up,h=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new lD(e,n,i,l),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(u);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=Up}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function hD(r,e,n){const i=pi(e);r.emulatorOrigin=`http${i?"s":""}://${e}:${n}`,i&&(hh(r.emulatorOrigin+"/backends"),fh("Functions",!0))}function fD(r,e,n){const i=l=>pD(r,e,l,{});return i.stream=(l,u)=>yD(r,e,l,u),i}function pN(r){return r.emulatorOrigin&&pi(r.emulatorOrigin)?"include":void 0}async function mD(r,e,n,i,l){n["Content-Type"]="application/json";let u;try{u=await i(r,{method:"POST",body:JSON.stringify(e),headers:n,credentials:pN(l)})}catch{return{status:0,json:null}}let h=null;try{h=await u.json()}catch{}return{status:u.status,json:h}}async function gN(r,e){const n={},i=await r.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function pD(r,e,n,i){const l=r._url(e);return gD(r,l,n,i)}async function gD(r,e,n,i){n=ah(n);const l={data:n},u=await gN(r,i),h=i.timeout||7e4,p=uD(h),g=await Promise.race([mD(e,l,u,r.fetchImpl,r),p.promise,r.cancelAllRequests]);if(p.cancel(),!g)throw new Kn("cancelled","Firebase Functions instance was deleted.");const y=oh(g.status,g.json);if(y)throw y;if(!g.json)throw new Kn("internal","Response is not valid JSON object.");let _=g.json.data;if(typeof _>"u"&&(_=g.json.result),typeof _>"u")throw new Kn("internal","Response is missing data field.");return{data:pl(_)}}function yD(r,e,n,i){const l=r._url(e);return bD(r,l,n,i||{})}async function bD(r,e,n,i){n=ah(n);const l={data:n},u=await gN(r,i);u["Content-Type"]="application/json",u.Accept="text/event-stream";let h;try{h=await r.fetchImpl(e,{method:"POST",body:JSON.stringify(l),headers:u,signal:i?.signal,credentials:pN(r)})}catch(S){if(S instanceof Error&&S.name==="AbortError"){const Q=new Kn("cancelled","Request was cancelled.");return{data:Promise.reject(Q),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(Q)}}}}}}const L=oh(0,null);return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}let p,g;const y=new Promise((S,L)=>{p=S,g=L});i?.signal?.addEventListener("abort",()=>{const S=new Kn("cancelled","Request was cancelled.");g(S)});const _=h.body.getReader(),w=xD(_,p,g,i?.signal);return{stream:{[Symbol.asyncIterator](){const S=w.getReader();return{async next(){const{value:L,done:Q}=await S.read();return{value:L,done:Q}},async return(){return await S.cancel(),{done:!0,value:void 0}}}}},data:y}}function xD(r,e,n,i){const l=(h,p)=>{const g=h.match(cD);if(!g)return;const y=g[1];try{const _=JSON.parse(y);if("result"in _){e(pl(_.result));return}if("message"in _){p.enqueue(pl(_.message));return}if("error"in _){const w=oh(0,_);p.error(w),n(w);return}}catch(_){if(_ instanceof Kn){p.error(_),n(_);return}}},u=new TextDecoder;return new ReadableStream({start(h){let p="";return g();async function g(){if(i?.aborted){const y=new Kn("cancelled","Request was cancelled");return h.error(y),n(y),Promise.resolve()}try{const{value:y,done:_}=await r.read();if(_){p.trim()&&l(p.trim(),h),h.close();return}if(i?.aborted){const S=new Kn("cancelled","Request was cancelled");h.error(S),n(S),await r.cancel();return}p+=u.decode(y,{stream:!0});const w=p.split(`
`);p=w.pop()||"";for(const S of w)S.trim()&&l(S.trim(),h);return g()}catch(y){const _=y instanceof Kn?y:oh(0,null);h.error(_),n(_)}}},cancel(){return r.cancel()}})}const f_="@firebase/functions",m_="0.13.1";const vD="auth-internal",_D="app-check-internal",wD="messaging-internal";function ED(r){const e=(n,{instanceIdentifier:i})=>{const l=n.getProvider("app").getImmediate(),u=n.getProvider(vD),h=n.getProvider(wD),p=n.getProvider(_D);return new dD(l,u,h,p,i)};ca(new ci(Bg,e,"PUBLIC").setMultipleInstances(!0)),js(f_,m_,r),js(f_,m_,"esm2020")}function Ln(r=mh(),e=Up){const i=eu(Ht(r),Bg).getImmediate({identifier:e}),l=$p("functions");return l&&ND(i,...l),i}function ND(r,e,n){hD(Ht(r),e,n)}function Hn(r,e,n){return fD(Ht(r),e)}ED();const TD={apiKey:"AIzaSyAZ_SrlZz1glZXeOBuOqg2OFUMQMs7BOAw",authDomain:"innovend-980b3.firebaseapp.com",projectId:"innovend-980b3",storageBucket:"innovend-980b3.firebasestorage.app",messagingSenderId:"522982439138",appId:"1:522982439138:web:bf17d2b52af19e4b6446bb"},Mh=Y_(TD),wc=pR(Mh),yn=mk(Mh);tD(Mh);Ln(Mh);const yN=T.createContext({}),Ec=()=>{const r=T.useContext(yN);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},SD=({children:r})=>{const[e,n]=T.useState(null),[i,l]=T.useState(null),[u,h]=T.useState(!0),[p,g]=T.useState(null);T.useEffect(()=>{const L=rC(wc,async Q=>{if(g(null),Q){n(Q);try{const J=await Vd(sa(yn,"users",Q.uid));J.exists()?l({uid:Q.uid,...J.data()}):(console.warn("User profile not found in Firestore"),l(null))}catch(J){console.error("Error fetching user profile:",J),g("Failed to load user profile")}}else n(null),l(null);h(!1)});return()=>L()},[]);const S={user:e,userProfile:i,loading:u,error:p,signIn:async(L,Q,J=!1)=>{g(null);try{return await tC(wc,J?ww:tg),await eC(wc,L,Q)}catch(F){throw g(F.message),F}},signOut:async()=>{g(null);try{await iC(wc),n(null),l(null)}catch(L){throw g(L.message),L}},createAccount:async(L,Q,J)=>{g(null);try{const F=await Zj(wc,L,Q);return await uN(sa(yn,"users",F.user.uid),{uid:F.user.uid,email:L,...J,createdAt:new Date,updatedAt:new Date}),F}catch(F){throw g(F.message),F}},isAdmin:i?.role==="admin",isAuthenticated:!!e};return o.jsx(yN.Provider,{value:S,children:!u&&r})};var AD=({as:r="div",...e},n)=>o.jsx(r,{...e,ref:n}),jD=T.forwardRef(AD),CD="https://challenges.cloudflare.com/turnstile/v0/api.js",Fg="cf-turnstile-script",RD="cf-turnstile",Hg="onloadTurnstileCallback",bN=r=>!!document.getElementById(r),ID=({render:r="explicit",onLoadCallbackName:e=Hg,scriptOptions:{nonce:n="",defer:i=!0,async:l=!0,id:u="",appendTo:h,onError:p,crossOrigin:g=""}={}})=>{let y=u||Fg;if(bN(y))return;let _=document.createElement("script");_.id=y,_.src=`${CD}?onload=${e}&render=${r}`,!document.querySelector(`script[src="${_.src}"]`)&&(_.defer=!!i,_.async=!!l,n&&(_.nonce=n),g&&(_.crossOrigin=g),p&&(_.onerror=p,delete window[e]),(h==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(_))},Ya={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function kD(r){if(r!=="invisible"&&r!=="interactionOnly")return r}function DD(r=Fg){let[e,n]=T.useState(!1);return T.useEffect(()=>{let i=()=>{bN(r)&&n(!0)},l=new MutationObserver(i);return l.observe(document,{childList:!0,subtree:!0}),i(),()=>{l.disconnect()}},[r]),e}var Pc="unloaded",xN,OD=new Promise((r,e)=>{xN={resolve:r,reject:e},Pc==="ready"&&r(void 0)}),p_=(r=Hg)=>(Pc==="unloaded"&&(Pc="loading",window[r]=()=>{xN.resolve(),Pc="ready",delete window[r]}),OD),nl=T.forwardRef((r,e)=>{let{scriptOptions:n,options:i={},siteKey:l,onWidgetLoad:u,onSuccess:h,onExpire:p,onError:g,onBeforeInteractive:y,onAfterInteractive:_,onUnsupported:w,onTimeout:S,onLoadScript:L,id:Q,style:J,as:F="div",injectScript:ue=!0,rerenderOnCallbackChange:se=!1,...fe}=r,_e=i.size,Oe=T.useCallback(()=>typeof _e>"u"?{}:i.execution==="execute"?Ya.invisible:i.appearance==="interaction-only"?Ya.interactionOnly:Ya[_e],[i.execution,_e,i.appearance]),[X,R]=T.useState(Oe()),A=T.useRef(null),[j,P]=T.useState(!1),k=T.useRef(void 0),U=T.useRef(!1),I=Q||RD,nt=T.useRef({onSuccess:h,onError:g,onExpire:p,onBeforeInteractive:y,onAfterInteractive:_,onUnsupported:w,onTimeout:S});T.useEffect(()=>{se||(nt.current={onSuccess:h,onError:g,onExpire:p,onBeforeInteractive:y,onAfterInteractive:_,onUnsupported:w,onTimeout:S})});let _t=n?.id||Fg,ee=DD(_t),me=n?.onLoadCallbackName||Hg,Se=i.appearance||"always",Ne=T.useMemo(()=>({sitekey:l,action:i.action,cData:i.cData,theme:i.theme||"auto",language:i.language||"auto",tabindex:i.tabIndex,"response-field":i.responseField,"response-field-name":i.responseFieldName,size:kD(_e),retry:i.retry||"auto","retry-interval":i.retryInterval||8e3,"refresh-expired":i.refreshExpired||"auto","refresh-timeout":i.refreshTimeout||"auto",execution:i.execution||"render",appearance:i.appearance||"always","feedback-enabled":i.feedbackEnabled||!0,callback:C=>{U.current=!0,se?h?.(C):nt.current.onSuccess?.(C)},"error-callback":se?g:(...C)=>nt.current.onError?.(...C),"expired-callback":se?p:(...C)=>nt.current.onExpire?.(...C),"before-interactive-callback":se?y:(...C)=>nt.current.onBeforeInteractive?.(...C),"after-interactive-callback":se?_:(...C)=>nt.current.onAfterInteractive?.(...C),"unsupported-callback":se?w:(...C)=>nt.current.onUnsupported?.(...C),"timeout-callback":se?S:(...C)=>nt.current.onTimeout?.(...C)}),[i.action,i.appearance,i.cData,i.execution,i.language,i.refreshExpired,i.responseField,i.responseFieldName,i.retry,i.retryInterval,i.tabIndex,i.theme,i.feedbackEnabled,i.refreshTimeout,l,_e,se,se?h:null,se?g:null,se?p:null,se?y:null,se?_:null,se?w:null,se?S:null]),Ze=T.useCallback(()=>typeof window<"u"&&!!window.turnstile,[]);return T.useEffect(function(){ue&&!j&&(p_(me),ID({onLoadCallbackName:me,scriptOptions:{...n,id:_t}}))},[ue,j,n,_t,me]),T.useEffect(function(){Pc!=="ready"&&p_(me).then(()=>P(!0)).catch(console.error)},[me]),T.useEffect(function(){if(!A.current||!j)return;let C=!1;return(async()=>{if(C||!A.current)return;let te=window.turnstile.render(A.current,Ne);k.current=te,k.current&&u?.(k.current)})(),()=>{C=!0,k.current&&(window.turnstile.remove(k.current),U.current=!1)}},[I,j,Ne]),T.useImperativeHandle(e,()=>{let{turnstile:C}=window;return{getResponse(){if(!C?.getResponse||!k.current||!Ze()){console.warn("Turnstile has not been loaded");return}return C.getResponse(k.current)},async getResponsePromise(te=3e4,ge=100){return new Promise((Te,Pe)=>{let Ue,Xe=async()=>{if(U.current&&window.turnstile&&k.current)try{let Tt=window.turnstile.getResponse(k.current);return Ue&&clearTimeout(Ue),Tt?Te(Tt):Pe(new Error("No response received"))}catch(Tt){return Ue&&clearTimeout(Ue),console.warn("Failed to get response",Tt),Pe(new Error("Failed to get response"))}Ue||(Ue=setTimeout(()=>{Ue&&clearTimeout(Ue),Pe(new Error("Timeout"))},te)),await new Promise(Tt=>setTimeout(Tt,ge)),await Xe()};Xe()})},reset(){if(!C?.reset||!k.current||!Ze()){console.warn("Turnstile has not been loaded");return}i.execution==="execute"&&R(Ya.invisible);try{U.current=!1,C.reset(k.current)}catch(te){console.warn(`Failed to reset Turnstile widget ${k}`,te)}},remove(){if(!C?.remove||!k.current||!Ze()){console.warn("Turnstile has not been loaded");return}R(Ya.invisible),U.current=!1,C.remove(k.current),k.current=null},render(){if(!C?.render||!A.current||!Ze()||k.current){console.warn("Turnstile has not been loaded or container not found");return}let te=C.render(A.current,Ne);return k.current=te,k.current&&u?.(k.current),i.execution!=="execute"&&R(_e?Ya[_e]:{}),te},execute(){if(i.execution!=="execute"){console.warn('Execution mode is not set to "execute"');return}if(!C?.execute||!A.current||!k.current||!Ze()){console.warn("Turnstile has not been loaded or container not found");return}C.execute(A.current,Ne),R(_e?Ya[_e]:{})},isExpired(){return!C?.isExpired||!k.current||!Ze()?(console.warn("Turnstile has not been loaded"),!1):C.isExpired(k.current)}}},[k,i.execution,_e,Ne,A,Ze,j,u]),T.useEffect(()=>{if(j||!ee)return;if(window.turnstile){P(!0);return}let C=setInterval(()=>{window.turnstile&&(P(!0),clearInterval(C))},50);return()=>{clearInterval(C)}},[j,ee]),T.useEffect(()=>{R(Oe())},[i.execution,_e,Se]),T.useEffect(()=>{!ee||typeof L!="function"||L()},[ee]),o.jsx(jD,{ref:A,as:F,id:I,style:{...X,...J},...fe})});nl.displayName="Turnstile";function MD(){const[r,e]=T.useState(!1);T.useEffect(()=>{const i=()=>{window.pageYOffset>300?e(!0):e(!1)};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return o.jsx(o.Fragment,{children:r&&o.jsx("button",{onClick:n,className:"fixed bottom-8 right-8 z-40 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Back to top",children:o.jsx(G1,{className:"w-6 h-6"})})})}function PD({onLearnMore:r}){const[e,n]=T.useState(!1);T.useEffect(()=>{localStorage.getItem("cookieConsent")||setTimeout(()=>n(!0),2e3)},[]);const i=()=>{localStorage.setItem("cookieConsent","accepted"),n(!1)},l=()=>{localStorage.setItem("cookieConsent","declined"),n(!1)};return e?o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 animate-slide-up",children:o.jsx("div",{className:"bg-slate-900/98 backdrop-blur-md border-t border-blue-400/30 shadow-2xl",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[o.jsx(Q1,{className:"w-8 h-8 text-blue-400 flex-shrink-0 mt-1"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg mb-1",children:"We use cookies"}),o.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed",children:['We use cookies and similar technologies to enhance your browsing experience, analyze site traffic, and provide personalized content. By clicking "Accept", you consent to our use of cookies.'," ",o.jsx("button",{onClick:()=>{r(),n(!1)},className:"text-blue-400 hover:text-blue-300 underline",children:"Learn more"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[o.jsx("button",{onClick:l,className:"px-6 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-medium transition",children:"Decline"}),o.jsx("button",{onClick:i,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white rounded-lg font-semibold transition shadow-lg",children:"Accept All"})]})]})})})}):null}function Ji({type:r="card"}){return r==="card"?o.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20 animate-pulse",children:[o.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4 mb-4"}),o.jsx("div",{className:"h-4 bg-slate-700 rounded w-1/2 mb-3"}),o.jsx("div",{className:"h-4 bg-slate-700 rounded w-5/6"})]}):r==="table-row"?o.jsxs("tr",{className:"border-b border-gray-700 animate-pulse",children:[o.jsx("td",{className:"p-4",children:o.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"})}),o.jsx("td",{className:"p-4",children:o.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"})}),o.jsx("td",{className:"p-4",children:o.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"})}),o.jsx("td",{className:"p-4",children:o.jsx("div",{className:"h-4 bg-slate-700 rounded w-full"})})]}):r==="stat"?o.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 p-6 rounded-xl border border-blue-400/20 animate-pulse",children:[o.jsx("div",{className:"h-6 bg-slate-700 rounded w-1/3 mb-4"}),o.jsx("div",{className:"h-10 bg-slate-700 rounded w-1/2"})]}):null}function VD({password:r}){const n=(()=>{if(!r)return{score:0,label:"",color:""};let i=0;return r.length>=8&&i++,r.length>=12&&i++,/[a-z]/.test(r)&&i++,/[A-Z]/.test(r)&&i++,/[0-9]/.test(r)&&i++,/[^a-zA-Z0-9]/.test(r)&&i++,i<=2?{score:1,label:"Weak",color:"bg-red-500"}:i<=4?{score:2,label:"Fair",color:"bg-yellow-500"}:i<=5?{score:3,label:"Good",color:"bg-blue-500"}:{score:4,label:"Strong",color:"bg-green-500"}})();return r?o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Password strength:"}),o.jsx("span",{className:`text-sm font-semibold ${n.label==="Weak"?"text-red-400":n.label==="Fair"?"text-yellow-400":n.label==="Good"?"text-blue-400":"text-green-400"}`,children:n.label})]}),o.jsx("div",{className:"flex space-x-1",children:[1,2,3,4].map(i=>o.jsx("div",{className:`h-2 flex-1 rounded-full transition-all ${i<=n.score?n.color:"bg-slate-700"}`},i))})]}):null}function LD(){const[r,e]=T.useState(!navigator.onLine);return T.useEffect(()=>{const n=()=>e(!1),i=()=>e(!0);return window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),r?o.jsx("div",{className:"fixed top-16 left-0 right-0 z-40 animate-slide-down",children:o.jsx("div",{className:"bg-red-600 text-white px-4 py-3 text-center font-medium shadow-lg",children:" No internet connection. Some features may not work."})}):null}function UD({onClose:r}){return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full border border-blue-400/30 shadow-2xl my-8",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Privacy Policy"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:o.jsxs("div",{className:"space-y-6 text-gray-300",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:[o.jsx("strong",{children:"Last Updated:"})," January 9, 2026"]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"1. Introduction"}),o.jsx("p",{children:'InnoVend LLC ("we," "our," or "us") respects your privacy and is committed to protecting your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our services.'})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"2. Information We Collect"}),o.jsx("p",{className:"mb-3",children:"We collect information that you provide directly to us, including:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Personal Information:"})," Name, email address, phone number, business name, and business address"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Account Information:"})," Username, password (encrypted), and account preferences"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Service Request Information:"})," Details about your vending machine needs and preferences"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Usage Information:"})," How you interact with our website and services"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies and Tracking:"})," We use cookies to enhance your browsing experience and analyze site traffic"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"3. How We Use Your Information"}),o.jsx("p",{className:"mb-3",children:"We use the information we collect to:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Provide, maintain, and improve our vending machine services"}),o.jsx("li",{children:"Process and fulfill service requests"}),o.jsx("li",{children:"Communicate with you about services, updates, and promotional offers"}),o.jsx("li",{children:"Respond to your inquiries and provide customer support"}),o.jsx("li",{children:"Monitor and analyze usage patterns to improve our website"}),o.jsx("li",{children:"Detect, prevent, and address technical issues or fraudulent activity"}),o.jsx("li",{children:"Comply with legal obligations and enforce our terms"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"4. Information Sharing and Disclosure"}),o.jsx("p",{className:"mb-3",children:"We do not sell your personal information. We may share your information in the following circumstances:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Service Providers:"})," Third-party vendors who assist in operating our website and providing services (e.g., email services, payment processors)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Business Partners:"})," With vending machine suppliers or product vendors as necessary to fulfill your service requests"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Legal Requirements:"})," When required by law, court order, or government regulation"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Business Transfers:"})," In connection with any merger, sale of company assets, or acquisition"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"With Your Consent:"})," Any other disclosure made with your explicit permission"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"5. Data Security"}),o.jsx("p",{children:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. These measures include:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[o.jsx("li",{children:"Encryption of sensitive data (passwords, personal information)"}),o.jsx("li",{children:"Secure server infrastructure with Firebase"}),o.jsx("li",{children:"Regular security assessments and updates"}),o.jsx("li",{children:"Access controls limiting who can view your information"}),o.jsx("li",{children:"Two-factor authentication for admin accounts"})]}),o.jsx("p",{className:"mt-3",children:"However, no method of transmission over the Internet is 100% secure. While we strive to protect your information, we cannot guarantee absolute security."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"6. Cookies and Tracking Technologies"}),o.jsx("p",{className:"mb-3",children:"We use cookies and similar tracking technologies to:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Remember your preferences and settings"}),o.jsx("li",{children:"Authenticate your account"}),o.jsx("li",{children:"Analyze site traffic and usage patterns"}),o.jsx("li",{children:"Protect against spam and abuse"})]}),o.jsx("p",{className:"mt-3",children:"You can control cookie preferences through your browser settings. However, disabling cookies may limit your ability to use certain features of our website."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"7. Your Rights and Choices"}),o.jsx("p",{className:"mb-3",children:"You have the following rights regarding your personal information:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Access:"})," Request a copy of the personal information we hold about you"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Correction:"})," Request correction of inaccurate or incomplete information"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Deletion:"})," Request deletion of your personal information (subject to legal obligations)"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Opt-Out:"})," Unsubscribe from marketing communications at any time"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Data Portability:"})," Request transfer of your data to another service"]})]}),o.jsxs("p",{className:"mt-3",children:["To exercise these rights, please contact us at ",o.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:text-blue-300",children:"hello@innovend.net"}),"."]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"8. Children's Privacy"}),o.jsx("p",{children:"Our services are not directed to individuals under the age of 18. We do not knowingly collect personal information from children. If you believe we have inadvertently collected information from a child, please contact us immediately."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"9. Third-Party Links"}),o.jsx("p",{children:"Our website may contain links to third-party websites. We are not responsible for the privacy practices or content of these external sites. We encourage you to review the privacy policies of any third-party sites you visit."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"10. Data Retention"}),o.jsx("p",{children:"We retain your personal information for as long as necessary to fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required or permitted by law. When we no longer need your information, we will securely delete or anonymize it."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"11. California Privacy Rights (CCPA)"}),o.jsx("p",{className:"mb-3",children:"If you are a California resident, you have additional rights under the California Consumer Privacy Act (CCPA):"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Right to know what personal information is collected, used, shared, or sold"}),o.jsx("li",{children:"Right to delete personal information"}),o.jsx("li",{children:"Right to opt-out of the sale of personal information (we do not sell your information)"}),o.jsx("li",{children:"Right to non-discrimination for exercising your CCPA rights"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"12. European Privacy Rights (GDPR)"}),o.jsx("p",{children:"If you are located in the European Economic Area (EEA), you have rights under the General Data Protection Regulation (GDPR), including the right to access, rectify, erase, restrict processing, object to processing, and data portability. You also have the right to lodge a complaint with a supervisory authority."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"13. Changes to This Privacy Policy"}),o.jsx("p",{children:'We may update this Privacy Policy from time to time to reflect changes in our practices or legal requirements. We will notify you of any material changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. Your continued use of our services after changes constitutes acceptance of the updated policy.'})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"14. Contact Us"}),o.jsx("p",{children:"If you have questions, concerns, or requests regarding this Privacy Policy or our privacy practices, please contact us:"}),o.jsxs("div",{className:"mt-3 bg-slate-800 p-4 rounded-lg",children:[o.jsx("p",{children:o.jsx("strong",{children:"InnoVend LLC"})}),o.jsxs("p",{children:["Email: ",o.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:text-blue-300",children:"hello@innovend.net"})]}),o.jsx("p",{children:"Location: North Potomac, Maryland"}),o.jsx("p",{children:"Service Area: Montgomery County, Maryland"})]})]}),o.jsx("div",{className:"mt-8 pt-6 border-t border-gray-700",children:o.jsx("p",{className:"text-sm text-gray-400",children:"By using InnoVend's website and services, you acknowledge that you have read and understood this Privacy Policy and agree to its terms."})})]})}),o.jsx("div",{className:"p-6 border-t border-gray-700 flex-shrink-0",children:o.jsx("button",{onClick:r,className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})})}function zD({onClose:r}){return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full border border-blue-400/30 shadow-2xl my-8",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Terms of Service"}),o.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:o.jsxs("div",{className:"space-y-6 text-gray-300",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:[o.jsx("strong",{children:"Last Updated:"})," January 9, 2026"]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"1. Acceptance of Terms"}),o.jsx("p",{children:'Welcome to InnoVend LLC. By accessing or using our website and services, you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use our services. We reserve the right to modify these Terms at any time, and your continued use constitutes acceptance of any changes.'})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"2. Description of Services"}),o.jsx("p",{className:"mb-3",children:"InnoVend LLC provides vending machine placement and management services to businesses in Montgomery County, Maryland. Our services include:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Free vending machine placement at qualified business locations"}),o.jsx("li",{children:"Machine installation, maintenance, and restocking"}),o.jsx("li",{children:"Product selection and inventory management"}),o.jsx("li",{children:"Online account management and reporting"}),o.jsx("li",{children:"Customer support and service requests"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"3. Eligibility and Service Requirements"}),o.jsx("p",{className:"mb-3",children:"To qualify for our services, you must:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Operate a legitimate business in Montgomery County, Maryland or surrounding areas"}),o.jsx("li",{children:"Be at least 18 years of age and legally capable of entering into contracts"}),o.jsx("li",{children:"Provide a suitable location with adequate space, power, and WiFi"}),o.jsx("li",{children:"Have authorization to make decisions regarding equipment placement"}),o.jsx("li",{children:"Maintain a safe and accessible environment for machine servicing"})]}),o.jsx("p",{className:"mt-3",children:"We reserve the right to accept or decline any service request at our sole discretion."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"4. Free Service Model"}),o.jsx("p",{children:"Our vending machines are provided at no cost to qualified business partners. This means:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"No upfront fees:"})," We do not charge for machine placement, installation, or equipment"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"No monthly fees:"})," There are no recurring charges for our services"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Your responsibilities:"})," You provide power and WiFi; we handle everything else"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Revenue model:"})," InnoVend retains all vending sales revenue"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Optional commissions:"})," Commission arrangements may be offered to select partners"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"5. Account Registration and Security"}),o.jsx("p",{className:"mb-3",children:"When you create an account with us:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"You must provide accurate, current, and complete information"}),o.jsx("li",{children:"You are responsible for maintaining the confidentiality of your account credentials"}),o.jsx("li",{children:"You are responsible for all activities that occur under your account"}),o.jsx("li",{children:"You must notify us immediately of any unauthorized use or security breach"}),o.jsx("li",{children:"We reserve the right to terminate accounts that violate these Terms"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"6. Machine Placement and Installation"}),o.jsx("p",{className:"mb-3",children:"Regarding vending machine placement:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Location approval:"})," Final placement location must be mutually agreed upon"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Installation:"})," We will coordinate installation at a mutually convenient time"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Machine ownership:"})," All machines remain the property of InnoVend LLC"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Relocation:"})," Machines may be relocated within your premises if necessary"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Removal:"})," We reserve the right to remove machines that don't meet performance standards"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"7. Maintenance and Restocking"}),o.jsx("p",{children:"InnoVend is responsible for all machine maintenance and product restocking. We will:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[o.jsx("li",{children:"Restock products on a regular schedule based on usage"}),o.jsx("li",{children:"Clean and sanitize machines during each service visit"}),o.jsx("li",{children:"Perform preventive maintenance and repairs as needed"}),o.jsx("li",{children:"Respond to service requests within a reasonable timeframe"}),o.jsx("li",{children:"Replace malfunctioning machines if repairs are not feasible"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"8. Your Responsibilities"}),o.jsx("p",{className:"mb-3",children:"As a business partner, you agree to:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"Provide continuous power and WiFi connectivity for the machine"}),o.jsx("li",{children:"Maintain a safe, clean, and accessible location for the machine"}),o.jsx("li",{children:"Not tamper with, damage, or modify the machine in any way"}),o.jsx("li",{children:"Report any damage, vandalism, or technical issues promptly"}),o.jsx("li",{children:"Allow InnoVend personnel access for servicing during business hours"}),o.jsx("li",{children:"Not relocate the machine without prior approval"}),o.jsx("li",{children:"Notify us if you plan to relocate your business or terminate services"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"9. Service Termination"}),o.jsx("p",{className:"mb-3",children:"Either party may terminate services with written notice:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Your termination:"})," Provide 30 days' written notice to hello@innovend.net"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Our termination:"})," We may terminate with 30 days' notice or immediately for cause"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Causes for immediate termination:"})," Violation of Terms, machine damage, safety concerns, or location closure"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Machine removal:"})," We will remove the machine within 14 days of termination"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"No penalties:"})," Neither party owes termination fees"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"10. Intellectual Property"}),o.jsx("p",{children:"All content on our website, including text, graphics, logos, images, and software, is the property of InnoVend LLC or its licensors and is protected by copyright, trademark, and other intellectual property laws. You may not use, reproduce, or distribute any content without our express written permission."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"11. Limitation of Liability"}),o.jsx("p",{className:"mb-3",children:"To the fullest extent permitted by law:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsx("li",{children:"InnoVend LLC is not liable for any indirect, incidental, or consequential damages"}),o.jsx("li",{children:"We are not responsible for lost profits, data, or business opportunities"}),o.jsx("li",{children:"Our total liability shall not exceed $500 or the amount of commissions paid to you in the last 12 months, whichever is greater"}),o.jsx("li",{children:"We are not liable for machine downtime, product shortages, or service delays beyond our control"}),o.jsx("li",{children:"This limitation applies regardless of the form of action (contract, tort, negligence, etc.)"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"12. Indemnification"}),o.jsx("p",{children:"You agree to indemnify and hold harmless InnoVend LLC, its officers, employees, and agents from any claims, damages, losses, or expenses (including reasonable attorneys' fees) arising from:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[o.jsx("li",{children:"Your violation of these Terms"}),o.jsx("li",{children:"Your negligence or willful misconduct"}),o.jsx("li",{children:"Third-party claims related to the machine placement at your location"}),o.jsx("li",{children:"Any damage to the machine caused by you or your employees/customers"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"13. Warranties and Disclaimers"}),o.jsxs("p",{children:[o.jsx("strong",{children:"LIMITED WARRANTY:"})," We warrant that our machines will be in good working condition at the time of installation."]}),o.jsxs("p",{className:"mt-3",children:[o.jsx("strong",{children:"DISCLAIMERS:"}),' EXCEPT AS EXPRESSLY STATED ABOVE, OUR SERVICES ARE PROVIDED "AS IS" WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT. WE DO NOT GUARANTEE UNINTERRUPTED SERVICE, ERROR-FREE OPERATION, OR SPECIFIC SALES VOLUMES.']})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"14. Dispute Resolution"}),o.jsx("p",{className:"mb-3",children:"In the event of any dispute arising from these Terms or our services:"}),o.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Informal Resolution:"})," Contact us first at hello@innovend.net to resolve informally"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Mediation:"})," If unresolved, disputes will be submitted to mediation before litigation"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Arbitration:"})," Any unresolved disputes will be settled by binding arbitration in Maryland"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Governing Law:"})," These Terms are governed by Maryland state law"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Venue:"})," Any legal action must be brought in Montgomery County, Maryland"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"15. Privacy"}),o.jsx("p",{children:"Your use of our services is also governed by our Privacy Policy, which explains how we collect, use, and protect your personal information. Please review our Privacy Policy to understand our practices."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"16. Severability"}),o.jsx("p",{children:"If any provision of these Terms is found to be invalid or unenforceable, the remaining provisions will remain in full force and effect. The invalid provision will be modified to the minimum extent necessary to make it valid and enforceable."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"17. Entire Agreement"}),o.jsx("p",{children:"These Terms, together with our Privacy Policy and any written agreements between you and InnoVend, constitute the entire agreement between the parties and supersede all prior or contemporaneous agreements, representations, or understandings."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"18. Assignment"}),o.jsx("p",{children:"You may not assign or transfer these Terms or your account without our prior written consent. We may assign these Terms to any successor or affiliate without notice or consent."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"19. Force Majeure"}),o.jsx("p",{children:"Neither party shall be liable for delays or failures in performance resulting from causes beyond reasonable control, including but not limited to acts of God, natural disasters, war, terrorism, labor disputes, government actions, or supply chain disruptions."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"20. Contact Information"}),o.jsx("p",{children:"For questions about these Terms of Service, please contact us:"}),o.jsxs("div",{className:"mt-3 bg-slate-800 p-4 rounded-lg",children:[o.jsx("p",{children:o.jsx("strong",{children:"InnoVend LLC"})}),o.jsxs("p",{children:["Email: ",o.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:text-blue-300",children:"hello@innovend.net"})]}),o.jsx("p",{children:"Location: North Potomac, Maryland"}),o.jsx("p",{children:"Service Area: Montgomery County, Maryland"})]})]}),o.jsx("div",{className:"mt-8 pt-6 border-t border-gray-700",children:o.jsx("p",{className:"text-sm text-gray-400",children:"By using InnoVend's services, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."})})]})}),o.jsx("div",{className:"p-6 border-t border-gray-700 flex-shrink-0",children:o.jsx("button",{onClick:r,className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})})}const qD=()=>{const r="0x4AAAAAACLMd5-QZYHJfpGf",e=C_(),n=ga(),{user:i,userProfile:l,signOut:u,isAuthenticated:h,isAdmin:p}=Ec(),[g,y]=T.useState(!1),[_,w]=T.useState(!1),[S,L]=T.useState(!1),[Q,J]=T.useState(!1),[F,ue]=T.useState(!1),[se,fe]=T.useState("home"),[_e,Oe]=T.useState(1),[X,R]=T.useState({email:"",firstName:"",lastName:"",businessName:"",address:"",city:"",state:"MD",zip:"",phone:"",contactMethod:"",contactMethodOther:"",locationType:"",locationTypeOther:"",hasVending:"",dailyPeopleCount:"",hearAbout:"",referral:"",additionalInfo:"",termsAgreed:!1,finalTermsAgreed:!1}),[A,j]=T.useState(!1),[P,k]=T.useState(!1),[U,I]=T.useState(!1),[nt,_t]=T.useState(!1),[ee,me]=T.useState(!1),[Se,Ne]=T.useState("home"),[Ze,C]=T.useState(1),[te,ge]=T.useState(""),[Te,Pe]=T.useState(""),[Ue,Xe]=T.useState(!1),[Tt,Rt]=T.useState(!1),[Ws,_r]=T.useState(null),[gi,wr]=T.useState(!1),[ds,wa]=T.useState(""),[yi,Ea]=T.useState([]),[it,zt]=T.useState({}),[Me,Rs]=T.useState({}),[Is,Er]=T.useState(""),[cn,ks]=T.useState(!1),[Nr,Js]=T.useState(!1),[hs,Zs]=T.useState(!1),[Qn,er]=T.useState(0),[Tr,Xn]=T.useState(!1),[Qt,xn]=T.useState(!1),Dt=[{target:"nav",title:"Navigation",description:"Use the navigation bar to jump to different sections of the website quickly."},{target:"#services",title:"Our Services",description:"Learn about the benefits of our free vending machine placement service and what makes us different."},{target:"#machines",title:"Vending Machines",description:"Explore the different types of vending machines we offer for your location."},{target:"#products",title:"Available Products",description:"See the variety of snacks, beverages, and other products available in our machines."},{target:"footer",title:"Contact & Resources",description:"Find our contact information, helpful links, and system status at the bottom of the page."},{target:"request-btn",title:"Request Services",description:"Ready to get started? Click here to request a free vending machine for your location!"}],ft=(O,V)=>{if(O==="phone"){const K=V.replace(/\D/g,"");R(de=>({...de,[O]:K})),On(O,K)}else if(O==="zip"){const K=V.replace(/\D/g,"");R(de=>({...de,[O]:K})),On(O,K)}else R(K=>({...K,[O]:V})),On(O,V)},Dn=O=>{zt(V=>({...V,[O]:!0})),On(O,X[O])},tr=O=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O),On=(O,V)=>{let K="";switch(O){case"email":V?tr(V)||(K="Please enter a valid email address"):K="Email is required";break;case"firstName":!V||V.trim().length===0?K="First name is required":V.trim().length<2&&(K="First name must be at least 2 characters");break;case"lastName":!V||V.trim().length===0?K="Last name is required":V.trim().length<2&&(K="Last name must be at least 2 characters");break;case"businessName":!V||V.trim().length===0?K="Business name is required":V.trim().length<2&&(K="Business name must be at least 2 characters");break;case"address":!V||V.trim().length===0?K="Street address is required":V.trim().length<5&&(K="Please enter a complete street address");break;case"city":!V||V.trim().length===0?K="City is required":V.trim().length<2&&(K="City name must be at least 2 characters");break;case"zip":const de=V.replace(/\D/g,"");V?de.length!==5&&(K="ZIP code must be exactly 5 digits"):K="ZIP code is required";break;case"phone":const Z=V.replace(/\D/g,"");V?Z.length!==10&&(K="Phone number must be exactly 10 digits"):K="Phone number is required";break;case"contactMethod":V||(K="Please select a contact method");break;case"locationType":V||(K="Please select a location type");break;case"hasVending":V||(K="Please answer this question");break;case"dailyPeopleCount":V||(K="Please select an estimate");break}return Rs(de=>({...de,[O]:K})),K===""},nr=X.email&&tr(X.email)&&X.termsAgreed,qt=X.firstName&&X.lastName&&X.businessName&&X.address&&X.city&&X.state&&X.zip&&X.zip.length===5&&X.phone&&X.phone.length===10&&X.contactMethod&&X.locationType&&X.hasVending&&X.dailyPeopleCount&&(X.contactMethod!=="Other"||X.contactMethodOther)&&(X.locationType!=="Other"||X.locationTypeOther),Mn=X.finalTermsAgreed&&Is,fs=async()=>{if(console.log("Form submit attempted"),console.log("finalTermsAgreed:",X.finalTermsAgreed),console.log("turnstileToken:",Is?"present":"missing"),console.log("canSubmit:",Mn),!X.finalTermsAgreed){alert("Please agree to the terms and conditions before submitting.");return}if(!Is){alert("Please complete the CAPTCHA verification before submitting.");return}try{console.log("Saving to Firestore...");const O=await Ed(Fs(yn,"serviceRequests"),{...X,turnstileToken:Is,submittedAt:ni(),status:"pending"});console.log("Saved to Firestore:",O.id);try{console.log("Sending confirmation email...");const V=Ln();await Hn(V,"sendServiceRequestConfirmation")({email:X.email,firstName:X.firstName,lastName:X.lastName,businessName:X.businessName}),console.log("Confirmation email sent")}catch(V){console.error("Failed to send confirmation email:",V)}y(!1),Oe(1),Ea([]),Er(""),zt({}),Rs({}),R({email:"",firstName:"",lastName:"",businessName:"",address:"",city:"",state:"MD",zip:"",phone:"",contactMethod:"",contactMethodOther:"",locationType:"",locationTypeOther:"",hasVending:"",dailyPeopleCount:"",hearAbout:"",referral:"",additionalInfo:"",termsAgreed:!1,finalTermsAgreed:!1}),wa("Your service request has been submitted successfully! We'll contact you within 1-2 business days. Check your email for confirmation."),wr(!0)}catch(O){console.error("Error submitting form:",O),console.error("Error details:",O.message,O.code);let V="Failed to submit your request. ";O.code==="permission-denied"||O.message?.includes("permission")?V+="Database permissions error. Please contact us directly at hello@innovend.net with your request details.":O.code==="unavailable"||O.message?.includes("network")?V+="Network error. Please check your internet connection and try again.":O.message?.includes("Firebase")?V+="Service temporarily unavailable. Please try again in a few moments or contact us at hello@innovend.net.":(V+=`An unexpected error occurred. Please contact us directly at hello@innovend.net with the following details:

`,V+=`Name: ${X.firstName} ${X.lastName}
`,V+=`Email: ${X.email}
`,V+=`Business: ${X.businessName}
`,V+=`Phone: ${X.phone}`),alert(V)}},Bt=O=>{const V=document.getElementById(O);V&&(V.scrollIntoView({behavior:"smooth"}),ue(!1))},ao=({items:O})=>o.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-400 mb-6",children:O.map((V,K)=>o.jsxs(WT.Fragment,{children:[K>0&&o.jsx(jx,{className:"w-4 h-4"}),V.onClick?o.jsx("button",{onClick:V.onClick,className:"hover:text-blue-400 transition",children:V.label}):o.jsx("span",{className:"text-white",children:V.label})]},K))});return T.useEffect(()=>{localStorage.getItem("lastSeenVersion")!=="1.3.0"&&setTimeout(()=>ks(!0),1500)},[]),T.useEffect(()=>{const O={threshold:.15,rootMargin:"0px 0px -100px 0px"},V=new IntersectionObserver(de=>{de.forEach(Z=>{Z.isIntersecting&&(Z.target.classList.add("animate-fadeInUp"),Z.target.classList.remove("opacity-0","translate-y-8"))})},O);return document.querySelectorAll(".scroll-animate").forEach(de=>V.observe(de)),()=>V.disconnect()},[Se]),T.useEffect(()=>{if(Se!=="home")return;const O=["home","about","services","machines","products"],V={threshold:.3,rootMargin:"-80px 0px -50% 0px"},K=new IntersectionObserver(de=>{de.forEach(Z=>{Z.isIntersecting&&fe(Z.target.id)})},V);return O.forEach(de=>{const Z=document.getElementById(de);Z&&K.observe(Z)}),()=>K.disconnect()},[Se]),T.useEffect(()=>{n.pathname==="/admin-access-secure-portal"&&!h&&(I(!0),Ne("home"))},[n.pathname,h]),T.useEffect(()=>{const O=localStorage.getItem("viewMode");O&&h?["home","dashboard","admin","status","help"].includes(O)&&Ne(O==="admin"&&!p?"dashboard":O==="dashboard"&&!h?"home":O):h||(localStorage.removeItem("viewMode"),Ne("home"))},[h,p]),T.useEffect(()=>{Se!=="home"&&h?localStorage.setItem("viewMode",Se):Se==="home"&&localStorage.removeItem("viewMode")},[Se,h]),T.useEffect(()=>{const O=()=>{Xn(window.scrollY>50)};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[]),T.useEffect(()=>{const O=V=>{V.target.tagName==="INPUT"||V.target.tagName==="TEXTAREA"||V.target.isContentEditable||(V.key==="Escape"&&(Qt?xn(!1):g?y(!1):A?j(!1):P?k(!1):U?I(!1):nt?_t(!1):Ue?Xe(!1):cn?ks(!1):Nr?Js(!1):hs&&Zs(!1)),V.key==="?"&&!V.shiftKey&&(V.preventDefault(),xn(!0)))};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[Qt,g,A,P,U,nt,Ue,cn,Nr,hs]),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-white",children:[o.jsx("nav",{className:`fixed top-0 w-full bg-slate-900/95 backdrop-blur-sm z-50 border-b border-blue-500/20 transition-all duration-300 ${Tr?"shadow-lg":""}`,children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:`flex justify-between items-center transition-all duration-300 ${Tr?"h-12":"h-16"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`bg-gradient-to-br from-blue-400 to-cyan-400 rounded-lg flex items-center justify-center transition-all duration-300 ${Tr?"w-8 h-8 text-xl":"w-10 h-10 text-2xl"}`,children:""}),o.jsx("span",{className:`font-bold transition-all duration-300 ${Tr?"text-lg":"text-xl"}`,children:"InnoVend LLC"})]}),o.jsxs("div",{className:"hidden md:flex space-x-6 items-center",children:[o.jsx("button",{onClick:()=>{Bt("home"),Ne("home")},className:`hover:text-blue-400 transition ${se==="home"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"Home"}),o.jsx("button",{onClick:()=>{Bt("about"),Ne("home")},className:`hover:text-blue-400 transition ${se==="about"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"About"}),o.jsx("button",{onClick:()=>{Bt("services"),Ne("home")},className:`hover:text-blue-400 transition ${se==="services"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"Services"}),o.jsx("button",{onClick:()=>{Bt("machines"),Ne("home")},className:`hover:text-blue-400 transition ${se==="machines"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"Machines"}),o.jsx("button",{onClick:()=>{Bt("products"),Ne("home")},className:`hover:text-blue-400 transition ${se==="products"?"text-blue-400 font-semibold border-b-2 border-blue-400":""}`,children:"Products"}),o.jsx("button",{onClick:()=>y(!0),className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition",children:"Request Services"}),h?o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>me(!ee),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 px-4 py-2 rounded-lg transition flex items-center space-x-2",children:[o.jsx("span",{children:"My Account"}),o.jsx(Ax,{className:"w-4 h-4"})]}),ee&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-slate-800 rounded-lg shadow-xl border border-blue-400/30 py-2 z-50",children:[o.jsx("button",{onClick:()=>{Ne("dashboard"),me(!1),window.scrollTo(0,0)},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition",children:"Dashboard"}),p&&o.jsx("button",{onClick:()=>{Ne("admin"),me(!1),window.scrollTo(0,0)},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition",children:"Admin Panel"}),o.jsx("hr",{className:"my-2 border-gray-700"}),o.jsx("button",{onClick:async()=>{await u(),me(!1),Ne("home")},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition text-red-400",children:"Log Out"})]})]}):o.jsx("button",{onClick:()=>j(!0),className:"bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded-lg transition",children:"Log In"})]}),o.jsx("button",{onClick:()=>ue(!F),className:"md:hidden",children:o.jsx(tA,{className:"w-6 h-6"})})]}),F&&o.jsxs("div",{className:"md:hidden py-4 space-y-2",children:[o.jsx("button",{onClick:()=>{Bt("home"),Ne("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="home"?"text-blue-400 font-semibold":""}`,children:"Home"}),o.jsx("button",{onClick:()=>{Bt("about"),Ne("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="about"?"text-blue-400 font-semibold":""}`,children:"About"}),o.jsx("button",{onClick:()=>{Bt("services"),Ne("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="services"?"text-blue-400 font-semibold":""}`,children:"Services"}),o.jsx("button",{onClick:()=>{Bt("machines"),Ne("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="machines"?"text-blue-400 font-semibold":""}`,children:"Machines"}),o.jsx("button",{onClick:()=>{Bt("products"),Ne("home"),ue(!1)},className:`block w-full text-left py-2 hover:text-blue-400 transition ${se==="products"?"text-blue-400 font-semibold":""}`,children:"Products"}),o.jsx("button",{onClick:()=>{y(!0),ue(!1)},className:"block w-full text-left bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition",children:"Request Services"}),h?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{Ne("dashboard"),ue(!1),window.scrollTo(0,0)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Dashboard"}),p&&o.jsx("button",{onClick:()=>{Ne("admin"),ue(!1),window.scrollTo(0,0)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Admin Panel"}),o.jsx("button",{onClick:async()=>{await u(),ue(!1),Ne("home")},className:"block w-full text-left py-2 hover:text-red-400 transition",children:"Log Out"})]}):o.jsx("button",{onClick:()=>{j(!0),ue(!1)},className:"block w-full text-left bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded-lg transition",children:"Log In"})]})]})}),Se==="home"&&o.jsxs(o.Fragment,{children:[o.jsx("section",{id:"home",className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsx("div",{className:"inline-block mb-4 px-4 py-2 bg-blue-500/20 rounded-full border border-blue-400/30",children:o.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"Serving Montgomery County, Maryland"})}),o.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-cyan-300 to-blue-400 bg-clip-text text-transparent",children:["Innovating Convenience",o.jsx("br",{}),"One Vend at a Time"]}),o.jsxs("p",{className:"text-xl sm:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto",children:["Providing Convenient Vending Solutions for Local Businesses ",o.jsx("br",{}),"At No Cost To You"]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>y(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-8 py-4 rounded-lg font-semibold text-lg transition transform hover:scale-105 shadow-lg flex items-center justify-center",children:["Request Services ",o.jsx(jx,{className:"ml-2"})]}),o.jsx("button",{onClick:()=>Bt("about"),className:"bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-lg font-semibold text-lg transition border border-white/20",children:"Learn More"})]})]})}),o.jsx("section",{id:"about",className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-800/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Who We Are"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"InnoVend LLC is a premier vending machine service provider dedicated to enhancing your business environment with convenient, modern vending solutions. We specialize in placing and maintaining state-of-the-art vending machines at businesses throughout Montgomery County, Maryland."}),o.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"Our mission is simple: to provide your customers, employees, or clients with easy access to quality snacks and beverages while improving the overall experience at your facility   all at zero cost to you."}),o.jsx("p",{className:"text-lg text-gray-300",children:"With cutting-edge technology, including touchscreen interfaces and UV sanitization, we bring innovation and convenience to every location we serve. We handle everything from installation to restocking, so you can focus on running your business."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[o.jsx(gd,{className:"w-12 h-12 text-blue-400 mb-4"}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Modern Technology"}),o.jsx("p",{className:"text-sm text-gray-300",children:"Touchscreen interfaces & UV sanitization"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[o.jsx(Wo,{className:"w-12 h-12 text-blue-400 mb-4"}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Zero Cost"}),o.jsx("p",{className:"text-sm text-gray-300",children:"Free placement & maintenance"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[o.jsx(Qm,{className:"w-12 h-12 text-blue-400 mb-4"}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Customizable"}),o.jsx("p",{className:"text-sm text-gray-300",children:"Product selection tailored to you"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[o.jsx(Ym,{className:"w-12 h-12 text-blue-400 mb-4"}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Full Service"}),o.jsx("p",{className:"text-sm text-gray-300",children:"We handle restocking & cleaning"})]})]})]})]})}),o.jsx("section",{id:"services",className:"py-20 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Why Choose InnoVend?"}),o.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"We provide complete vending solutions that enhance your business and delight your customers  all at no cost to you."}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:o.jsx(ti,{className:"w-8 h-8 text-blue-400"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Completely Free"}),o.jsx("p",{className:"text-gray-300",children:"No upfront costs, no monthly fees, no hidden charges. We cover everything  you only provide power and WiFi."})]}),o.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:o.jsx(Qm,{className:"w-8 h-8 text-blue-400"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Enhance Customer Experience"}),o.jsx("p",{className:"text-gray-300",children:"Improve client satisfaction and drive return visits by offering convenient access to snacks and beverages. A well-placed vending machine can transform your waiting area or break room into a more welcoming space."})]}),o.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:o.jsx(Wo,{className:"w-8 h-8 text-blue-400"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Hassle-Free Maintenance"}),o.jsx("p",{className:"text-gray-300",children:"We handle all restocking, cleaning, and repairs. Our machines feature modern touchscreen technology and UV sanitization to ensure a clean, professional appearance that reflects well on your business."})]}),o.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:o.jsx(gd,{className:"w-8 h-8 text-blue-400"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Customizable Selection"}),o.jsx("p",{className:"text-gray-300",children:"You have input on what products go into your machine. We work with you to stock items that match your clientele's preferences and dietary needs."})]}),o.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:o.jsx(Rx,{className:"w-8 h-8 text-blue-400"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Local Service"}),o.jsx("p",{className:"text-gray-300",children:"We're a local business proudly serving Montgomery County, Maryland. Quick response times and personalized service you can count on."})]}),o.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:o.jsx(Ym,{className:"w-8 h-8 text-blue-400"})}),o.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Perfect For High-Traffic Locations"}),o.jsx("p",{className:"text-gray-300",children:"Ideal for salons, laundromats, fitness centers, office buildings, medical offices, car washes, and any location where customers wait or need convenient refreshments."})]})]})]})}),o.jsx("section",{id:"machines",className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-800/50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Our Vending Machines"}),o.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"We offer a variety of state-of-the-art vending machines to fit your space and needs."}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-6xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Snack Machines"}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"MarketOne 6 Wide with 48 selections and up to 738 items. Features touchscreen interface, guaranteed delivery, and UV sanitization."}),o.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[o.jsx("li",{children:' 10.1" Touchscreen'}),o.jsx("li",{children:" iVend Guaranteed Delivery"}),o.jsx("li",{children:" UVend Sanitization"}),o.jsx("li",{children:" 48 Product Selections"})]})]}),o.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-6xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Drink Machines"}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'Cold Drink Elevator Machine with 36 selections and 216 items. Features pre-cool storage area and 7" touchscreen.'}),o.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[o.jsx("li",{children:' 7" Touchscreen'}),o.jsx("li",{children:" Pre-Cool Storage"}),o.jsx("li",{children:" UVend Sanitization"}),o.jsx("li",{children:" 36 Product Selections"})]})]}),o.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-6xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Combo Machines"}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'MarketOne 5 Wide Combo offering both snacks and drinks. Features anti-fog heated glass and 7" touchscreen.'}),o.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[o.jsx("li",{children:' 7" Touchscreen'}),o.jsx("li",{children:" Snacks & Drinks"}),o.jsx("li",{children:" Anti-Fog Heated Glass"}),o.jsx("li",{children:" 38 Product Selections"})]})]}),o.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-6xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Coffee Machines"}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"MarketOne Coffee Machine with 34 combo options including coffee, tea, cappuccino, and espresso. Fresh brew technology."}),o.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[o.jsx("li",{children:" Fresh Brew Technology"}),o.jsx("li",{children:" 34 Beverage Options"}),o.jsx("li",{children:" UVend Sanitization"}),o.jsx("li",{children:" Hot Chocolate & Tea"})]})]}),o.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-6xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ice Cream Machines"}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'Specialized ice cream vending with 36 selections. Features anti-fog heated glass and 7" touchscreen for easy selection.'}),o.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[o.jsx("li",{children:' 7" Touchscreen'}),o.jsx("li",{children:" 36 Ice Cream Selections"}),o.jsx("li",{children:" Anti-Fog Heated Glass"}),o.jsx("li",{children:" Temperature Controlled"})]})]}),o.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:o.jsx("span",{className:"text-6xl",children:""})}),o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Specialty Machines"}),o.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Fitness centers, laundromats, car washes, and more. We have specialized machines for unique business needs."}),o.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[o.jsx("li",{children:" Fitness & Wellness Products"}),o.jsx("li",{children:" Laundry Supplies"}),o.jsx("li",{children:" School Supplies"}),o.jsx("li",{children:" PPE Options"})]})]})]})]})}),o.jsx("section",{id:"products",className:"py-20 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"What We Offer"}),o.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"A wide selection of popular snacks and beverages to keep your customers satisfied."}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20",children:[o.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[o.jsx("span",{className:"text-3xl mr-3",children:""})," Beverages"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Sodas & Soft Drinks"}),o.jsxs("ul",{className:"text-gray-300 space-y-1",children:[o.jsx("li",{children:" Coca-Cola & Diet Coke"}),o.jsx("li",{children:" Pepsi & Diet Pepsi"}),o.jsx("li",{children:" Dr. Pepper"}),o.jsx("li",{children:" Mountain Dew"}),o.jsx("li",{children:" Sprite & Fanta"}),o.jsx("li",{children:" 7-Up & Root Beer"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Energy & Sports"}),o.jsxs("ul",{className:"text-gray-300 space-y-1",children:[o.jsx("li",{children:" Monster Energy"}),o.jsx("li",{children:" Bang Energy"}),o.jsx("li",{children:" Gatorade"}),o.jsx("li",{children:" Powerade"}),o.jsx("li",{children:" Prime"})]}),o.jsx("p",{className:"font-semibold text-blue-300 mb-2 mt-4",children:"Other"}),o.jsxs("ul",{className:"text-gray-300 space-y-1",children:[o.jsx("li",{children:" Water & Smart Water"}),o.jsx("li",{children:" Starbucks Frappuccino"}),o.jsx("li",{children:" Arizona Tea"}),o.jsx("li",{children:" Gold Peak Tea"})]})]})]})]}),o.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20",children:[o.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[o.jsx("span",{className:"text-3xl mr-3",children:""})," Snacks"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Chips & Savory"}),o.jsxs("ul",{className:"text-gray-300 space-y-1",children:[o.jsx("li",{children:" Doritos"}),o.jsx("li",{children:" Ruffles"}),o.jsx("li",{children:" Takis"}),o.jsx("li",{children:" Sun Chips"}),o.jsx("li",{children:" Pretzels"}),o.jsx("li",{children:" Goldfish"}),o.jsx("li",{children:" Skinny Pop"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Candy & Sweets"}),o.jsxs("ul",{className:"text-gray-300 space-y-1",children:[o.jsx("li",{children:" Snickers & Twix"}),o.jsx("li",{children:" M&M's & Skittles"}),o.jsx("li",{children:" Reese's"}),o.jsx("li",{children:" KitKat"}),o.jsx("li",{children:" Starburst"}),o.jsx("li",{children:" Sour Patch Kids"})]}),o.jsx("p",{className:"font-semibold text-blue-300 mb-2 mt-4",children:"Healthy Options"}),o.jsxs("ul",{className:"text-gray-300 space-y-1",children:[o.jsx("li",{children:" Nature Valley Bars"}),o.jsx("li",{children:" Kind Bars"}),o.jsx("li",{children:" Rice Krispies"})]})]})]})]})]}),o.jsx("p",{className:"text-center text-gray-400 mt-8",children:"*Prices range from $1.00 - $3.00. Product selection can be customized based on your preferences."})]})}),o.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-600 to-cyan-600",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Get Started?"}),o.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join local businesses who have enhanced their customer experience with InnoVend's convenient vending solutions."}),o.jsx("button",{onClick:()=>y(!0),className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 rounded-lg font-semibold text-lg transition transform hover:scale-105 shadow-lg",children:"Request Services Today"})]})}),o.jsx("footer",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-slate-900 border-t border-blue-500/20",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-lg flex items-center justify-center text-2xl",children:""}),o.jsx("span",{className:"text-xl font-bold",children:"InnoVend LLC"})]}),o.jsx("p",{className:"text-gray-400",children:"Innovating Convenience, One Vend at a Time"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4",children:"Contact Us"}),o.jsxs("div",{className:"space-y-2 text-gray-400",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(Cx,{className:"w-4 h-4 mr-2"}),o.jsx("a",{href:"mailto:hello@innovend.net",className:"hover:text-blue-400 transition",children:"hello@innovend.net"})]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(aA,{className:"w-4 h-4 mr-2"}),o.jsx("a",{href:"sms:+13015551234",className:"hover:text-blue-400 transition",children:"Text Us"})]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(sA,{className:"w-4 h-4 mr-2"}),o.jsx("a",{href:"https://wa.me/13015551234",target:"_blank",rel:"noopener noreferrer",className:"hover:text-green-400 transition",children:"WhatsApp"})]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(Rx,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:"North Potomac, MD"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4",children:"Quick Links"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>y(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Request Services"}),o.jsx("button",{onClick:()=>{Js(!0),er(0)},className:"block text-gray-400 hover:text-blue-400 transition",children:"Take a Tour"}),o.jsx("button",{onClick:()=>{Ne("help"),window.scrollTo(0,0)},className:"block text-gray-400 hover:text-blue-400 transition",children:"Help & FAQ"}),o.jsx("button",{onClick:()=>{Ne("status"),window.scrollTo(0,0)},className:"block text-gray-400 hover:text-blue-400 transition",children:"System Status"}),o.jsx("button",{onClick:()=>L(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Privacy Policy"}),o.jsx("button",{onClick:()=>J(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Terms of Service"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4",children:"Newsletter"}),o.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Stay updated with our latest news"}),o.jsxs("form",{onSubmit:async O=>{O.preventDefault();const V=O.target.email.value;if(!(!V||!tr(V)))try{await Ed(Fs(yn,"newsletterSignups"),{email:V,timestamp:ni(),status:"active"}),O.target.email.value="",alert("Subscribed successfully!")}catch{alert("Failed to subscribe. Try again.")}},className:"space-y-2",children:[o.jsx("input",{type:"email",name:"email",placeholder:"your@email.com",className:"w-full px-3 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 text-sm",autoComplete:"email"}),o.jsx("button",{type:"submit",className:"w-full py-2 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 rounded-lg font-semibold text-sm transition",children:"Subscribe"})]})]})]}),o.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-gray-400",children:o.jsx("p",{children:" 2026 InnoVend LLC. All Rights Reserved."})})]})})]}),Se==="dashboard"&&l&&o.jsx(Ar,{}),Se==="admin"&&p&&o.jsx(Na,{}),Se==="status"&&o.jsx(ps,{}),Se==="help"&&o.jsx(bi,{}),g&&o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"InnoVend Services Request"}),o.jsx("button",{onClick:()=>{y(!1),Oe(1)},className:"text-gray-400 hover:text-white",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 overflow-y-auto",children:[o.jsx("div",{className:"flex justify-between mb-8",children:[1,2,3,4].map(O=>o.jsxs("div",{className:"flex items-center flex-1",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${_e>=O?"bg-blue-500 text-white":"bg-gray-700 text-gray-400"}`,children:_e>O?o.jsx(ti,{className:"w-5 h-5"}):O}),O<4&&o.jsx("div",{className:`flex-1 h-1 mx-2 ${_e>O?"bg-blue-500":"bg-gray-700"}`})]},O))}),_e===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Welcome!"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Thank you for your interest in requesting our services for your business. Complete the following form accurately and we will get back to you soon regarding placing a machine at your business location."}),o.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 mb-4",children:[o.jsx("p",{className:"text-sm text-gray-300 mb-2",children:o.jsx("strong",{children:"A few things to note:"})}),o.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"The purpose of this form is for InnoVend LLC to place a machine at your facility/location. This will be of no cost to you, aside from WiFi connectivity and power costs."}),o.jsx("li",{children:"This form does not guarantee that a Vending Machine will be placed at your location. We will be in touch with you shortly regarding your services request."})]})]}),o.jsxs("p",{className:"text-gray-300 mb-4",children:["Again, thank you for your interest in our services and we look forward to speaking with you. If you have any questions, please contact us at ",o.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:underline",children:"hello@innovend.net"})," and we will get back to you as soon as we can."]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),o.jsx("input",{type:"email",value:X.email,onChange:O=>ft("email",O.target.value),onBlur:()=>Dn("email"),className:`w-full px-4 py-3 bg-slate-800 border rounded-lg focus:outline-none transition ${it.email&&Me.email?"border-red-500 focus:border-red-500":it.email&&!Me.email?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"your.email@example.com"}),it.email&&Me.email&&o.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:Me.email})]}),it.email&&!Me.email&&X.email&&o.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[o.jsx(ti,{className:"w-4 h-4"}),o.jsx("span",{children:"Valid email address"})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",checked:X.termsAgreed,onChange:O=>ft("termsAgreed",O.target.checked),className:"mt-1 mr-3"}),o.jsxs("label",{className:"text-sm text-gray-300",children:["By continuing with this form, I confirm that I have read, understood, and agree to the"," ",o.jsx("button",{onClick:()=>w(!0),className:"text-blue-400 hover:underline",children:"Terms and Conditions"}),"."]})]}),o.jsx("button",{onClick:()=>Oe(2),disabled:!nr,className:`w-full py-3 rounded-lg font-semibold transition ${nr?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Next"})]}),_e===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Personal Information"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"This section is for your personal information so we can efficiently contact you in the future."})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),o.jsx("input",{type:"text",value:X.firstName,onChange:O=>ft("firstName",O.target.value),onBlur:()=>Dn("firstName"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.firstName&&Me.firstName?"border-red-500 focus:border-red-500":it.firstName&&!Me.firstName?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"John"}),it.firstName&&Me.firstName&&o.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:Me.firstName})]}),it.firstName&&!Me.firstName&&X.firstName&&o.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[o.jsx(ti,{className:"w-4 h-4"}),o.jsx("span",{children:"Looks good!"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),o.jsx("input",{type:"text",value:X.lastName,onChange:O=>ft("lastName",O.target.value),onBlur:()=>Dn("lastName"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.lastName&&Me.lastName?"border-red-500 focus:border-red-500":it.lastName&&!Me.lastName?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"Doe"}),it.lastName&&Me.lastName&&o.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:Me.lastName})]}),it.lastName&&!Me.lastName&&X.lastName&&o.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[o.jsx(ti,{className:"w-4 h-4"}),o.jsx("span",{children:"Looks good!"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Legal Name of Your Business *"}),o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This should be the official legal entity name your business is filed under."}),o.jsx("input",{type:"text",value:X.businessName,onChange:O=>ft("businessName",O.target.value),onBlur:()=>Dn("businessName"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.businessName&&Me.businessName?"border-red-500 focus:border-red-500":it.businessName&&!Me.businessName?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"ABC Company LLC"}),it.businessName&&Me.businessName&&o.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:Me.businessName})]}),it.businessName&&!Me.businessName&&X.businessName&&o.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[o.jsx(ti,{className:"w-4 h-4"}),o.jsx("span",{children:"Looks good!"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Address *"}),o.jsx("input",{type:"text",value:X.address,onChange:O=>ft("address",O.target.value),onBlur:()=>Dn("address"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.address&&Me.address?"border-red-500 focus:border-red-500":it.address&&!Me.address?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"123 Main Street"}),it.address&&Me.address&&o.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:Me.address})]}),it.address&&!Me.address&&X.address&&o.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[o.jsx(ti,{className:"w-4 h-4"}),o.jsx("span",{children:"Looks good!"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"City *"}),o.jsx("input",{type:"text",value:X.city,onChange:O=>ft("city",O.target.value),onBlur:()=>Dn("city"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.city&&Me.city?"border-red-500 focus:border-red-500":it.city&&!Me.city?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"Rockville"}),it.city&&Me.city&&o.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:Me.city})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"State *"}),o.jsxs("select",{value:X.state,onChange:O=>ft("state",O.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",children:[o.jsx("option",{value:"MD",children:"MD"}),o.jsx("option",{value:"VA",children:"VA"}),o.jsx("option",{value:"DC",children:"DC"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code *"}),o.jsx("input",{type:"text",value:X.zip,onChange:O=>ft("zip",O.target.value),onBlur:()=>Dn("zip"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.zip&&Me.zip?"border-red-500 focus:border-red-500":it.zip&&!Me.zip?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,maxLength:5,placeholder:"20850"}),it.zip&&Me.zip&&o.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:Me.zip})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Message and data rates may apply."}),o.jsx("input",{type:"tel",value:X.phone,onChange:O=>ft("phone",O.target.value),onBlur:()=>Dn("phone"),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none transition ${it.phone&&Me.phone?"border-red-500 focus:border-red-500":it.phone&&!Me.phone?"border-green-500 focus:border-green-500":"border-gray-700 focus:border-blue-500"}`,placeholder:"5551234567",maxLength:10}),it.phone&&Me.phone&&o.jsxs("p",{className:"mt-1 text-sm text-red-400 flex items-center space-x-1",children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:Me.phone})]}),it.phone&&!Me.phone&&X.phone&&o.jsxs("p",{className:"mt-1 text-sm text-green-400 flex items-center space-x-1",children:[o.jsx(ti,{className:"w-4 h-4"}),o.jsx("span",{children:"Valid phone number"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Method of Contact *"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"Email",checked:X.contactMethod==="Email",onChange:O=>ft("contactMethod",O.target.value),className:"mr-2"}),"Email"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"Phone",checked:X.contactMethod==="Phone",onChange:O=>ft("contactMethod",O.target.value),className:"mr-2"}),"Phone"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"Other",checked:X.contactMethod==="Other",onChange:O=>ft("contactMethod",O.target.value),className:"mr-2"}),"Other"]}),X.contactMethod==="Other"&&o.jsx("input",{type:"text",value:X.contactMethodOther,onChange:O=>ft("contactMethodOther",O.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 mt-2",placeholder:"Please specify your preferred contact method"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"What type of location do you have? *"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"Office",checked:X.locationType==="Office",onChange:O=>ft("locationType",O.target.value),className:"mr-2"}),"Office"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"Hotel",checked:X.locationType==="Hotel",onChange:O=>ft("locationType",O.target.value),className:"mr-2"}),"Hotel"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"School",checked:X.locationType==="School",onChange:O=>ft("locationType",O.target.value),className:"mr-2"}),"School"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"Other",checked:X.locationType==="Other",onChange:O=>ft("locationType",O.target.value),className:"mr-2"}),"Other"]}),X.locationType==="Other"&&o.jsx("input",{type:"text",value:X.locationTypeOther,onChange:O=>ft("locationTypeOther",O.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 mt-2",placeholder:"Please specify your location type"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Do you currently have vending machines? *"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"Yes",checked:X.hasVending==="Yes",onChange:O=>ft("hasVending",O.target.value),className:"mr-2"}),"Yes"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"No",checked:X.hasVending==="No",onChange:O=>ft("hasVending",O.target.value),className:"mr-2"}),"No"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"On average, how many people are in your facility daily? *"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"Under 50",checked:X.dailyPeopleCount==="Under 50",onChange:O=>ft("dailyPeopleCount",O.target.value),className:"mr-2"}),"Under 50"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"50-99",checked:X.dailyPeopleCount==="50-99",onChange:O=>ft("dailyPeopleCount",O.target.value),className:"mr-2"}),"50-99"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"100-250",checked:X.dailyPeopleCount==="100-250",onChange:O=>ft("dailyPeopleCount",O.target.value),className:"mr-2"}),"100-250"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",value:"250+",checked:X.dailyPeopleCount==="250+",onChange:O=>ft("dailyPeopleCount",O.target.value),className:"mr-2"}),"250+"]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>Oe(1),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),o.jsx("button",{onClick:()=>Oe(3),disabled:!qt,className:`flex-1 py-3 rounded-lg font-semibold transition ${qt?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Next"})]})]}),_e===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"Additional Information"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"This section is just some additional information we would like (Optional)."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"How did you hear about us?"}),o.jsx("input",{type:"text",value:X.hearAbout,onChange:O=>ft("hearAbout",O.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"e.g., Google search, referral, social media"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Do you have a business or person referral?"}),o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"If so, type it below. Otherwise, leave blank."}),o.jsx("input",{type:"text",value:X.referral,onChange:O=>ft("referral",O.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Name of person or business"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Would you like to share any additional information?"}),o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"If so, type it below. Otherwise, leave blank."}),o.jsx("textarea",{value:X.additionalInfo,onChange:O=>ft("additionalInfo",O.target.value),rows:4,className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Any additional details about your location, business hours, customer demographics, etc."})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>Oe(2),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),o.jsx("button",{onClick:()=>Oe(4),className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Next"})]})]}),_e===4&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Submission"}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Thank you so much for your continued interest in our services! InnoVend LLC will be in touch with you soon, and we look forward to your business."}),o.jsxs("p",{className:"text-gray-300 mb-4",children:["When you are ready, please click the Submit button below to submit your responses to us. If you have any questions, feel free to email us at"," ",o.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:underline",children:"hello@innovend.net"})," and we will get back to you as soon as we can."]})]}),o.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Review Your Information:"}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Email:"})," ",X.email]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Name:"})," ",X.firstName," ",X.lastName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Business:"})," ",X.businessName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Address:"})," ",X.address,", ",X.city,", ",X.state," ",X.zip]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," ",X.phone]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Preferred Contact:"})," ",X.contactMethod==="Other"?X.contactMethodOther:X.contactMethod]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Location Type:"})," ",X.locationType==="Other"?X.locationTypeOther:X.locationType]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Has Vending:"})," ",X.hasVending]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Daily People Count:"})," ",X.dailyPeopleCount]})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("input",{type:"checkbox",checked:X.finalTermsAgreed,onChange:O=>ft("finalTermsAgreed",O.target.checked),className:"mt-1 mr-3"}),o.jsxs("label",{className:"text-sm text-gray-300",children:["By submitting the form, I confirm that I have read, understood, and agree to the"," ",o.jsx("button",{onClick:()=>w(!0),className:"text-blue-400 hover:underline",children:"Terms and Conditions"}),". *"]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(nl,{siteKey:r,onSuccess:Er,onError:()=>Er(""),onExpire:()=>Er("")})}),!Mn&&o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-400/30 rounded-lg p-3 text-sm text-yellow-400",children:[!X.finalTermsAgreed&&!Is&&"Please agree to the terms and complete the CAPTCHA above to submit.",X.finalTermsAgreed&&!Is&&"Please complete the CAPTCHA verification above to submit.",!X.finalTermsAgreed&&Is&&"Please agree to the terms and conditions to submit."]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>Oe(3),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),o.jsx("button",{onClick:fs,disabled:!Mn,className:`flex-1 py-3 rounded-lg font-semibold transition ${Mn?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Submit Request"})]})]})]})]})}),_&&o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Terms and Conditions for Service Request Form"}),o.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Last Updated: December 3, 2024"}),o.jsxs("div",{className:"space-y-6 text-gray-300",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"1. Purpose of Information Collection"}),o.jsx("p",{children:"The information collected through this form will be used solely to evaluate and process your service request. By submitting this form, you acknowledge and consent to our use of the provided information for this purpose."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"2. Privacy Policy"}),o.jsx("p",{children:"We respect your privacy. Any personal or contact information submitted through this form will be securely stored and used only to fulfill your request. Your data will not be shared with any third parties without your explicit consent, except as required by law."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"3. Fees and Costs"}),o.jsx("p",{children:"If applicable, fees for services will be clearly communicated to you after your request has been reviewed. Submission of this form does not create a binding contract or obligation to pay unless explicitly agreed upon in writing."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"4. Service Limitations"}),o.jsx("p",{children:"While we strive to fulfill all requests to the best of our ability, submission of this form does not guarantee service. We reserve the right to decline any request that falls outside our scope of offerings or for any reason."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"5. Liability"}),o.jsx("p",{children:"We are not liable for delays, interruptions, or issues arising from unforeseen circumstances beyond our control. Any costs, damages, or inconveniences incurred as a result of using our services are limited to the extent permitted by law."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"6. Consent to Contact"}),o.jsx("p",{children:"By submitting this form, you agree to be contacted using the email or phone number provided. Standard message and data rates may apply for SMS or calls."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"7. Modifications"}),o.jsx("p",{children:"We reserve the right to update or modify these terms and conditions at any time. Changes will be effective immediately upon posting to the form or via direct communication."})]})]})]}),o.jsx("div",{className:"p-6 border-t border-gray-700 flex-shrink-0",children:o.jsx("button",{onClick:()=>w(!1),className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})}),A&&o.jsx(oo,{}),P&&o.jsx(ms,{}),U&&o.jsx(Sr,{}),nt&&o.jsx(Nl,{}),Ue&&o.jsx(Wn,{onClose:()=>Xe(!1),onSuccess:()=>{}}),gi&&o.jsx($t,{message:ds,onClose:()=>wr(!1)}),S&&o.jsx(UD,{onClose:()=>L(!1)}),Q&&o.jsx(zD,{onClose:()=>J(!1)}),cn&&o.jsx(co,{}),hs&&o.jsx(Tl,{}),Nr&&Se==="home"&&o.jsx(en,{}),Qt&&o.jsx(uo,{}),o.jsxs("button",{onClick:()=>Zs(!0),className:"fixed bottom-24 right-6 w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110 z-40 group",title:"Send Feedback",children:[o.jsx(Hm,{className:"w-6 h-6 text-white"}),o.jsx("span",{className:"absolute right-16 bg-slate-900 text-white px-3 py-2 rounded-lg text-sm whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none border border-blue-400/30",children:"Send Feedback"})]}),o.jsx(MD,{}),o.jsx(PD,{onLearnMore:()=>L(!0)}),o.jsx(LD,{})]});function oo(){const{signIn:O}=Ec(),[V,K]=T.useState({email:"",password:""}),[de,Z]=T.useState(!1),[pe,he]=T.useState(""),[Ae,Be]=T.useState(!1),[le,ie]=T.useState(null),[be,ye]=T.useState(0),[ze,Ee]=T.useState(""),De=V.email&&V.password&&ze&&!le?.isLocked,We=async Ie=>{if(!(!Ie||!tr(Ie)))try{const gt=Ln(),Fe=await Hn(gt,"checkAccountLockout")({email:Ie});Fe.data.isLocked?(ie(Fe.data),he(`Account locked due to too many failed attempts. Locked for ${Fe.data.hoursRemaining} more hours. Email hello@innovend.net for immediate unlock.`)):(ie(null),ye(Fe.data.attemptCount||0))}catch(gt){console.error("Error checking lockout:",gt)}},ve=async()=>{if(he(""),Be(!0),await We(V.email),le?.isLocked){Be(!1);return}try{const Ie=await O(V.email,V.password,de),gt=await Vd(sa(yn,"users",Ie.user.uid));if(gt.exists()&&gt.data().role==="admin"){await u(),he("Admin accounts must log in through the secure portal. Please use the admin access link."),Be(!1);return}try{const xe=Ln();await Hn(xe,"resetFailedLoginAttempts")({email:V.email})}catch(xe){console.error("Failed to reset attempts:",xe)}j(!1),Ne("dashboard"),window.scrollTo(0,0)}catch(Ie){try{const gt=Ln(),Fe=await Hn(gt,"recordFailedLogin")({email:V.email});if(Fe.data.isLocked)ie(Fe.data),he('Account locked after 5 failed attempts. Locked for 48 hours. Email hello@innovend.net with subject "Account Unlock Request" for immediate assistance.');else{ye(Fe.data.attemptCount);const dt=Fe.data.remainingAttempts;Ie.code==="auth/user-not-found"?he("No account found with this email. Would you like to sign up?"):Ie.code==="auth/wrong-password"||Ie.code==="auth/invalid-credential"?he(`Incorrect password. ${dt} ${dt===1?"attempt":"attempts"} remaining before account lockout.`):Ie.code==="auth/invalid-email"?he("Please enter a valid email address."):Ie.code==="auth/network-request-failed"?he("Network error. Please check your connection."):he(`Login failed. ${dt} ${dt===1?"attempt":"attempts"} remaining.`)}}catch(gt){console.error("Failed to record attempt:",gt),he("Login failed. Please try again.")}}finally{Be(!1)}};return o.jsxs(o.Fragment,{children:[Ae&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[60] flex items-center justify-center",children:o.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 border border-blue-400/30 shadow-2xl text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-white",children:"Logging you in..."}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Please wait a moment"})]})}),o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Log In to InnoVend"}),o.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-white",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[le?.isLocked&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Km,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Account Locked"}),o.jsx("p",{className:"mt-1",children:pe})]})]})}),!le?.isLocked&&be>0&&be<5&&o.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 text-yellow-400 text-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{children:["Failed login attempts: ",be,"/5"]}),o.jsxs("span",{className:"font-semibold",children:[5-be," remaining"]})]})}),pe&&!le?.isLocked&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:pe}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:V.email,onChange:Ie=>K({...V,email:Ie.target.value}),onKeyPress:Ie=>Ie.key==="Enter"&&De&&ve(),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"your.email@example.com",autoComplete:"email",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"block text-sm font-medium",children:"Password"}),o.jsx("button",{onClick:()=>{j(!1),_t(!0)},className:"text-xs text-blue-400 hover:text-blue-300",children:"Forgot Password?"})]}),o.jsx("input",{type:"password",value:V.password,onChange:Ie=>K({...V,password:Ie.target.value}),onKeyPress:Ie=>Ie.key==="Enter"&&De&&ve(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"",autoComplete:"current-password"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"rememberMe",checked:de,onChange:Ie=>Z(Ie.target.checked),className:"w-4 h-4 text-blue-500 bg-slate-800 border-gray-700 rounded focus:ring-blue-500 focus:ring-2"}),o.jsx("label",{htmlFor:"rememberMe",className:"ml-2 text-sm text-gray-300",children:"Remember me"})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(nl,{siteKey:r,onSuccess:Ee,onError:()=>Ee(""),onExpire:()=>Ee("")})}),o.jsx("button",{onClick:ve,disabled:!De||Ae||le?.isLocked,className:`w-full py-3 rounded-lg font-semibold transition ${De&&!Ae&&!le?.isLocked?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:le?.isLocked?"Account Locked":Ae?"Logging in...":"Log In"}),o.jsx("div",{className:"text-center space-y-2 text-sm",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[o.jsx("span",{children:"Don't have an account?"}),o.jsx("button",{onClick:()=>{j(!1),k(!0)},className:"text-cyan-400 hover:underline font-medium",children:"Sign Up"})]})})]})]})})]})}function ms(){const{signIn:O}=Ec(),[V,K]=T.useState({firstName:"",lastName:"",email:"",phone:"",username:"",password:"",confirmPassword:"",clientCode:""}),[de,Z]=T.useState(""),[pe,he]=T.useState(!1),[Ae,Be]=T.useState(null),[le,ie]=T.useState({}),[be,ye]=T.useState("");T.useEffect(()=>{V.confirmPassword?Be(V.password===V.confirmPassword):Be(null)},[V.password,V.confirmPassword]);const ze=xe=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(xe),Ee=xe=>xe.replace(/\D/g,"").length===10,De=xe=>xe.length>=8&&/[A-Z]/.test(xe)&&/[a-z]/.test(xe)&&/[0-9]/.test(xe),We=xe=>{const Fe=xe.replace(/\D/g,"").slice(0,10);K({...V,phone:Fe})},ve=()=>{const xe={};return V.firstName.trim()||(xe.firstName="First name is required"),V.lastName.trim()||(xe.lastName="Last name is required"),V.email.trim()?ze(V.email)||(xe.email="Please enter a valid email address"):xe.email="Email is required",V.phone?Ee(V.phone)||(xe.phone="Must be exactly 10 digits"):xe.phone="Phone number is required",V.username.trim()||(xe.username="Username is required"),V.password?De(V.password)||(xe.password="Password must be at least 8 characters with uppercase, lowercase, and number"):xe.password="Password is required",V.confirmPassword?V.password!==V.confirmPassword&&(xe.confirmPassword="Passwords do not match"):xe.confirmPassword="Please confirm your password",V.clientCode.trim()||(xe.clientCode="Client code is required"),ie(xe),Object.keys(xe).length===0},Ie=V.firstName&&V.lastName&&V.email&&V.phone&&V.username&&V.password&&V.confirmPassword&&V.clientCode&&Ae&&be,gt=async()=>{if(ve()){Z(""),he(!0);try{const xe=Ln();(await Hn(xe,"validateAndCreateAccount")({email:V.email,password:V.password,firstName:V.firstName,lastName:V.lastName,phone:V.phone,username:V.username,clientCode:V.clientCode,turnstileToken:be})).data.success&&(await O(V.email,V.password),k(!1),Ne("dashboard"),window.scrollTo(0,0))}catch(xe){console.error("Signup error:",xe),xe.code==="functions/not-found"?Z("Invalid client code. Please check your code and try again."):xe.code==="functions/already-exists"?Z(xe.message||"This client code has already been used or email is already registered."):xe.code==="functions/invalid-argument"?Z(xe.message||"Your details do not match the client code on file. Please verify and try again."):xe.code==="functions/failed-precondition"?Z(xe.message||"This client code has expired. Please contact support."):xe.code==="functions/unauthenticated"?Z("Authentication error. Please try again."):Z(xe.message||"Signup failed. Please try again or contact support.")}finally{he(!1)}}};return o.jsxs(o.Fragment,{children:[pe&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[60] flex items-center justify-center",children:o.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 border border-blue-400/30 shadow-2xl text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-white",children:"Creating your account..."}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Please wait a moment"})]})}),o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Create Your Account"}),o.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-white",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[de&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:de}),o.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 text-sm text-gray-300",children:[o.jsx("p",{className:"font-semibold mb-2",children:"Before you start:"}),o.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[o.jsx("li",{children:"You must have a valid Client Code to sign up"}),o.jsx("li",{children:"Your details must match the information on file"}),o.jsx("li",{children:"Client Codes are one-time use only"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),o.jsx("input",{type:"text",value:V.firstName,onChange:xe=>K({...V,firstName:xe.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${le.firstName?"border-red-500":"border-gray-700"}`,placeholder:"John"}),le.firstName&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:le.firstName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),o.jsx("input",{type:"text",value:V.lastName,onChange:xe=>K({...V,lastName:xe.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${le.lastName?"border-red-500":"border-gray-700"}`,placeholder:"Doe"}),le.lastName&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:le.lastName})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),o.jsx("input",{type:"email",value:V.email,onChange:xe=>K({...V,email:xe.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${le.email?"border-red-500":"border-gray-700"}`,placeholder:"your.email@example.com"}),le.email&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:le.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),o.jsx("input",{type:"tel",value:V.phone,onChange:xe=>We(xe.target.value),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${le.phone?"border-red-500":"border-gray-700"}`,placeholder:"5551234567",maxLength:10}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"10 digits only (no dashes or spaces)"}),le.phone&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:le.phone})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username *"}),o.jsx("input",{type:"text",value:V.username,onChange:xe=>K({...V,username:xe.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${le.username?"border-red-500":"border-gray-700"}`,placeholder:"johndoe"}),le.username&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:le.username})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password *"}),o.jsx("input",{type:"password",value:V.password,onChange:xe=>K({...V,password:xe.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${le.password?"border-red-500":"border-gray-700"}`,placeholder:""}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Must be at least 8 characters with uppercase, lowercase, and number"}),o.jsx(VD,{password:V.password}),le.password&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:le.password})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password *"}),o.jsx("input",{type:"password",value:V.confirmPassword,onChange:xe=>K({...V,confirmPassword:xe.target.value}),onPaste:xe=>xe.preventDefault(),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${le.confirmPassword?"border-red-500":"border-gray-700"}`,placeholder:""}),Ae!==null&&o.jsx("div",{className:`flex items-center space-x-2 mt-2 text-sm ${Ae?"text-green-400":"text-red-400"}`,children:Ae?o.jsxs(o.Fragment,{children:[o.jsx(ti,{className:"w-4 h-4"}),o.jsx("span",{children:"Passwords match"})]}):o.jsxs(o.Fragment,{children:[o.jsx(kt,{className:"w-4 h-4"}),o.jsx("span",{children:"Passwords don't match"})]})}),le.confirmPassword&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:le.confirmPassword})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client Code *"}),o.jsx("input",{type:"text",value:V.clientCode,onChange:xe=>K({...V,clientCode:xe.target.value.toUpperCase()}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 font-mono ${le.clientCode?"border-red-500":"border-gray-700"}`,placeholder:"ABC123XYZ",style:{textTransform:"uppercase"}}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the unique client code provided to you by InnoVend"}),le.clientCode&&o.jsx("p",{className:"text-xs text-red-400 mt-1",children:le.clientCode})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(nl,{siteKey:r,onSuccess:ye,onError:()=>ye(""),onExpire:()=>ye("")})}),o.jsx("button",{onClick:gt,disabled:!Ie||pe,className:`w-full py-3 rounded-lg font-semibold transition ${Ie&&!pe?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:pe?"Creating Account...":"Create Account"}),o.jsx("div",{className:"text-center text-sm",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[o.jsx("span",{children:"Already have an account?"}),o.jsx("button",{onClick:()=>{k(!1),j(!0)},className:"text-cyan-400 hover:underline font-medium",children:"Log In"})]})})]})]})})]})}function Sr(){const{signIn:O,signOut:V}=Ec(),[K,de]=T.useState({email:"",password:""}),[Z,pe]=T.useState(""),[he,Ae]=T.useState(""),[Be,le]=T.useState(!1),[ie,be]=T.useState(""),ye=K.email&&K.password&&ie,ze=Z.length===6,Ee=()=>{I(!1),C(1),ge(""),Pe(""),de({email:"",password:""}),pe(""),Ae(""),n.pathname==="/admin-access-secure-portal"&&e("/")},De=async()=>{Ae(""),le(!0);try{await O(K.email,K.password),await V();const ve=Ln(),gt=await Hn(ve,"sendAdmin2FACode")({email:K.email,turnstileToken:ie});ge(K.email),Pe(K.password),C(2)}catch(ve){try{const Ie=Ln(),gt=Hn(Ie,"logFailedAdminLogin");let xe="Unknown error";ve.code==="auth/user-not-found"?xe="User not found":ve.code==="auth/wrong-password"||ve.code==="auth/invalid-credential"?xe="Wrong password":ve.message?.includes("Not an admin account")?xe="Not an admin account":(ve.message?.includes("CAPTCHA")||ve.message?.includes("Turnstile"))&&(xe="Turnstile/CAPTCHA verification failed"),await gt({email:K.email,reason:xe})}catch(Ie){console.error("Failed to log admin login failure:",Ie)}ve.code==="auth/user-not-found"?Ae("No admin account found with this email."):ve.code==="auth/wrong-password"||ve.code==="auth/invalid-credential"?Ae("Incorrect password."):ve.message?.includes("Not an admin account")?Ae("This account does not have admin privileges."):ve.message?.includes("CAPTCHA")||ve.message?.includes("Turnstile")?Ae("CAPTCHA verification failed. Please try again."):Ae("Admin login failed. Please try again.")}finally{le(!1)}},We=async()=>{Ae(""),le(!0);try{const ve=Ln();await Hn(ve,"verifyAdmin2FACode")({email:te,code:Z}),await O(te,Te),I(!1),C(1),ge(""),Pe(""),e("/"),Ne("admin"),window.scrollTo(0,0)}catch(ve){try{const Ie=Ln();await Hn(Ie,"logFailedAdminLogin")({email:te,reason:`Failed 2FA verification: ${ve.message||"unknown"}`})}catch(Ie){console.error("Failed to log 2FA failure:",Ie)}ve.message?.includes("Invalid verification code")?Ae("Invalid verification code. Please try again."):ve.message?.includes("Code has expired")?(Ae("Verification code has expired. Please request a new one."),C(1)):ve.message?.includes("already been used")?(Ae("This code has already been used. Please request a new one."),C(1)):Ae("Verification failed. Please try again.")}finally{le(!1)}};return o.jsxs(o.Fragment,{children:[Be&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md z-[60] flex items-center justify-center",children:o.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 border border-blue-400/30 shadow-2xl text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),o.jsx("p",{className:"text-lg font-semibold text-white",children:Ze===1?"Verifying credentials...":"Verifying 2FA code..."}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Please wait a moment"})]})}),o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Admin Login"}),o.jsx("button",{onClick:Ee,className:"text-gray-400 hover:text-white","aria-label":"Close",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 text-yellow-400 text-sm",children:" Admin access only. 2FA required. Unauthorized attempts logged."}),he&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:he}),Ze===1?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Email"}),o.jsx("input",{type:"email",value:K.email,onChange:ve=>de({...K,email:ve.target.value}),onKeyPress:ve=>ve.key==="Enter"&&ye&&De(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Password"}),o.jsx("input",{type:"password",value:K.password,onChange:ve=>de({...K,password:ve.target.value}),onKeyPress:ve=>ve.key==="Enter"&&ye&&De(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(nl,{siteKey:r,onSuccess:be,onError:()=>be(""),onExpire:()=>be("")})}),o.jsx("button",{onClick:De,disabled:!ye||Be,className:`w-full py-3 rounded-lg font-semibold transition ${ye&&!Be?"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:Be?"Verifying...":"Send 2FA Code"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 text-blue-400 text-sm",children:" A 6-digit verification code has been sent to your email. Please check your inbox (and spam folder)."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"6-Digit Verification Code"}),o.jsx("input",{type:"text",value:Z,onChange:ve=>{const Ie=ve.target.value.replace(/\D/g,"");Ie.length<=6&&pe(Ie)},onKeyPress:ve=>ve.key==="Enter"&&ze&&We(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 text-center text-2xl tracking-widest font-mono",placeholder:"000000",maxLength:6,autoFocus:!0})]}),o.jsx("button",{onClick:We,disabled:!ze||Be,className:`w-full py-3 rounded-lg font-semibold transition ${ze&&!Be?"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:Be?"Verifying...":"Verify & Login"}),o.jsx("button",{onClick:()=>{C(1),ge(""),Pe(""),pe(""),Ae("")},className:"w-full text-sm text-gray-400 hover:text-white",children:" Request New Code"})]}),o.jsx("div",{className:"text-center text-sm",children:o.jsx("button",{onClick:Ee,className:"text-gray-500 hover:text-gray-300",children:" Back to Home"})})]})]})})]})}function Nl(){const[O,V]=T.useState(1),[K,de]=T.useState(""),[Z,pe]=T.useState(""),[he,Ae]=T.useState(""),[Be,le]=T.useState(""),[ie,be]=T.useState(""),[ye,ze]=T.useState(""),[Ee,De]=T.useState(!1),[We,ve]=T.useState(""),Ie=K&&tr(K)&&We,gt=Z.length===6&&he.length>=8&&he===Be,xe=async()=>{be(""),ze(""),De(!0);try{const dt=Ln();await Hn(dt,"sendPasswordResetEmail")({email:K,turnstileToken:We}),ze("If an account exists with this email, a reset code has been sent."),V(2)}catch{be("Failed to send reset email. Please try again.")}finally{De(!1)}},Fe=async()=>{be(""),ze(""),De(!0);try{const dt=Ln();await Hn(dt,"resetPasswordWithCode")({email:K,resetCode:Z,newPassword:he}),ze("Password reset successful! You can now log in with your new password."),setTimeout(()=>{_t(!1),j(!0)},2e3)}catch(dt){dt.message?.includes("Invalid reset code")?be("Invalid reset code. Please try again."):dt.message?.includes("expired")?(be("Reset code has expired. Please request a new one."),V(1)):be("Failed to reset password. Please try again.")}finally{De(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Reset Password"}),o.jsx("button",{onClick:()=>_t(!1),className:"text-gray-400 hover:text-white","aria-label":"Close",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[ie&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:ie}),ye&&o.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4 text-green-400 text-sm",children:ye}),O===1?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-gray-300 text-sm",children:"Enter your email address and we'll send you a verification code to reset your password."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:K,onChange:dt=>de(dt.target.value),onKeyPress:dt=>dt.key==="Enter"&&Ie&&xe(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"your.email@example.com",autoFocus:!0})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(nl,{siteKey:r,onSuccess:ve,onError:()=>ve(""),onExpire:()=>ve("")})}),o.jsx("button",{onClick:xe,disabled:!Ie||Ee,className:`w-full py-3 rounded-lg font-semibold transition ${Ie&&!Ee?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:Ee?"Sending...":"Send Reset Code"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 text-blue-400 text-sm",children:" Check your email for the 6-digit reset code."}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"6-Digit Reset Code"}),o.jsx("input",{type:"text",value:Z,onChange:dt=>{const mn=dt.target.value.replace(/\D/g,"");mn.length<=6&&pe(mn)},className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 text-center text-2xl tracking-widest font-mono",placeholder:"000000",maxLength:6,autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"New Password"}),o.jsx("input",{type:"password",value:he,onChange:dt=>Ae(dt.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"At least 8 characters"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm New Password"}),o.jsx("input",{type:"password",value:Be,onChange:dt=>le(dt.target.value),onKeyPress:dt=>dt.key==="Enter"&&gt&&Fe(),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Re-enter password"}),Be&&he!==Be&&o.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Passwords don't match"})]}),o.jsx("button",{onClick:Fe,disabled:!gt||Ee,className:`w-full py-3 rounded-lg font-semibold transition ${gt&&!Ee?"bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:Ee?"Resetting...":"Reset Password"}),o.jsx("button",{onClick:()=>{V(1),pe(""),Ae(""),le(""),be("")},className:"w-full text-sm text-gray-400 hover:text-white",children:" Request New Code"})]}),o.jsx("div",{className:"text-center text-sm",children:o.jsx("button",{onClick:()=>{_t(!1),j(!0)},className:"text-gray-500 hover:text-gray-300",children:" Back to Login"})})]})]})})}function Ar(){const[O,V]=T.useState(null),[K,de]=T.useState(!0);return T.useEffect(()=>{(async()=>{if(!l?.machineId){de(!1);return}try{const pe=await Vd(sa(yn,"machines",l.machineId));pe.exists()&&V(pe.data())}catch(pe){console.error("Error fetching machine data:",pe)}finally{de(!1)}})()},[l?.machineId]),K?o.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"h-10 bg-slate-800 rounded w-1/3 mb-2 animate-pulse"}),o.jsx("div",{className:"h-4 bg-slate-800 rounded w-1/4 animate-pulse"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[o.jsx(Ji,{type:"stat"}),o.jsx(Ji,{type:"stat"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsx(Ji,{type:"card"}),o.jsx(Ji,{type:"card"})]})]})}):o.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx(ao,{items:[{label:"Home",onClick:()=>Ne("home")},{label:"Dashboard"}]}),o.jsxs("div",{className:"mb-8 flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome back, ",l?.firstName,"!"]}),o.jsxs("p",{className:"text-gray-400",children:[l?.businessName,"  Member since"," ",l?.createdAt?new Date(l.createdAt.toDate()).toLocaleDateString():"N/A"]})]}),o.jsxs("button",{onClick:()=>Xe(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg",children:[o.jsx(dA,{className:"w-4 h-4"}),o.jsx("span",{children:"Edit Profile"})]})]}),l?.machineId?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Status"}),o.jsx(Wo,{className:"w-5 h-5 text-cyan-400"})]}),o.jsx("p",{className:"text-2xl font-bold capitalize",children:O?.status||"Active"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current"})]}),o.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Machine Type"}),o.jsx(gd,{className:"w-5 h-5 text-purple-400"})]}),o.jsx("p",{className:"text-2xl font-bold capitalize",children:O?.machineType||"Combo"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Your Vending Machine"}),O?.machinePhotoUrl?o.jsx("img",{src:O.machinePhotoUrl,alt:"Vending machine",className:"w-full h-64 object-cover rounded-lg mb-4"}):o.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg flex items-center justify-center mb-4",children:o.jsx("span",{className:"text-6xl",children:""})}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Location:"})," ",O?.location?.address||l?.businessName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Installed:"})," ",O?.installDate?new Date(O.installDate.toDate()).toLocaleDateString():"N/A"]})]})]}),o.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Contract Information"}),O?.contractPdfUrl?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold",children:"Signed Contract"}),o.jsx("p",{className:"text-xs text-gray-400",children:"PDF Document"})]})]}),o.jsx("a",{href:O.contractPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg text-sm transition",children:"View PDF"})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Contract End Date"}),o.jsx("p",{className:"font-semibold",children:O?.contractEndDate?new Date(O.contractEndDate.toDate()).toLocaleDateString():"N/A"})]}),O?.contractEndDate&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Time Remaining"}),o.jsxs("p",{className:"font-semibold text-cyan-400",children:[Math.max(0,Math.ceil((O.contractEndDate.toDate()-new Date)/(1e3*60*60*24)))," ","days"]})]})]})]}):o.jsx("div",{className:"text-center py-8 text-gray-400",children:o.jsx("p",{children:"Contract document will be available soon"})})]})]}),o.jsxs("div",{className:"mt-8 bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Recent Activity"}),o.jsx("div",{className:"text-center py-8 text-gray-400",children:o.jsx("p",{children:"Live stats and transaction history coming soon!"})})]})]}):o.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-xl p-8 text-center",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Machine Assigned Yet"}),o.jsx("p",{className:"text-gray-300",children:"Your vending machine will be assigned soon. We'll notify you once it's ready!"})]})]})})}function Na(){const[O,V]=T.useState([]),[K,de]=T.useState([]),[Z,pe]=T.useState([]),[he,Ae]=T.useState([]),[Be,le]=T.useState([]),[ie,be]=T.useState([]),[ye,ze]=T.useState([]),[Ee,De]=T.useState(!0),[We,ve]=T.useState("users"),[Ie,gt]=T.useState(!1),[xe,Fe]=T.useState(!1),[dt,mn]=T.useState(!1),[Cr,un]=T.useState(!1),[Rr,Ir]=T.useState(null),[ho,kr]=T.useState(""),[Sl,Dr]=T.useState("asc"),[Pn,Al]=T.useState(""),[fo,mo]=T.useState("asc"),[Sa,jl]=T.useState(""),[Or,Aa]=T.useState("asc"),[gs,po]=T.useState(""),[Zn,Mr]=T.useState("asc"),[Os,xi]=T.useState(""),[ja,Pr]=T.useState("asc"),[ys,es]=T.useState(1),[vi,wt]=T.useState(1),[Ms,go]=T.useState(1),[_i,yo]=T.useState(1),[wi,sr]=T.useState(1),[bs,pn]=T.useState(1),[rr,Ps]=T.useState(1),[Vr,bo]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[Lr,Ca]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[Vs,Ra]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[xo,Ei]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[Cl,Rl]=T.useState({showFilters:!1,searchText:"",status:"all",dateFrom:"",dateTo:""}),[Ni,vo]=T.useState([]),[Il,Ti]=T.useState([]),[kl,_o]=T.useState([]),[Ls,wo]=T.useState([]),[Dl,Ol]=T.useState([]),[Ml,Ur]=T.useState([]),[An,Pl]=T.useState([]),[Vl,ir]=T.useState(!1),[d,b]=T.useState(null),[v,N]=T.useState(!1),B=(q,Re=5)=>{const mt=`recentlyViewed_${q}`;return JSON.parse(localStorage.getItem(mt)||"[]").slice(0,Re)};T.useEffect(()=>{Ti(B("users",5)),_o(B("businesses",5)),wo(B("machines",5))},[]),T.useEffect(()=>{let Re;const mt=()=>{Re&&clearTimeout(Re),Re=setTimeout(async()=>{console.log("Admin session timed out due to inactivity"),await u(),Ne("home"),alert("Your session has expired due to inactivity. Please log in again.")},9e5)},et=["mousedown","mousemove","keydown","scroll","touchstart","click"];et.forEach(Ft=>{window.addEventListener(Ft,mt)}),mt();const tt=async Ft=>{u()};return window.addEventListener("beforeunload",tt),()=>{Re&&clearTimeout(Re),et.forEach(Ft=>{window.removeEventListener(Ft,mt)}),window.removeEventListener("beforeunload",tt)}},[]),T.useEffect(()=>{Y()},[]);const Y=async()=>{try{const Re=(await $a(Fs(yn,"users"))).docs.map(Ot=>({id:Ot.id,...Ot.data()}));V(Re);const et=(await $a(Fs(yn,"businesses"))).docs.map(Ot=>({id:Ot.id,...Ot.data()}));de(et);const Ft=(await $a(Fs(yn,"clientCodes"))).docs.map(Ot=>({id:Ot.id,...Ot.data()}));pe(Ft);const ts=(await $a(Fs(yn,"machines"))).docs.map(Ot=>({id:Ot.id,...Ot.data()}));Ae(ts);const ns=lp(Fs(yn,"serviceRequests"),cp("submittedAt","desc"),up(50)),Ai=(await $a(ns)).docs.map(Ot=>({id:Ot.id,...Ot.data()}));le(Ai);const ji=lp(Fs(yn,"failedAdminLogins"),cp("timestamp","desc"),up(50)),Ph=(await $a(ji)).docs.map(Ot=>({id:Ot.id,...Ot.data()}));be(Ph);const Vh=lp(Fs(yn,"passwordChanges"),cp("timestamp","desc"),up(50)),du=(await $a(Vh)).docs.map(Ot=>({id:Ot.id,...Ot.data()}));ze(du)}catch(q){console.error("Error fetching admin data:",q)}finally{De(!1)}};return Ee?o.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"h-10 bg-slate-800 rounded w-1/4 mb-8 animate-pulse"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[o.jsx(Ji,{type:"stat"}),o.jsx(Ji,{type:"stat"}),o.jsx(Ji,{type:"stat"})]}),o.jsxs("div",{className:"bg-slate-800/50 border border-gray-700 rounded-xl p-6",children:[o.jsx("div",{className:"h-6 bg-slate-700 rounded w-1/6 mb-4 animate-pulse"}),[1,2,3,4,5].map(q=>o.jsx(Ji,{type:"table-row"},q))]})]})}):o.jsxs("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx(ao,{items:[{label:"Home",onClick:()=>Ne("home")},{label:"Admin Panel"}]}),o.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Admin Dashboard"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 p-6 rounded-xl border border-purple-400/30",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Users"}),o.jsx(Qm,{className:"w-5 h-5 text-purple-400"})]}),o.jsx("p",{className:"text-3xl font-bold",children:O.length})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Active Machines"}),o.jsx(gd,{className:"w-5 h-5 text-blue-400"})]}),o.jsx("p",{className:"text-3xl font-bold",children:he.filter(q=>q.status==="active").length})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-cyan-500/20 p-6 rounded-xl border border-green-400/30",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Client Codes"}),o.jsx(Ym,{className:"w-5 h-5 text-green-400"})]}),o.jsxs("p",{className:"text-3xl font-bold",children:[Z.filter(q=>!q.used).length," available"]})]})]}),o.jsxs("div",{className:"flex space-x-4 mb-6 border-b border-gray-700",children:[o.jsxs("button",{onClick:()=>ve("users"),className:`px-6 py-3 font-semibold transition ${We==="users"?"border-b-2 border-purple-400 text-purple-400":"text-gray-400 hover:text-white"}`,children:["Users (",O.length,")"]}),o.jsxs("button",{onClick:()=>ve("businesses"),className:`px-6 py-3 font-semibold transition ${We==="businesses"?"border-b-2 border-orange-400 text-orange-400":"text-gray-400 hover:text-white"}`,children:["Businesses (",K.length,")"]}),o.jsxs("button",{onClick:()=>ve("codes"),className:`px-6 py-3 font-semibold transition ${We==="codes"?"border-b-2 border-blue-400 text-blue-400":"text-gray-400 hover:text-white"}`,children:["Client Codes (",Z.length,")"]}),o.jsxs("button",{onClick:()=>ve("machines"),className:`px-6 py-3 font-semibold transition ${We==="machines"?"border-b-2 border-cyan-400 text-cyan-400":"text-gray-400 hover:text-white"}`,children:["Machines (",he.length,")"]}),o.jsxs("button",{onClick:()=>ve("requests"),className:`px-6 py-3 font-semibold transition ${We==="requests"?"border-b-2 border-green-400 text-green-400":"text-gray-400 hover:text-white"}`,children:[o.jsx(W1,{className:"w-4 h-4 inline mr-2"}),"Service Requests (",Be.length,")"]}),o.jsxs("button",{onClick:()=>ve("failedLogins"),className:`px-6 py-3 font-semibold transition ${We==="failedLogins"?"border-b-2 border-red-400 text-red-400":"text-gray-400 hover:text-white"}`,children:[o.jsx(Km,{className:"w-4 h-4 inline mr-2"}),"Failed Logins (",ie.length,")"]}),o.jsxs("button",{onClick:()=>ve("passwordChanges"),className:`px-6 py-3 font-semibold transition ${We==="passwordChanges"?"border-b-2 border-yellow-400 text-yellow-400":"text-gray-400 hover:text-white"}`,children:[o.jsx(Wo,{className:"w-4 h-4 inline mr-2"}),"Password Changes (",ye.length,")"]})]}),We==="users"&&o.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsx("h2",{className:"text-2xl font-bold",children:"User Accounts"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Role"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Joined"})]})}),o.jsx("tbody",{children:O.length>0?O.map(q=>o.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("button",{onClick:()=>{_r(q),Rt(!0)},className:"text-blue-400 hover:text-blue-300 hover:underline flex items-center space-x-1",children:[o.jsxs("span",{children:[q.firstName," ",q.lastName]}),o.jsx($m,{className:"w-3 h-3"})]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:q.email}),o.jsx("td",{className:"px-6 py-4 text-sm",children:q.businessId?o.jsxs("button",{onClick:()=>{const Re=K.find(mt=>mt.id===q.businessId);Re&&(Ir(Re),un(!0))},className:"text-orange-400 hover:text-orange-300 hover:underline flex items-center space-x-1",children:[o.jsx("span",{children:K.find(Re=>Re.id===q.businessId)?.businessName||q.businessName||"Unknown"}),K.find(Re=>Re.id===q.businessId)&&o.jsx($m,{className:"w-3 h-3"})]}):o.jsx("span",{className:"text-gray-500",children:q.businessName||"No Business"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:q.role||"client"})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:q.createdAt?new Date(q.createdAt.toDate()).toLocaleDateString():"N/A"})]},q.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:"No users found"})})})]})})]}),We==="businesses"&&o.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Business Management"}),o.jsxs("button",{onClick:()=>mn(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg transition",children:[o.jsx(Gm,{className:"w-4 h-4"}),o.jsx("span",{children:"Add Business"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business Name"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Type"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Primary Contact"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Users"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Machines"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-700",children:K.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-400",children:'No businesses yet. Click "Add Business" to create your first business.'})}):K.map(q=>o.jsxs("tr",{className:"hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"font-medium",children:q.businessName})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs capitalize",children:q.businessType||"Other"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{children:q.primaryContact?.name||"N/A"}),o.jsx("div",{className:"text-gray-400 text-xs",children:q.primaryContact?.email||""})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-purple-400 font-semibold",children:q.users?.length||0})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-cyan-400 font-semibold",children:q.machines?.length||0})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${q.status==="active"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:q.status||"Active"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>{Ir(q),un(!0)},className:"text-blue-400 hover:text-blue-300 transition",children:o.jsx($m,{className:"w-5 h-5"})})})]},q.id))})]})})]}),We==="codes"&&o.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Client Codes"}),o.jsxs("button",{onClick:()=>gt(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg transition",children:[o.jsx(Gm,{className:"w-5 h-5"}),o.jsx("span",{children:"Create New Code"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Code"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Created"})]})}),o.jsx("tbody",{children:Z.length>0?Z.map(q=>o.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4 font-mono text-cyan-400",children:q.code}),o.jsxs("td",{className:"px-6 py-4",children:[q.firstName," ",q.lastName]}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:q.email}),o.jsx("td",{className:"px-6 py-4 text-sm",children:q.businessName||"N/A"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.used?"bg-gray-500/20 text-gray-400":"bg-green-500/20 text-green-400"}`,children:q.used?"Used":"Available"})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:q.createdAt?new Date(q.createdAt.toDate()).toLocaleDateString():"N/A"})]},q.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No client codes found. Create one to get started."})})})]})})]}),We==="machines"&&o.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Vending Machines"}),o.jsxs("button",{onClick:()=>Fe(!0),className:"flex items-center space-x-2 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition",children:[o.jsx(Gm,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Machine"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Machine ID"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Type"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Location"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Assigned Users"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Installed"})]})}),o.jsx("tbody",{children:he.length>0?he.map(q=>{const Re=K.find(tt=>tt.id===q.businessId),mt=q.assignedUsers?.map(tt=>O.find(Ft=>Ft.id===tt)).filter(Boolean)||[],et=O.find(tt=>tt.id===q.userId);return o.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4 font-mono text-cyan-400",children:q.machineId}),o.jsx("td",{className:"px-6 py-4 capitalize",children:q.machineType}),o.jsx("td",{className:"px-6 py-4 text-sm",children:q.location?.address||q.businessName}),o.jsx("td",{className:"px-6 py-4 text-sm",children:Re?o.jsx("button",{onClick:()=>{Ir(Re),un(!0)},className:"text-orange-400 hover:text-orange-300 hover:underline",children:Re.businessName}):o.jsx("span",{className:"text-gray-500",children:q.businessName||"No Business"})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:mt.length>0?o.jsx("div",{className:"flex flex-wrap gap-1",children:mt.map((tt,Ft)=>o.jsxs("span",{className:"text-xs px-2 py-1 bg-purple-500/20 text-purple-400 rounded",children:[tt.firstName," ",tt.lastName,Ft<mt.length-1?",":""]},tt.id))}):et?o.jsxs("span",{className:"text-xs",children:[et.firstName," ",et.lastName," (legacy)"]}):o.jsx("span",{className:"text-gray-500",children:"Unassigned"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs capitalize ${q.status==="active"?"bg-green-500/20 text-green-400":q.status==="maintenance"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:q.status||"active"})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:q.installDate?new Date(q.installDate.toDate()).toLocaleDateString():"N/A"})]},q.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No machines found. Add one to get started."})})})]})})]}),We==="requests"&&o.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-green-400/20 overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsx("h2",{className:"text-2xl font-bold",children:"Service Requests"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Date"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Phone"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Status"})]})}),o.jsx("tbody",{children:Be.length>0?Be.map(q=>o.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4 text-sm",children:q.submittedAt?new Date(q.submittedAt.toDate()).toLocaleDateString():"N/A"}),o.jsxs("td",{className:"px-6 py-4",children:[q.firstName," ",q.lastName]}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:q.email}),o.jsx("td",{className:"px-6 py-4 text-sm",children:q.businessName}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:q.phone}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.status==="pending"?"bg-yellow-500/20 text-yellow-400":q.status==="contacted"?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"}`,children:q.status||"pending"})})]},q.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No service requests yet."})})})]})})]}),We==="failedLogins"&&o.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-red-400/20 overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[o.jsx(Km,{className:"w-6 h-6 text-red-400"}),o.jsx("span",{children:"Unauthorized Admin Login Attempts"})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Timestamp"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Reason"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"IP Address"})]})}),o.jsx("tbody",{children:ie.length>0?ie.map(q=>o.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4 text-sm",children:q.timestamp?new Date(q.timestamp.toDate()).toLocaleString():"N/A"}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-300",children:q.email}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-500/20 text-red-400",children:q.reason})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-400 font-mono",children:q.ipAddress})]},q.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"No failed login attempts recorded."})})})]})})]}),We==="passwordChanges"&&o.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-yellow-400/20 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[o.jsx(Wo,{className:"w-6 h-6 text-yellow-400"}),o.jsx("span",{children:"Password Reset Activity"})]}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Monitor all password changes for security purposes"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-900",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Timestamp"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"User ID"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Method"})]})}),o.jsx("tbody",{children:ye.length>0?ye.map(q=>o.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4 text-sm",children:q.timestamp?new Date(q.timestamp.toDate()).toLocaleString():"N/A"}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-300",children:q.email}),o.jsxs("td",{className:"px-6 py-4 text-sm text-gray-400 font-mono",children:[q.userId?.substring(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.method==="reset-with-code"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:q.method==="reset-with-code"?"Email Reset":q.method})})]},q.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-400",children:"No password changes recorded yet."})})})]})})]})]}),Tt&&Ws&&o.jsx(Jn,{user:Ws,onClose:()=>{Rt(!1),_r(null)},onSuccess:Y}),Ie&&o.jsx(Ta,{onClose:()=>gt(!1),onSuccess:Y}),xe&&o.jsx(jr,{onClose:()=>Fe(!1),onSuccess:Y,users:O,businesses:K}),dt&&o.jsx(Ds,{onClose:()=>mn(!1),onSuccess:Y}),Cr&&Rr&&o.jsx(lo,{business:Rr,onClose:()=>{un(!1),Ir(null)},onSuccess:Y,users:O,machines:he})]})}function Ta({onClose:O,onSuccess:V}){const[K,de]=T.useState({code:"",firstName:"",lastName:"",email:"",phone:"",businessName:""}),[Z,pe]=T.useState(!1),[he,Ae]=T.useState(""),Be=()=>{const ie="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let be="";for(let ye=0;ye<9;ye++)be+=ie.charAt(Math.floor(Math.random()*ie.length));de(ye=>({...ye,code:be}))},le=async ie=>{ie.preventDefault(),Ae(""),pe(!0);try{const be=Ln();(await Hn(be,"createClientCode")({code:K.code,firstName:K.firstName,lastName:K.lastName,email:K.email,phone:K.phone,businessName:K.businessName})).data.success&&(V(),O())}catch(be){console.error("Error creating client code:",be),Ae(be.message||"Failed to create client code")}finally{pe(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Create New Client Code"}),o.jsx("button",{onClick:O,className:"text-gray-400 hover:text-white transition",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:le,className:"p-6 space-y-4 overflow-y-auto",children:[he&&o.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:he}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client Code"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"text",value:K.code,onChange:ie=>de(be=>({...be,code:ie.target.value.toUpperCase()})),className:"flex-1 bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none font-mono",placeholder:"XXXABC123",required:!0}),o.jsx("button",{type:"button",onClick:Be,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 rounded-lg transition",children:"Generate"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),o.jsx("input",{type:"text",value:K.firstName,onChange:ie=>de(be=>({...be,firstName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),o.jsx("input",{type:"text",value:K.lastName,onChange:ie=>de(be=>({...be,lastName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),o.jsx("input",{type:"email",value:K.email,onChange:ie=>de(be=>({...be,email:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone (10 digits)"}),o.jsx("input",{type:"tel",value:K.phone,onChange:ie=>de(be=>({...be,phone:ie.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none",placeholder:"5551234567",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),o.jsx("input",{type:"text",value:K.businessName,onChange:ie=>de(be=>({...be,businessName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-blue-500 focus:outline-none"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:O,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg transition",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:Z,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:Z?"Creating...":"Create Client Code"})]})]})]})})}function jr({onClose:O,onSuccess:V,users:K,businesses:de}){const[Z,pe]=T.useState({machineId:"",businessId:"",assignedUsers:[],machineType:"combo",address:"",city:"",state:"MD",zip:"",status:"active",installDate:new Date().toISOString().split("T")[0],contractEndDate:""}),[he,Ae]=T.useState(!1),[Be,le]=T.useState(""),ie=()=>{const ye=Date.now().toString().slice(-6),ze=Math.floor(Math.random()*1e3).toString().padStart(3,"0");pe(Ee=>({...Ee,machineId:`VM${ye}${ze}`}))},be=async ye=>{ye.preventDefault(),le(""),Ae(!0);try{const ze=de.find(De=>De.id===Z.businessId),Ee=sa(yn,"machines",Z.machineId);if(await uN(Ee,{machineId:Z.machineId,businessId:Z.businessId||null,assignedUsers:Z.assignedUsers||[],primaryContact:Z.assignedUsers.length>0?Z.assignedUsers[0]:null,location:{address:Z.address,city:Z.city,state:Z.state,zip:Z.zip},machineType:Z.machineType,installDate:Ct.fromDate(new Date(Z.installDate)),contractSignedDate:Ct.fromDate(new Date(Z.installDate)),contractEndDate:Z.contractEndDate?Ct.fromDate(new Date(Z.contractEndDate)):null,contractPdfUrl:null,machinePhotoUrl:null,status:Z.status,stats:{totalSales:0,totalTransactions:0,lastRestocked:null},createdAt:ni(),updatedAt:ni()}),Z.businessId){const De=sa(yn,"businesses",Z.businessId),We=await Vd(De);if(We.exists()){const ve=We.data().machines||[];await a_(De,{machines:[...ve,Z.machineId],updatedAt:ni()})}}V(),O()}catch(ze){console.error("Error creating machine:",ze),le(ze.message||"Failed to create machine")}finally{Ae(!1)}};return K.filter(ye=>ye.role!=="admin"),o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-cyan-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Add Vending Machine"}),o.jsx("button",{onClick:O,className:"text-gray-400 hover:text-white transition",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:be,className:"p-6 space-y-4 overflow-y-auto",children:[Be&&o.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:Be}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Machine ID"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"text",value:Z.machineId,onChange:ye=>pe(ze=>({...ze,machineId:ye.target.value.toUpperCase()})),className:"flex-1 bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none font-mono",placeholder:"VM123456789",required:!0}),o.jsx("button",{type:"button",onClick:ie,className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition",children:"Generate"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Assign to Business (Required)"}),o.jsxs("select",{value:Z.businessId,onChange:ye=>{const ze=ye.target.value;pe(Ee=>({...Ee,businessId:ze,assignedUsers:[]}))},className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0,children:[o.jsx("option",{value:"",children:"Select a business..."}),de.map(ye=>o.jsxs("option",{value:ye.id,children:[ye.businessName," (",ye.primaryContact?.name||"No contact",")"]},ye.id))]})]}),Z.businessId&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Assign Users (Optional - Select users who can access this machine)"}),o.jsxs("div",{className:"bg-slate-800 border border-gray-700 rounded-lg p-4 max-h-40 overflow-y-auto",children:[K.filter(ye=>ye.businessId===Z.businessId&&ye.role!=="admin").map(ye=>o.jsxs("label",{className:"flex items-center space-x-2 py-2 hover:bg-slate-700 px-2 rounded cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:Z.assignedUsers.includes(ye.id),onChange:ze=>{ze.target.checked?pe(Ee=>({...Ee,assignedUsers:[...Ee.assignedUsers,ye.id]})):pe(Ee=>({...Ee,assignedUsers:Ee.assignedUsers.filter(De=>De!==ye.id)}))},className:"w-4 h-4 text-cyan-500 bg-slate-700 border-gray-600 rounded focus:ring-cyan-500"}),o.jsxs("span",{className:"text-sm",children:[ye.firstName," ",ye.lastName," (",ye.email,")"]})]},ye.id)),K.filter(ye=>ye.businessId===Z.businessId&&ye.role!=="admin").length===0&&o.jsx("p",{className:"text-gray-400 text-sm",children:"No users found for this business"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Machine Type"}),o.jsxs("select",{value:Z.machineType,onChange:ye=>pe(ze=>({...ze,machineType:ye.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0,children:[o.jsx("option",{value:"snack",children:"Snack Machine"}),o.jsx("option",{value:"drink",children:"Drink Machine"}),o.jsx("option",{value:"combo",children:"Combo (Snack + Drink)"}),o.jsx("option",{value:"coffee",children:"Coffee Machine"}),o.jsx("option",{value:"healthy",children:"Healthy Snacks"}),o.jsx("option",{value:"ice-cream",children:"Ice Cream"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),o.jsx("input",{type:"text",value:Z.address,onChange:ye=>pe(ze=>({...ze,address:ye.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"City"}),o.jsx("input",{type:"text",value:Z.city,onChange:ye=>pe(ze=>({...ze,city:ye.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"State"}),o.jsx("input",{type:"text",value:Z.state,onChange:ye=>pe(ze=>({...ze,state:ye.target.value.toUpperCase().slice(0,2)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",maxLength:"2",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code"}),o.jsx("input",{type:"text",value:Z.zip,onChange:ye=>pe(ze=>({...ze,zip:ye.target.value.slice(0,5)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",maxLength:"5",required:!0})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Install Date"}),o.jsx("input",{type:"date",value:Z.installDate,onChange:ye=>pe(ze=>({...ze,installDate:ye.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contract End Date (Optional)"}),o.jsx("input",{type:"date",value:Z.contractEndDate,onChange:ye=>pe(ze=>({...ze,contractEndDate:ye.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),o.jsxs("select",{value:Z.status,onChange:ye=>pe(ze=>({...ze,status:ye.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-cyan-500 focus:outline-none",required:!0,children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:O,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg transition",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:he,className:"flex-1 px-4 py-3 bg-cyan-500 hover:bg-cyan-600 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:he?"Creating...":"Add Machine"})]})]})]})})}function Ds({onClose:O,onSuccess:V}){const[K,de]=T.useState({businessName:"",businessType:"other",primaryContact:{name:"",email:"",phone:""},primaryLocation:{address:"",city:"",state:"MD",zip:""},status:"active"}),[Z,pe]=T.useState(!1),[he,Ae]=T.useState(""),Be=async le=>{le.preventDefault(),pe(!0),Ae("");try{await Ed(Fs(yn,"businesses"),{...K,users:[],machines:[],settings:{allowEmployeeAccess:!0,notifyOnRestock:!0,preferredContactMethod:"email"},createdAt:ni(),createdBy:i?.uid||"admin",updatedAt:ni()}),V(),O()}catch(ie){console.error("Error creating business:",ie),Ae("Failed to create business. Please try again.")}finally{pe(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full border border-orange-400/30 shadow-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[o.jsx("h2",{className:"text-2xl font-bold text-orange-400",children:"Create New Business"}),o.jsx("button",{onClick:O,className:"text-gray-400 hover:text-white",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:Be,className:"p-6 space-y-6",children:[he&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:he}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Business Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name *"}),o.jsx("input",{type:"text",value:K.businessName,onChange:le=>de(ie=>({...ie,businessName:le.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Type *"}),o.jsxs("select",{value:K.businessType,onChange:le=>de(ie=>({...ie,businessType:le.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[o.jsx("option",{value:"salon",children:"Salon"}),o.jsx("option",{value:"gym",children:"Gym"}),o.jsx("option",{value:"office",children:"Office"}),o.jsx("option",{value:"medical",children:"Medical"}),o.jsx("option",{value:"retail",children:"Retail"}),o.jsx("option",{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Primary Contact"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Name *"}),o.jsx("input",{type:"text",value:K.primaryContact.name,onChange:le=>de(ie=>({...ie,primaryContact:{...ie.primaryContact,name:le.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),o.jsx("input",{type:"email",value:K.primaryContact.email,onChange:le=>de(ie=>({...ie,primaryContact:{...ie.primaryContact,email:le.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone *"}),o.jsx("input",{type:"tel",value:K.primaryContact.phone,onChange:le=>de(ie=>({...ie,primaryContact:{...ie.primaryContact,phone:le.target.value.replace(/\D/g,"").slice(0,10)}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",placeholder:"5551234567",maxLength:"10",required:!0})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Primary Location"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Street Address *"}),o.jsx("input",{type:"text",value:K.primaryLocation.address,onChange:le=>de(ie=>({...ie,primaryLocation:{...ie.primaryLocation,address:le.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"City *"}),o.jsx("input",{type:"text",value:K.primaryLocation.city,onChange:le=>de(ie=>({...ie,primaryLocation:{...ie.primaryLocation,city:le.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"State *"}),o.jsxs("select",{value:K.primaryLocation.state,onChange:le=>de(ie=>({...ie,primaryLocation:{...ie.primaryLocation,state:le.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[o.jsx("option",{value:"MD",children:"MD"}),o.jsx("option",{value:"VA",children:"VA"}),o.jsx("option",{value:"DC",children:"DC"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code *"}),o.jsx("input",{type:"text",value:K.primaryLocation.zip,onChange:le=>de(ie=>({...ie,primaryLocation:{...ie.primaryLocation,zip:le.target.value.slice(0,5)}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",maxLength:"5",required:!0})]})]})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"button",onClick:O,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:Z,className:`flex-1 py-3 rounded-lg font-semibold transition ${Z?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"}`,children:Z?"Creating...":"Create Business"})]})]})]})})}function lo({business:O,onClose:V,onSuccess:K,users:de,machines:Z}){const[pe,he]=T.useState({businessName:O.businessName||"",businessType:O.businessType||"other",primaryContact:{name:O.primaryContact?.name||"",email:O.primaryContact?.email||"",phone:O.primaryContact?.phone||""},primaryLocation:{address:O.primaryLocation?.address||"",city:O.primaryLocation?.city||"",state:O.primaryLocation?.state||"MD",zip:O.primaryLocation?.zip||""},status:O.status||"active"}),[Ae,Be]=T.useState(!1),[le,ie]=T.useState(""),be=de.filter(Ee=>Ee.businessId===O.id),ye=Z.filter(Ee=>Ee.businessId===O.id),ze=async Ee=>{Ee.preventDefault(),Be(!0),ie("");try{await a_(sa(yn,"businesses",O.id),{...pe,updatedAt:ni()}),K(),V()}catch(De){console.error("Error updating business:",De),ie("Failed to update business. Please try again.")}finally{Be(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full border border-orange-400/30 shadow-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-slate-900 z-10",children:[o.jsxs("h2",{className:"text-2xl font-bold text-orange-400",children:["Edit Business: ",O.businessName]}),o.jsx("button",{onClick:V,className:"text-gray-400 hover:text-white",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[le&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:le}),o.jsxs("form",{onSubmit:ze,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Business Information"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name *"}),o.jsx("input",{type:"text",value:pe.businessName,onChange:Ee=>he(De=>({...De,businessName:Ee.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Type *"}),o.jsxs("select",{value:pe.businessType,onChange:Ee=>he(De=>({...De,businessType:Ee.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[o.jsx("option",{value:"salon",children:"Salon"}),o.jsx("option",{value:"gym",children:"Gym"}),o.jsx("option",{value:"office",children:"Office"}),o.jsx("option",{value:"medical",children:"Medical"}),o.jsx("option",{value:"retail",children:"Retail"}),o.jsx("option",{value:"other",children:"Other"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),o.jsxs("select",{value:pe.status,onChange:Ee=>he(De=>({...De,status:Ee.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"suspended",children:"Suspended"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Primary Contact"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contact Name *"}),o.jsx("input",{type:"text",value:pe.primaryContact.name,onChange:Ee=>he(De=>({...De,primaryContact:{...De.primaryContact,name:Ee.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),o.jsx("input",{type:"email",value:pe.primaryContact.email,onChange:Ee=>he(De=>({...De,primaryContact:{...De.primaryContact,email:Ee.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone *"}),o.jsx("input",{type:"tel",value:pe.primaryContact.phone,onChange:Ee=>he(De=>({...De,primaryContact:{...De.primaryContact,phone:Ee.target.value.replace(/\D/g,"").slice(0,10)}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",placeholder:"5551234567",maxLength:"10",required:!0})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-orange-400",children:"Primary Location"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Street Address *"}),o.jsx("input",{type:"text",value:pe.primaryLocation.address,onChange:Ee=>he(De=>({...De,primaryLocation:{...De.primaryLocation,address:Ee.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"City *"}),o.jsx("input",{type:"text",value:pe.primaryLocation.city,onChange:Ee=>he(De=>({...De,primaryLocation:{...De.primaryLocation,city:Ee.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"State *"}),o.jsxs("select",{value:pe.primaryLocation.state,onChange:Ee=>he(De=>({...De,primaryLocation:{...De.primaryLocation,state:Ee.target.value}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",children:[o.jsx("option",{value:"MD",children:"MD"}),o.jsx("option",{value:"VA",children:"VA"}),o.jsx("option",{value:"DC",children:"DC"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"ZIP Code *"}),o.jsx("input",{type:"text",value:pe.primaryLocation.zip,onChange:Ee=>he(De=>({...De,primaryLocation:{...De.primaryLocation,zip:Ee.target.value.slice(0,5)}})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-2 focus:border-orange-500 focus:outline-none",maxLength:"5",required:!0})]})]})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"button",onClick:V,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:Ae,className:`flex-1 py-3 rounded-lg font-semibold transition ${Ae?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600"}`,children:Ae?"Saving...":"Save Changes"})]})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-purple-400 mb-4",children:["Team Members (",be.length,")"]}),be.length===0?o.jsx("p",{className:"text-gray-400 text-sm",children:"No users assigned to this business yet."}):o.jsx("div",{className:"space-y-2",children:be.map(Ee=>o.jsxs("div",{className:"flex items-center justify-between bg-slate-800 p-3 rounded-lg",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:[Ee.firstName," ",Ee.lastName]}),o.jsx("p",{className:"text-sm text-gray-400",children:Ee.email})]}),o.jsx("span",{className:"text-xs px-2 py-1 bg-purple-500/20 text-purple-400 rounded",children:Ee.businessRole||"Member"})]},Ee.id))})]}),o.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-4",children:["Machines (",ye.length,")"]}),ye.length===0?o.jsx("p",{className:"text-gray-400 text-sm",children:"No machines assigned to this business yet."}):o.jsx("div",{className:"space-y-2",children:ye.map(Ee=>o.jsxs("div",{className:"flex items-center justify-between bg-slate-800 p-3 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:Ee.machineType||"Machine"}),o.jsx("p",{className:"text-sm text-gray-400",children:Ee.location?.address||"No address"})]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded ${Ee.status==="active"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:Ee.status||"Active"})]},Ee.id))})]})]})]})})}function Wn({onClose:O,onSuccess:V}){const[K,de]=T.useState({firstName:l?.firstName||"",lastName:l?.lastName||"",phone:l?.phone||"",businessName:l?.businessName||""}),[Z,pe]=T.useState(!1),[he,Ae]=T.useState(""),Be=async le=>{le.preventDefault(),Ae(""),pe(!0);try{const ie=Ln();await Hn(ie,"updateUserProfile")({userId:i.uid,firstName:K.firstName.trim(),lastName:K.lastName.trim(),phone:K.phone.trim(),businessName:K.businessName.trim()}),V(),O(),window.location.reload()}catch(ie){console.error("Error updating profile:",ie),Ae(ie.message||"Failed to update profile")}finally{pe(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Edit Profile"}),o.jsx("button",{onClick:O,className:"text-gray-400 hover:text-white transition","aria-label":"Close",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:Be,className:"p-6 space-y-4 overflow-y-auto",children:[he&&o.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:he}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),o.jsx("input",{type:"text",value:K.firstName,onChange:le=>de(ie=>({...ie,firstName:le.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),o.jsx("input",{type:"text",value:K.lastName,onChange:le=>de(ie=>({...ie,lastName:le.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),o.jsx("input",{type:"tel",value:K.phone,onChange:le=>de(ie=>({...ie,phone:le.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),o.jsx("input",{type:"text",value:K.businessName,onChange:le=>de(ie=>({...ie,businessName:le.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none"})]}),o.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 text-sm text-blue-300",children:[o.jsx("p",{className:"font-semibold mb-1",children:"Note about email changes:"}),o.jsx("p",{children:"Email addresses can only be changed by an administrator for security reasons. Please contact support if you need to update your email."})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:O,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:Z,className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:Z?"Saving...":"Save Changes"})]})]})]})})}function Jn({user:O,onClose:V,onSuccess:K}){const[de,Z]=T.useState({firstName:O?.firstName||"",lastName:O?.lastName||"",email:O?.email||"",phone:O?.phone||"",businessName:O?.businessName||""}),[pe,he]=T.useState(!1),[Ae,Be]=T.useState(""),le=async ie=>{ie.preventDefault(),Be(""),he(!0);try{const be=Ln();await Hn(be,"updateUserProfile")({userId:O.id,firstName:de.firstName.trim(),lastName:de.lastName.trim(),email:de.email.trim(),phone:de.phone.trim(),businessName:de.businessName.trim()}),K(),V()}catch(be){console.error("Error updating user:",be),Be(be.message||"Failed to update user")}finally{he(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-start justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-purple-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[o.jsxs("h2",{className:"text-2xl font-bold",children:["Edit User - ",O?.firstName," ",O?.lastName]}),o.jsx("button",{onClick:V,className:"text-gray-400 hover:text-white transition","aria-label":"Close",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsxs("form",{onSubmit:le,className:"p-6 space-y-4 overflow-y-auto",children:[Ae&&o.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:Ae}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),o.jsx("input",{type:"text",value:de.firstName,onChange:ie=>Z(be=>({...be,firstName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),o.jsx("input",{type:"text",value:de.lastName,onChange:ie=>Z(be=>({...be,lastName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),o.jsx("input",{type:"email",value:de.email,onChange:ie=>Z(be=>({...be,email:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),o.jsx("input",{type:"tel",value:de.phone,onChange:ie=>Z(be=>({...be,phone:ie.target.value.replace(/\D/g,"").slice(0,10)})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Business Name"}),o.jsx("input",{type:"text",value:de.businessName,onChange:ie=>Z(be=>({...be,businessName:ie.target.value})),className:"w-full bg-slate-800 border border-gray-700 rounded-lg px-4 py-3 focus:border-purple-500 focus:outline-none"})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:V,className:"flex-1 px-4 py-3 border border-gray-600 hover:border-gray-500 rounded-lg",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:pe,className:"flex-1 px-4 py-3 bg-purple-500 hover:bg-purple-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:pe?"Saving...":"Save Changes"})]})]})]})})}function $t({message:O,onClose:V}){return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsx("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-green-400/30 shadow-2xl animate-bounce-in",children:o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:o.jsx(Bm,{className:"w-12 h-12 text-green-400"})}),o.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Success!"}),o.jsx("p",{className:"text-gray-300 leading-relaxed mb-6",children:O}),o.jsx("button",{onClick:V,className:"px-8 py-3 bg-green-500 hover:bg-green-600 rounded-lg font-semibold",children:"Got it!"})]})})})}function en(){const O=Dt[Qn],V=Qn===Dt.length-1,K=()=>{if(V)pe();else{er(Qn+1);const he=O.target.startsWith("#")?document.querySelector(O.target):document.querySelector(`[data-tour="${O.target}"]`);he&&he.scrollIntoView({behavior:"smooth",block:"center"})}},de=()=>{Qn>0&&er(Qn-1)},Z=()=>{localStorage.setItem("tourCompleted","true"),Js(!1),er(0)},pe=()=>{localStorage.setItem("tourCompleted","true"),Js(!1),er(0)};return o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-slate-900 rounded-2xl max-w-md w-full mx-4 border border-blue-400/30 shadow-2xl animate-bounce-in",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold text-blue-400 mb-2",children:O.title}),o.jsxs("p",{className:"text-sm text-gray-400",children:["Step ",Qn+1," of ",Dt.length]})]}),o.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-white transition",children:o.jsx(kt,{className:"w-6 h-6"})})]}),o.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:O.description}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex gap-1",children:Dt.map((he,Ae)=>o.jsx("div",{className:`h-1 flex-1 rounded-full transition ${Ae<=Qn?"bg-blue-500":"bg-gray-700"}`},Ae))})}),o.jsxs("div",{className:"flex gap-3",children:[Qn>0&&o.jsx("button",{onClick:de,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Previous"}),o.jsx("button",{onClick:Z,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Skip Tour"}),o.jsx("button",{onClick:K,className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:V?"Finish":"Next"})]})]})})]})}function ps(){const[O]=T.useState([{name:"Website",status:"operational",uptime:"99.9%"},{name:"User Dashboard",status:"operational",uptime:"99.8%"},{name:"Admin Panel",status:"operational",uptime:"99.7%"},{name:"Authentication",status:"operational",uptime:"99.9%"},{name:"Database (Firestore)",status:"operational",uptime:"99.95%"},{name:"File Storage",status:"operational",uptime:"99.9%"}]),V=O.every(Z=>Z.status==="operational"),K=Z=>{switch(Z){case"operational":return"Operational";case"degraded":return"Degraded Performance";case"outage":return"Outage";case"maintenance":return"Maintenance";default:return"Unknown"}},de=Z=>{switch(Z){case"operational":return"";case"degraded":return"";case"outage":return"";case"maintenance":return"";default:return""}};return o.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-900 via-blue-900/20 to-slate-900",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("button",{onClick:()=>Ne("home"),className:"mb-4 text-blue-400 hover:text-blue-300 transition flex items-center gap-2",children:" Back to Home"}),o.jsx("h1",{className:"text-4xl font-bold mb-2",children:"System Status"}),o.jsx("p",{className:"text-gray-400",children:"Real-time status of InnoVend services"})]}),o.jsxs("div",{className:`p-6 rounded-2xl border-2 mb-8 ${V?"bg-green-500/10 border-green-400/30":"bg-yellow-500/10 border-yellow-400/30"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:`w-4 h-4 rounded-full ${V?"bg-green-500":"bg-yellow-500"} animate-pulse`}),o.jsx("h2",{className:"text-2xl font-bold",children:V?"All Systems Operational":"Some Services Experiencing Issues"})]}),o.jsxs("p",{className:"text-gray-300 text-sm",children:["Last updated: ",new Date().toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})]}),o.jsxs("div",{className:"space-y-4 mb-8",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Service Status"}),O.map((Z,pe)=>o.jsx("div",{className:"bg-slate-800 border border-gray-700 rounded-xl p-6 hover:border-blue-400/30 transition",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-2xl",children:de(Z.status)}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-lg",children:Z.name}),o.jsx("p",{className:"text-sm text-gray-400",children:K(Z.status)})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-400",children:"Uptime"}),o.jsx("p",{className:"font-bold text-green-400",children:Z.uptime})]})]})},pe))]}),o.jsxs("div",{className:"bg-slate-800 border border-gray-700 rounded-xl p-6 mb-8",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Uptime Statistics (Last 30 Days)"}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-green-400",children:"99.9%"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Overall Uptime"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-blue-400",children:"245ms"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Avg Response Time"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:"0"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Incidents"})]})]})]}),o.jsxs("div",{className:"bg-slate-800 border border-gray-700 rounded-xl p-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-4",children:"Incident History"}),o.jsxs("div",{className:"text-center py-8 text-gray-400",children:[o.jsx(z1,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No incidents reported in the last 30 days"}),o.jsx("p",{className:"text-sm mt-2",children:"Our systems have been running smoothly "})]})]}),o.jsxs("div",{className:"mt-8 bg-blue-500/10 border border-blue-400/30 rounded-xl p-6 text-center",children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"Get Status Updates"}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Want to be notified of incidents? Coming soon!"}),o.jsx("button",{disabled:!0,className:"px-6 py-2 bg-gray-700 text-gray-400 rounded-lg cursor-not-allowed",children:"Subscribe (Coming Soon)"})]})]})})}function bi(){const[O,V]=T.useState(""),[K,de]=T.useState(null),pe=[{category:"Getting Started",icon:"",questions:[{q:"How does free vending machine placement work?",a:"We place and maintain vending machines at your location at absolutely no cost to you. We handle installation, restocking, maintenance, and all expenses. You provide the space, we provide the convenience for your customers or employees."},{q:"What is a client code and how do I get one?",a:"A client code is a unique identifier we provide after discussing your vending needs. Contact us via the service request form or email hello@innovend.net, and we'll provide you with a code to create your dashboard account."},{q:"How long does installation take?",a:"Typically, installation takes 1-2 hours. We'll schedule a convenient time with you, deliver the machine, set it up, stock it with products, and train your staff on basic operation."},{q:"What areas do you serve?",a:"We currently serve Montgomery County, Maryland, including Rockville, Gaithersburg, Germantown, North Potomac, and surrounding areas."}]},{category:"Vending Machines",icon:"",questions:[{q:"What types of vending machines are available?",a:"We offer snack machines, beverage machines, combo machines (snacks + drinks), coffee machines, and specialty machines for specific products. We'll recommend the best option based on your location type and customer needs."},{q:"Can I choose what products are in the machine?",a:"Yes! We work with you to customize product selection based on your preferences and customer preferences. We can adjust products based on sales data and feedback."},{q:"Who handles restocking and maintenance?",a:"We handle everything! Our team monitors inventory levels and restocks machines regularly. All maintenance, repairs, and cleaning are our responsibility at no cost to you."},{q:"What if the machine breaks down?",a:"Contact us immediately via your dashboard, email, or phone. We prioritize machine issues and typically respond within 24 hours. For urgent issues, we offer same-day service when possible."}]},{category:"Dashboard & Account",icon:"",questions:[{q:"How do I track sales and usage?",a:"Your dashboard provides real-time sales data, transaction history, inventory levels, and usage patterns. You can view daily, weekly, and monthly reports."},{q:"I forgot my password. How do I reset it?",a:`Click "Forgot Password" on the login screen, enter your email, and we'll send you a verification code to reset your password.`},{q:"Can multiple people from my business access the dashboard?",a:"Currently, each business has one account. If you need multiple user access, contact us and we can set that up for you."},{q:"How do I update my profile information?",a:'Log into your dashboard, click your account menu (top right), and select "Edit Profile" to update your information.'}]},{category:"Billing & Payments",icon:"",questions:[{q:"Is there really no cost to me?",a:"Correct! There are no upfront costs, monthly fees, or hidden charges. We make revenue from product sales and handle all expenses ourselves."},{q:"How do you make money?",a:"We purchase products wholesale and sell them through our machines. The profits from sales cover our costs and generate our revenue."},{q:"Do I earn commission from sales?",a:"Our standard model doesn't include commission, but for high-traffic locations, we may offer revenue sharing. Contact us to discuss your specific situation."},{q:"What payment methods do the machines accept?",a:"Our machines accept cash, credit/debit cards, Apple Pay, Google Pay, and other contactless payment methods."}]},{category:"Service Requests",icon:"",questions:[{q:"How do I request service or report an issue?",a:'Log into your dashboard and use the "Request Service" button, or email us at hello@innovend.net with your machine ID and issue description.'},{q:"What is your typical response time?",a:"For urgent issues (machine down, money jams), we respond within 24 hours. For routine requests (product changes, restocking), we respond within 2-3 business days."},{q:"Can I request specific products be added?",a:"Absolutely! We welcome product suggestions. Submit a request through your dashboard and we'll evaluate availability and pricing."}]},{category:"Contract & Terms",icon:"",questions:[{q:"Is there a contract period?",a:"Yes, we typically require a 12-month minimum agreement. This allows us to recoup installation costs and establish a consistent service relationship."},{q:"What happens if I want to end the service?",a:"Contact us with 30 days notice. We'll schedule machine removal at a convenient time. There are no termination fees after the initial contract period."},{q:"Can I move the machine to a different location?",a:"Yes, if you relocate, we can move the machine. Contact us to discuss the new location and ensure it meets our placement criteria."}]}].map(he=>({...he,questions:he.questions.filter(Ae=>Ae.q.toLowerCase().includes(O.toLowerCase())||Ae.a.toLowerCase().includes(O.toLowerCase()))})).filter(he=>he.questions.length>0);return o.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-slate-900 via-blue-900/20 to-slate-900",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("button",{onClick:()=>Ne("home"),className:"mb-4 text-blue-400 hover:text-blue-300 transition flex items-center gap-2",children:" Back to Home"}),o.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Help & FAQ"}),o.jsx("p",{className:"text-gray-400",children:"Find answers to common questions"})]}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx(cA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search for help...",value:O,onChange:he=>V(he.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800 border border-gray-700 rounded-xl focus:outline-none focus:border-blue-500 transition"})]})}),o.jsx("div",{className:"space-y-6",children:pe.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-400",children:[o.jsx(Fm,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsxs("p",{className:"text-lg",children:['No results found for "',O,'"']}),o.jsx("p",{className:"text-sm mt-2",children:"Try a different search term"})]}):pe.map((he,Ae)=>o.jsxs("div",{className:"bg-slate-800 border border-gray-700 rounded-xl p-6",children:[o.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[o.jsx("span",{children:he.icon}),he.category]}),o.jsx("div",{className:"space-y-3",children:he.questions.map((Be,le)=>{const ie=`${Ae}-${le}`,be=K===ie;return o.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[o.jsxs("button",{onClick:()=>de(be?null:ie),className:"w-full p-4 text-left flex justify-between items-center hover:bg-slate-700/50 transition",children:[o.jsx("span",{className:"font-medium pr-4",children:Be.q}),o.jsx(Ax,{className:`w-5 h-5 flex-shrink-0 transition-transform ${be?"rotate-180":""}`})]}),be&&o.jsx("div",{className:"p-4 pt-0 text-gray-300 border-t border-gray-700 bg-slate-900/50",children:o.jsx("p",{className:"leading-relaxed",children:Be.a})})]},le)})})]},Ae))}),o.jsxs("div",{className:"mt-8 bg-blue-500/10 border border-blue-400/30 rounded-xl p-8 text-center",children:[o.jsx(Fm,{className:"w-12 h-12 mx-auto mb-4 text-blue-400"}),o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Still need help?"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Can't find what you're looking for? We're here to help!"}),o.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[o.jsxs("a",{href:"mailto:hello@innovend.net",className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition inline-flex items-center gap-2",children:[o.jsx(Cx,{className:"w-5 h-5"}),"Email Us"]}),o.jsxs("button",{onClick:()=>Zs(!0),className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition inline-flex items-center gap-2",children:[o.jsx(Hm,{className:"w-5 h-5"}),"Send Feedback"]})]})]})]})})}function Tl(){const{user:O,userProfile:V}=Ec(),[K,de]=T.useState(!1),[Z,pe]=T.useState({type:"bug",subject:"",description:"",contactEmail:V?.email||""}),[he,Ae]=T.useState(""),Be=async le=>{if(le.preventDefault(),!Z.description||Z.description.length<10){Ae("error:Please provide a description (minimum 10 characters)");return}de(!0),Ae("");try{await Ed(Fs(yn,"feedback"),{...Z,userId:O?.uid||null,userEmail:V?.email||Z.contactEmail,timestamp:ni(),status:"new",userAgent:navigator.userAgent,url:window.location.href}),Ae("success"),setTimeout(()=>{Zs(!1),pe({type:"bug",subject:"",description:"",contactEmail:V?.email||""}),Ae("")},2e3)}catch(ie){console.error("Error submitting feedback:",ie);let be="Failed to submit feedback. ";ie.code==="permission-denied"||ie.message?.includes("permission")?be+="Database permissions error. Please email your feedback to hello@innovend.net.":ie.code==="unavailable"||ie.message?.includes("network")?be+="Network error. Please check your connection and try again.":ie.message?.includes("Firebase")?be+="Service temporarily unavailable. Please try again later or email hello@innovend.net.":be+="An unexpected error occurred. Please try again or email your feedback to hello@innovend.net.",Ae("error:"+be)}finally{de(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full border border-blue-400/30 shadow-2xl",children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Send Feedback"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Help us improve InnoVend"})]}),o.jsx("button",{onClick:()=>Zs(!1),className:"text-gray-400 hover:text-white transition",children:o.jsx(kt,{className:"w-6 h-6"})})]})}),o.jsxs("form",{onSubmit:Be,className:"p-6 space-y-4",children:[he.startsWith("error:")&&o.jsx("div",{className:"bg-red-500/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:he.replace("error:","")}),he==="success"&&o.jsxs("div",{className:"bg-green-500/10 border border-green-400/30 rounded-lg p-4 text-green-400 flex items-center gap-2",children:[o.jsx(Bm,{className:"w-5 h-5"}),o.jsx("span",{children:"Thank you! Your feedback has been submitted."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Type of Feedback *"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:["bug","feature","question","other"].map(le=>o.jsxs("button",{type:"button",onClick:()=>pe(ie=>({...ie,type:le})),className:`py-3 px-4 rounded-lg border-2 transition capitalize ${Z.type===le?"bg-blue-500/20 border-blue-400 text-blue-400":"bg-slate-800 border-gray-700 hover:border-gray-600"}`,children:[le==="bug"&&" Bug Report",le==="feature"&&" Feature Request",le==="question"&&" Question",le==="other"&&" Other"]},le))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"subject",className:"block mb-2 text-sm font-medium",children:"Subject (Optional)"}),o.jsx("input",{type:"text",id:"subject",value:Z.subject,onChange:le=>pe(ie=>({...ie,subject:le.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition",placeholder:"Brief summary of your feedback"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block mb-2 text-sm font-medium",children:"Description *"}),o.jsx("textarea",{id:"description",value:Z.description,onChange:le=>pe(ie=>({...ie,description:le.target.value})),rows:6,required:!0,minLength:10,className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition resize-none",placeholder:"Please provide as much detail as possible..."}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[Z.description.length,"/10 characters minimum"]})]}),!O&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"contactEmail",className:"block mb-2 text-sm font-medium",children:"Contact Email (Optional)"}),o.jsx("input",{type:"email",id:"contactEmail",value:Z.contactEmail,onChange:le=>pe(ie=>({...ie,contactEmail:le.target.value})),className:"w-full px-4 py-3 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 transition",placeholder:"your@email.com (if you'd like a response)"})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>Zs(!1),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:K||!Z.description||Z.description.length<10,className:`flex-1 py-3 rounded-lg font-semibold transition ${K||!Z.description||Z.description.length<10?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:K?"Submitting...":"Submit Feedback"})]})]})]})})}function co(){const O="1.3.0",[V,K]=T.useState(!1),de=()=>{V&&localStorage.setItem("lastSeenVersion",O),ks(!1)};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full border border-blue-400/30 shadow-2xl animate-bounce-in",children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-400",children:"What's New in InnoVend"}),o.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Version ",O,"  January 10, 2026"]})]}),o.jsx("button",{onClick:de,className:"text-gray-400 hover:text-white transition",children:o.jsx(kt,{className:"w-6 h-6"})})]})}),o.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(Bm,{className:"w-5 h-5 text-green-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-white mb-1",children:"Improved Service Request Form"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Enhanced form validation with helpful error messages and real-time feedback. Now includes location type and daily people count questions."})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(mA,{className:"w-5 h-5 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-white mb-1",children:"Navigation Highlighting"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Active section is now highlighted in the navigation bar as you scroll through the page."})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(Wo,{className:"w-5 h-5 text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-white mb-1",children:"Password Strength Indicator"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Real-time password strength feedback when creating your account, helping you choose a secure password."})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-cyan-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(Hm,{className:"w-5 h-5 text-cyan-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-white mb-1",children:"Feedback System"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"New floating feedback button lets you report bugs, request features, or ask questions directly."})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(Fm,{className:"w-5 h-5 text-yellow-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-white mb-1",children:"Help & FAQ Page"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Comprehensive FAQ with 22 answers to common questions, searchable and organized by category."})]})]})]})}),o.jsxs("div",{className:"p-6 border-t border-gray-700 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"dontShowAgain",checked:V,onChange:Z=>K(Z.target.checked),className:"w-4 h-4"}),o.jsx("label",{htmlFor:"dontShowAgain",className:"text-sm text-gray-300 cursor-pointer",children:"Don't show this again for this version"})]}),o.jsx("button",{onClick:de,className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Got it, thanks!"})]})]})})}function uo(){const O=[{key:"?",description:"Show this keyboard shortcuts help"},{key:"Esc",description:"Close open modals"}];return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-lg w-full border border-blue-400/30 shadow-2xl",children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Keyboard Shortcuts"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Navigate faster with these shortcuts"})]}),o.jsx("button",{onClick:()=>xn(!1),className:"text-gray-400 hover:text-white transition",children:o.jsx(kt,{className:"w-6 h-6"})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"space-y-3",children:O.map((V,K)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg border border-gray-700",children:[o.jsx("span",{className:"text-gray-300",children:V.description}),o.jsx("kbd",{className:"px-3 py-1.5 bg-slate-700 border border-gray-600 rounded text-sm font-mono text-blue-400",children:V.key})]},K))}),o.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-400/30 rounded-lg",children:o.jsxs("p",{className:"text-sm text-gray-300 text-center",children:["Press ",o.jsx("kbd",{className:"px-2 py-1 bg-slate-700 border border-gray-600 rounded text-xs font-mono text-blue-400",children:"?"})," anytime to see this help"]})})]}),o.jsx("div",{className:"p-6 border-t border-gray-700",children:o.jsx("button",{onClick:()=>xn(!1),className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})})}};rS.createRoot(document.getElementById("root")).render(o.jsx(T.StrictMode,{children:o.jsx(N1,{children:o.jsx(SD,{children:o.jsx(qD,{})})})}));
