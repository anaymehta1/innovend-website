(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Fd={exports:{}},vl={};var K_;function XA(){if(K_)return vl;K_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=e,vl.jsx=i,vl.jsxs=i,vl}var Y_;function $A(){return Y_||(Y_=1,Fd.exports=XA()),Fd.exports}var m=$A(),Gd={exports:{}},xe={};var Q_;function ZA(){if(Q_)return xe;Q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function L(w){return w===null||typeof w!="object"?null:(w=D&&w[D]||w["@@iterator"],typeof w=="function"?w:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,$={};function fe(w,V,W){this.props=w,this.context=V,this.refs=$,this.updater=W||J}fe.prototype.isReactComponent={},fe.prototype.setState=function(w,V){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,V,"setState")},fe.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function _e(){}_e.prototype=fe.prototype;function de(w,V,W){this.props=w,this.context=V,this.refs=$,this.updater=W||J}var Ee=de.prototype=new _e;Ee.constructor=de,ee(Ee,fe.prototype),Ee.isPureReactComponent=!0;var He=Array.isArray;function we(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(w,V,W){var ne=W.ref;return{$$typeof:s,type:w,key:V,ref:ne!==void 0?ne:null,props:W}}function j(w,V){return N(w.type,V,w.props)}function O(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function P(w){var V={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(W){return V[W]})}var R=/\/+/g;function rt(w,V){return typeof w=="object"&&w!==null&&w.key!=null?P(""+w.key):V.toString(36)}function Ke(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(we,we):(w.status="pending",w.then(function(V){w.status==="pending"&&(w.status="fulfilled",w.value=V)},function(V){w.status==="pending"&&(w.status="rejected",w.reason=V)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function G(w,V,W,ne,se){var le=typeof w;(le==="undefined"||le==="boolean")&&(w=null);var Te=!1;if(w===null)Te=!0;else switch(le){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(w.$$typeof){case s:case e:Te=!0;break;case T:return Te=w._init,G(Te(w._payload),V,W,ne,se)}}if(Te)return se=se(w),Te=ne===""?"."+rt(w,0):ne,He(se)?(W="",Te!=null&&(W=Te.replace(R,"$&/")+"/"),G(se,V,W,"",function(he){return he})):se!=null&&(O(se)&&(se=j(se,W+(se.key==null||w&&w.key===se.key?"":(""+se.key).replace(R,"$&/")+"/")+Te)),V.push(se)),1;Te=0;var De=ne===""?".":ne+":";if(He(w))for(var ze=0;ze<w.length;ze++)ne=w[ze],le=De+rt(ne,ze),Te+=G(ne,V,W,le,se);else if(ze=L(w),typeof ze=="function")for(w=ze.call(w),ze=0;!(ne=w.next()).done;)ne=ne.value,le=De+rt(ne,ze++),Te+=G(ne,V,W,le,se);else if(le==="object"){if(typeof w.then=="function")return G(Ke(w),V,W,ne,se);throw V=String(w),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ie(w,V,W){if(w==null)return w;var ne=[],se=0;return G(w,ne,"","",function(le){return V.call(W,le,se++)}),ne}function me(w){if(w._status===-1){var V=w._result;V=V(),V.then(function(W){(w._status===0||w._status===-1)&&(w._status=1,w._result=W)},function(W){(w._status===0||w._status===-1)&&(w._status=2,w._result=W)}),w._status===-1&&(w._status=0,w._result=V)}if(w._status===1)return w._result.default;throw w._result}var Ue=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ye={map:ie,forEach:function(w,V,W){ie(w,function(){V.apply(this,arguments)},W)},count:function(w){var V=0;return ie(w,function(){V++}),V},toArray:function(w){return ie(w,function(V){return V})||[]},only:function(w){if(!O(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return xe.Activity=S,xe.Children=Ye,xe.Component=fe,xe.Fragment=i,xe.Profiler=l,xe.PureComponent=de,xe.StrictMode=r,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return I.H.useMemoCache(w)}},xe.cache=function(w){return function(){return w.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(w,V,W){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ne=ee({},w.props),se=w.key;if(V!=null)for(le in V.key!==void 0&&(se=""+V.key),V)!x.call(V,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&V.ref===void 0||(ne[le]=V[le]);var le=arguments.length-2;if(le===1)ne.children=W;else if(1<le){for(var Te=Array(le),De=0;De<le;De++)Te[De]=arguments[De+2];ne.children=Te}return N(w.type,se,ne)},xe.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},xe.createElement=function(w,V,W){var ne,se={},le=null;if(V!=null)for(ne in V.key!==void 0&&(le=""+V.key),V)x.call(V,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(se[ne]=V[ne]);var Te=arguments.length-2;if(Te===1)se.children=W;else if(1<Te){for(var De=Array(Te),ze=0;ze<Te;ze++)De[ze]=arguments[ze+2];se.children=De}if(w&&w.defaultProps)for(ne in Te=w.defaultProps,Te)se[ne]===void 0&&(se[ne]=Te[ne]);return N(w,le,se)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(w){return{$$typeof:p,render:w}},xe.isValidElement=O,xe.lazy=function(w){return{$$typeof:T,_payload:{_status:-1,_result:w},_init:me}},xe.memo=function(w,V){return{$$typeof:v,type:w,compare:V===void 0?null:V}},xe.startTransition=function(w){var V=I.T,W={};I.T=W;try{var ne=w(),se=I.S;se!==null&&se(W,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(we,Ue)}catch(le){Ue(le)}finally{V!==null&&W.types!==null&&(V.types=W.types),I.T=V}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(w){return I.H.use(w)},xe.useActionState=function(w,V,W){return I.H.useActionState(w,V,W)},xe.useCallback=function(w,V){return I.H.useCallback(w,V)},xe.useContext=function(w){return I.H.useContext(w)},xe.useDebugValue=function(){},xe.useDeferredValue=function(w,V){return I.H.useDeferredValue(w,V)},xe.useEffect=function(w,V){return I.H.useEffect(w,V)},xe.useEffectEvent=function(w){return I.H.useEffectEvent(w)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(w,V,W){return I.H.useImperativeHandle(w,V,W)},xe.useInsertionEffect=function(w,V){return I.H.useInsertionEffect(w,V)},xe.useLayoutEffect=function(w,V){return I.H.useLayoutEffect(w,V)},xe.useMemo=function(w,V){return I.H.useMemo(w,V)},xe.useOptimistic=function(w,V){return I.H.useOptimistic(w,V)},xe.useReducer=function(w,V,W){return I.H.useReducer(w,V,W)},xe.useRef=function(w){return I.H.useRef(w)},xe.useState=function(w){return I.H.useState(w)},xe.useSyncExternalStore=function(w,V,W){return I.H.useSyncExternalStore(w,V,W)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.3",xe}var X_;function Lm(){return X_||(X_=1,Gd.exports=ZA()),Gd.exports}var Ie=Lm(),Kd={exports:{}},bl={},Yd={exports:{}},Qd={};var $_;function JA(){return $_||($_=1,(function(s){function e(G,ie){var me=G.length;G.push(ie);e:for(;0<me;){var Ue=me-1>>>1,Ye=G[Ue];if(0<l(Ye,ie))G[Ue]=ie,G[me]=Ye,me=Ue;else break e}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],me=G.pop();if(me!==ie){G[0]=me;e:for(var Ue=0,Ye=G.length,w=Ye>>>1;Ue<w;){var V=2*(Ue+1)-1,W=G[V],ne=V+1,se=G[ne];if(0>l(W,me))ne<Ye&&0>l(se,W)?(G[Ue]=se,G[ne]=me,Ue=ne):(G[Ue]=W,G[V]=me,Ue=V);else if(ne<Ye&&0>l(se,me))G[Ue]=se,G[ne]=me,Ue=ne;else break e}}return ie}function l(G,ie){var me=G.sortIndex-ie.sortIndex;return me!==0?me:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],v=[],T=1,S=null,D=3,L=!1,J=!1,ee=!1,$=!1,fe=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Ee(G){for(var ie=i(v);ie!==null;){if(ie.callback===null)r(v);else if(ie.startTime<=G)r(v),ie.sortIndex=ie.expirationTime,e(y,ie);else break;ie=i(v)}}function He(G){if(ee=!1,Ee(G),!J)if(i(y)!==null)J=!0,we||(we=!0,P());else{var ie=i(v);ie!==null&&Ke(He,ie.startTime-G)}}var we=!1,I=-1,x=5,N=-1;function j(){return $?!0:!(s.unstable_now()-N<x)}function O(){if($=!1,we){var G=s.unstable_now();N=G;var ie=!0;try{e:{J=!1,ee&&(ee=!1,_e(I),I=-1),L=!0;var me=D;try{t:{for(Ee(G),S=i(y);S!==null&&!(S.expirationTime>G&&j());){var Ue=S.callback;if(typeof Ue=="function"){S.callback=null,D=S.priorityLevel;var Ye=Ue(S.expirationTime<=G);if(G=s.unstable_now(),typeof Ye=="function"){S.callback=Ye,Ee(G),ie=!0;break t}S===i(y)&&r(y),Ee(G)}else r(y);S=i(y)}if(S!==null)ie=!0;else{var w=i(v);w!==null&&Ke(He,w.startTime-G),ie=!1}}break e}finally{S=null,D=me,L=!1}ie=void 0}}finally{ie?P():we=!1}}}var P;if(typeof de=="function")P=function(){de(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,rt=R.port2;R.port1.onmessage=O,P=function(){rt.postMessage(null)}}else P=function(){fe(O,0)};function Ke(G,ie){I=fe(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(G){switch(D){case 1:case 2:case 3:var ie=3;break;default:ie=D}var me=D;D=ie;try{return G()}finally{D=me}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=D;D=G;try{return ie()}finally{D=me}},s.unstable_scheduleCallback=function(G,ie,me){var Ue=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,G){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=me+Ye,G={id:T++,callback:ie,priorityLevel:G,startTime:me,expirationTime:Ye,sortIndex:-1},me>Ue?(G.sortIndex=me,e(v,G),i(y)===null&&G===i(v)&&(ee?(_e(I),I=-1):ee=!0,Ke(He,me-Ue))):(G.sortIndex=Ye,e(y,G),J||L||(J=!0,we||(we=!0,P()))),G},s.unstable_shouldYield=j,s.unstable_wrapCallback=function(G){var ie=D;return function(){var me=D;D=ie;try{return G.apply(this,arguments)}finally{D=me}}}})(Qd)),Qd}var Z_;function WA(){return Z_||(Z_=1,Yd.exports=JA()),Yd.exports}var Xd={exports:{}},Xt={};var J_;function ex(){if(J_)return Xt;J_=1;var s=Lm();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:v,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(y,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(y,v,null,T)},Xt.flushSync=function(y){var v=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=v,r.p=T,r.d.f()}},Xt.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(y,v))},Xt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Xt.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin),D=typeof v.integrity=="string"?v.integrity:void 0,L=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:L}):T==="script"&&r.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:L,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Xt.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=p(v.as,v.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(y)},Xt.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=p(T,v.crossOrigin);r.d.L(y,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Xt.preloadModule=function(y,v){if(typeof y=="string")if(v){var T=p(v.as,v.crossOrigin);r.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(y)},Xt.requestFormReset=function(y){r.d.r(y)},Xt.unstable_batchedUpdates=function(y,v){return y(v)},Xt.useFormState=function(y,v,T){return d.H.useFormState(y,v,T)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.2.3",Xt}var W_;function tx(){if(W_)return Xd.exports;W_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=ex(),Xd.exports}var e0;function nx(){if(e0)return bl;e0=1;var s=WA(),e=Lm(),i=tx();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=f;break}if(E===o){_=!0,o=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,o=h;break}if(E===o){_=!0,o=f,a=h;break}E=E.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),_e=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case fe:return"Profiler";case $:return"StrictMode";case He:return"Suspense";case we:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case de:return t.displayName||"Context";case _e:return(t._context.displayName||"Context")+".Consumer";case Ee:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:rt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return rt(t(n))}catch{}}return null}var Ke=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],Ye=-1;function w(t){return{current:t}}function V(t){0>Ye||(t.current=Ue[Ye],Ue[Ye]=null,Ye--)}function W(t,n){Ye++,Ue[Ye]=t.current,t.current=n}var ne=w(null),se=w(null),le=w(null),Te=w(null);function De(t,n){switch(W(le,n),W(se,t),W(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?g_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=g_(n),t=p_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(ne),W(ne,t)}function ze(){V(ne),V(se),V(le)}function he(t){t.memoizedState!==null&&W(Te,t);var n=ne.current,a=p_(n,t.type);n!==a&&(W(se,t),W(ne,a))}function ms(t){se.current===t&&(V(ne),V(se)),Te.current===t&&(V(Te),gl._currentValue=me)}var gs,ps;function An(t){if(gs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);gs=n&&n[1]||"",ps=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+t+ps}var gr=!1;function ki(t,n){if(!t||gr)return"";gr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(F){var q=F}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(F){q=F}t.call(Q.prototype)}}else{try{throw Error()}catch(F){q=F}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var C=_.split(`
`),B=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===B.length)for(o=C.length-1,h=B.length-1;1<=o&&0<=h&&C[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==B[h]){var K=`
`+C[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{gr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?An(a):""}function ys(t,n){switch(t.tag){case 26:case 27:case 5:return An(t.type);case 16:return An("Lazy");case 13:return t.child!==n&&n!==null?An("Suspense Fallback"):An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return ki(t.type,!1);case 11:return ki(t.type.render,!1);case 1:return ki(t.type,!0);case 31:return An("Activity");default:return""}}function pr(t){try{var n="",a=null;do n+=ys(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var re=Object.prototype.hasOwnProperty,ft=s.unstable_scheduleCallback,Pi=s.unstable_cancelCallback,Gh=s.unstable_shouldYield,eu=s.unstable_requestPaint,en=s.unstable_now,yr=s.unstable_getCurrentPriorityLevel,_o=s.unstable_ImmediatePriority,vo=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,Kh=s.unstable_LowPriority,tu=s.unstable_IdlePriority,nu=s.log,iu=s.unstable_setDisableYieldValue,zn=null,zt=null;function xn(t){if(typeof nu=="function"&&iu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(zn,t)}catch{}}var pt=Math.clz32?Math.clz32:ru,su=Math.log,oa=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(su(t)/oa|0)|0}var si=256,_r=262144,Et=4194304;function ri(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(_&=E,_!==0?h=ri(_):a||(a=E&~t,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):_!==0?h=ri(_):a||(a=o&~t,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Yh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function oi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function vr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qh(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-pt(a),Q=1<<K;E[K]=0,C[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var F=q[K];F!==null&&(F.lane&=-536870913)}a&=~Q}o!==0&&br(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function br(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-pt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function bo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-pt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Eo(t,n){var a=n&-n;return a=(a&42)!==0?1:Er(a),(a&(t.suspendedLanes|n))!==0?0:a}function Er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:U_(t.type))}function qn(t,n){var a=ie.p;try{return ie.p=t,n()}finally{ie.p=a}}var Hn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Hn,jt="__reactProps$"+Hn,li="__reactContainer$"+Hn,la="__reactEvents$"+Hn,Xh="__reactListeners$"+Hn,lu="__reactHandles$"+Hn,uu="__reactResources$"+Hn,ui="__reactMarker$"+Hn;function ua(t){delete t[Tt],delete t[jt],delete t[la],delete t[Xh],delete t[lu]}function ci(t){var n=t[Tt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[li]||a[Tt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=A_(t);t!==null;){if(a=t[Tt])return a;t=A_(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[Tt]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function hi(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function At(t){t[ui]=!0}var To=new Set,Ao={};function fi(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(Ao[t]=n,t=0;t<n.length;t++)To.add(n[t])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},wo={};function cu(t){return re.call(wo,t)?!0:re.call(So,t)?!1:xo.test(t)?wo[t]=!0:(So[t]=!0,!1)}function ca(t,n,a){if(cu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function xt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ze(t){if(!t._valueTracker){var n=vs(t)?"checked":"value";t._valueTracker=No(t,n,""+t[n])}}function Tr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=vs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function sn(t){return t.replace(Ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ha(t,n,a,o,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+kt(n)):t.value!==""+kt(n)&&(t.value=""+kt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ro(t,_,kt(n)):a!=null?Ro(t,_,kt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+kt(E):t.removeAttribute("name")}function hu(t,n,a,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ze(t);return}a=a!=null?""+kt(a):"",n=n!=null?""+kt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ze(t)}function Ro(t,n,a){n==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,a){if(n!=null&&(n=""+kt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+kt(a):""}function Es(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ke(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=kt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ze(t)}function rn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Io(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Co(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(t,f,n[f])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return Ts.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Do=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var As=null,gi=null;function xr(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[jt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[jt]||null;if(!h)throw Error(r(90));ha(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Tr(o)}break e;case"textarea":fu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&bs(t,!!a.multiple,n,!1)}}}var ma=!1;function xs(t,n,a){if(ma)return t(n,a);ma=!0;try{var o=t(n);return o}finally{if(ma=!1,(As!==null||gi!==null)&&(oc(),As&&(n=As,t=gi,gi=As=null,xr(n),t)))for(n=0;n<t.length;n++)xr(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[jt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(Nn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Sr=!1}var pi=null,Oo=null,wr=null;function Mo(){if(wr)return wr;var t,n=Oo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return wr=h.slice(t,1<o?1-o:void 0)}function Nr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Kn(){return!1}function Bt(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Kn,this.isPropagationStopped=Kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Bt(zi),Ss=S({},zi,{view:0,detail:0}),Vo=Bt(Ss),ws,ga,_i,pa=S({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(ws=t.screenX-_i.screenX,ga=t.screenY-_i.screenY):ga=ws=0,_i=t),ws)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),jo=Bt(pa),Rr=S({},pa,{dataTransfer:0}),gu=Bt(Rr),pu=S({},Ss,{relatedTarget:0}),Cr=Bt(pu),ko=S({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Bt(ko),ya=S({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=Bt(ya),vu=S({},zi,{data:0}),vi=Bt(vu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function Ns(){return Au}var tn=S({},Ss,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Nr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?Nr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Bt(tn),Su=S({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Bt(Su),u=S({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),g=Bt(u),b=S({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(b),U=S({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Bt(U),te=S({},zi,{newState:0,oldState:0}),Ne=Bt(te),yt=[9,13,27,32],Qe=Nn&&"CompositionEvent"in window,ct=null;Nn&&"documentMode"in document&&(ct=document.documentMode);var Rn=Nn&&"TextEvent"in window&&!ct,bi=Nn&&(!Qe||ct&&8<ct&&11>=ct),Yn=" ",Qn=!1;function Ir(t,n){switch(t){case"keyup":return yt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function vT(t,n){switch(t){case"compositionend":return _a(n);case"keypress":return n.which!==32?null:(Qn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Qn?null:t;default:return null}}function bT(t,n){if(va)return t==="compositionend"||!Qe&&Ir(t,n)?(t=Mo(),wr=Oo=pi=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!ET[t.type]:n==="textarea"}function Ng(t,n,a,o){As?gi?gi.push(o):gi=[o]:As=o,n=mc(n,"onChange"),0<n.length&&(a=new yi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Po=null,Lo=null;function TT(t){u_(t,0)}function wu(t){var n=mn(t);if(Tr(n))return t}function Rg(t,n){if(t==="change")return n}var Cg=!1;if(Nn){var $h;if(Nn){var Zh="oninput"in document;if(!Zh){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Zh=typeof Ig.oninput=="function"}$h=Zh}else $h=!1;Cg=$h&&(!document.documentMode||9<document.documentMode)}function Dg(){Po&&(Po.detachEvent("onpropertychange",Og),Lo=Po=null)}function Og(t){if(t.propertyName==="value"&&wu(Lo)){var n=[];Ng(n,Lo,t,wn(t)),xs(TT,n)}}function AT(t,n,a){t==="focusin"?(Dg(),Po=n,Lo=a,Po.attachEvent("onpropertychange",Og)):t==="focusout"&&Dg()}function xT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Lo)}function ST(t,n){if(t==="click")return wu(n)}function wT(t,n){if(t==="input"||t==="change")return wu(n)}function NT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:NT;function Uo(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!re.call(n,h)||!pn(t[h],n[h]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,n){var a=Mg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mg(a)}}function jg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?jg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=mi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=mi(t.document)}return n}function Jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var RT=Nn&&"documentMode"in document&&11>=document.documentMode,ba=null,Wh=null,zo=null,ef=!1;function Pg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||ba==null||ba!==mi(o)||(o=ba,"selectionStart"in o&&Jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Uo(zo,o)||(zo=o,o=mc(Wh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ba)))}function Dr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ea={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},tf={},Lg={};Nn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Or(t){if(tf[t])return tf[t];if(!Ea[t])return t;var n=Ea[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Lg)return tf[t]=n[a];return t}var Ug=Or("animationend"),zg=Or("animationiteration"),Bg=Or("animationstart"),CT=Or("transitionrun"),IT=Or("transitionstart"),DT=Or("transitioncancel"),qg=Or("transitionend"),Hg=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function Xn(t,n){Hg.set(t,n),fi(n,[t])}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],Ta=0,sf=0;function Ru(){for(var t=Ta,n=sf=Ta=0;n<t;){var a=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Fg(a,h,f)}}function Cu(t,n,a,o){Cn[Ta++]=t,Cn[Ta++]=n,Cn[Ta++]=a,Cn[Ta++]=o,sf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function rf(t,n,a,o){return Cu(t,n,a,o),Iu(t)}function Mr(t,n){return Cu(t,null,null,n),Iu(t)}function Fg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-pt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Iu(t){if(50<ll)throw ll=0,md=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Aa={};function OT(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,o){return new OT(t,n,a,o)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")af(t)&&(_=1);else if(typeof t=="string")_=PA(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=yn(31,a,n,h),t.elementType=N,t.lanes=f,t;case ee:return Vr(a.children,h,f,n);case $:_=8,h|=24;break;case fe:return t=yn(12,a,n,h|2),t.elementType=fe,t.lanes=f,t;case He:return t=yn(13,a,n,h),t.elementType=He,t.lanes=f,t;case we:return t=yn(19,a,n,h),t.elementType=we,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:_=10;break e;case _e:_=9;break e;case Ee:_=11;break e;case I:_=14;break e;case x:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=yn(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Vr(t,n,a,o){return t=yn(7,t,o,n),t.lanes=a,t}function of(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function Kg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function lf(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Yg=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var a=Yg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:pr(n)},Yg.set(t,n),n)}return{value:t,source:n,stack:pr(n)}}var xa=[],Sa=0,Ou=null,Bo=0,Dn=[],On=0,Rs=null,Ei=1,Ti="";function Hi(t,n){xa[Sa++]=Bo,xa[Sa++]=Ou,Ou=t,Bo=n}function Qg(t,n,a){Dn[On++]=Ei,Dn[On++]=Ti,Dn[On++]=Rs,Rs=t;var o=Ei;t=Ti;var h=32-pt(o)-1;o&=~(1<<h),a+=1;var f=32-pt(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ei=1<<32-pt(n)+h|a<<h|o,Ti=f+t}else Ei=1<<f|a<<h|o,Ti=t}function uf(t){t.return!==null&&(Hi(t,1),Qg(t,1,0))}function cf(t){for(;t===Ou;)Ou=xa[--Sa],xa[Sa]=null,Bo=xa[--Sa],xa[Sa]=null;for(;t===Rs;)Rs=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null,Ei=Dn[--On],Dn[On]=null}function Xg(t,n){Dn[On++]=Ei,Dn[On++]=Ti,Dn[On++]=Rs,Ei=n.id,Ti=n.overflow,Rs=t}var qt=null,at=null,Be=!1,Cs=null,Mn=!1,hf=Error(r(519));function Is(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(In(n,t)),hf}function $g(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Tt]=t,n[jt]=o,a){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(a=0;a<cl.length;a++)Me(cl[a],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),Es(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||d_(n.textContent,a)?(o.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),o.onScroll!=null&&Me("scroll",n),o.onScrollEnd!=null&&Me("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Is(t,!0)}function Zg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function wa(t){if(t!==qt)return!1;if(!Be)return Zg(t),Be=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cd(t.type,t.memoizedProps)),a=!a),a&&at&&Is(t),Zg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=T_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=T_(t)}else n===27?(n=at,Fs(t.type)?(t=Vd,Vd=null,at=t):at=n):at=qt?jn(t.stateNode.nextSibling):null;return!0}function jr(){at=qt=null,Be=!1}function ff(){var t=Cs;return t!==null&&(un===null?un=t:un.push.apply(un,t),Cs=null),t}function qo(t){Cs===null?Cs=[t]:Cs.push(t)}var df=w(null),kr=null,Fi=null;function Ds(t,n,a){W(df,n._currentValue),n._currentValue=a}function Gi(t){t._currentValue=df.current,V(df)}function mf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function gf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),mf(f.return,a,t),o||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),mf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===Te.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}h=h.return}t!==null&&gf(n,t,a,o),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pr(t){kr=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Jg(kr,t)}function Vu(t,n){return kr===null&&Pr(t),Jg(t,n)}function Jg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(r(308));Fi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Fi=Fi.next=n;return a}var MT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},VT=s.unstable_scheduleCallback,jT=s.unstable_NormalPriority,St={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new MT,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&VT(jT,function(){t.controller.abort()})}var Fo=null,yf=0,Ra=0,Ca=null;function kT(t,n){if(Fo===null){var a=Fo=[];yf=0,Ra=bd(),Ca={status:"pending",value:void 0,then:function(o){a.push(o)}}}return yf++,n.then(Wg,Wg),n}function Wg(){if(--yf===0&&Fo!==null){Ca!==null&&(Ca.status="fulfilled");var t=Fo;Fo=null,Ra=0,Ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function PT(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ep=G.S;G.S=function(t,n){Py=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kT(t,n),ep!==null&&ep(t,n)};var Lr=w(null);function _f(){var t=Lr.current;return t!==null?t:st.pooledCache}function ju(t,n){n===null?W(Lr,Lr.current):W(Lr,n.pool)}function tp(){var t=_f();return t===null?null:{parent:St._currentValue,pool:t}}var Ia=Error(r(460)),vf=Error(r(474)),ku=Error(r(542)),Pu={then:function(){}};function np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ip(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t}throw zr=n,Ia}}function Ur(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(zr=a,Ia):a}}var zr=null;function sp(){if(zr===null)throw Error(r(459));var t=zr;return zr=null,t}function rp(t){if(t===Ia||t===ku)throw Error(r(483))}var Da=null,Go=0;function Lu(t){var n=Go;return Go+=1,Da===null&&(Da=[]),ip(Da,t,n)}function Ko(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===D?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ap(t){function n(k,M){if(t){var z=k.deletions;z===null?(k.deletions=[M],k.flags|=16):z.push(M)}}function a(k,M){if(!t)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=qi(k,M),k.index=0,k.sibling=null,k}function f(k,M,z){return k.index=z,t?(z=k.alternate,z!==null?(z=z.index,z<M?(k.flags|=67108866,M):z):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,z,Y){return M===null||M.tag!==6?(M=of(z,k.mode,Y),M.return=k,M):(M=h(M,z),M.return=k,M)}function C(k,M,z,Y){var ge=z.type;return ge===ee?K(k,M,z.props.children,Y,z.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&Ur(ge)===M.type)?(M=h(M,z.props),Ko(M,z),M.return=k,M):(M=Du(z.type,z.key,z.props,null,k.mode,Y),Ko(M,z),M.return=k,M)}function B(k,M,z,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=lf(z,k.mode,Y),M.return=k,M):(M=h(M,z.children||[]),M.return=k,M)}function K(k,M,z,Y,ge){return M===null||M.tag!==7?(M=Vr(z,k.mode,Y,ge),M.return=k,M):(M=h(M,z),M.return=k,M)}function Q(k,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=of(""+M,k.mode,z),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case L:return z=Du(M.type,M.key,M.props,null,k.mode,z),Ko(z,M),z.return=k,z;case J:return M=lf(M,k.mode,z),M.return=k,M;case x:return M=Ur(M),Q(k,M,z)}if(Ke(M)||P(M))return M=Vr(M,k.mode,z,null),M.return=k,M;if(typeof M.then=="function")return Q(k,Lu(M),z);if(M.$$typeof===de)return Q(k,Vu(k,M),z);Uu(k,M)}return null}function q(k,M,z,Y){var ge=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ge!==null?null:E(k,M,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return z.key===ge?C(k,M,z,Y):null;case J:return z.key===ge?B(k,M,z,Y):null;case x:return z=Ur(z),q(k,M,z,Y)}if(Ke(z)||P(z))return ge!==null?null:K(k,M,z,Y,null);if(typeof z.then=="function")return q(k,M,Lu(z),Y);if(z.$$typeof===de)return q(k,M,Vu(k,z),Y);Uu(k,z)}return null}function F(k,M,z,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(z)||null,E(M,k,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return k=k.get(Y.key===null?z:Y.key)||null,C(M,k,Y,ge);case J:return k=k.get(Y.key===null?z:Y.key)||null,B(M,k,Y,ge);case x:return Y=Ur(Y),F(k,M,z,Y,ge)}if(Ke(Y)||P(Y))return k=k.get(z)||null,K(M,k,Y,ge,null);if(typeof Y.then=="function")return F(k,M,z,Lu(Y),ge);if(Y.$$typeof===de)return F(k,M,z,Vu(M,Y),ge);Uu(M,Y)}return null}function oe(k,M,z,Y){for(var ge=null,Fe=null,ue=M,Ce=M=0,je=null;ue!==null&&Ce<z.length;Ce++){ue.index>Ce?(je=ue,ue=null):je=ue.sibling;var Ge=q(k,ue,z[Ce],Y);if(Ge===null){ue===null&&(ue=je);break}t&&ue&&Ge.alternate===null&&n(k,ue),M=f(Ge,M,Ce),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge,ue=je}if(Ce===z.length)return a(k,ue),Be&&Hi(k,Ce),ge;if(ue===null){for(;Ce<z.length;Ce++)ue=Q(k,z[Ce],Y),ue!==null&&(M=f(ue,M,Ce),Fe===null?ge=ue:Fe.sibling=ue,Fe=ue);return Be&&Hi(k,Ce),ge}for(ue=o(ue);Ce<z.length;Ce++)je=F(ue,k,Ce,z[Ce],Y),je!==null&&(t&&je.alternate!==null&&ue.delete(je.key===null?Ce:je.key),M=f(je,M,Ce),Fe===null?ge=je:Fe.sibling=je,Fe=je);return t&&ue.forEach(function(Xs){return n(k,Xs)}),Be&&Hi(k,Ce),ge}function ye(k,M,z,Y){if(z==null)throw Error(r(151));for(var ge=null,Fe=null,ue=M,Ce=M=0,je=null,Ge=z.next();ue!==null&&!Ge.done;Ce++,Ge=z.next()){ue.index>Ce?(je=ue,ue=null):je=ue.sibling;var Xs=q(k,ue,Ge.value,Y);if(Xs===null){ue===null&&(ue=je);break}t&&ue&&Xs.alternate===null&&n(k,ue),M=f(Xs,M,Ce),Fe===null?ge=Xs:Fe.sibling=Xs,Fe=Xs,ue=je}if(Ge.done)return a(k,ue),Be&&Hi(k,Ce),ge;if(ue===null){for(;!Ge.done;Ce++,Ge=z.next())Ge=Q(k,Ge.value,Y),Ge!==null&&(M=f(Ge,M,Ce),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&Hi(k,Ce),ge}for(ue=o(ue);!Ge.done;Ce++,Ge=z.next())Ge=F(ue,k,Ce,Ge.value,Y),Ge!==null&&(t&&Ge.alternate!==null&&ue.delete(Ge.key===null?Ce:Ge.key),M=f(Ge,M,Ce),Fe===null?ge=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ue.forEach(function(QA){return n(k,QA)}),Be&&Hi(k,Ce),ge}function it(k,M,z,Y){if(typeof z=="object"&&z!==null&&z.type===ee&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case L:e:{for(var ge=z.key;M!==null;){if(M.key===ge){if(ge=z.type,ge===ee){if(M.tag===7){a(k,M.sibling),Y=h(M,z.props.children),Y.return=k,k=Y;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&Ur(ge)===M.type){a(k,M.sibling),Y=h(M,z.props),Ko(Y,z),Y.return=k,k=Y;break e}a(k,M);break}else n(k,M);M=M.sibling}z.type===ee?(Y=Vr(z.props.children,k.mode,Y,z.key),Y.return=k,k=Y):(Y=Du(z.type,z.key,z.props,null,k.mode,Y),Ko(Y,z),Y.return=k,k=Y)}return _(k);case J:e:{for(ge=z.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(k,M.sibling),Y=h(M,z.children||[]),Y.return=k,k=Y;break e}else{a(k,M);break}else n(k,M);M=M.sibling}Y=lf(z,k.mode,Y),Y.return=k,k=Y}return _(k);case x:return z=Ur(z),it(k,M,z,Y)}if(Ke(z))return oe(k,M,z,Y);if(P(z)){if(ge=P(z),typeof ge!="function")throw Error(r(150));return z=ge.call(z),ye(k,M,z,Y)}if(typeof z.then=="function")return it(k,M,Lu(z),Y);if(z.$$typeof===de)return it(k,M,Vu(k,z),Y);Uu(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(k,M.sibling),Y=h(M,z),Y.return=k,k=Y):(a(k,M),Y=of(z,k.mode,Y),Y.return=k,k=Y),_(k)):a(k,M)}return function(k,M,z,Y){try{Go=0;var ge=it(k,M,z,Y);return Da=null,ge}catch(ue){if(ue===Ia||ue===ku)throw ue;var Fe=yn(29,ue,null,k.mode);return Fe.lanes=Y,Fe.return=k,Fe}}}var Br=ap(!0),op=ap(!1),Os=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(t),Fg(t,null,a),n}return Cu(t,o,n,a),Iu(t)}function Yo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}function Tf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Af=!1;function Qo(){if(Af){var t=Ca;if(t!==null)throw t}}function Xo(t,n,a,o){Af=!1;var h=t.updateQueue;Os=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,B=C.next;C.next=null,_===null?f=B:_.next=B,_=C;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==_&&(E===null?K.firstBaseUpdate=B:E.next=B,K.lastBaseUpdate=C))}if(f!==null){var Q=h.baseState;_=0,K=B=C=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Ve&q)===q:(o&q)===q){q!==0&&q===Ra&&(Af=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,ye=E;q=n;var it=a;switch(ye.tag){case 1:if(oe=ye.payload,typeof oe=="function"){Q=oe.call(it,Q,q);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ye.payload,q=typeof oe=="function"?oe.call(it,Q,q):oe,q==null)break e;Q=S({},Q,q);break e;case 2:Os=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(B=K=F,C=Q):K=K.next=F,_|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Us|=_,t.lanes=_,t.memoizedState=Q}}function lp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function up(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)lp(a[t],n)}var Oa=w(null),zu=w(0);function cp(t,n){t=es,W(zu,t),W(Oa,n),es=t|n.baseLanes}function xf(){W(zu,es),W(Oa,Oa.current)}function Sf(){es=zu.current,V(Oa),V(zu)}var _n=w(null),Vn=null;function js(t){var n=t.alternate;W(_t,_t.current&1),W(_n,t),Vn===null&&(n===null||Oa.current!==null||n.memoizedState!==null)&&(Vn=t)}function wf(t){W(_t,_t.current),W(_n,t),Vn===null&&(Vn=t)}function hp(t){t.tag===22?(W(_t,_t.current),W(_n,t),Vn===null&&(Vn=t)):ks()}function ks(){W(_t,_t.current),W(_n,_n.current)}function vn(t){V(_n),Vn===t&&(Vn=null),V(_t)}var _t=w(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Od(a)||Md(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,Re=null,tt=null,wt=null,qu=!1,Ma=!1,qr=!1,Hu=0,$o=0,Va=null,LT=0;function mt(){throw Error(r(321))}function Nf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!pn(t[a],n[a]))return!1;return!0}function Rf(t,n,a,o,h,f){return Ki=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Qp:Hf,qr=!1,f=a(o,h),qr=!1,Ma&&(f=dp(n,a,o,h)),fp(t),f}function fp(t){G.H=Wo;var n=tt!==null&&tt.next!==null;if(Ki=0,wt=tt=Re=null,qu=!1,$o=0,Va=null,n)throw Error(r(300));t===null||Nt||(t=t.dependencies,t!==null&&Mu(t)&&(Nt=!0))}function dp(t,n,a,o){Re=t;var h=0;do{if(Ma&&(Va=null),$o=0,Ma=!1,25<=h)throw Error(r(301));if(h+=1,wt=tt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Xp,f=n(a,o)}while(Ma);return f}function UT(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?Zo(n):n,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Re.flags|=1024),n}function Cf(){var t=Hu!==0;return Hu=0,t}function If(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Df(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}Ki=0,wt=tt=Re=null,Ma=!1,$o=Hu=0,Va=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function vt(){if(tt===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var n=wt===null?Re.memoizedState:wt.next;if(n!==null)wt=n,tt=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var n=$o;return $o+=1,Va===null&&(Va=[]),t=ip(Va,t,n),n=Re,(wt===null?n.memoizedState:wt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Qp:Hf),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===de)return Ht(t)}throw Error(r(438,String(t)))}function Of(t){var n=null,a=Re.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),Re.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=j;return n.index++,a}function Yi(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=vt();return Mf(n,tt,t)}function Mf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=_=null,C=null,B=n,K=!1;do{var Q=B.lane&-536870913;if(Q!==B.lane?(Ve&Q)===Q:(Ki&Q)===Q){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Q===Ra&&(K=!0);else if((Ki&q)===q){B=B.next,q===Ra&&(K=!0);continue}else Q={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=Q,_=f):C=C.next=Q,Re.lanes|=q,Us|=q;Q=B.action,qr&&a(f,Q),f=B.hasEagerState?B.eagerState:a(f,Q)}else q={lane:Q,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=q,_=f):C=C.next=q,Re.lanes|=Q,Us|=Q;B=B.next}while(B!==null&&B!==n);if(C===null?_=f:C.next=E,!pn(f,t.memoizedState)&&(Nt=!0,K&&(a=Ca,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Vf(t){var n=vt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);pn(f,n.memoizedState)||(Nt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function mp(t,n,a){var o=Re,h=vt(),f=Be;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!pn((tt||h).memoizedState,a);if(_&&(h.memoizedState=a,Nt=!0),h=h.queue,Pf(yp.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,ja(9,{destroy:void 0},pp.bind(null,o,h,a,n),null),st===null)throw Error(r(349));f||(Ki&127)!==0||gp(o,n,a)}return a}function gp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Re.updateQueue,n===null?(n=Fu(),Re.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function pp(t,n,a,o){n.value=a,n.getSnapshot=o,_p(n)&&vp(t)}function yp(t,n,a){return a(function(){_p(n)&&vp(t)})}function _p(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!pn(t,a)}catch{return!0}}function vp(t){var n=Mr(t,2);n!==null&&cn(n,t,2)}function jf(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),qr){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},n}function bp(t,n,a,o){return t.baseState=a,Mf(t,tt,typeof o=="function"?o:Yi)}function zT(t,n,a,o,h){if(Xu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ep(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ep(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,_={};G.T=_;try{var E=a(h,o),C=G.S;C!==null&&C(_,E),Tp(t,n,E)}catch(B){kf(t,n,B)}finally{f!==null&&_.types!==null&&(f.types=_.types),G.T=f}}else try{f=a(h,o),Tp(t,n,f)}catch(B){kf(t,n,B)}}function Tp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ap(t,n,o)},function(o){return kf(t,n,o)}):Ap(t,n,a)}function Ap(t,n,a){n.status="fulfilled",n.value=a,xp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ep(t,a)))}function kf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,xp(n),n=n.next;while(n!==o)}t.action=null}function xp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sp(t,n){return n}function wp(t,n){if(Be){var a=st.formState;if(a!==null){e:{var o=Re;if(Be){if(at){t:{for(var h=at,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){at=jn(h.nextSibling),o=h.data==="F!";break e}}Is(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:n},a.queue=o,a=Gp.bind(null,Re,o),o.dispatch=a,o=jf(!1),f=qf.bind(null,Re,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=zT.bind(null,Re,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Np(t){var n=vt();return Rp(n,tt,t)}function Rp(t,n,a){if(n=Mf(t,n,Sp)[0],t=Ku(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(_){throw _===Ia?ku:_}else o=n;n=vt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Re.flags|=2048,ja(9,{destroy:void 0},BT.bind(null,h,a),null)),[o,f,t]}function BT(t,n){t.action=n}function Cp(t){var n=vt(),a=tt;if(a!==null)return Rp(n,a,t);vt(),n=n.memoizedState,a=vt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ja(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Fu(),Re.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Ip(){return vt().memoizedState}function Yu(t,n,a,o){var h=nn();Re.flags|=t,h.memoizedState=ja(1|n,{destroy:void 0},a,o===void 0?null:o)}function Qu(t,n,a,o){var h=vt();o=o===void 0?null:o;var f=h.memoizedState.inst;tt!==null&&o!==null&&Nf(o,tt.memoizedState.deps)?h.memoizedState=ja(n,f,a,o):(Re.flags|=t,h.memoizedState=ja(1|n,f,a,o))}function Dp(t,n){Yu(8390656,8,t,n)}function Pf(t,n){Qu(2048,8,t,n)}function qT(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Fu(),Re.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Op(t){var n=vt().memoizedState;return qT({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Mp(t,n){return Qu(4,2,t,n)}function Vp(t,n){return Qu(4,4,t,n)}function jp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kp(t,n,a){a=a!=null?a.concat([t]):null,Qu(4,4,jp.bind(null,n,t),a)}function Lf(){}function Pp(t,n){var a=vt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Nf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Lp(t,n){var a=vt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Nf(n,o[1]))return o[0];if(o=t(),qr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,n],o}function Uf(t,n,a){return a===void 0||(Ki&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Uy(),Re.lanes|=t,Us|=t,a)}function Up(t,n,a,o){return pn(a,n)?a:Oa.current!==null?(t=Uf(t,a,o),pn(t,n)||(Nt=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(Ve&261930)===0?(Nt=!0,t.memoizedState=a):(t=Uy(),Re.lanes|=t,Us|=t,n)}function zp(t,n,a,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var _=G.T,E={};G.T=E,qf(t,!1,n,a);try{var C=h(),B=G.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=PT(C,o);Jo(t,n,K,Tn(t))}else Jo(t,n,o,Tn(t))}catch(Q){Jo(t,n,{then:function(){},status:"rejected",reason:Q},Tn())}finally{ie.p=f,_!==null&&E.types!==null&&(_.types=E.types),G.T=_}}function HT(){}function zf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Bp(t).queue;zp(t,h,n,me,a===null?HT:function(){return qp(t),a(o)})}function Bp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qp(t){var n=Bp(t);n.next===null&&(n=t.alternate.memoizedState),Jo(t,n.next.queue,{},Tn())}function Bf(){return Ht(gl)}function Hp(){return vt().memoizedState}function Fp(){return vt().memoizedState}function FT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();t=Ms(a);var o=Vs(n,t,a);o!==null&&(cn(o,n,a),Yo(o,n,a)),n={cache:pf()},t.payload=n;return}n=n.return}}function GT(t,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(t)?Kp(n,a):(a=rf(t,n,a,o),a!==null&&(cn(a,t,o),Yp(a,n,o)))}function Gp(t,n,a){var o=Tn();Jo(t,n,a,o)}function Jo(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Kp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,_))return Cu(t,n,h,0),st===null&&Ru(),!1}catch{}if(a=rf(t,n,h,o),a!==null)return cn(a,t,o),Yp(a,n,o),!0}return!1}function qf(t,n,a,o){if(o={lane:2,revertLane:bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(r(479))}else n=rf(t,a,o,2),n!==null&&cn(n,t,2)}function Xu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Kp(t,n){Ma=qu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Yp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}var Wo={readContext:Ht,use:Gu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Wo.useEffectEvent=mt;var Qp={readContext:Ht,use:Gu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:Dp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Yu(4194308,4,jp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var o=t();if(qr){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=nn();if(a!==void 0){var h=a(n);if(qr){xn(!0);try{a(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=GT.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=jf(t);var n=t.queue,a=Gp.bind(null,Re,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Lf,useDeferredValue:function(t,n){var a=nn();return Uf(a,t,n)},useTransition:function(){var t=jf(!1);return t=zp.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Re,h=nn();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),st===null)throw Error(r(349));(Ve&127)!==0||gp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Dp(yp.bind(null,o,f,t),[t]),o.flags|=2048,ja(9,{destroy:void 0},pp.bind(null,o,f,a,n),null),a},useId:function(){var t=nn(),n=st.identifierPrefix;if(Be){var a=Ti,o=Ei;a=(o&~(1<<32-pt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=LT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Bf,useFormState:wp,useActionState:wp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=qf.bind(null,Re,!0,a),a.dispatch=n,[t,n]},useMemoCache:Of,useCacheRefresh:function(){return nn().memoizedState=FT.bind(null,Re)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((Xe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Hf={readContext:Ht,use:Gu,useCallback:Pp,useContext:Ht,useEffect:Pf,useImperativeHandle:kp,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Lp,useReducer:Ku,useRef:Ip,useState:function(){return Ku(Yi)},useDebugValue:Lf,useDeferredValue:function(t,n){var a=vt();return Up(a,tt.memoizedState,t,n)},useTransition:function(){var t=Ku(Yi)[0],n=vt().memoizedState;return[typeof t=="boolean"?t:Zo(t),n]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Bf,useFormState:Np,useActionState:Np,useOptimistic:function(t,n){var a=vt();return bp(a,tt,t,n)},useMemoCache:Of,useCacheRefresh:Fp};Hf.useEffectEvent=Op;var Xp={readContext:Ht,use:Gu,useCallback:Pp,useContext:Ht,useEffect:Pf,useImperativeHandle:kp,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Lp,useReducer:Vf,useRef:Ip,useState:function(){return Vf(Yi)},useDebugValue:Lf,useDeferredValue:function(t,n){var a=vt();return tt===null?Uf(a,t,n):Up(a,tt.memoizedState,t,n)},useTransition:function(){var t=Vf(Yi)[0],n=vt().memoizedState;return[typeof t=="boolean"?t:Zo(t),n]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Bf,useFormState:Cp,useActionState:Cp,useOptimistic:function(t,n){var a=vt();return tt!==null?bp(a,tt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Of,useCacheRefresh:Fp};Xp.useEffectEvent=Op;function Ff(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Tn(),h=Ms(o);h.payload=n,a!=null&&(h.callback=a),n=Vs(t,h,o),n!==null&&(cn(n,t,o),Yo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Tn(),h=Ms(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Vs(t,h,o),n!==null&&(cn(n,t,o),Yo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Tn(),o=Ms(a);o.tag=2,n!=null&&(o.callback=n),n=Vs(t,o,a),n!==null&&(cn(n,t,a),Yo(n,t,a))}};function $p(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Uo(a,o)||!Uo(h,f):!0}function Zp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Gf.enqueueReplaceState(n,n.state,null)}function Hr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Jp(t){Nu(t)}function Wp(t){console.error(t)}function ey(t){Nu(t)}function $u(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ty(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kf(t,n,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(t,n)},a}function ny(t){return t=Ms(t),t.tag=3,t}function iy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ty(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ty(n,a,o),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function KT(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Na(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?lc():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Pu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),yd(t,o,h)),!1;case 22:return a.flags|=65536,o===Pu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),yd(t,o,h)),!1}throw Error(r(435,a.tag))}return yd(t,o,h),lc(),!1}if(Be)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==hf&&(t=Error(r(422),{cause:o}),qo(In(t,a)))):(o!==hf&&(n=Error(r(423),{cause:o}),qo(In(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=In(o,a),h=Kf(t.stateNode,o,h),Tf(t,h),gt!==4&&(gt=2)),!1;var f=Error(r(520),{cause:o});if(f=In(f,a),ol===null?ol=[f]:ol.push(f),gt!==4&&(gt=2),n===null)return!0;o=In(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kf(a.stateNode,o,t),Tf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ny(h),iy(h,t,a,o),Tf(a,h),!1}a=a.return}while(a!==null);return!1}var Yf=Error(r(461)),Nt=!1;function Ft(t,n,a,o){n.child=t===null?op(n,null,a,o):Br(n,t.child,a,o)}function sy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Pr(n),o=Rf(t,n,a,_,f,h),E=Cf(),t!==null&&!Nt?(If(t,n,h),Qi(t,n,h)):(Be&&E&&uf(n),n.flags|=1,Ft(t,n,o,h),n.child)}function ry(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ay(t,n,f,o,h)):(t=Du(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!td(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(_,o)&&t.ref===n.ref)return Qi(t,n,h)}return n.flags|=1,t=qi(f,o),t.ref=n.ref,t.return=n,n.child=t}function ay(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Uo(f,o)&&t.ref===n.ref)if(Nt=!1,n.pendingProps=o=f,td(t,h))(t.flags&131072)!==0&&(Nt=!0);else return n.lanes=t.lanes,Qi(t,n,h)}return Qf(t,n,a,o,h)}function oy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ly(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,f!==null?f.cachePool:null),f!==null?cp(n,f):xf(),hp(n);else return o=n.lanes=536870912,ly(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ju(n,f.cachePool),cp(n,f),ks(),n.memoizedState=null):(t!==null&&ju(n,null),xf(),ks());return Ft(t,n,h,a),n.child}function el(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ly(t,n,a,o,h){var f=_f();return f=f===null?null:{parent:St._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&ju(n,null),xf(),hp(n),t!==null&&Na(t,n,o,!0),n.childLanes=h,null}function Zu(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function uy(t,n,a){return Br(n,t.child,null,a),t=Zu(n,n.pendingProps),t.flags|=2,vn(n),n.memoizedState=null,t}function YT(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Be){if(o.mode==="hidden")return t=Zu(n,o),n.lanes=536870912,el(null,t);if(wf(n),(t=at)?(t=E_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=n,n.child=a,qt=n,at=null)):t=null,t===null)throw Is(n);return n.lanes=536870912,null}return Zu(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=uy(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Nt||Na(t,n,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(o=st,o!==null&&(_=Eo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Mr(t,_),cn(o,t,_),Yf;lc(),n=uy(t,n,a)}else t=f.treeContext,at=jn(_.nextSibling),qt=n,Be=!0,Cs=null,Mn=!1,t!==null&&Xg(n,t),n=Zu(n,o),n.flags|=4096;return n}return t=qi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Qf(t,n,a,o,h){return Pr(n),a=Rf(t,n,a,o,void 0,h),o=Cf(),t!==null&&!Nt?(If(t,n,h),Qi(t,n,h)):(Be&&o&&uf(n),n.flags|=1,Ft(t,n,a,h),n.child)}function cy(t,n,a,o,h,f){return Pr(n),n.updateQueue=null,a=dp(n,o,a,h),fp(t),o=Cf(),t!==null&&!Nt?(If(t,n,f),Qi(t,n,f)):(Be&&o&&uf(n),n.flags|=1,Ft(t,n,a,f),n.child)}function hy(t,n,a,o,h){if(Pr(n),n.stateNode===null){var f=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Ht(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},bf(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Ht(_):Aa,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ff(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Gf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Hr(a,E);f.props=C;var B=f.context,K=a.contextType;_=Aa,typeof K=="object"&&K!==null&&(_=Ht(K));var Q=a.getDerivedStateFromProps;K=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==_)&&Zp(n,f,o,_),Os=!1;var q=n.memoizedState;f.state=q,Xo(n,o,f,h),Qo(),B=n.memoizedState,E||q!==B||Os?(typeof Q=="function"&&(Ff(n,a,Q,o),B=n.memoizedState),(C=Os||$p(n,a,C,o,q,B,_))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=_,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ef(t,n),_=n.memoizedProps,K=Hr(a,_),f.props=K,Q=n.pendingProps,q=f.context,B=a.contextType,C=Aa,typeof B=="object"&&B!==null&&(C=Ht(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||q!==C)&&Zp(n,f,o,C),Os=!1,q=n.memoizedState,f.state=q,Xo(n,o,f,h),Qo();var F=n.memoizedState;_!==Q||q!==F||Os||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof E=="function"&&(Ff(n,a,E,o),F=n.memoizedState),(K=Os||$p(n,a,K,o,q,F,C)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=C,o=K):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Br(n,t.child,null,h),n.child=Br(n,null,a,h)):Ft(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Qi(t,n,h),t}function fy(t,n,a,o){return jr(),n.flags|=256,Ft(t,n,a,o),n.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(t){return{baseLanes:t,cachePool:tp()}}function Zf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=En),t}function dy(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Be){if(h?js(n):ks(),(t=at)?(t=E_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Rs!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=Kg(t),a.return=n,n.child=a,qt=n,at=null)):t=null,t===null)throw Is(n);return Md(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ks(),h=n.mode,E=Wu({mode:"hidden",children:E},h),o=Vr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=$f(a),o.childLanes=Zf(t,_,a),n.memoizedState=Xf,el(null,o)):(js(n),Jf(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(js(n),n.flags&=-257,n=Wf(t,n,a)):n.memoizedState!==null?(ks(),n.child=t.child,n.flags|=128,n=null):(ks(),E=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),E=Vr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Br(n,t.child,null,a),o=n.child,o.memoizedState=$f(a),o.childLanes=Zf(t,_,a),n.memoizedState=Xf,n=el(null,o));else if(js(n),Md(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var B=_.dgst;_=B,o=Error(r(419)),o.stack="",o.digest=_,qo({value:o,source:null,stack:null}),n=Wf(t,n,a)}else if(Nt||Na(t,n,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=st,_!==null&&(o=Eo(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Mr(t,o),cn(_,t,o),Yf;Od(E)||lc(),n=Wf(t,n,a)}else Od(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,at=jn(E.nextSibling),qt=n,Be=!0,Cs=null,Mn=!1,t!==null&&Xg(n,t),n=Jf(n,o.children),n.flags|=4096);return n}return h?(ks(),E=o.fallback,h=n.mode,C=t.child,B=C.sibling,o=qi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=qi(B,E):(E=Vr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=t.child.memoizedState,E===null?E=$f(a):(h=E.cachePool,h!==null?(C=St._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=tp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Zf(t,_,a),n.memoizedState=Xf,el(t.child,o)):(js(n),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Jf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function Wf(t,n,a){return Br(n,t.child,null,a),t=Jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function my(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),mf(t.return,n,a)}function ed(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function gy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=_t.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,W(_t,_),Ft(t,n,o,a),o=Be?Bo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&my(t,a,n);else if(t.tag===19)my(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Bu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ed(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ed(n,!0,a,null,f,o);break;case"together":ed(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Us|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Na(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=qi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function td(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function QT(t,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Ds(n,St,t.memoizedState.cache),jr();break;case 27:case 5:he(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(a&n.child.childLanes)!==0?dy(t,n,a):(js(n),t=Qi(t,n,a),t!==null?t.sibling:null);js(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Na(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return gy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(_t,_t.current),o)break;return null;case 22:return n.lanes=0,oy(t,n,a,n.pendingProps);case 24:Ds(n,St,t.memoizedState.cache)}return Qi(t,n,a)}function py(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nt=!0;else{if(!td(t,a)&&(n.flags&128)===0)return Nt=!1,QT(t,n,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(n.flags&1048576)!==0&&Qg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Ur(n.elementType),n.type=t,typeof t=="function")af(t)?(o=Hr(t,o),n.tag=1,n=hy(null,n,t,o,a)):(n.tag=0,n=Qf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ee){n.tag=11,n=sy(null,n,t,o,a);break e}else if(h===I){n.tag=14,n=ry(null,n,t,o,a);break e}}throw n=rt(t)||t,Error(r(306,n,""))}}return n;case 0:return Qf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Hr(o,n.pendingProps),hy(t,n,o,h,a);case 3:e:{if(De(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Ef(t,n),Xo(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Ds(n,St,o),o!==f.cache&&gf(n,[St],a,!0),Qo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fy(t,n,o,a);break e}else if(o!==h){h=In(Error(r(424)),n),qo(h),n=fy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=jn(t.firstChild),qt=n,Be=!0,Cs=null,Mn=!0,a=op(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(jr(),o===h){n=Qi(t,n,a);break e}Ft(t,n,o,a)}n=n.child}return n;case 26:return Ju(t,n),t===null?(a=N_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Be||(a=n.type,t=n.pendingProps,o=gc(le.current).createElement(a),o[Tt]=n,o[jt]=t,Gt(o,a,t),At(o),n.stateNode=o):n.memoizedState=N_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return he(n),t===null&&Be&&(o=n.stateNode=x_(n.type,n.pendingProps,le.current),qt=n,Mn=!0,h=at,Fs(n.type)?(Vd=h,at=jn(o.firstChild)):at=h),Ft(t,n,n.pendingProps.children,a),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Be&&((h=o=at)&&(o=xA(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,qt=n,at=jn(o.firstChild),Mn=!1,h=!0):h=!1),h||Is(n)),he(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Cd(h,f)?o=null:_!==null&&Cd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Rf(t,n,UT,null,null,a),gl._currentValue=h),Ju(t,n),Ft(t,n,o,a),n.child;case 6:return t===null&&Be&&((t=a=at)&&(a=SA(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,qt=n,at=null,t=!0):t=!1),t||Is(n)),null;case 13:return dy(t,n,a);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Br(n,null,o,a):Ft(t,n,o,a),n.child;case 11:return sy(t,n,n.type,n.pendingProps,a);case 7:return Ft(t,n,n.pendingProps,a),n.child;case 8:return Ft(t,n,n.pendingProps.children,a),n.child;case 12:return Ft(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Ft(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Pr(n),h=Ht(h),o=o(h),n.flags|=1,Ft(t,n,o,a),n.child;case 14:return ry(t,n,n.type,n.pendingProps,a);case 15:return ay(t,n,n.type,n.pendingProps,a);case 19:return gy(t,n,a);case 31:return YT(t,n,a);case 22:return oy(t,n,a,n.pendingProps);case 24:return Pr(n),o=Ht(St),t===null?(h=_f(),h===null&&(h=st,f=pf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},bf(n),Ds(n,St,h)):((t.lanes&a)!==0&&(Ef(t,n),Xo(n,null,null,a),Qo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,St,o)):(o=f.cache,Ds(n,St,o),o!==h.cache&&gf(n,[St],a,!0))),Ft(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Xi(t){t.flags|=4}function nd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Hy())t.flags|=8192;else throw zr=Pu,vf}else t.flags&=-16777217}function yy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!O_(n))if(Hy())t.flags|=8192;else throw zr=Pu,vf}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,Ua|=n)}function tl(t,n){if(!Be)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ot(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function XT(t,n,a){var o=n.pendingProps;switch(cf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(n),null;case 1:return ot(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Gi(St),ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wa(n)?Xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ff())),ot(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Xi(n),f!==null?(ot(n),yy(n,f)):(ot(n),nd(n,h,null,o,a))):f?f!==t.memoizedState?(Xi(n),ot(n),yy(n,f)):(ot(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Xi(n),ot(n),nd(n,h,t,o,a)),null;case 27:if(ms(n),a=le.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ot(n),null}t=ne.current,wa(n)?$g(n):(t=x_(h,o,a),n.stateNode=t,Xi(n))}return ot(n),null;case 5:if(ms(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ot(n),null}if(f=ne.current,wa(n))$g(n);else{var _=gc(le.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Tt]=n,f[jt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(Gt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Xi(n)}}return ot(n),nd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=le.current,wa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||d_(t.nodeValue,a)),t||Is(n,!0)}else t=gc(t).createTextNode(o),t[Tt]=n,n.stateNode=t}return ot(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=wa(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),t=!1}else a=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ot(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=n}else jr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),h=!1}else h=ff(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ec(n,n.updateQueue),ot(n),null);case 4:return ze(),t===null&&xd(n.stateNode.containerInfo),ot(n),null;case 10:return Gi(n.type),ot(n),null;case 19:if(V(_t),o=n.memoizedState,o===null)return ot(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,tl(o,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Gg(a,t),a=a.sibling;return W(_t,_t.current&1|2),Be&&Hi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&en()>rc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Be)return ot(n),null}else 2*en()-o.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=_t.current,W(_t,h?a&1|2:a&1),Be&&Hi(n,o.treeForkCount),t):(ot(n),null);case 22:case 23:return vn(n),Sf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ot(n),n.subtreeFlags&6&&(n.flags|=8192)):ot(n),a=n.updateQueue,a!==null&&ec(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&V(Lr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Gi(St),ot(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function $T(t,n){switch(cf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Gi(St),ze(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ms(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(vn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));jr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return V(_t),null;case 4:return ze(),null;case 10:return Gi(n.type),null;case 22:case 23:return vn(n),Sf(),t!==null&&V(Lr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Gi(St),null;case 25:return null;default:return null}}function _y(t,n){switch(cf(n),n.tag){case 3:Gi(St),ze();break;case 26:case 27:case 5:ms(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:V(_t);break;case 10:Gi(n.type);break;case 22:case 23:vn(n),Sf(),t!==null&&V(Lr);break;case 24:Gi(St)}}function nl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){We(n,n.return,E)}}function Ps(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var C=a,B=E;try{B()}catch(K){We(h,C,K)}}}o=o.next}while(o!==f)}}catch(K){We(n,n.return,K)}}function vy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{up(n,a)}catch(o){We(t,t.return,o)}}}function by(t,n,a){a.props=Hr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){We(t,n,o)}}function il(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){We(t,n,h)}}function Ai(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){We(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,n,h)}else a.current=null}function Ey(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function id(t,n,a){try{var o=t.stateNode;_A(o,t.type,a,n),o[jt]=n}catch(h){We(t,t.return,h)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fs(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(rd(t,n,a),t=t.sibling;t!==null;)rd(t,n,a),t=t.sibling}function tc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Fs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(tc(t,n,a),t=t.sibling;t!==null;)tc(t,n,a),t=t.sibling}function Ay(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Gt(n,o,a),n[Tt]=t,n[jt]=a}catch(f){We(t,t.return,f)}}var $i=!1,Rt=!1,ad=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function ZT(t,n){if(t=t.containerInfo,Nd=Tc,t=kg(t),Jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,E=-1,C=-1,B=0,K=0,Q=t,q=null;t:for(;;){for(var F;Q!==a||h!==0&&Q.nodeType!==3||(E=_+h),Q!==f||o!==0&&Q.nodeType!==3||(C=_+o),Q.nodeType===3&&(_+=Q.nodeValue.length),(F=Q.firstChild)!==null;)q=Q,Q=F;for(;;){if(Q===t)break t;if(q===a&&++B===h&&(E=_),q===f&&++K===o&&(C=_),(F=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=F}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rd={focusedElem:t,selectionRange:a},Tc=!1,Pt=n;Pt!==null;)if(n=Pt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Pt=t;else for(;Pt!==null;){switch(n=Pt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=Hr(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Dd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Pt=t;break}Pt=n.return}}function Sy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(t,a),o&4&&nl(5,a);break;case 1:if(Ji(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=Hr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}o&64&&vy(a),o&512&&il(a,a.return);break;case 3:if(Ji(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{up(t,n)}catch(_){We(a,a.return,_)}}break;case 27:n===null&&o&4&&Ay(a);case 26:case 5:Ji(t,a),n===null&&o&4&&Ey(a),o&512&&il(a,a.return);break;case 12:Ji(t,a);break;case 31:Ji(t,a),o&4&&Ry(t,a);break;case 13:Ji(t,a),o&4&&Cy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=aA.bind(null,a),wA(t,a))));break;case 22:if(o=a.memoizedState!==null||$i,!o){n=n!==null&&n.memoizedState!==null||Rt,h=$i;var f=Rt;$i=o,(Rt=n)&&!f?Wi(t,a,(a.subtreeFlags&8772)!==0):Ji(t,a),$i=h,Rt=f}break;case 30:break;default:Ji(t,a)}}function wy(t){var n=t.alternate;n!==null&&(t.alternate=null,wy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ua(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,an=!1;function Zi(t,n,a){for(a=a.child;a!==null;)Ny(t,n,a),a=a.sibling}function Ny(t,n,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Rt||Ai(a,n),Zi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ai(a,n);var o=ht,h=an;Fs(a.type)&&(ht=a.stateNode,an=!1),Zi(t,n,a),fl(a.stateNode),ht=o,an=h;break;case 5:Rt||Ai(a,n);case 6:if(o=ht,h=an,ht=null,Zi(t,n,a),ht=o,an=h,ht!==null)if(an)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(f){We(a,n,f)}else try{ht.removeChild(a.stateNode)}catch(f){We(a,n,f)}break;case 18:ht!==null&&(an?(t=ht,v_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ya(t)):v_(ht,a.stateNode));break;case 4:o=ht,h=an,ht=a.stateNode.containerInfo,an=!0,Zi(t,n,a),ht=o,an=h;break;case 0:case 11:case 14:case 15:Ps(2,a,n),Rt||Ps(4,a,n),Zi(t,n,a);break;case 1:Rt||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&by(a,n,o)),Zi(t,n,a);break;case 21:Zi(t,n,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,Zi(t,n,a),Rt=o;break;default:Zi(t,n,a)}}function Ry(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ya(t)}catch(a){We(n,n.return,a)}}}function Cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(a){We(n,n.return,a)}}function JT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new xy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new xy),n;default:throw Error(r(435,t.tag))}}function nc(t,n){var a=JT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=oA.bind(null,t,o);o.then(h,h)}})}function on(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(Fs(E.type)){ht=E.stateNode,an=!1;break e}break;case 5:ht=E.stateNode,an=!1;break e;case 3:case 4:ht=E.stateNode.containerInfo,an=!0;break e}E=E.return}if(ht===null)throw Error(r(160));Ny(f,_,h),ht=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Iy(n,t),n=n.sibling}var $n=null;function Iy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),ln(t),o&4&&(Ps(3,t,t.return),nl(3,t),Ps(5,t,t.return));break;case 1:on(n,t),ln(t),o&512&&(Rt||a===null||Ai(a,a.return)),o&64&&$i&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(on(n,t),ln(t),o&512&&(Rt||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,o,a),f[Tt]=t,At(f),o=f;break e;case"link":var _=I_("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;case"meta":if(_=I_("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Tt]=t,At(f),o=f}t.stateNode=o}else D_(h,t.type,t.stateNode);else t.stateNode=C_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?D_(h,t.type,t.stateNode):C_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&id(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),ln(t),o&512&&(Rt||a===null||Ai(a,a.return)),a!==null&&o&4&&id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),ln(t),o&512&&(Rt||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{rn(h,"")}catch(oe){We(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,id(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ad=!0);break;case 6:if(on(n,t),ln(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){We(t,t.return,oe)}}break;case 3:if(_c=null,h=$n,$n=pc(n.containerInfo),on(n,t),$n=h,ln(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ya(n.containerInfo)}catch(oe){We(t,t.return,oe)}ad&&(ad=!1,Dy(t));break;case 4:o=$n,$n=pc(t.stateNode.containerInfo),on(n,t),ln(t),$n=o;break;case 12:on(n,t),ln(t);break;case 31:on(n,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 13:on(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=$i,K=Rt;if($i=B||h,Rt=K||C,on(n,t),Rt=K,$i=B,ln(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||$i||Rt||Fr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(oe){We(C,C.return,oe)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){We(C,C.return,oe)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?b_(F,!0):b_(C.stateNode,!1)}catch(oe){We(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,nc(t,a))));break;case 19:on(n,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 30:break;case 21:break;default:on(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Ty(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=sd(t);tc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var E=sd(t);tc(t,E,_);break;case 3:case 4:var C=a.stateNode.containerInfo,B=sd(t);rd(t,B,C);break;default:throw Error(r(161))}}catch(K){We(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(t,n.alternate,n),n=n.sibling}function Fr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ps(4,n,n.return),Fr(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&by(n,n.return,a),Fr(n);break;case 27:fl(n.stateNode);case 26:case 5:Ai(n,n.return),Fr(n);break;case 22:n.memoizedState===null&&Fr(n);break;case 30:Fr(n);break;default:Fr(n)}t=t.sibling}}function Wi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,a),nl(4,f);break;case 1:if(Wi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)lp(C[h],E)}catch(B){We(o,o.return,B)}}a&&_&64&&vy(f),il(f,f.return);break;case 27:Ay(f);case 26:case 5:Wi(h,f,a),a&&o===null&&_&4&&Ey(f),il(f,f.return);break;case 12:Wi(h,f,a);break;case 31:Wi(h,f,a),a&&_&4&&Ry(h,f);break;case 13:Wi(h,f,a),a&&_&4&&Cy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,a),il(f,f.return);break;case 30:break;default:Wi(h,f,a)}n=n.sibling}}function od(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ho(a))}function ld(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ho(t))}function Zn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Oy(t,n,a,o),n=n.sibling}function Oy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,o),h&2048&&nl(9,n);break;case 1:Zn(t,n,a,o);break;case 3:Zn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ho(t)));break;case 12:if(h&2048){Zn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){We(n,n.return,C)}}else Zn(t,n,a,o);break;case 31:Zn(t,n,a,o);break;case 13:Zn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,a,o):sl(t,n):f._visibility&2?Zn(t,n,a,o):(f._visibility|=2,ka(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&od(_,n);break;case 24:Zn(t,n,a,o),h&2048&&ld(n.alternate,n);break;default:Zn(t,n,a,o)}}function ka(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,E=a,C=o,B=_.flags;switch(_.tag){case 0:case 11:case 15:ka(f,_,E,C,h),nl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?ka(f,_,E,C,h):sl(f,_):(K._visibility|=2,ka(f,_,E,C,h)),h&&B&2048&&od(_.alternate,_);break;case 24:ka(f,_,E,C,h),h&&B&2048&&ld(_.alternate,_);break;default:ka(f,_,E,C,h)}n=n.sibling}}function sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:sl(a,o),h&2048&&od(o.alternate,o);break;case 24:sl(a,o),h&2048&&ld(o.alternate,o);break;default:sl(a,o)}n=n.sibling}}var rl=8192;function Pa(t,n,a){if(t.subtreeFlags&rl)for(t=t.child;t!==null;)My(t,n,a),t=t.sibling}function My(t,n,a){switch(t.tag){case 26:Pa(t,n,a),t.flags&rl&&t.memoizedState!==null&&LA(a,$n,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,n,a);break;case 3:case 4:var o=$n;$n=pc(t.stateNode.containerInfo),Pa(t,n,a),$n=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Pa(t,n,a),rl=o):Pa(t,n,a));break;default:Pa(t,n,a)}}function Vy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pt=o,ky(o,t)}Vy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jy(t),t=t.sibling}function jy(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):al(t);break;default:al(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pt=o,ky(o,t)}Vy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ps(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function ky(t,n){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ps(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pt=o;else e:for(a=t;Pt!==null;){o=Pt;var h=o.sibling,f=o.return;if(wy(o),o===a){Pt=null;break e}if(h!==null){h.return=f,Pt=h;break e}Pt=f}}}var WT={getCacheForType:function(t){var n=Ht(St),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},eA=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Oe=null,Ve=0,Je=0,bn=null,Ls=!1,La=!1,ud=!1,es=0,gt=0,Us=0,Gr=0,cd=0,En=0,Ua=0,ol=null,un=null,hd=!1,sc=0,Py=0,rc=1/0,ac=null,zs=null,Dt=0,Bs=null,za=null,ts=0,fd=0,dd=null,Ly=null,ll=0,md=null;function Tn(){return(Xe&2)!==0&&Ve!==0?Ve&-Ve:G.T!==null?bd():ou()}function Uy(){if(En===0)if((Ve&536870912)===0||Be){var t=_r;_r<<=1,(_r&3932160)===0&&(_r=262144),En=t}else En=536870912;return t=_n.current,t!==null&&(t.flags|=32),En}function cn(t,n,a){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),qs(t,Ve,En,!1)),vr(t,a),((Xe&2)===0||t!==st)&&(t===st&&((Xe&2)===0&&(Gr|=a),gt===4&&qs(t,Ve,En,!1)),xi(t))}function zy(t,n,a){if((Xe&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Bn(t,n),h=o?iA(t,n):pd(t,n,!0),f=o;do{if(h===0){La&&!o&&qs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!tA(a)){h=pd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var E=t;h=ol;var C=E.current.memoizedState.isDehydrated;if(C&&(Ba(E,_).flags|=256),_=pd(E,_,!1),_!==2){if(ud&&!C){E.errorRecoveryDisabledLanes|=f,Gr|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ba(t,0),qs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,En,!Ls);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=sc+300-en(),10<h)){if(qs(o,n,En,!Ls),ai(o,0,!0)!==0)break e;ts=n,o.timeoutHandle=y_(By.bind(null,o,a,un,ac,hd,n,En,Gr,Ua,Ls,f,"Throttled",-0,0),h);break e}By(o,a,un,ac,hd,n,En,Gr,Ua,Ls,f,null,-0,0)}}break}while(!0);xi(t)}function By(t,n,a,o,h,f,_,E,C,B,K,Q,q,F){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},My(n,f,Q);var oe=(f&62914560)===f?sc-en():(f&4194048)===f?Py-en():0;if(oe=UA(Q,oe),oe!==null){ts=f,t.cancelPendingCommit=oe(Xy.bind(null,t,n,f,a,o,h,_,E,C,K,Q,null,q,F)),qs(t,f,_,!B);return}}Xy(t,n,f,a,o,h,_,E,C)}function tA(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(t,n,a,o){n&=~cd,n&=~Gr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-pt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&br(t,a,n)}function oc(){return(Xe&6)===0?(ul(0),!1):!0}function gd(){if(Oe!==null){if(Je===0)var t=Oe.return;else t=Oe,Fi=kr=null,Df(t),Da=null,Go=0,t=Oe;for(;t!==null;)_y(t.alternate,t),t=t.return;Oe=null}}function Ba(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,EA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ts=0,gd(),st=t,Oe=a=qi(t.current,null),Ve=n,Je=0,bn=null,Ls=!1,La=Bn(t,n),ud=!1,Ua=En=cd=Gr=Us=gt=0,un=ol=null,hd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-pt(o),f=1<<h;n|=t[h],o&=~f}return es=n,Ru(),a}function qy(t,n){Re=null,G.H=Wo,n===Ia||n===ku?(n=sp(),Je=3):n===vf?(n=sp(),Je=4):Je=n===Yf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,Oe===null&&(gt=1,$u(t,In(n,t.current)))}function Hy(){var t=_n.current;return t===null?!0:(Ve&4194048)===Ve?Vn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Vn:!1}function Fy(){var t=G.H;return G.H=Wo,t===null?Wo:t}function Gy(){var t=G.A;return G.A=WT,t}function lc(){gt=4,Ls||(Ve&4194048)!==Ve&&_n.current!==null||(La=!0),(Us&134217727)===0&&(Gr&134217727)===0||st===null||qs(st,Ve,En,!1)}function pd(t,n,a){var o=Xe;Xe|=2;var h=Fy(),f=Gy();(st!==t||Ve!==n)&&(ac=null,Ba(t,n)),n=!1;var _=gt;e:do try{if(Je!==0&&Oe!==null){var E=Oe,C=bn;switch(Je){case 8:gd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var B=Je;if(Je=0,bn=null,qa(t,E,C,B),a&&La){_=0;break e}break;default:B=Je,Je=0,bn=null,qa(t,E,C,B)}}nA(),_=gt;break}catch(K){qy(t,K)}while(!0);return n&&t.shellSuspendCounter++,Fi=kr=null,Xe=o,G.H=h,G.A=f,Oe===null&&(st=null,Ve=0,Ru()),_}function nA(){for(;Oe!==null;)Ky(Oe)}function iA(t,n){var a=Xe;Xe|=2;var o=Fy(),h=Gy();st!==t||Ve!==n?(ac=null,rc=en()+500,Ba(t,n)):La=Bn(t,n);e:do try{if(Je!==0&&Oe!==null){n=Oe;var f=bn;t:switch(Je){case 1:Je=0,bn=null,qa(t,n,f,1);break;case 2:case 9:if(np(f)){Je=0,bn=null,Yy(n);break}n=function(){Je!==2&&Je!==9||st!==t||(Je=7),xi(t)},f.then(n,n);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:np(f)?(Je=0,bn=null,Yy(n)):(Je=0,bn=null,qa(t,n,f,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var E=Oe;if(_?O_(_):E.stateNode.complete){Je=0,bn=null;var C=E.sibling;if(C!==null)Oe=C;else{var B=E.return;B!==null?(Oe=B,uc(B)):Oe=null}break t}}Je=0,bn=null,qa(t,n,f,5);break;case 6:Je=0,bn=null,qa(t,n,f,6);break;case 8:gd(),gt=6;break e;default:throw Error(r(462))}}sA();break}catch(K){qy(t,K)}while(!0);return Fi=kr=null,G.H=o,G.A=h,Xe=a,Oe!==null?0:(st=null,Ve=0,Ru(),gt)}function sA(){for(;Oe!==null&&!Gh();)Ky(Oe)}function Ky(t){var n=py(t.alternate,t,es);t.memoizedProps=t.pendingProps,n===null?uc(t):Oe=n}function Yy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=cy(a,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=cy(a,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:Df(n);default:_y(a,n),n=Oe=Gg(n,es),n=py(a,n,es)}t.memoizedProps=t.pendingProps,n===null?uc(t):Oe=n}function qa(t,n,a,o){Fi=kr=null,Df(n),Da=null,Go=0;var h=n.return;try{if(KT(t,h,n,a,Ve)){gt=1,$u(t,In(a,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;gt=1,$u(t,In(a,t.current)),Oe=null;return}n.flags&32768?(Be||o===1?t=!0:La||(Ve&536870912)!==0?t=!1:(Ls=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){Qy(n,Ls);return}t=n.return;var a=XT(n.alternate,n,es);if(a!==null){Oe=a;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=t}while(n!==null);gt===0&&(gt=5)}function Qy(t,n){do{var a=$T(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);gt=6,Oe=null}function Xy(t,n,a,o,h,f,_,E,C){t.cancelPendingCommit=null;do cc();while(Dt!==0);if((Xe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=sf,Qh(t,a,f,_,E,C),t===st&&(Oe=st=null,Ve=0),za=n,Bs=t,ts=a,fd=f,dd=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,lA(_s,function(){return e_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=ie.p,ie.p=2,_=Xe,Xe|=4;try{ZT(t,n,a)}finally{Xe=_,ie.p=h,G.T=o}}Dt=1,$y(),Zy(),Jy()}}function $y(){if(Dt===1){Dt=0;var t=Bs,n=za,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=ie.p;ie.p=2;var h=Xe;Xe|=4;try{Iy(n,t);var f=Rd,_=kg(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&jg(E.ownerDocument.documentElement,E)){if(C!==null&&Jh(E)){var B=C.start,K=C.end;if(K===void 0&&(K=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(K,E.value.length);else{var Q=E.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var F=q.getSelection(),oe=E.textContent.length,ye=Math.min(C.start,oe),it=C.end===void 0?ye:Math.min(C.end,oe);!F.extend&&ye>it&&(_=it,it=ye,ye=_);var k=Vg(E,ye),M=Vg(E,it);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=Q.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),ye>it?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for(Q=[],F=E;F=F.parentNode;)F.nodeType===1&&Q.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var Y=Q[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Tc=!!Nd,Rd=Nd=null}finally{Xe=h,ie.p=o,G.T=a}}t.current=n,Dt=2}}function Zy(){if(Dt===2){Dt=0;var t=Bs,n=za,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=ie.p;ie.p=2;var h=Xe;Xe|=4;try{Sy(t,n.alternate,n)}finally{Xe=h,ie.p=o,G.T=a}}Dt=3}}function Jy(){if(Dt===4||Dt===3){Dt=0,eu();var t=Bs,n=za,a=ts,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Dt=5:(Dt=0,za=Bs=null,Wy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zs=null),Li(a),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ie.p=h}}(ts&3)!==0&&cc(),xi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===md?ll++:(ll=0,md=t):ll=0,ul(0)}}function Wy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ho(n)))}function cc(){return $y(),Zy(),Jy(),e_()}function e_(){if(Dt!==5)return!1;var t=Bs,n=fd;fd=0;var a=Li(ts),o=G.T,h=ie.p;try{ie.p=32>a?32:a,G.T=null,a=dd,dd=null;var f=Bs,_=ts;if(Dt=0,za=Bs=null,ts=0,(Xe&6)!==0)throw Error(r(331));var E=Xe;if(Xe|=4,jy(f.current),Oy(f,f.current,_,a),Xe=E,ul(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{ie.p=h,G.T=o,Wy(t,n)}}function t_(t,n,a){n=In(a,n),n=Kf(t.stateNode,n,2),t=Vs(t,n,2),t!==null&&(vr(t,2),xi(t))}function We(t,n,a){if(t.tag===3)t_(t,t,a);else for(;n!==null;){if(n.tag===3){t_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))){t=In(a,t),a=ny(2),o=Vs(n,a,2),o!==null&&(iy(a,o,n,t),vr(o,2),xi(o));break}}n=n.return}}function yd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new eA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ud=!0,h.add(a),t=rA.bind(null,t,n,a),n.then(t,t))}function rA(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ve&a)===a&&(gt===4||gt===3&&(Ve&62914560)===Ve&&300>en()-sc?(Xe&2)===0&&Ba(t,0):cd|=a,Ua===Ve&&(Ua=0)),xi(t)}function n_(t,n){n===0&&(n=au()),t=Mr(t,n),t!==null&&(vr(t,n),xi(t))}function aA(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),n_(t,a)}function oA(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),n_(t,a)}function lA(t,n){return ft(t,n)}var hc=null,Ha=null,_d=!1,fc=!1,vd=!1,Hs=0;function xi(t){t!==Ha&&t.next===null&&(Ha===null?hc=Ha=t:Ha=Ha.next=t),fc=!0,_d||(_d=!0,cA())}function ul(t,n){if(!vd&&fc){vd=!0;do for(var a=!1,o=hc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,a_(o,f))}else f=Ve,f=ai(o,o===st?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,a_(o,f));o=o.next}while(a);vd=!1}}function uA(){i_()}function i_(){fc=_d=!1;var t=0;Hs!==0&&bA()&&(t=Hs);for(var n=en(),a=null,o=hc;o!==null;){var h=o.next,f=s_(o,n);f===0?(o.next=null,a===null?hc=h:a.next=h,h===null&&(Ha=a)):(a=o,(t!==0||(f&3)!==0)&&(fc=!0)),o=h}Dt!==0&&Dt!==5||ul(t),Hs!==0&&(Hs=0)}function s_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-pt(f),E=1<<_,C=h[_];C===-1?((E&a)===0||(E&o)!==0)&&(h[_]=Yh(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=st,a=Ve,a=ai(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Pi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Pi(o),Li(a)){case 2:case 8:a=vo;break;case 32:a=_s;break;case 268435456:a=tu;break;default:a=_s}return o=r_.bind(null,t),a=ft(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Pi(o),t.callbackPriority=2,t.callbackNode=null,2}function r_(t,n){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(cc()&&t.callbackNode!==a)return null;var o=Ve;return o=ai(t,t===st?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(zy(t,o,n),s_(t,en()),t.callbackNode!=null&&t.callbackNode===a?r_.bind(null,t):null)}function a_(t,n){if(cc())return null;zy(t,n,!0)}function cA(){TA(function(){(Xe&6)!==0?ft(_o,uA):i_()})}function bd(){if(Hs===0){var t=Ra;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Hs=t}return Hs}function o_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function l_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function hA(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=o_((h[jt]||null).action),_=o.submitter;_&&(n=(n=_[jt]||null)?o_(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new yi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var C=_?l_(h,_):new FormData(h);zf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=_?l_(h,_):new FormData(h),zf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var Ed=0;Ed<nf.length;Ed++){var Td=nf[Ed],fA=Td.toLowerCase(),dA=Td[0].toUpperCase()+Td.slice(1);Xn(fA,"on"+dA)}Xn(Ug,"onAnimationEnd"),Xn(zg,"onAnimationIteration"),Xn(Bg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(CT,"onTransitionRun"),Xn(IT,"onTransitionStart"),Xn(DT,"onTransitionCancel"),Xn(qg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function u_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(K){Nu(K)}h.currentTarget=null,f=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,B=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(K){Nu(K)}h.currentTarget=null,f=C}}}}function Me(t,n){var a=n[la];a===void 0&&(a=n[la]=new Set);var o=t+"__bubble";a.has(o)||(c_(n,t,2,!1),a.add(o))}function Ad(t,n,a){var o=0;n&&(o|=4),c_(a,t,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[dc]){t[dc]=!0,To.forEach(function(a){a!=="selectionchange"&&(mA.has(a)||Ad(a,!1,t),Ad(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,Ad("selectionchange",!1,n))}}function c_(t,n,a,o){switch(U_(n)){case 2:var h=qA;break;case 8:h=HA;break;default:h=Ud}a=h.bind(null,n,a,t),h=void 0,!Sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Sd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=ci(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=f=_;continue e}E=E.parentNode}}o=o.return}xs(function(){var B=f,K=wn(a),Q=[];e:{var q=Hg.get(t);if(q!==void 0){var F=yi,oe=t;switch(t){case"keypress":if(Nr(a)===0)break e;case"keydown":case"keyup":F=xu;break;case"focusin":oe="focus",F=Cr;break;case"focusout":oe="blur",F=Cr;break;case"beforeblur":case"afterblur":F=Cr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=g;break;case Ug:case zg:case Bg:F=yu;break;case qg:F=A;break;case"scroll":case"scrollend":F=Vo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Bi;break;case"toggle":case"beforetoggle":F=Ne}var ye=(n&4)!==0,it=!ye&&(t==="scroll"||t==="scrollend"),k=ye?q!==null?q+"Capture":null:q;ye=[];for(var M=B,z;M!==null;){var Y=M;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||k===null||(Y=Gn(M,k),Y!=null&&ye.push(hl(M,Y,z))),it)break;M=M.return}0<ye.length&&(q=new F(q,oe,null,a,K),Q.push({event:q,listeners:ye}))}}if((n&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Do&&(oe=a.relatedTarget||a.fromElement)&&(ci(oe)||oe[li]))break e;if((F||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,F?(oe=a.relatedTarget||a.toElement,F=B,oe=oe?ci(oe):null,oe!==null&&(it=c(oe),ye=oe.tag,oe!==it||ye!==5&&ye!==27&&ye!==6)&&(oe=null)):(F=null,oe=B),F!==oe)){if(ye=jo,Y="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Bi,Y="onPointerLeave",k="onPointerEnter",M="pointer"),it=F==null?q:mn(F),z=oe==null?q:mn(oe),q=new ye(Y,M+"leave",F,a,K),q.target=it,q.relatedTarget=z,Y=null,ci(K)===B&&(ye=new ye(k,M+"enter",oe,a,K),ye.target=z,ye.relatedTarget=it,Y=ye),it=Y,F&&oe)t:{for(ye=gA,k=F,M=oe,z=0,Y=k;Y;Y=ye(Y))z++;Y=0;for(var ge=M;ge;ge=ye(ge))Y++;for(;0<z-Y;)k=ye(k),z--;for(;0<Y-z;)M=ye(M),Y--;for(;z--;){if(k===M||M!==null&&k===M.alternate){ye=k;break t}k=ye(k),M=ye(M)}ye=null}else ye=null;F!==null&&h_(Q,q,F,ye,!1),oe!==null&&it!==null&&h_(Q,it,oe,ye,!0)}}e:{if(q=B?mn(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Fe=Rg;else if(wg(q))if(Cg)Fe=wT;else{Fe=xT;var ue=AT}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&fa(B.elementType)&&(Fe=Rg):Fe=ST;if(Fe&&(Fe=Fe(t,B))){Ng(Q,Fe,a,K);break e}ue&&ue(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ro(q,"number",q.value)}switch(ue=B?mn(B):window,t){case"focusin":(wg(ue)||ue.contentEditable==="true")&&(ba=ue,Wh=B,zo=null);break;case"focusout":zo=Wh=ba=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Pg(Q,a,K);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":Pg(Q,a,K)}var Ce;if(Qe)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else va?Ir(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(bi&&a.locale!=="ko"&&(va||je!=="onCompositionStart"?je==="onCompositionEnd"&&va&&(Ce=Mo()):(pi=K,Oo="value"in pi?pi.value:pi.textContent,va=!0)),ue=mc(B,je),0<ue.length&&(je=new vi(je,t,null,a,K),Q.push({event:je,listeners:ue}),Ce?je.data=Ce:(Ce=_a(a),Ce!==null&&(je.data=Ce)))),(Ce=Rn?vT(t,a):bT(t,a))&&(je=mc(B,"onBeforeInput"),0<je.length&&(ue=new vi("onBeforeInput","beforeinput",null,a,K),Q.push({event:ue,listeners:je}),ue.data=Ce)),hA(Q,t,B,a,K)}u_(Q,n)})}function hl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function mc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,a),h!=null&&o.unshift(hl(t,h,f)),h=Gn(t,n),h!=null&&o.push(hl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function gA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function h_(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||B===null||(C=B,h?(B=Gn(a,f),B!=null&&_.unshift(hl(a,B,C))):h||(B=Gn(a,f),B!=null&&_.push(hl(a,B,C)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var pA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(pA,`
`).replace(yA,"")}function d_(t,n){return n=f_(n),f_(t)===n}function nt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(t,""+o);break;case"className":gn(t,"class",o);break;case"tabIndex":gn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,o);break;case"style":Io(t,o,f);break;case"data":if(n!=="object"){gn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=da(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&nt(t,n,"name",h.name,h,null),nt(t,n,"formEncType",h.formEncType,h,null),nt(t,n,"formMethod",h.formMethod,h,null),nt(t,n,"formTarget",h.formTarget,h,null)):(nt(t,n,"encType",h.encType,h,null),nt(t,n,"method",h.method,h,null),nt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=da(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ca(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ca(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,ca(t,a,o))}}function wd(t,n,a,o,h,f){switch(a){case"style":Io(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?rn(t,o):(typeof o=="number"||typeof o=="bigint")&&rn(t,""+o);break;case"onScroll":o!=null&&Me("scroll",t);break;case"onScrollEnd":o!=null&&Me("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[jt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ca(t,a,o)}}}function Gt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,f,_,a,null)}}h&&nt(t,n,"srcSet",a.srcSet,a,null),o&&nt(t,n,"src",a.src,a,null);return;case"input":Me("invalid",t);var E=f=_=h=null,C=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":_=K;break;case"checked":C=K;break;case"defaultChecked":B=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:nt(t,n,o,K,a,null)}}hu(t,f,E,C,B,_,h,!1);return;case"select":Me("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:nt(t,n,h,E,a,null)}n=f,a=_,t.multiple=!!o,n!=null?bs(t,!!o,n,!1):a!=null&&bs(t,!!o,a,!0);return;case"textarea":Me("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:nt(t,n,_,E,a,null)}Es(t,o,h,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":nt(t,n,C,o,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(o=0;o<cl.length;o++)Me(cl[o],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:nt(t,n,B,o,a,null)}return;default:if(fa(n)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&wd(t,n,K,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&nt(t,n,E,o,a,null))}function _A(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,C=null,B=null,K=null;for(F in a){var Q=a[F];if(a.hasOwnProperty(F)&&Q!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(F)||nt(t,n,F,null,o,Q)}}for(var q in o){var F=o[q];if(Q=a[q],o.hasOwnProperty(q)&&(F!=null||Q!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":K=F;break;case"value":_=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Q&&nt(t,n,q,F,o,Q)}}ha(t,_,E,C,B,K,f,h);return;case"select":F=_=E=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||nt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==C&&nt(t,n,h,f,o,C)}n=E,a=_,o=F,q!=null?bs(t,!!a,q,!1):!!o!=!!a&&(n!=null?bs(t,!!a,n,!0):bs(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:nt(t,n,E,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&nt(t,n,_,h,o,f)}fu(t,q,F);return;case"option":for(var oe in a)q=a[oe],a.hasOwnProperty(oe)&&q!=null&&!o.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:nt(t,n,oe,null,o,q));for(C in o)q=o[C],F=a[C],o.hasOwnProperty(C)&&q!==F&&(q!=null||F!=null)&&(C==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":nt(t,n,C,q,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!o.hasOwnProperty(ye)&&nt(t,n,ye,null,o,q);for(B in o)if(q=o[B],F=a[B],o.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:nt(t,n,B,q,o,F)}return;default:if(fa(n)){for(var it in a)q=a[it],a.hasOwnProperty(it)&&q!==void 0&&!o.hasOwnProperty(it)&&wd(t,n,it,void 0,o,q);for(K in o)q=o[K],F=a[K],!o.hasOwnProperty(K)||q===F||q===void 0&&F===void 0||wd(t,n,K,q,o,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!o.hasOwnProperty(k)&&nt(t,n,k,null,o,q);for(Q in o)q=o[Q],F=a[Q],!o.hasOwnProperty(Q)||q===F||q==null&&F==null||nt(t,n,Q,q,o,F)}function m_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&m_(_)){for(_=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],B=C.startTime;if(B>E)break;var K=C.transferSize,Q=C.initiatorType;K&&m_(Q)&&(C=C.responseEnd,_+=K*(C<E?1:(E-B)/(C-B)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Rd=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function g_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Cd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Id=null;function bA(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,EA=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,TA=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(t){return __.resolve(null).then(t).catch(AA)}:y_;function AA(t){setTimeout(function(){throw t})}function Fs(t){return t==="head"}function v_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ya(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")fl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,fl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&fl(t.ownerDocument.body);a=h}while(a);Ya(n)}function b_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Dd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Dd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function xA(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function SA(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function E_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function Od(t){return t.data==="$?"||t.data==="$~"}function Md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wA(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Vd=null;function T_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function A_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function x_(t,n,a){switch(n=gc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ua(t)}var kn=new Map,S_=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ns=ie.d;ie.d={f:NA,r:RA,D:CA,C:IA,L:DA,m:OA,X:VA,S:MA,M:jA};function NA(){var t=ns.f(),n=oc();return t||n}function RA(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?qp(n):ns.r(t)}var Fa=typeof document>"u"?null:document;function w_(t,n,a){var o=Fa;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),S_.has(h)||(S_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Gt(n,"link",t),At(n),o.head.appendChild(n)))}}function CA(t){ns.D(t),w_("dns-prefetch",t,null)}function IA(t,n){ns.C(t,n),w_("preconnect",t,n)}function DA(t,n,a){ns.L(t,n,a);var o=Fa;if(o&&t&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var f=h;switch(n){case"style":f=Ga(t);break;case"script":f=Ka(t)}kn.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),kn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Gt(n,"link",t),At(n),o.head.appendChild(n)))}}function OA(t,n){ns.m(t,n);var a=Fa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(t)}if(!kn.has(f)&&(t=S({rel:"modulepreload",href:t},n),kn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(f)))return}o=a.createElement("link"),Gt(o,"link",t),At(o),a.head.appendChild(o)}}}function MA(t,n,a){ns.S(t,n,a);var o=Fa;if(o&&t){var h=hi(o).hoistableStyles,f=Ga(t);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(dl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=kn.get(f))&&jd(t,a);var C=_=o.createElement("link");At(C),Gt(C,"link",t),C._p=new Promise(function(B,K){C.onload=B,C.onerror=K}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function VA(t,n){ns.X(t,n);var a=Fa;if(a&&t){var o=hi(a).hoistableScripts,h=Ka(t),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(t=S({src:t,async:!0},n),(n=kn.get(h))&&kd(t,n),f=a.createElement("script"),At(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function jA(t,n){ns.M(t,n);var a=Fa;if(a&&t){var o=hi(a).hoistableScripts,h=Ka(t),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=kn.get(h))&&kd(t,n),f=a.createElement("script"),At(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function N_(t,n,a,o){var h=(h=le.current)?pc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ga(a.href),a=hi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var f=hi(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(dl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),f||kA(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(a),a=hi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ga(t){return'href="'+sn(t)+'"'}function dl(t){return'link[rel="stylesheet"]['+t+"]"}function R_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function kA(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Gt(n,"link",a),At(n),t.head.appendChild(n))}function Ka(t){return'[src="'+sn(t)+'"]'}function ml(t){return"script[async]"+t}function C_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,At(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),At(o),Gt(o,"style",h),yc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ga(a.href);var f=t.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,At(f),f;o=R_(a),(h=kn.get(h))&&jd(o,h),f=(t.ownerDocument||t).createElement("link"),At(f);var _=f;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Gt(f,"link",o),n.state.loading|=4,yc(f,a.precedence,t),n.instance=f;case"script":return f=Ka(a.src),(h=t.querySelector(ml(f)))?(n.instance=h,At(h),h):(o=a,(h=kn.get(f))&&(o=S({},a),kd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Gt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,a.precedence,t));return n.instance}function yc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function jd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function I_(t,n,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function D_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function PA(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function O_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function LA(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,At(f);return}f=n.ownerDocument||n,o=R_(o),(h=kn.get(h))&&jd(o,h),f=f.createElement("link"),At(f);var _=f;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Gt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=vc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Pd=0;function UA(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Pd===0&&(Pd=62500*vA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Pd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(zA,t),bc=null,vc.call(t))}function zA(t,n){if(!(n.state.loading&4)){var a=bc.get(t);if(a)var o=a.get(null);else{a=new Map,bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var gl={$$typeof:de,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function BA(t,n,a,o,h,f,_,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function M_(t,n,a,o,h,f,_,E,C,B,K,Q){return t=new BA(t,n,a,_,C,B,K,Q,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),t.current=f,f.stateNode=t,n=pf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},bf(f),t}function V_(t){return t?(t=Aa,t):Aa}function j_(t,n,a,o,h,f){h=V_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Vs(t,o,n),a!==null&&(cn(a,t,n),Yo(a,t,n))}function k_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ld(t,n){k_(t,n),(t=t.alternate)&&k_(t,n)}function P_(t){if(t.tag===13||t.tag===31){var n=Mr(t,67108864);n!==null&&cn(n,t,67108864),Ld(t,67108864)}}function L_(t){if(t.tag===13||t.tag===31){var n=Tn();n=Er(n);var a=Mr(t,n);a!==null&&cn(a,t,n),Ld(t,n)}}var Tc=!0;function qA(t,n,a,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Ud(t,n,a,o)}finally{ie.p=f,G.T=h}}function HA(t,n,a,o){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Ud(t,n,a,o)}finally{ie.p=f,G.T=h}}function Ud(t,n,a,o){if(Tc){var h=zd(o);if(h===null)Sd(t,n,o,Ac,a),z_(t,o);else if(GA(h,t,n,a,o))o.stopPropagation();else if(z_(t,o),n&4&&-1<FA.indexOf(t)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=ri(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-pt(_);E.entanglements[1]|=C,_&=~C}xi(f),(Xe&6)===0&&(rc=en()+500,ul(0))}}break;case 31:case 13:E=Mr(f,2),E!==null&&cn(E,f,2),oc(),Ld(f,2)}if(f=zd(o),f===null&&Sd(t,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Sd(t,n,o,null,a)}}function zd(t){return t=wn(t),Bd(t)}var Ac=null;function Bd(t){if(Ac=null,t=ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function U_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case _o:return 2;case vo:return 8;case _s:case Kh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var qd=!1,Gs=null,Ks=null,Ys=null,pl=new Map,yl=new Map,Qs=[],FA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(t,n){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&P_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function GA(t,n,a,o,h){switch(n){case"focusin":return Gs=_l(Gs,t,n,a,o,h),!0;case"dragenter":return Ks=_l(Ks,t,n,a,o,h),!0;case"mouseover":return Ys=_l(Ys,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,t,n,a,o,h)),!0}return!1}function B_(t){var n=ci(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,qn(t.priority,function(){L_(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,qn(t.priority,function(){L_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Do=o,a.target.dispatchEvent(o),Do=null}else return n=Sn(a),n!==null&&P_(n),t.blockedOn=a,!1;n.shift()}return!0}function q_(t,n,a){xc(t)&&a.delete(n)}function KA(){qd=!1,Gs!==null&&xc(Gs)&&(Gs=null),Ks!==null&&xc(Ks)&&(Ks=null),Ys!==null&&xc(Ys)&&(Ys=null),pl.forEach(q_),yl.forEach(q_)}function Sc(t,n){t.blockedOn===n&&(t.blockedOn=null,qd||(qd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,KA)))}var wc=null;function H_(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Bd(o||a)===null)continue;break}var f=Sn(a);f!==null&&(t.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ya(t){function n(C){return Sc(C,t)}Gs!==null&&Sc(Gs,t),Ks!==null&&Sc(Ks,t),Ys!==null&&Sc(Ys,t),pl.forEach(n),yl.forEach(n);for(var a=0;a<Qs.length;a++){var o=Qs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Qs.length&&(a=Qs[0],a.blockedOn===null);)B_(a),a.blockedOn===null&&Qs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[jt]||null;if(typeof f=="function")_||H_(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[jt]||null)E=_.formAction;else if(Bd(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),H_(a)}}}function F_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Hd(t){this._internalRoot=t}Nc.prototype.render=Hd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Tn();j_(a,o,t,n,null,null)},Nc.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;j_(t.current,2,null,t,null,null),oc(),n[li]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Qs.length&&n!==0&&n<Qs[a].priority;a++);Qs.splice(a,0,t),a===0&&B_(t)}};var G_=e.version;if(G_!=="19.2.3")throw Error(r(527,G_,"19.2.3"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var YA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{zn=Rc.inject(YA),zt=Rc}catch{}}return bl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Jp,f=Wp,_=ey;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=M_(t,1,!1,null,null,a,o,null,h,f,_,F_),t[li]=n.current,xd(t),new Hd(n)},bl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Jp,_=Wp,E=ey,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=M_(t,1,!0,n,a??null,o,h,C,f,_,E,F_),n.context=V_(null),a=n.current,o=Tn(),o=Er(o),h=Ms(o),h.callback=null,Vs(a,h,o),a=o,n.current.lanes=a,vr(n,a),xi(n),t[li]=n.current,xd(t),new Nc(n)},bl.version="19.2.3",bl}var t0;function ix(){if(t0)return Kd.exports;t0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=nx(),Kd.exports}var sx=ix();const rx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ax=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),n0=s=>{const e=ax(s);return e.charAt(0).toUpperCase()+e.slice(1)},Lv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),ox=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var lx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ux=Ie.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},y)=>Ie.createElement("svg",{ref:y,...lx,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Lv("lucide",l),...!c&&!ox(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,T])=>Ie.createElement(v,T)),...Array.isArray(c)?c:[c]]));const ni=(s,e)=>{const i=Ie.forwardRef(({className:r,...l},c)=>Ie.createElement(ux,{ref:c,iconNode:e,className:Lv(`lucide-${rx(n0(s))}`,`lucide-${s}`,r),...l}));return i.displayName=n0(s),i};const cx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$d=ni("check",cx);const hx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fx=ni("chevron-down",hx);const dx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mx=ni("chevron-right",dx);const gx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],px=ni("mail",gx);const yx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],i0=ni("map-pin",yx);const _x=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vx=ni("menu",_x);const bx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zd=ni("shield",bx);const Ex=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Cc=ni("trending-up",Ex);const Tx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ic=ni("users",Tx);const Ax=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qa=ni("x",Ax);const xx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Dc=ni("zap",xx),Sx=()=>{};var s0={};const Uv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},wx=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,v=y?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let D=(p&15)<<2|v>>6,L=v&63;y||(L=64,d||(D=64)),r.push(i[T],i[S],i[D],i[L])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Uv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):wx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||v==null||S==null)throw new Nx;const D=c<<2|p>>4;if(r.push(D),v!==64){const L=p<<4&240|v>>2;if(r.push(L),S!==64){const J=v<<6&192|S;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Nx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rx=function(s){const e=Uv(s);return zv.encodeByteArray(e,!0)},Zc=function(s){return Rx(s).replace(/\./g,"")},Bv=function(s){try{return zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ix=()=>Cx().__FIREBASE_DEFAULTS__,Dx=()=>{if(typeof process>"u"||typeof s0>"u")return;const s=s0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Ox=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Bv(s[1]);return e&&JSON.parse(e)},Th=()=>{try{return Sx()||Ix()||Dx()||Ox()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qv=s=>Th()?.emulatorHosts?.[s],Um=s=>{const e=qv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Hv=()=>Th()?.config,Fv=s=>Th()?.[`_${s}`];class Mx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function ds(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ah(s){return(await fetch(s,{credentials:"include"})).ok}function Gv(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(d)),""].join(".")}const Nl={};function Vx(){const s={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?s.emulator.push(e):s.prod.push(e);return s}function jx(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let r0=!1;function xh(s,e){if(typeof window>"u"||typeof document>"u"||!ds(window.location.host)||Nl[s]===e||Nl[s]||r0)return;Nl[s]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=Vx().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,L){D.setAttribute("width","24"),D.setAttribute("id",L),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function v(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{r0=!0,d()},D}function T(D,L){D.setAttribute("id",L),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=jx(r),L=i("text"),J=document.getElementById(L)||document.createElement("span"),ee=i("learnmore"),$=document.getElementById(ee)||document.createElement("a"),fe=i("preprendIcon"),_e=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const de=D.element;p(de),T($,ee);const Ee=v();y(_e,fe),de.append(_e,J,$,Ee),document.body.appendChild(de)}c?(J.innerText="Preview backend disconnected.",_e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Px(){const s=Th()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ux(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bx(){const s=Wt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qx(){return!Px()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hx(){try{return typeof indexedDB=="object"}catch{return!1}}function Fx(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const Gx="FirebaseError";class ii extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=Gx,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?Kx(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ii(l,p,r)}}function Kx(s,e){return s.replace(Yx,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const Yx=/\{\$([^}]+)}/g;function Qx(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Xr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(a0(c)&&a0(d)){if(!Xr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function a0(s){return s!==null&&typeof s=="object"}function Hl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function El(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Tl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function Xx(s,e){const i=new $x(s,e);return i.subscribe.bind(i)}class $x{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Zx(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Jd),l.error===void 0&&(l.error=Jd),l.complete===void 0&&(l.complete=Jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zx(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Jd(){}function Ut(s){return s&&s._delegate?s._delegate:s}class ls{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kr="[DEFAULT]";class Jx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new Mx;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eS(e))try{this.getOrInitializeService({instanceIdentifier:Kr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=Kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kr){return this.instances.has(e)}getOptions(e=Kr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wx(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kr){return this.component?this.component.multipleInstances?e:Kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wx(s){return s===Kr?void 0:s}function eS(s){return s.instantiationMode==="EAGER"}class tS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Jx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const nS={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},iS=ke.INFO,sS={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},rS=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=sS[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=iS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const aS=(s,e)=>e.some(i=>s instanceof i);let o0,l0;function oS(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,hm=new WeakMap,Yv=new WeakMap,Wd=new WeakMap,Bm=new WeakMap;function uS(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(nr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,s)}).catch(()=>{}),Bm.set(e,s),e}function cS(s){if(hm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});hm.set(s,e)}let fm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return hm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Yv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function hS(s){fm=s(fm)}function fS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(em(this),e,...i);return Yv.set(r,e.sort?e.sort():[e]),nr(r)}:lS().includes(s)?function(...e){return s.apply(em(this),e),nr(Kv.get(this))}:function(...e){return nr(s.apply(em(this),e))}}function dS(s){return typeof s=="function"?fS(s):(s instanceof IDBTransaction&&cS(s),aS(s,oS())?new Proxy(s,fm):s)}function nr(s){if(s instanceof IDBRequest)return uS(s);if(Wd.has(s))return Wd.get(s);const e=dS(s);return e!==s&&(Wd.set(s,e),Bm.set(e,s)),e}const em=s=>Bm.get(s);function mS(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=nr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(nr(d.result),y.oldVersion,y.newVersion,nr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const gS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],tm=new Map;function u0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=pS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||gS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&y.done]))[0]};return tm.set(e,c),c}hS(s=>({...s,get:(e,i,r)=>u0(e,i)||s.get(e,i,r),has:(e,i)=>!!u0(e,i)||s.has(e,i)}));class yS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_S(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _S(s){return s.getComponent()?.type==="VERSION"}const dm="@firebase/app",c0="0.14.6";const us=new zm("@firebase/app"),vS="@firebase/app-compat",bS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",AS="@firebase/app-check",xS="@firebase/auth",SS="@firebase/auth-compat",wS="@firebase/database",NS="@firebase/data-connect",RS="@firebase/database-compat",CS="@firebase/functions",IS="@firebase/functions-compat",DS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",jS="@firebase/performance",kS="@firebase/performance-compat",PS="@firebase/remote-config",LS="@firebase/remote-config-compat",US="@firebase/storage",zS="@firebase/storage-compat",BS="@firebase/firestore",qS="@firebase/ai",HS="@firebase/firestore-compat",FS="firebase",GS="12.6.0";const mm="[DEFAULT]",KS={[dm]:"fire-core",[vS]:"fire-core-compat",[ES]:"fire-analytics",[bS]:"fire-analytics-compat",[AS]:"fire-app-check",[TS]:"fire-app-check-compat",[xS]:"fire-auth",[SS]:"fire-auth-compat",[wS]:"fire-rtdb",[NS]:"fire-data-connect",[RS]:"fire-rtdb-compat",[CS]:"fire-fn",[IS]:"fire-fn-compat",[DS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[jS]:"fire-perf",[kS]:"fire-perf-compat",[PS]:"fire-rc",[LS]:"fire-rc-compat",[US]:"fire-gcs",[zS]:"fire-gcs-compat",[BS]:"fire-fst",[HS]:"fire-fst-compat",[qS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};const Jc=new Map,YS=new Map,gm=new Map;function h0(s,e){try{s.container.addComponent(e)}catch(i){us.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ar(s){const e=s.name;if(gm.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,s);for(const i of Jc.values())h0(i,s);for(const i of YS.values())h0(i,s);return!0}function Fl(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function fn(s){return s==null?!1:s.settings!==void 0}const QS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new ql("app","Firebase",QS);class XS{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const ta=GS;function Qv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:mm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=Hv()),!i)throw ir.create("no-options");const c=Jc.get(l);if(c){if(Xr(i,c.options)&&Xr(r,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new tS(l);for(const y of gm.values())d.addComponent(y);const p=new XS(i,r,d);return Jc.set(l,p),p}function Sh(s=mm){const e=Jc.get(s);if(!e&&s===mm&&Hv())return Qv();if(!e)throw ir.create("no-app",{appName:s});return e}function Un(s,e,i){let r=KS[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(d.join(" "));return}ar(new ls(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const $S="firebase-heartbeat-database",ZS=1,Ml="firebase-heartbeat-store";let nm=null;function Xv(){return nm||(nm=mS($S,ZS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),nm}async function JS(s){try{const i=(await Xv()).transaction(Ml),r=await i.objectStore(Ml).get($v(s));return await i.done,r}catch(e){if(e instanceof ii)us.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e?.message});us.warn(i.message)}}}async function f0(s,e){try{const r=(await Xv()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(e,$v(s)),await r.done}catch(i){if(i instanceof ii)us.warn(i.message);else{const r=ir.create("idb-set",{originalErrorMessage:i?.message});us.warn(r.message)}}}function $v(s){return`${s.name}!${s.options.appId}`}const WS=1024,ew=30;class tw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new iw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=d0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>ew){const l=sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){us.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d0(),{heartbeatsToSend:i,unsentEntries:r}=nw(this._heartbeatsCache.heartbeats),l=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return us.warn(e),""}}}function d0(){return new Date().toISOString().substring(0,10)}function nw(s,e=WS){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),m0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),m0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hx()?Fx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await JS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return f0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return f0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function m0(s){return Zc(JSON.stringify({version:2,heartbeats:s})).length}function sw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function rw(s){ar(new ls("platform-logger",e=>new yS(e),"PRIVATE")),ar(new ls("heartbeat",e=>new tw(e),"PRIVATE")),Un(dm,c0,s),Un(dm,c0,"esm2020"),Un("fire-js","")}rw("");function Zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aw=Zv,Jv=new ql("auth","Firebase",Zv());const Wc=new zm("@firebase/auth");function ow(s,...e){Wc.logLevel<=ke.WARN&&Wc.warn(`Auth (${ta}): ${s}`,...e)}function Bc(s,...e){Wc.logLevel<=ke.ERROR&&Wc.error(`Auth (${ta}): ${s}`,...e)}function ti(s,...e){throw qm(s,...e)}function wi(s,...e){return qm(s,...e)}function Wv(s,e,i){const r={...aw(),[e]:i};return new ql("auth","Firebase",r).create(e,{appName:s.name})}function rs(s){return Wv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Jv.create(s,...e)}function ve(s,e,...i){if(!s)throw qm(e,...i)}function is(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bc(e),new Error(e)}function cs(s,e){s||is(e)}function pm(){return typeof self<"u"&&self.location?.href||""}function lw(){return g0()==="http:"||g0()==="https:"}function g0(){return typeof self<"u"&&self.location?.protocol||null}function uw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lw()||Ux()||"connection"in navigator)?navigator.onLine:!0}function cw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Gl{constructor(e,i){this.shortDelay=e,this.longDelay=i,cs(i>e,"Short delay should be less than long delay!"),this.isMobile=kx()||zx()}get(){return uw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hm(s,e){cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class eb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dw=new Gl(3e4,6e4);function dr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function mr(s,e,i,r,l={}){return tb(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=Hl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:y,...c};return Lx()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&ds(s.emulatorConfig.host)&&(v.credentials="include"),eb.fetch()(await nb(s,s.config.apiHost,i,p),v)})}async function tb(s,e,i){s._canInitEmulator=!1;const r={...hw,...e};try{const l=new gw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Oc(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Wv(s,T,v);ti(s,T)}}catch(l){if(l instanceof ii)throw l;ti(s,"network-request-failed",{message:String(l)})}}async function Kl(s,e,i,r,l={}){const c=await mr(s,e,i,r,l);return"mfaPendingCredential"in c&&ti(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function nb(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?Hm(s.config,l):`${s.config.apiScheme}://${l}`;return fw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function mw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),dw.get())})}}function Oc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=wi(s,e,r);return l.customData._tokenResponse=i,l}function p0(s){return s!==void 0&&s.enterprise!==void 0}class pw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return mw(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yw(s,e){return mr(s,"GET","/v2/recaptchaConfig",dr(s,e))}async function _w(s,e){return mr(s,"POST","/v1/accounts:delete",e)}async function eh(s,e){return mr(s,"POST","/v1/accounts:lookup",e)}function Rl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vw(s,e=!1){const i=Ut(s),r=await i.getIdToken(e),l=Fm(r);ve(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Rl(im(l.auth_time)),issuedAtTime:Rl(im(l.iat)),expirationTime:Rl(im(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function im(s){return Number(s)*1e3}function Fm(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Bv(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function y0(s){const e=Fm(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof ii&&bw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function bw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Ew{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(s){const e=s.auth,i=await s.getIdToken(),r=await Vl(s,eh(e,{idToken:i}));ve(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?ib(l.providerUserInfo):[],d=Aw(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,v=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(s,T)}async function Tw(s){const e=Ut(s);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Aw(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function ib(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function xw(s,e){const i=await tb(s,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await nb(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&ds(s.emulatorConfig.host)&&(y.credentials="include"),eb.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Sw(s,e){return mr(s,"POST","/v2/accounts:revokeToken",dr(s,e))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=y0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await xw(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new eo;return r&&(ve(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ve(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return is("not implemented")}}function $s(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Ew(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return vw(this,e)}reload(){return Tw(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Vl(this,_w(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:L,providerData:J,stsTokenManager:ee}=i;ve(S&&ee,e,"internal-error");const $=eo.fromJSON(this.name,ee);ve(typeof S=="string",e,"internal-error"),$s(r,e.name),$s(l,e.name),ve(typeof D=="boolean",e,"internal-error"),ve(typeof L=="boolean",e,"internal-error"),$s(c,e.name),$s(d,e.name),$s(p,e.name),$s(y,e.name),$s(v,e.name),$s(T,e.name);const fe=new Jn({uid:S,auth:e,email:l,emailVerified:D,displayName:r,isAnonymous:L,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:v,lastLoginAt:T});return J&&Array.isArray(J)&&(fe.providerData=J.map(_e=>({..._e}))),y&&(fe._redirectEventId=y),fe}static async _fromIdTokenResponse(e,i,r=!1){const l=new eo;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await th(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];ve(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ib(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new eo;p.updateFromIdToken(r);const y=new Jn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const _0=new Map;function ss(s){cs(s instanceof Function,"Expected a class definition");let e=_0.get(s);return e?(cs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,_0.set(s,e),e)}class sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}sb.type="NONE";const v0=sb;function qc(s,e,i){return`firebase:${s}:${e}:${i}`}class to{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await eh(this.auth,{idToken:e}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new to(ss(v0),e,r);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||ss(v0);const d=qc(r,e.config.apiKey,e.name);let p=null;for(const v of i)try{const T=await v._get(d);if(T){let S;if(typeof T=="string"){const D=await eh(e,{idToken:T}).catch(()=>{});if(!D)break;S=await Jn._fromGetAccountInfoResponse(e,D,T)}else S=Jn._fromJSON(e,T);v!==c&&(p=S),c=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new to(c,e,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new to(c,e,r))}}function b0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cb(e))return"Blackberry";if(hb(e))return"Webos";if(ab(e))return"Safari";if((e.includes("chrome/")||ob(e))&&!e.includes("edge/"))return"Chrome";if(ub(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function rb(s=Wt()){return/firefox\//i.test(s)}function ab(s=Wt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ob(s=Wt()){return/crios\//i.test(s)}function lb(s=Wt()){return/iemobile/i.test(s)}function ub(s=Wt()){return/android/i.test(s)}function cb(s=Wt()){return/blackberry/i.test(s)}function hb(s=Wt()){return/webos/i.test(s)}function Gm(s=Wt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function ww(s=Wt()){return Gm(s)&&!!window.navigator?.standalone}function Nw(){return Bx()&&document.documentMode===10}function fb(s=Wt()){return Gm(s)||ub(s)||hb(s)||cb(s)||/windows phone/i.test(s)||lb(s)}function db(s,e=[]){let i;switch(s){case"Browser":i=b0(Wt());break;case"Worker":i=`${b0(Wt())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ta}/${r}`}class Rw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,p)=>{try{const y=e(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Cw(s,e={}){return mr(s,"GET","/v2/passwordPolicy",dr(s,e))}const Iw=6;class Dw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Iw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Ow{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E0(this),this.idTokenSubscription=new E0(this),this.beforeStateQueue=new Rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await eh(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(rs(this));const i=e?Ut(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cw(this),i=new Dw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Sw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ss(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=db(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ow(`Error while retrieving App Check token: ${e.error}`),e?.token}}function na(s){return Ut(s)}class E0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Xx(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mw(s){wh=s}function mb(s){return wh.loadJS(s)}function Vw(){return wh.recaptchaEnterpriseScript}function jw(){return wh.gapiScript}function kw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Pw{constructor(){this.enterprise=new Lw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Lw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Uw="recaptcha-enterprise",gb="NO_RECAPTCHA";class zw{constructor(e){this.type=Uw,this.auth=na(e)}async verify(e="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{yw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new pw(y);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;p0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(v=>{d(v)}).catch(()=>{d(gb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Pw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&p0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Vw();y.length!==0&&(y+=p),mb(y).then(()=>{l(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function T0(s,e,i,r=!1,l=!1){const c=new zw(s);let d;if(l)d=gb;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function _m(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await T0(s,e,i,i==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await T0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Bw(s,e){const i=Fl(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Xr(c,e??{}))return l;ti(l,"already-initialized")}return i.initialize({options:e})}function qw(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ss);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Hw(s,e,i){const r=na(s);ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=pb(e),{host:d,port:p}=Fw(e),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ve(Xr(v,r.config.emulator)&&Xr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,ds(d)?(Ah(`${c}//${d}${y}`),xh("Auth",!0)):Gw()}function pb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Fw(s){const e=pb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:A0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:A0(d)}}}function A0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Gw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Km{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,i){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function Kw(s,e){return mr(s,"POST","/v1/accounts:signUp",e)}async function Yw(s,e){return Kl(s,"POST","/v1/accounts:signInWithPassword",dr(s,e))}async function Qw(s,e){return Kl(s,"POST","/v1/accounts:signInWithEmailLink",dr(s,e))}async function Xw(s,e){return Kl(s,"POST","/v1/accounts:signInWithEmailLink",dr(s,e))}class jl extends Km{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new jl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new jl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,i,"signInWithPassword",Yw);case"emailLink":return Qw(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,r,"signUpPassword",Kw);case"emailLink":return Xw(e,{idToken:i,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function no(s,e){return Kl(s,"POST","/v1/accounts:signInWithIdp",dr(s,e))}const $w="http://localhost";class $r extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ti("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new $r(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return no(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,no(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,no(e,i)}buildRequest(){const e={requestUri:$w,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Hl(i)}return e}}function Zw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jw(s){const e=El(Tl(s)).link,i=e?El(Tl(e)).deep_link_id:null,r=El(Tl(s)).deep_link_id;return(r?El(Tl(r)).link:null)||r||i||e||s}class Ym{constructor(e){const i=El(Tl(e)),r=i.apiKey??null,l=i.oobCode??null,c=Zw(i.mode??null);ve(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Jw(e);try{return new Ym(i)}catch{return null}}}class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,i){return jl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Ym.parseLink(i);return ve(r,"argument-error"),jl._fromEmailAndCode(e,r.code,r.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class yb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yl extends yb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zs extends Yl{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Js extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return $r._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Js.credential(i,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Ws extends Yl{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class er extends Yl{constructor(){super("twitter.com")}static credential(e,i){return $r._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return er.credential(i,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function Ww(s,e){return Kl(s,"POST","/v1/accounts:signUp",dr(s,e))}class Zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await Jn._fromIdTokenResponse(e,r,l),d=x0(r);return new Zr({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=x0(r);return new Zr({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function x0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class nh extends ii{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new nh(e,i,r,l)}}function _b(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,e,r):c})}async function e1(s,e,i=!1){const r=await Vl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Zr._forOperation(s,"link",r)}async function t1(s,e,i=!1){const{auth:r}=s;if(fn(r.app))return Promise.reject(rs(r));const l="reauthenticate";try{const c=await Vl(s,_b(r,l,e,s),i);ve(c.idToken,r,"internal-error");const d=Fm(c.idToken);ve(d,r,"internal-error");const{sub:p}=d;return ve(s.uid===p,r,"user-mismatch"),Zr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ti(r,"user-mismatch"),c}}async function vb(s,e,i=!1){if(fn(s.app))return Promise.reject(rs(s));const r="signIn",l=await _b(s,r,e),c=await Zr._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function n1(s,e){return vb(na(s),e)}async function bb(s){const e=na(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function i1(s,e,i){if(fn(s.app))return Promise.reject(rs(s));const r=na(s),d=await _m(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ww).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&bb(s),y}),p=await Zr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function s1(s,e,i){return fn(s.app)?Promise.reject(rs(s)):n1(Ut(s),fo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bb(s),r})}function r1(s,e,i,r){return Ut(s).onIdTokenChanged(e,i,r)}function a1(s,e,i){return Ut(s).beforeAuthStateChanged(e,i)}function o1(s,e,i,r){return Ut(s).onAuthStateChanged(e,i,r)}function l1(s){return Ut(s).signOut()}const ih="__sak";class Eb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const u1=1e3,c1=10;class Tb extends Eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Nw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,c1):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},u1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Tb.type="LOCAL";const h1=Tb;class Ab extends Eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Ab.type="SESSION";const xb=Ab;function f1(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await f1(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];function Qm(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class d1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=Qm("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===v)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function m1(s){Ni().location.href=s}function Sb(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function g1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p1(){return navigator?.serviceWorker?.controller||null}function y1(){return Sb()?self:null}const wb="firebaseLocalStorageDb",_1=1,sh="firebaseLocalStorage",Nb="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(s,e){return s.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function v1(){const s=indexedDB.deleteDatabase(wb);return new Ql(s).toPromise()}function vm(){const s=indexedDB.open(wb,_1);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(sh,{keyPath:Nb})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),await v1(),e(await vm()))})})}async function S0(s,e,i){const r=Rh(s,!0).put({[Nb]:e,value:i});return new Ql(r).toPromise()}async function b1(s,e){const i=Rh(s,!1).get(e),r=await new Ql(i).toPromise();return r===void 0?null:r.value}function w0(s,e){const i=Rh(s,!0).delete(e);return new Ql(i).toPromise()}const E1=800,T1=3;class Rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>T1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(y1()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await g1(),!this.activeServiceWorker)return;this.sender=new d1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vm();return await S0(e,ih,"1"),await w0(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>S0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>b1(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>w0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Rh(l,!1).getAll();return new Ql(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rb.type="LOCAL";const A1=Rb;new Gl(3e4,6e4);function x1(s,e){return e?ss(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Xm extends Km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,i){return no(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function S1(s){return vb(s.auth,new Xm(s),s.bypassAuthState)}function w1(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),t1(i,new Xm(s),s.bypassAuthState)}async function N1(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),e1(i,new Xm(s),s.bypassAuthState)}class Cb{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S1;case"linkViaPopup":case"linkViaRedirect":return N1;case"reauthViaPopup":case"reauthViaRedirect":return w1;default:ti(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const R1=new Gl(2e3,1e4);class Wa extends Cb{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R1.get())};e()}}Wa.currentPopupAction=null;const C1="pendingRedirect",Hc=new Map;class I1 extends Cb{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const r=await D1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D1(s,e){const i=V1(e),r=M1(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function O1(s,e){Hc.set(s._key(),e)}function M1(s){return ss(s._redirectPersistence)}function V1(s){return qc(C1,s.config.apiKey,s.name)}async function j1(s,e,i=!1){if(fn(s.app))return Promise.reject(rs(s));const r=na(s),l=x1(r,e),d=await new I1(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const k1=600*1e3;class P1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L1(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Ib(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k1&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(e))}saveEventToCache(e){this.cachedEventUids.add(N0(e)),this.lastProcessedEventTime=Date.now()}}function N0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Ib({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function L1(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ib(s);default:return!1}}async function U1(s,e={}){return mr(s,"GET","/v1/projects",e)}const z1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B1=/^https?/;async function q1(s){if(s.config.emulator)return;const{authorizedDomains:e}=await U1(s);for(const i of e)try{if(H1(i))return}catch{}ti(s,"unauthorized-domain")}function H1(s){const e=pm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!B1.test(i))return!1;if(z1.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const F1=new Gl(3e4,6e4);function R0(){const s=Ni().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function G1(s){return new Promise((e,i)=>{function r(){R0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R0(),i(wi(s,"network-request-failed"))},timeout:F1.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=kw("iframefcb");return Ni()[l]=()=>{gapi.load?r():i(wi(s,"network-request-failed"))},mb(`${jw()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function K1(s){return Fc=Fc||G1(s),Fc}const Y1=new Gl(5e3,15e3),Q1="__/auth/iframe",X1="emulator/auth/iframe",$1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J1(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Hm(e,X1):`https://${s.config.authDomain}/${Q1}`,r={apiKey:e.apiKey,appName:s.name,v:ta},l=Z1.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Hl(r).slice(1)}`}async function W1(s){const e=await K1(s),i=Ni().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:J1(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$1,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=wi(s,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},Y1.get());function y(){Ni().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const eN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tN=500,nN=600,iN="_blank",sN="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rN(s,e,i,r=tN,l=nN){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...eN,width:r.toString(),height:l.toString(),top:c,left:d},v=Wt().toLowerCase();i&&(p=ob(v)?iN:i),rb(v)&&(e=e||sN,y.scrollbars="yes");const T=Object.entries(y).reduce((D,[L,J])=>`${D}${L}=${J},`,"");if(ww(v)&&p!=="_self")return aN(e||"",p),new C0(null);const S=window.open(e||"",p,T);ve(S,s,"popup-blocked");try{S.focus()}catch{}return new C0(S)}function aN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const oN="__/auth/handler",lN="emulator/auth/handler",uN=encodeURIComponent("fac");async function I0(s,e,i,r,l,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ta,eventId:l};if(e instanceof yb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Qx(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof Yl){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const y=await s._getAppCheckToken(),v=y?`#${uN}=${encodeURIComponent(y)}`:"";return`${cN(s)}?${Hl(p).slice(1)}${v}`}function cN({config:s}){return s.emulator?Hm(s,lN):`https://${s.authDomain}/${oN}`}const sm="webStorageSupport";class hN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xb,this._completeRedirectFn=j1,this._overrideRedirectResult=O1}async _openPopup(e,i,r,l){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await I0(e,i,r,pm(),l);return rN(e,c,Qm())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await I0(e,i,r,pm(),l);return m1(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(cs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await W1(e),r=new P1(e);return i.register("authEvent",l=>(ve(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(sm,{type:sm},l=>{const c=l?.[0]?.[sm];c!==void 0&&i(!!c),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=q1(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return fb()||ab()||Gm()}}const fN=hN;var D0="@firebase/auth",O0="1.12.0";class dN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gN(s){ar(new ls("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:db(s)},v=new Ow(r,l,c,y);return qw(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ar(new ls("auth-internal",e=>{const i=na(e.getProvider("auth").getImmediate());return(r=>new dN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(D0,O0,mN(s)),Un(D0,O0,"esm2020")}const pN=300,yN=Fv("authIdTokenMaxAge")||pN;let M0=null;const _N=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>yN)return;const l=i?.token;M0!==l&&(M0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function vN(s=Sh()){const e=Fl(s,"auth");if(e.isInitialized())return e.getImmediate();const i=Bw(s,{popupRedirectResolver:fN,persistence:[A1,h1,xb]}),r=Fv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=_N(c.toString());a1(i,d,()=>d(i.currentUser)),r1(i,p=>d(p))}}const l=qv("auth");return l&&Hw(i,`http://${l}`),i}function bN(){return document.getElementsByTagName("head")?.[0]??document}Mw({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=wi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",bN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gN("Browser");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sr,Db;(function(){var s;function e(I,x){function N(){}N.prototype=x.prototype,I.F=x.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(j,O,P){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return x.prototype[O].apply(j,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,x,N){N||(N=0);const j=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)j[O]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(O=0;O<16;++O)j[O]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=I.g[0],N=I.g[1],O=I.g[2];let P=I.g[3],R;R=x+(P^N&(O^P))+j[0]+3614090360&4294967295,x=N+(R<<7&4294967295|R>>>25),R=P+(O^x&(N^O))+j[1]+3905402710&4294967295,P=x+(R<<12&4294967295|R>>>20),R=O+(N^P&(x^N))+j[2]+606105819&4294967295,O=P+(R<<17&4294967295|R>>>15),R=N+(x^O&(P^x))+j[3]+3250441966&4294967295,N=O+(R<<22&4294967295|R>>>10),R=x+(P^N&(O^P))+j[4]+4118548399&4294967295,x=N+(R<<7&4294967295|R>>>25),R=P+(O^x&(N^O))+j[5]+1200080426&4294967295,P=x+(R<<12&4294967295|R>>>20),R=O+(N^P&(x^N))+j[6]+2821735955&4294967295,O=P+(R<<17&4294967295|R>>>15),R=N+(x^O&(P^x))+j[7]+4249261313&4294967295,N=O+(R<<22&4294967295|R>>>10),R=x+(P^N&(O^P))+j[8]+1770035416&4294967295,x=N+(R<<7&4294967295|R>>>25),R=P+(O^x&(N^O))+j[9]+2336552879&4294967295,P=x+(R<<12&4294967295|R>>>20),R=O+(N^P&(x^N))+j[10]+4294925233&4294967295,O=P+(R<<17&4294967295|R>>>15),R=N+(x^O&(P^x))+j[11]+2304563134&4294967295,N=O+(R<<22&4294967295|R>>>10),R=x+(P^N&(O^P))+j[12]+1804603682&4294967295,x=N+(R<<7&4294967295|R>>>25),R=P+(O^x&(N^O))+j[13]+4254626195&4294967295,P=x+(R<<12&4294967295|R>>>20),R=O+(N^P&(x^N))+j[14]+2792965006&4294967295,O=P+(R<<17&4294967295|R>>>15),R=N+(x^O&(P^x))+j[15]+1236535329&4294967295,N=O+(R<<22&4294967295|R>>>10),R=x+(O^P&(N^O))+j[1]+4129170786&4294967295,x=N+(R<<5&4294967295|R>>>27),R=P+(N^O&(x^N))+j[6]+3225465664&4294967295,P=x+(R<<9&4294967295|R>>>23),R=O+(x^N&(P^x))+j[11]+643717713&4294967295,O=P+(R<<14&4294967295|R>>>18),R=N+(P^x&(O^P))+j[0]+3921069994&4294967295,N=O+(R<<20&4294967295|R>>>12),R=x+(O^P&(N^O))+j[5]+3593408605&4294967295,x=N+(R<<5&4294967295|R>>>27),R=P+(N^O&(x^N))+j[10]+38016083&4294967295,P=x+(R<<9&4294967295|R>>>23),R=O+(x^N&(P^x))+j[15]+3634488961&4294967295,O=P+(R<<14&4294967295|R>>>18),R=N+(P^x&(O^P))+j[4]+3889429448&4294967295,N=O+(R<<20&4294967295|R>>>12),R=x+(O^P&(N^O))+j[9]+568446438&4294967295,x=N+(R<<5&4294967295|R>>>27),R=P+(N^O&(x^N))+j[14]+3275163606&4294967295,P=x+(R<<9&4294967295|R>>>23),R=O+(x^N&(P^x))+j[3]+4107603335&4294967295,O=P+(R<<14&4294967295|R>>>18),R=N+(P^x&(O^P))+j[8]+1163531501&4294967295,N=O+(R<<20&4294967295|R>>>12),R=x+(O^P&(N^O))+j[13]+2850285829&4294967295,x=N+(R<<5&4294967295|R>>>27),R=P+(N^O&(x^N))+j[2]+4243563512&4294967295,P=x+(R<<9&4294967295|R>>>23),R=O+(x^N&(P^x))+j[7]+1735328473&4294967295,O=P+(R<<14&4294967295|R>>>18),R=N+(P^x&(O^P))+j[12]+2368359562&4294967295,N=O+(R<<20&4294967295|R>>>12),R=x+(N^O^P)+j[5]+4294588738&4294967295,x=N+(R<<4&4294967295|R>>>28),R=P+(x^N^O)+j[8]+2272392833&4294967295,P=x+(R<<11&4294967295|R>>>21),R=O+(P^x^N)+j[11]+1839030562&4294967295,O=P+(R<<16&4294967295|R>>>16),R=N+(O^P^x)+j[14]+4259657740&4294967295,N=O+(R<<23&4294967295|R>>>9),R=x+(N^O^P)+j[1]+2763975236&4294967295,x=N+(R<<4&4294967295|R>>>28),R=P+(x^N^O)+j[4]+1272893353&4294967295,P=x+(R<<11&4294967295|R>>>21),R=O+(P^x^N)+j[7]+4139469664&4294967295,O=P+(R<<16&4294967295|R>>>16),R=N+(O^P^x)+j[10]+3200236656&4294967295,N=O+(R<<23&4294967295|R>>>9),R=x+(N^O^P)+j[13]+681279174&4294967295,x=N+(R<<4&4294967295|R>>>28),R=P+(x^N^O)+j[0]+3936430074&4294967295,P=x+(R<<11&4294967295|R>>>21),R=O+(P^x^N)+j[3]+3572445317&4294967295,O=P+(R<<16&4294967295|R>>>16),R=N+(O^P^x)+j[6]+76029189&4294967295,N=O+(R<<23&4294967295|R>>>9),R=x+(N^O^P)+j[9]+3654602809&4294967295,x=N+(R<<4&4294967295|R>>>28),R=P+(x^N^O)+j[12]+3873151461&4294967295,P=x+(R<<11&4294967295|R>>>21),R=O+(P^x^N)+j[15]+530742520&4294967295,O=P+(R<<16&4294967295|R>>>16),R=N+(O^P^x)+j[2]+3299628645&4294967295,N=O+(R<<23&4294967295|R>>>9),R=x+(O^(N|~P))+j[0]+4096336452&4294967295,x=N+(R<<6&4294967295|R>>>26),R=P+(N^(x|~O))+j[7]+1126891415&4294967295,P=x+(R<<10&4294967295|R>>>22),R=O+(x^(P|~N))+j[14]+2878612391&4294967295,O=P+(R<<15&4294967295|R>>>17),R=N+(P^(O|~x))+j[5]+4237533241&4294967295,N=O+(R<<21&4294967295|R>>>11),R=x+(O^(N|~P))+j[12]+1700485571&4294967295,x=N+(R<<6&4294967295|R>>>26),R=P+(N^(x|~O))+j[3]+2399980690&4294967295,P=x+(R<<10&4294967295|R>>>22),R=O+(x^(P|~N))+j[10]+4293915773&4294967295,O=P+(R<<15&4294967295|R>>>17),R=N+(P^(O|~x))+j[1]+2240044497&4294967295,N=O+(R<<21&4294967295|R>>>11),R=x+(O^(N|~P))+j[8]+1873313359&4294967295,x=N+(R<<6&4294967295|R>>>26),R=P+(N^(x|~O))+j[15]+4264355552&4294967295,P=x+(R<<10&4294967295|R>>>22),R=O+(x^(P|~N))+j[6]+2734768916&4294967295,O=P+(R<<15&4294967295|R>>>17),R=N+(P^(O|~x))+j[13]+1309151649&4294967295,N=O+(R<<21&4294967295|R>>>11),R=x+(O^(N|~P))+j[4]+4149444226&4294967295,x=N+(R<<6&4294967295|R>>>26),R=P+(N^(x|~O))+j[11]+3174756917&4294967295,P=x+(R<<10&4294967295|R>>>22),R=O+(x^(P|~N))+j[2]+718787259&4294967295,O=P+(R<<15&4294967295|R>>>17),R=N+(P^(O|~x))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const N=x-this.blockSize,j=this.C;let O=this.h,P=0;for(;P<x;){if(O==0)for(;P<=N;)l(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<x;)if(j[O++]=I.charCodeAt(P++),O==this.blockSize){l(this,j),O=0;break}}else for(;P<x;)if(j[O++]=I[P++],O==this.blockSize){l(this,j),O=0;break}}this.h=O,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)I[x++]=this.g[N]>>>j&255;return I};function c(I,x){var N=p;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=x(I)}function d(I,x){this.h=x;const N=[];let j=!0;for(let O=I.length-1;O>=0;O--){const P=I[O]|0;j&&P==x||(N[O]=P,j=!1)}this.g=N}var p={};function y(I){return-128<=I&&I<128?c(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return $(v(-I));const x=[];let N=1;for(let j=0;I>=N;j++)x[j]=I/N|0,N*=4294967296;return new d(x,0)}function T(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return $(T(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=v(Math.pow(x,8));let j=S;for(let P=0;P<I.length;P+=8){var O=Math.min(8,I.length-P);const R=parseInt(I.substring(P,P+O),x);O<8?(O=v(Math.pow(x,O)),j=j.j(O).add(v(R))):(j=j.j(N),j=j.add(v(R)))}return j}var S=y(0),D=y(1),L=y(16777216);s=d.prototype,s.m=function(){if(ee(this))return-$(this).m();let I=0,x=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);I+=(j>=0?j:4294967296+j)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(J(this))return"0";if(ee(this))return"-"+$(this).toString(I);const x=v(Math.pow(I,6));var N=this;let j="";for(;;){const O=Ee(N,x).g;N=fe(N,O.j(x));let P=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=O,J(N))return P+j;for(;P.length<6;)P="0"+P;j=P+j}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function J(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function ee(I){return I.h==-1}s.l=function(I){return I=fe(this,I),ee(I)?-1:J(I)?0:1};function $(I){const x=I.g.length,N=[];for(let j=0;j<x;j++)N[j]=~I.g[j];return new d(N,~I.h).add(D)}s.abs=function(){return ee(this)?$(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),N=[];let j=0;for(let O=0;O<=x;O++){let P=j+(this.i(O)&65535)+(I.i(O)&65535),R=(P>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);j=R>>>16,P&=65535,R&=65535,N[O]=R<<16|P}return new d(N,N[N.length-1]&-2147483648?-1:0)};function fe(I,x){return I.add($(x))}s.j=function(I){if(J(this)||J(I))return S;if(ee(this))return ee(I)?$(this).j($(I)):$($(this).j(I));if(ee(I))return $(this.j($(I)));if(this.l(L)<0&&I.l(L)<0)return v(this.m()*I.m());const x=this.g.length+I.g.length,N=[];for(var j=0;j<2*x;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let O=0;O<I.g.length;O++){const P=this.i(j)>>>16,R=this.i(j)&65535,rt=I.i(O)>>>16,Ke=I.i(O)&65535;N[2*j+2*O]+=R*Ke,_e(N,2*j+2*O),N[2*j+2*O+1]+=P*Ke,_e(N,2*j+2*O+1),N[2*j+2*O+1]+=R*rt,_e(N,2*j+2*O+1),N[2*j+2*O+2]+=P*rt,_e(N,2*j+2*O+2)}for(I=0;I<x;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=x;I<2*x;I++)N[I]=0;return new d(N,0)};function _e(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function de(I,x){this.g=I,this.h=x}function Ee(I,x){if(J(x))throw Error("division by zero");if(J(I))return new de(S,S);if(ee(I))return x=Ee($(I),x),new de($(x.g),$(x.h));if(ee(x))return x=Ee(I,$(x)),new de($(x.g),x.h);if(I.g.length>30){if(ee(I)||ee(x))throw Error("slowDivide_ only works with positive integers.");for(var N=D,j=x;j.l(I)<=0;)N=He(N),j=He(j);var O=we(N,1),P=we(j,1);for(j=we(j,2),N=we(N,2);!J(j);){var R=P.add(j);R.l(I)<=0&&(O=O.add(N),P=R),j=we(j,1),N=we(N,1)}return x=fe(I,O.j(x)),new de(O,x)}for(O=S;I.l(x)>=0;){for(N=Math.max(1,Math.floor(I.m()/x.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),P=v(N),R=P.j(x);ee(R)||R.l(I)>0;)N-=j,P=v(N),R=P.j(x);J(P)&&(P=D),O=O.add(P),I=fe(I,R)}return new de(O,I)}s.B=function(I){return Ee(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let j=0;j<x;j++)N[j]=this.i(j)&I.i(j);return new d(N,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let j=0;j<x;j++)N[j]=this.i(j)|I.i(j);return new d(N,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let j=0;j<x;j++)N[j]=this.i(j)^I.i(j);return new d(N,this.h^I.h)};function He(I){const x=I.g.length+1,N=[];for(let j=0;j<x;j++)N[j]=I.i(j)<<1|I.i(j-1)>>>31;return new d(N,I.h)}function we(I,x){const N=x>>5;x%=32;const j=I.g.length-N,O=[];for(let P=0;P<j;P++)O[P]=x>0?I.i(P+N)>>>x|I.i(P+N+1)<<32-x:I.i(P+N);return new d(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Db=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=T,sr=d}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ob,Al,Mb,Gc,bm,Vb,jb,kb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var g=0;g<u.length;++g){var b=u[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=i(this);function l(u,g){if(g)e:{var b=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in b))break e;b=b[U]}u=u[u.length-1],A=b[u],g=g(A),g!=A&&g!=null&&e(b,u,{configurable:!0,writable:!0,value:g})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(g){var b=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&b.push([A,g[A]]);return b}});var c=c||{},d=this||self;function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,b){return u.call.apply(u.bind,arguments)}function v(u,g,b){return v=y,v.apply(null,arguments)}function T(u,g){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,g){function b(){}b.prototype=g.prototype,u.Z=g.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(A,U,H){for(var te=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)te[Ne-2]=arguments[Ne];return g.prototype[U].apply(A,te)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const g=u.length;if(g>0){const b=Array(g);for(let A=0;A<g;A++)b[A]=u[A];return b}return[]}function J(u,g){for(let A=1;A<arguments.length;A++){const U=arguments[A];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=u.length||0;const H=U.length||0;u.length=b+H;for(let te=0;te<H;te++)u[b+te]=U[te]}else u.push(U)}}class ee{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function $(u){d.setTimeout(()=>{throw u},0)}function fe(){var u=I;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class _e{constructor(){this.h=this.g=null}add(g,b){const A=de.get();A.set(g,b),this.h?this.h.next=A:this.g=A,this.h=A}}var de=new ee(()=>new Ee,u=>u.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let He,we=!1,I=new _e,x=()=>{const u=Promise.resolve(void 0);He=()=>{u.then(N)}};function N(){for(var u;u=fe();){try{u.h.call(u.g)}catch(b){$(b)}var g=de;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}we=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};d.addEventListener("test",b,g),d.removeEventListener("test",b,g)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function rt(u,g){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}S(rt,O),rt.prototype.init=function(u,g){const b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(b=="mouseover"?g=u.fromElement:b=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,g,b,A,U){this.listener=u,this.proxy=null,this.src=g,this.type=b,this.capture=!!A,this.ha=U,this.key=++G,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,g,b){for(const A in u)g.call(b,u[A],A,u)}function Ye(u,g){for(const b in u)g.call(void 0,u[b],b,u)}function w(u){const g={};for(const b in u)g[b]=u[b];return g}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,g){let b,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(b in A)u[b]=A[b];for(let H=0;H<V.length;H++)b=V[H],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,g,b,A,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const te=le(u,g,A,U);return te>-1?(g=u[te],b||(g.fa=!1)):(g=new ie(g,this.src,H,!!A,U),g.fa=b,u.push(g)),g};function se(u,g){const b=g.type;if(b in u.g){var A=u.g[b],U=Array.prototype.indexOf.call(A,g,void 0),H;(H=U>=0)&&Array.prototype.splice.call(A,U,1),H&&(me(g),u.g[b].length==0&&(delete u.g[b],u.h--))}}function le(u,g,b,A){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==g&&H.capture==!!b&&H.ha==A)return U}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),De={};function ze(u,g,b,A,U){if(Array.isArray(g)){for(let H=0;H<g.length;H++)ze(u,g[H],b,A,U);return null}return b=pr(b),u&&u[Ke]?u.J(g,b,p(A)?!!A.capture:!1,U):he(u,g,b,!1,A,U)}function he(u,g,b,A,U,H){if(!g)throw Error("Invalid event type");const te=p(U)?!!U.capture:!!U;let Ne=ki(u);if(Ne||(u[Te]=Ne=new ne(u)),b=Ne.add(g,b,A,te,H),b.proxy)return b;if(A=ms(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)P||(U=te),U===void 0&&(U=!1),u.addEventListener(g.toString(),A,U);else if(u.attachEvent)u.attachEvent(An(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ms(){function u(b){return g.call(u.src,u.listener,b)}const g=gr;return u}function gs(u,g,b,A,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)gs(u,g[H],b,A,U);else A=p(A)?!!A.capture:!!A,b=pr(b),u&&u[Ke]?(u=u.i,H=String(g).toString(),H in u.g&&(g=u.g[H],b=le(g,b,A,U),b>-1&&(me(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete u.g[H],u.h--)))):u&&(u=ki(u))&&(g=u.g[g.toString()],u=-1,g&&(u=le(g,b,A,U)),(b=u>-1?g[u]:null)&&ps(b))}function ps(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ke])se(g.i,u);else{var b=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(b,A,u.capture):g.detachEvent?g.detachEvent(An(b),A):g.addListener&&g.removeListener&&g.removeListener(A),(b=ki(g))?(se(b,u),b.h==0&&(b.src=null,g[Te]=null)):me(u)}}}function An(u){return u in De?De[u]:De[u]="on"+u}function gr(u,g){if(u.da)u=!0;else{g=new rt(g,this);const b=u.listener,A=u.ha||u.src;u.fa&&ps(u),u=b.call(A,g)}return u}function ki(u){return u=u[Te],u instanceof ne?u:null}var ys="__closure_events_fn_"+(Math.random()*1e9>>>0);function pr(u){return typeof u=="function"?u:(u[ys]||(u[ys]=function(g){return u.handleEvent(g)}),u[ys])}function re(){j.call(this),this.i=new ne(this),this.M=this,this.G=null}S(re,j),re.prototype[Ke]=!0,re.prototype.removeEventListener=function(u,g,b,A){gs(this,u,g,b,A)};function ft(u,g){var b,A=u.G;if(A)for(b=[];A;A=A.G)b.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new O(g,u);else if(g instanceof O)g.target=g.target||u;else{var U=g;g=new O(A,u),W(g,U)}U=!0;let H,te;if(b)for(te=b.length-1;te>=0;te--)H=g.g=b[te],U=Pi(H,A,!0,g)&&U;if(H=g.g=u,U=Pi(H,A,!0,g)&&U,U=Pi(H,A,!1,g)&&U,b)for(te=0;te<b.length;te++)H=g.g=b[te],U=Pi(H,A,!1,g)&&U}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const b=u.g[g];for(let A=0;A<b.length;A++)me(b[A]);delete u.g[g],u.h--}}this.G=null},re.prototype.J=function(u,g,b,A){return this.i.add(String(u),g,!1,b,A)},re.prototype.K=function(u,g,b,A){return this.i.add(String(u),g,!0,b,A)};function Pi(u,g,b,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let H=0;H<g.length;++H){const te=g[H];if(te&&!te.da&&te.capture==b){const Ne=te.listener,yt=te.ha||te.src;te.fa&&se(u.i,te),U=Ne.call(yt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Gh(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:d.setTimeout(u,g||0)}function eu(u){u.g=Gh(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class en extends j{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(u){j.call(this),this.h=u,this.g={}}S(yr,j);var _o=[];function vo(u){Ue(u.g,function(g,b){this.g.hasOwnProperty(b)&&ps(g)},u),u.g={}}yr.prototype.N=function(){yr.Z.N.call(this),vo(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Kh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}S(zt,O);function xn(){O.call(this,"c")}S(xn,O);var pt={},su=null;function oa(){return su=su||new re}pt.Ia="serverreachability";function ru(u){O.call(this,pt.Ia,u)}S(ru,O);function si(u){const g=oa();ft(g,new ru(g))}pt.STAT_EVENT="statevent";function _r(u,g){O.call(this,pt.STAT_EVENT,u),this.stat=g}S(_r,O);function Et(u){const g=oa();ft(g,new _r(g,u))}pt.Ja="timingevent";function ri(u,g){O.call(this,pt.Ja,u),this.size=g}S(ri,O);function ai(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Yh(u,g,b,A,U,H){u.info(function(){if(u.g)if(H){var te="",Ne=H.split("&");for(let Qe=0;Qe<Ne.length;Qe++){var yt=Ne[Qe].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const Rn=ct.split("_");te=Rn.length>=2&&Rn[1]=="type"?te+(ct+"="+yt+"&"):te+(ct+"=redacted&")}}}else te=null;else te=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+b+`
`+te})}function au(u,g,b,A,U,H,te){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+b+`
`+H+" "+te})}function oi(u,g,b,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Qh(u,b)+(A?" "+A:"")})}function vr(u,g){u.info(function(){return"TIMEOUT: "+g})}Bn.prototype.info=function(){};function Qh(u,g){if(!u.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var b=H[u];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<A.length;te++)A[te]=""}}}}return _s(H)}catch{return g}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function Er(){}S(Er,nu),Er.prototype.g=function(){return new XMLHttpRequest},Eo=new Er;function Li(u){return encodeURIComponent(String(u))}function ou(u){var g=1;u=u.split(":");const b=[];for(;g>0&&u.length;)b.push(u.shift()),g--;return u.length&&b.push(u.join(":")),b}function qn(u,g,b,A){this.j=u,this.i=g,this.l=b,this.S=A||1,this.V=new yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Tt={},jt={};function li(u,g,b){u.M=1,u.A=Tr(xt(g)),u.u=b,u.R=!0,la(u,null)}function la(u,g){u.F=Date.now(),ui(u),u.B=xt(u.A);var b=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),fa(b.i,"t",A),u.C=0,b=u.j.L,u.h=new Hn,u.g=Tu(u.j,b?g:null,!u.u),u.P>0&&(u.O=new en(v(u.Y,u,u.g),u.P)),g=u.V,b=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(_o[0]=U.toString()),U=_o);for(let H=0;H<U.length;H++){const te=ze(b,U[H],A||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),si(),Yh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const g=this.O;g&&Kn(u)==3?g.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=Kn(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ne!=4||yt==7||(yt==8||Qe<=0?si(3):si(2)),ci(this);var g=this.g.ca();this.X=g;var b=Xh(this);if(this.o=g==200,au(this.i,this.v,this.B,this.l,this.S,Ne,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var H=A;break t}}H=null}if(u=H)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,Et(12),mn(this),Sn(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=uu(this,b),ct==jt){Ne==4&&(this.m=4,Et(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Tt){this.m=4,Et(15),oi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,ct,null),hi(this,ct);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,b,"[Invalid Chunked Response]"),mn(this),Sn(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),ko(te),te.P=!0,Et(11))}}else oi(this.i,this.l,b,null),hi(this,b);Ne==4&&mn(this),this.o&&!this.K&&(Ne==4?_u(this.j,this):(this.o=!1,ui(this)))}else zi(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),mn(this),Sn(this)}}}catch{}};function Xh(u){if(!lu(u))return u.g.la();const g=Bt(u.g);if(g==="")return"";let b="";const A=g.length,U=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<A;H++)u.h.h=!0,b+=u.h.i.decode(g[H],{stream:!(U&&H==A-1)});return g.length=0,u.h.g+=b,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,g){var b=u.C,A=g.indexOf(`
`,b);return A==-1?jt:(b=Number(g.substring(b,A)),isNaN(b)?Tt:(A+=1,A+b>g.length?jt:(g=g.slice(A,A+b),u.C=A+b,g)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function ui(u){u.T=Date.now()+u.H,ua(u,u.H)}function ua(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(v(u.aa,u),g)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(vr(this.i,this.B),this.M!=2&&(si(),Et(17)),mn(this),this.m=2,Sn(this)):ua(this,this.T-u)};function Sn(u){u.j.I==0||u.K||_u(u.j,u)}function mn(u){ci(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,vo(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function hi(u,g){try{var b=u.j;if(b.I!=0&&(b.g==u||di(b.h,u))){if(!u.L&&di(b.h,u)&&b.I==3){try{var A=b.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ya(b),ws(b);else break e;Cr(b),Et(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ai(v(b.Va,b),6e3));fi(b.h)<=1&&b.ta&&(b.ta=void 0)}else vi(b,11)}else if((u.L||b.g==u)&&ya(b),!R(g))for(U=b.Ba.g.parse(g),g=0;g<U.length;g++){let Qe=U[g];const ct=Qe[0];if(!(ct<=b.K))if(b.K=ct,Qe=Qe[1],b.I==2)if(Qe[0]=="c"){b.M=Qe[1],b.ba=Qe[2];const Rn=Qe[3];Rn!=null&&(b.ka=Rn,b.j.info("VER="+b.ka));const bi=Qe[4];bi!=null&&(b.za=bi,b.j.info("SVER="+b.za));const Yn=Qe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(A=1.5*Yn,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Qn=u.g;if(Qn){const Ir=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var H=A.h;H.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(xo(H,H.h),H.h=null))}if(A.G){const _a=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(A.wa=_a,Ze(A.J,A.G,_a))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var te=u;if(A.na=Eu(A,A.L?A.ba:null,A.W),te.L){So(A.h,te);var Ne=te,yt=A.O;yt&&(Ne.H=yt),Ne.D&&(ci(Ne),ui(Ne)),A.g=te}else pu(A);b.i.length>0&&_i(b)}else Qe[0]!="stop"&&Qe[0]!="close"||vi(b,7);else b.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?vi(b,7):Vo(b):Qe[0]!="noop"&&b.l&&b.l.qa(Qe),b.A=0)}}si(4)}catch{}}var At=class{constructor(u,g){this.g=u,this.map=g}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function xo(u,g){u.g?u.g.add(g):u.h=g}function So(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const b of u.g.values())g=g.concat(b.G);return g}return L(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(u,g){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const A=u[b].indexOf("=");let U,H=null;A>=0?(U=u[b].substring(0,A),H=u[b].substring(A+1)):U=u[b],g(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof gn?(this.l=u.l,kt(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,No(this,mu(u.i)),this.m=u.m):u&&(g=String(u).match(cu))?(this.l=!1,kt(this,g[1]||"",!0),this.o=mi(g[2]||""),this.g=mi(g[3]||"",!0),vs(this,g[4]),this.h=mi(g[5]||"",!0),No(this,g[6]||"",!0),this.m=mi(g[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}gn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Ar(g,ha,!0),":");var b=this.g;return(b||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ar(g,ha,!0),"@"),u.push(Li(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ar(b,b.charAt(0)=="/"?Ro:hu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ar(b,fu)),u.join("")},gn.prototype.resolve=function(u){const g=xt(this);let b=!!u.j;b?kt(g,u.j):b=!!u.o,b?g.o=u.o:b=!!u.g,b?g.g=u.g:b=u.u!=null;var A=u.h;if(b)vs(g,u.u);else if(b=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=g.h.lastIndexOf("/");U!=-1&&(A=g.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let te=0;te<U.length;){const Ne=U[te++];Ne=="."?A&&te==U.length&&H.push(""):Ne==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&te==U.length&&H.push("")):(H.push(Ne),A=!0)}A=H.join("/")}else A=U}return b?g.h=A:b=u.i.toString()!=="",b?No(g,mu(u.i)):b=!!u.m,b&&(g.m=u.m),g};function xt(u){return new gn(u)}function kt(u,g,b){u.j=b?mi(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function No(u,g,b){g instanceof Es?(u.i=g,da(u.i,u.l)):(b||(g=Ar(g,bs)),u.i=new Es(g,u.l))}function Ze(u,g,b){u.i.set(g,b)}function Tr(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,g,b){return typeof u=="string"?(u=encodeURI(u).replace(g,sn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ha=/[#\/\?@]/g,hu=/[#\?:]/g,Ro=/[#\?]/g,bs=/[#\?@]/g,fu=/#/g;function Es(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ca(u.i,function(g,b){u.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}s=Es.prototype,s.add=function(u,g){rn(this),this.i=null,u=Ts(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(g),this.h+=1,this};function du(u,g){rn(u),g=Ts(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Co(u,g){return rn(u),g=Ts(u,g),u.g.has(g)}s.forEach=function(u,g){rn(this),this.g.forEach(function(b,A){b.forEach(function(U){u.call(g,U,A,this)},this)},this)};function Io(u,g){rn(u);let b=[];if(typeof g=="string")Co(u,g)&&(b=b.concat(u.g.get(Ts(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)b=b.concat(u[g]);return b}s.set=function(u,g){return rn(this),this.i=null,u=Ts(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=Io(this,u),u.length>0?String(u[0]):g):g};function fa(u,g,b){du(u,g),b.length>0&&(u.i=null,u.g.set(Ts(u,g),L(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var b=g[A];const U=Li(b);b=Io(this,b);for(let H=0;H<b.length;H++){let te=U;b[H]!==""&&(te+="="+Li(b[H])),u.push(te)}}return this.i=u.join("&")};function mu(u){const g=new Es;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Ts(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function da(u,g){g&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(b,A){const U=A.toLowerCase();A!=U&&(du(this,A),fa(this,U,b))},u)),u.j=g}function Fn(u,g){const b=new Bn;if(d.Image){const A=new Image;A.onload=T(wn,b,"TestLoadImage: loaded",!0,g,A),A.onerror=T(wn,b,"TestLoadImage: error",!1,g,A),A.onabort=T(wn,b,"TestLoadImage: abort",!1,g,A),A.ontimeout=T(wn,b,"TestLoadImage: timeout",!1,g,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Do(u,g){const b=new Bn,A=new AbortController,U=setTimeout(()=>{A.abort(),wn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?wn(b,"TestPingServer: ok",!0,g):wn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),wn(b,"TestPingServer: error",!1,g)})}function wn(u,g,b,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(b)}catch{}}function As(){this.g=new tu}function gi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(gi,nu),gi.prototype.g=function(){return new xr(this.i,this.h)};function xr(u,g){re.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(xr,re),s=xr.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||d).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?xs(this):Gn(this),this.readyState==3&&ma(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,xs(this))},s.Na=function(u){this.g&&(this.response=u,xs(this))},s.ga=function(){this.g&&xs(this)};function xs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,g){this.A.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=g.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let g="";return Ue(u,function(b,A){g+=A,g+=":",g+=b,g+=`\r
`}),g}function Sr(u,g,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Nn(b),typeof u=="string"?b!=null&&Li(b):Ze(u,g,b))}function et(u){re.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(et,re);var pi=/^https?$/i,Oo=["POST","PUT"];s=et.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,g,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=D(v(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){wr(this,H);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)b.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())b.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,g,void 0)>=0)||A||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,te]of b)this.g.setRequestHeader(H,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){wr(this,H)}};function wr(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Mo(u),Ui(u)}function Mo(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ft(this,"complete"),ft(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},s.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(ft(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var A;if(A=H===0){let te=String(u.D).match(cu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),A=!pi.test(te?te.toLowerCase():"")}b=A}if(b)ft(u,"complete"),ft(u,"success");else{u.o=6;try{var U=Kn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Mo(u)}}finally{Ui(u)}}}}function Ui(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,g||ft(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Kh(g)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const g={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var b=ou(u[A]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=g[U]||[];g[U]=H,H.push(b)}Ye(g,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||g}function Ss(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ss.prototype,s.ka=8,s.I=1,s.connect=function(u,g,b,A){Et(0),this.W=u,this.H=g||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=Eu(this,null,this.W),_i(this)};function Vo(u){if(ga(u),u.I==3){var g=u.V++,b=xt(u.J);if(Ze(b,"SID",u.M),Ze(b,"RID",g),Ze(b,"TYPE","terminate"),Rr(u,b),g=new qn(u,u.j,g),g.M=2,g.A=Tr(xt(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&d.Image&&(new Image().src=g.A,b=!0),b||(g.g=Tu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ui(g)}bu(u)}function ws(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ga(u){ws(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!Ao(u.h)&&!u.m){u.m=!0;var g=u.Ea;He||x(),we||(He(),we=!0),I.add(g,u),u.D=0}}function pa(u,g){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(v(u.Ea,u,g),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new qn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=w(H),W(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=gu(this,U,g),b=xt(this.J),Ze(b,"RID",u),Ze(b,"CVER",22),this.G&&Ze(b,"X-HTTP-Session-Id",this.G),Rr(this,b),H&&(this.R?g="headers="+Li(Nn(H))+"&"+g:this.u&&Sr(b,this.u,H)),xo(this.h,U),this.Ra&&Ze(b,"TYPE","init"),this.S?(Ze(b,"$req",g),Ze(b,"SID","null"),U.U=!0,li(U,b,null)):li(U,b,g),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Ao(this.h)||jo(this))};function jo(u,g){var b;g?b=g.l:b=u.V++;const A=xt(u.J);Ze(A,"SID",u.M),Ze(A,"RID",b),Ze(A,"AID",u.K),Rr(u,A),u.u&&u.o&&Sr(A,u.u,u.o),b=new qn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),g&&(u.i=g.G.concat(u.i)),g=gu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xo(u.h,b),li(b,A,g)}function Rr(u,g){u.H&&Ue(u.H,function(b,A){Ze(g,A,b)}),u.l&&Ue({},function(b,A){Ze(g,A,b)})}function gu(u,g,b){b=Math.min(u.i.length,b);const A=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ne=-1;for(;;){const yt=["count="+b];Ne==-1?b>0?(Ne=U[0].g,yt.push("ofs="+Ne)):Ne=0:yt.push("ofs="+Ne);let Qe=!0;for(let ct=0;ct<b;ct++){var H=U[ct].g;const Rn=U[ct].map;if(H-=Ne,H<0)Ne=Math.max(0,U[ct].g-100),Qe=!1;else try{H="req"+H+"_"||"";try{var te=Rn instanceof Map?Rn:Object.entries(Rn);for(const[bi,Yn]of te){let Qn=Yn;p(Yn)&&(Qn=_s(Yn)),yt.push(H+bi+"="+encodeURIComponent(Qn))}}catch(bi){throw yt.push(H+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(Rn)}}if(Qe){te=yt.join("&");break e}}te=void 0}return u=u.i.splice(0,b),g.G=u,te}function pu(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;He||x(),we||(He(),we=!0),I.add(g,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(v(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),ws(this),yu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=xt(u.na);Ze(g,"RID","rpc"),Ze(g,"SID",u.M),Ze(g,"AID",u.K),Ze(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(g,"TO",u.ia),Ze(g,"TYPE","xmlhttp"),Rr(u,g),u.u&&u.o&&Sr(g,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Tr(xt(g)),b.u=null,b.R=!0,la(b,u)}s.Va=function(){this.C!=null&&(this.C=null,ws(this),Cr(this),Et(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,g){var b=null;if(u.g==g){ya(u),ko(u),u.g=null;var A=2}else if(di(u.h,g))b=g.G,So(u.h,g),A=1;else return;if(u.I!=0){if(g.o)if(A==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var U=u.D;A=oa(),ft(A,new ri(A,b)),_i(u)}else pu(u);else if(U=g.m,U==3||U==0&&g.X>0||!(A==1&&pa(u,g)||A==2&&Cr(u)))switch(b&&b.length>0&&(g=u.h,g.i=g.i.concat(b)),U){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function vu(u,g){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*g}function vi(u,g){if(u.j.info("Error code "+g),g==2){var b=v(u.bb,u),A=u.Ua;const U=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kt(A,"https"),Tr(A),U?Fn(A.toString(),b):Do(A.toString(),b)}else Et(2);u.I=0,u.l&&u.l.pa(g),bu(u),ga(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const g=wo(u.h);(g.length!=0||u.i.length!=0)&&(J(u.ja,g),J(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function Eu(u,g,b){var A=b instanceof gn?xt(b):new gn(b);if(A.g!="")g&&(A.g=g+"."+A.g),vs(A,A.u);else{var U=d.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const H=new gn(null);A&&kt(H,A),g&&(H.g=g),U&&vs(H,U),b&&(H.h=b),A=H}return b=u.G,g=u.wa,b&&g&&Ze(A,b,g),Ze(A,"VER",u.ka),Rr(u,A),A}function Tu(u,g,b){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new et(new gi({ab:b})):new et(u.ma),g.Fa(u.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,g){return new tn(u,g)};function tn(u,g){re.call(this),this.g=new Ss(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!R(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Bi(this)}S(tn,re),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Vo(this.g)},tn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=_s(u),u=b);g.i.push(new At(g.Ya++,u)),g.I==3&&_i(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,tn.Z.N.call(this)};function xu(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const b in g){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}S(xu,zt);function Su(){xn.call(this),this.status=1}S(Su,xn);function Bi(u){this.g=u}S(Bi,Au),Bi.prototype.ra=function(){ft(this.g,"a")},Bi.prototype.qa=function(u){ft(this.g,new xu(u))},Bi.prototype.pa=function(u){ft(this.g,new Su)},Bi.prototype.oa=function(){ft(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,kb=function(){return new Ns},jb=function(){return oa()},Vb=pt,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Gc=br,bo.COMPLETE="complete",Mb=bo,iu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",re.prototype.listen=re.prototype.J,Al=iu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,Ob=et}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore",k0="4.9.3";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let mo="12.7.0";const Jr=new zm("@firebase/firestore");function Xa(){return Jr.logLevel}function ae(s,...e){if(Jr.logLevel<=ke.DEBUG){const i=e.map($m);Jr.debug(`Firestore (${mo}): ${s}`,...i)}}function hs(s,...e){if(Jr.logLevel<=ke.ERROR){const i=e.map($m);Jr.error(`Firestore (${mo}): ${s}`,...i)}}function ro(s,...e){if(Jr.logLevel<=ke.WARN){const i=e.map($m);Jr.warn(`Firestore (${mo}): ${s}`,...i)}}function $m(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,Pb(s,r,i)}function Pb(s,e,i){let r=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw hs(r),new Error(r)}function $e(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||Pb(e,l,r)}function Se(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ii{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class as{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Lb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Zt.UNAUTHENTICATED)))}shutdown(){}}class TN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class AN{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$e(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new as;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new as,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new as)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new Lb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class xN{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SN{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new xN(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wN{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$e(this.o===void 0,3512);const r=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($e(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new P0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NN(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=NN(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function Pe(s,e){return s<e?-1:s>e?1:0}function Em(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return rm(l)===rm(c)?Pe(l,c):rm(l)?1:-1}return Pe(s.length,e.length)}const RN=55296,CN=57343;function rm(s){const e=s.charCodeAt(0);return e>=RN&&e<=CN}function ao(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const L0="__name__";class Si{constructor(e,i,r){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&be(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Si.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const r=Si.isNumericId(e),l=Si.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Si.extractNumericId(e).compare(Si.extractNumericId(i)):Em(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class lt extends Si{construct(e,i,r){return new lt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new lt(i)}static emptyPath(){return new lt([])}}const IN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Si{construct(e,i,r){return new Yt(e,i,r)}static isValidIdentifier(e){return IN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new Yt([L0])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(i)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(lt.fromString(e))}static fromName(e){return new pe(lt.fromString(e).popFirst(5))}static empty(){return new pe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return lt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new lt(e.slice()))}}function Ub(s,e,i){if(!i)throw new ce(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function DN(s,e,i,r){if(e===!0&&r===!0)throw new ce(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function U0(s){if(!pe.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function z0(s){if(pe.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function zb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Jm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function Wr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jm(s);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function It(s,e){const i={typeString:s};return e&&(i.value=e),i}function Xl(s,e){if(!zb(s))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ce(Z.INVALID_ARGUMENT,i);return!0}const B0=-62135596800,q0=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*q0);return new ut(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<B0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xl(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-B0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:It("string",ut._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ut(0,0))}static max(){return new Ae(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function ON(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new ut(i+1,0):new ut(i,r));return new or(l,pe.empty(),e)}function MN(s){return new or(s.readTime,s.key,kl)}class or{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new or(Ae.min(),pe.empty(),kl)}static max(){return new or(Ae.max(),pe.empty(),kl)}}function VN(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:Pe(s.largestBatchId,e.largestBatchId))}const jN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function go(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==jN)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(e[v]).next((T=>{d[v]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new X(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function PN(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(s){return s.name==="IndexedDbTransactionError"}class Ch{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const Wm=-1;function Ih(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function LN(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Bb="";function UN(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=H0(e)),e=zN(s.get(i),e);return H0(e)}function zN(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case Bb:i+="";break;default:i+=c}}return i}function H0(s){return s+Bb+""}function F0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ia(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function qb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class dt{constructor(e,i){this.comparator=e,this.root=i||Kt.EMPTY}insert(e,i){return new dt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??Kt.RED,this.left=l??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new Kt(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Kt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new Kt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(e){return new G0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class G0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Wn([])}unionWith(e){let i=new Vt(Yt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Wn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class Hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Hb("Invalid base64 string: "+c):c}})(e);return new Qt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Qt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const BN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(s){if($e(!!s,39018),typeof s=="string"){let e=0;const i=BN.exec(s);if($e(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(s.seconds),nanos:bt(s.nanos)}}function bt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ur(s){return typeof s=="string"?Qt.fromBase64String(s):Qt.fromUint8Array(s)}const Fb="server_timestamp",Gb="__type__",Kb="__previous_value__",Yb="__local_write_time__";function eg(s){return(s?.mapValue?.fields||{})[Gb]?.stringValue===Fb}function Dh(s){const e=s.mapValue.fields[Kb];return eg(e)?Dh(e):e}function Pl(s){const e=lr(s.mapValue.fields[Yb].timestampValue);return new ut(e.seconds,e.nanos)}class qN{constructor(e,i,r,l,c,d,p,y,v,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=T}}const ah="(default)";class Ll{constructor(e,i){this.projectId=e,this.database=i||ah}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}const Qb="__type__",HN="__max__",jc={mapValue:{}},Xb="__vector__",oh="value";function cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?eg(s)?4:GN(s)?9007199254740991:FN(s)?10:11:be(28295,{value:s})}function Oi(s,e){if(s===e)return!0;const i=cr(s);if(i!==cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Pl(s).isEqual(Pl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=lr(l.timestampValue),p=lr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ur(l.bytesValue).isEqual(ur(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return bt(l.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(l.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return bt(l.integerValue)===bt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=bt(l.doubleValue),p=bt(c.doubleValue);return d===p?rh(d)===rh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return ao(s.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(F0(d)!==F0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Oi(d[y],p[y])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function Ul(s,e){return(s.values||[]).find((i=>Oi(i,e)))!==void 0}function oo(s,e){if(s===e)return 0;const i=cr(s),r=cr(e);if(i!==r)return Pe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=bt(c.integerValue||c.doubleValue),y=bt(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,e);case 3:return K0(s.timestampValue,e.timestampValue);case 4:return K0(Pl(s),Pl(e));case 5:return Em(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=ur(c),y=ur(d);return p.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const T=Pe(p[v],y[v]);if(T!==0)return T}return Pe(p.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Pe(bt(c.latitude),bt(d.latitude));return p!==0?p:Pe(bt(c.longitude),bt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Y0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[oh]?.arrayValue,T=y[oh]?.arrayValue,S=Pe(v?.values?.length||0,T?.values?.length||0);return S!==0?S:Y0(v,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===jc.mapValue&&d===jc.mapValue)return 0;if(c===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},T=Object.keys(v);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const D=Em(y[S],T[S]);if(D!==0)return D;const L=oo(p[y[S]],v[T[S]]);if(L!==0)return L}return Pe(y.length,T.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function K0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const i=lr(s),r=lr(e),l=Pe(i.seconds,r.seconds);return l!==0?l:Pe(i.nanos,r.nanos)}function Y0(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=oo(i[l],r[l]);if(c)return c}return Pe(i.length,r.length)}function lo(s){return Tm(s)}function Tm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=lr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ur(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Tm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Tm(i.fields[d])}`;return l+"}"})(s.mapValue):be(61005,{value:s})}function Kc(s){switch(cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(s);return e?16+Kc(e):16;case 5:return 2*s.stringValue.length;case 6:return ur(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ia(r.fields,((c,d)=>{l+=c.length+Kc(d)})),l})(s.mapValue);default:throw be(13486,{value:s})}}function Am(s){return!!s&&"integerValue"in s}function tg(s){return!!s&&"arrayValue"in s}function Q0(s){return!!s&&"nullValue"in s}function X0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function FN(s){return(s?.mapValue?.fields||{})[Qb]?.stringValue===Xb}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ia(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Cl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Cl(s.arrayValue.values[i]);return e}return{...s}}function GN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===HN}class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(i)}setAll(e){let i=Yt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){ia(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Pn(Cl(this.value))}}function $b(s){const e=[];return ia(s.fields,((i,r)=>{const l=new Yt([i]);if(Yc(r)){const c=$b(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Wn(e)}class Jt{constructor(e,i,r,l,c,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Jt(e,0,Ae.min(),Ae.min(),Ae.min(),Pn.empty(),0)}static newFoundDocument(e,i,r,l){return new Jt(e,1,i,Ae.min(),r,l,0)}static newNoDocument(e,i){return new Jt(e,2,i,Ae.min(),Ae.min(),Pn.empty(),0)}static newUnknownDocument(e,i){return new Jt(e,3,i,Ae.min(),Ae.min(),Pn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,i){this.position=e,this.inclusive=i}}function $0(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=pe.comparator(pe.fromName(d.referenceValue),i.key):r=oo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Oi(s.position[i],e.position[i]))return!1;return!0}class uh{constructor(e,i="asc"){this.field=e,this.dir=i}}function KN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Zb{}class Ot extends Zb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new QN(e,i,r):i==="array-contains"?new ZN(e,r):i==="in"?new JN(e,r):i==="not-in"?new WN(e,r):i==="array-contains-any"?new eR(e,r):new Ot(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new XN(e,r):new $N(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(oo(i,this.value)):i!==null&&cr(this.value)===cr(i)&&this.matchesComparison(oo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends Zb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Mi(e,i)}matches(e){return Jb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jb(s){return s.op==="and"}function Wb(s){return YN(s)&&Jb(s)}function YN(s){for(const e of s.filters)if(e instanceof Mi)return!1;return!0}function xm(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+lo(s.value);if(Wb(s))return s.filters.map((e=>xm(e))).join(",");{const e=s.filters.map((i=>xm(i))).join(",");return`${s.op}(${e})`}}function eE(s,e){return s instanceof Ot?(function(r,l){return l instanceof Ot&&r.op===l.op&&r.field.isEqual(l.field)&&Oi(r.value,l.value)})(s,e):s instanceof Mi?(function(r,l){return l instanceof Mi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&eE(d,l.filters[p])),!0):!1})(s,e):void be(19439)}function tE(s){return s instanceof Ot?(function(i){return`${i.field.canonicalString()} ${i.op} ${lo(i.value)}`})(s):s instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(tE).join(" ,")+"}"})(s):"Filter"}class QN extends Ot{constructor(e,i,r){super(e,i,r),this.key=pe.fromName(r.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class XN extends Ot{constructor(e,i){super(e,"in",i),this.keys=nE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class $N extends Ot{constructor(e,i){super(e,"not-in",i),this.keys=nE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function nE(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class ZN extends Ot{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tg(i)&&Ul(i.arrayValue,this.value)}}class JN extends Ot{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class WN extends Ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class eR extends Ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ul(this.value.arrayValue,r)))}}class tR{constructor(e,i=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function J0(s,e=null,i=[],r=[],l=null,c=null,d=null){return new tR(s,e,i,r,l,c,d)}function ng(s){const e=Se(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>xm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Ih(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>lo(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>lo(r))).join(",")),e.Te=i}return e.Te}function ig(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!KN(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!eE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Z0(s.startAt,e.startAt)&&Z0(s.endAt,e.endAt)}function Sm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Oh{constructor(e,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nR(s,e,i,r,l,c,d,p){return new Oh(s,e,i,r,l,c,d,p)}function sg(s){return new Oh(s)}function W0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function iR(s){return s.collectionGroup!==null}function Il(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Vt(Yt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new uh(c,r))})),i.has(Yt.keyField().canonicalString())||e.Ie.push(new uh(Yt.keyField(),r))}return e.Ie}function Ri(s){const e=Se(s);return e.Ee||(e.Ee=sR(e,Il(s))),e.Ee}function sR(s,e){if(s.limitType==="F")return J0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new uh(l.field,c)}));const i=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return J0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function wm(s,e,i){return new Oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Mh(s,e){return ig(Ri(s),Ri(e))&&s.limitType===e.limitType}function iE(s){return`${ng(Ri(s))}|lt:${s.limitType}`}function $a(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>tE(l))).join(", ")}]`),Ih(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>lo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>lo(l))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function Vh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Il(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const v=$0(d,p,y);return d.inclusive?v<=0:v<0})(r.startAt,Il(r),l)||r.endAt&&!(function(d,p,y){const v=$0(d,p,y);return d.inclusive?v>=0:v>0})(r.endAt,Il(r),l))})(s,e)}function rR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function sE(s){return(e,i)=>{let r=!1;for(const l of Il(s)){const c=aR(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function aR(s,e,i){const r=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?oo(y,v):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:s.dir})}}class sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return qb(this.inner)}size(){return this.innerSize}}const oR=new dt(pe.comparator);function fs(){return oR}const rE=new dt(pe.comparator);function xl(...s){let e=rE;for(const i of s)e=e.insert(i.key,i);return e}function aE(s){let e=rE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Yr(){return Dl()}function oE(){return Dl()}function Dl(){return new sa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const lR=new dt(pe.comparator),uR=new Vt(pe.comparator);function Le(...s){let e=uR;for(const i of s)e=e.add(i);return e}const cR=new Vt(Pe);function hR(){return cR}function rg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function lE(s){return{integerValue:""+s}}function fR(s,e){return LN(e)?lE(e):rg(s,e)}class jh{constructor(){this._=void 0}}function dR(s,e,i){return s instanceof ch?(function(l,c){const d={fields:{[Gb]:{stringValue:Fb},[Yb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&eg(c)&&(c=Dh(c)),c&&(d.fields[Kb]=c),{mapValue:d}})(i,e):s instanceof zl?cE(s,e):s instanceof Bl?hE(s,e):(function(l,c){const d=uE(l,c),p=ev(d)+ev(l.Ae);return Am(d)&&Am(l.Ae)?lE(p):rg(l.serializer,p)})(s,e)}function mR(s,e,i){return s instanceof zl?cE(s,e):s instanceof Bl?hE(s,e):i}function uE(s,e){return s instanceof hh?(function(r){return Am(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class ch extends jh{}class zl extends jh{constructor(e){super(),this.elements=e}}function cE(s,e){const i=fE(e);for(const r of s.elements)i.some((l=>Oi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Bl extends jh{constructor(e){super(),this.elements=e}}function hE(s,e){let i=fE(e);for(const r of s.elements)i=i.filter((l=>!Oi(l,r)));return{arrayValue:{values:i}}}class hh extends jh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function ev(s){return bt(s.integerValue||s.doubleValue)}function fE(s){return tg(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function gR(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof zl&&l instanceof zl||r instanceof Bl&&l instanceof Bl?ao(r.elements,l.elements,Oi):r instanceof hh&&l instanceof hh?Oi(r.Ae,l.Ae):r instanceof ch&&l instanceof ch})(s.transform,e.transform)}class pR{constructor(e,i){this.version=e,this.transformResults=i}}class os{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class kh{}function dE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new gE(s.key,os.none()):new $l(s.key,s.data,os.none());{const i=s.data,r=Pn.empty();let l=new Vt(Yt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ra(s.key,r,new Wn(l.toArray()),os.none())}}function yR(s,e,i){s instanceof $l?(function(l,c,d){const p=l.value.clone(),y=nv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof ra?(function(l,c,d){if(!Qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=nv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(mE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Ol(s,e,i,r){return s instanceof $l?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const v=c.value.clone(),T=iv(c.fieldTransforms,y,d);return v.setAll(T),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,r):s instanceof ra?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const v=iv(c.fieldTransforms,y,d),T=d.data;return T.setAll(mE(c)),T.setAll(v),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,r):(function(c,d,p){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function _R(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=uE(r.transform,l||null);c!=null&&(i===null&&(i=Pn.empty()),i.set(r.field,c))}return i||null}function tv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ao(r,l,((c,d)=>gR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends kh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ra extends kh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function nv(s,e,i){const r=new Map;$e(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,mR(d,p,i[l]))}return r}function iv(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,dR(c,d,e))}return r}class gE extends kh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vR extends kh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bR{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&yR(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Ol(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Ol(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=oE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=dE(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Le())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,((i,r)=>tv(i,r)))&&ao(this.baseMutations,e.baseMutations,((i,r)=>tv(i,r)))}}class ag{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return lR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new ag(e,i,r,l)}}class ER{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class TR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ct,qe;function AR(s){switch(s){case Z.OK:return be(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function pE(s){if(s===void 0)return hs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Ct.OK:return Z.OK;case Ct.CANCELLED:return Z.CANCELLED;case Ct.UNKNOWN:return Z.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Z.INTERNAL;case Ct.UNAVAILABLE:return Z.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Z.NOT_FOUND;case Ct.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ct.ABORTED:return Z.ABORTED;case Ct.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ct.DATA_LOSS:return Z.DATA_LOSS;default:return be(39323,{code:s})}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function xR(){return new TextEncoder}const SR=new sr([4294967295,4294967295],0);function sv(s){const e=xR().encode(s),i=new Db;return i.update(e),new Uint8Array(i.digest())}function rv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new sr([i,r],0),new sr([l,c],0)]}class og{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=sr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(sr.fromNumber(r)));return l.compare(SR)===1&&(l=new sr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=sv(e),[r,l]=rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new og(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=sv(e),[r,l]=rv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ph(Ae.min(),l,new dt(Pe),fs(),Le())}}class Zl{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Zl(r,i,Le(),Le(),Le())}}class Xc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class yE{constructor(e,i){this.targetId=e,this.Ce=i}}class _E{constructor(e,i,r=Qt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class av{constructor(){this.ve=0,this.Fe=ov(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),i=Le(),r=Le();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:be(38017,{changeType:c})}})),new Zl(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=ov()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wR{constructor(e){this.Ge=e,this.ze=new Map,this.je=fs(),this.Je=kc(),this.He=kc(),this.Ye=new dt(Pe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Sm(c))if(r===0){const d=new pe(c.path);this.et(i,d,Jt.newNoDocument(d,Ae.min()))}else $e(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),y=p?this.ct(p,e,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ur(r).toUint8Array()}catch(y){if(y instanceof Hb)return ro("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new og(d,l,c)}catch(y){return ro(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Sm(p.target)){const y=new pe(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Jt.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Le();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ph(e,i,this.Ye,this.je,r);return this.je=fs(),this.Je=kc(),this.He=kc(),this.Ye=new dt(Pe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new av,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Vt(Pe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Vt(Pe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new av),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new dt(pe.comparator)}function ov(){return new dt(pe.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},RR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CR={and:"AND",or:"OR"};class IR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nm(s,e){return s.useProto3Json||Ih(e)?e:{value:e}}function fh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function DR(s,e){return fh(s,e.toTimestamp())}function Ci(s){return $e(!!s,49232),Ae.fromTimestamp((function(i){const r=lr(i);return new ut(r.seconds,r.nanos)})(s))}function lg(s,e){return Rm(s,e).canonicalString()}function Rm(s,e){const i=(function(l){return new lt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function bE(s){const e=lt.fromString(s);return $e(SE(e),10190,{key:e.toString()}),e}function Cm(s,e){return lg(s.databaseId,e.path)}function am(s,e){const i=bE(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(TE(i))}function EE(s,e){return lg(s.databaseId,e)}function OR(s){const e=bE(s);return e.length===4?lt.emptyPath():TE(e)}function Im(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function TE(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function lv(s,e,i){return{name:Cm(s,e),fields:i.value.mapValue.fields}}function MR(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:be(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(v,T){return v.useProto3Json?($e(T===void 0||typeof T=="string",58123),Qt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(v){const T=v.code===void 0?Z.UNKNOWN:pE(v.code);return new ce(T,v.message||"")})(d);i=new _E(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=am(s,r.document.name),c=Ci(r.document.updateTime),d=r.document.createTime?Ci(r.document.createTime):Ae.min(),p=new Pn({mapValue:{fields:r.document.fields}}),y=Jt.newFoundDocument(l,c,d,p),v=r.targetIds||[],T=r.removedTargetIds||[];i=new Xc(v,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=am(s,r.document),c=r.readTime?Ci(r.readTime):Ae.min(),d=Jt.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Xc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=am(s,r.document),c=r.removedTargetIds||[];i=new Xc([],c,l,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new TR(l,c),p=r.targetId;i=new yE(p,d)}}return i}function VR(s,e){let i;if(e instanceof $l)i={update:lv(s,e.key,e.value)};else if(e instanceof gE)i={delete:Cm(s,e.key)};else if(e instanceof ra)i={update:lv(s,e.key,e.data),updateMask:HR(e.fieldMask)};else{if(!(e instanceof vR))return be(16599,{Vt:e.type});i={verify:Cm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof ch)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof hh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:DR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),i}function jR(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(Ae.min())&&(d=Ci(c)),new pR(d,l.transformResults||[])})(i,e)))):[]}function kR(s,e){return{documents:[EE(s,e.path)]}}function PR(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=EE(s,l);const c=(function(v){if(v.length!==0)return xE(Mi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((T=>(function(D){return{field:Za(D.field),direction:zR(D.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Nm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:l}}function LR(s){let e=OR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){$e(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const D=AE(S);return D instanceof Mi&&Wb(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(J){return new uh(Ja(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,Ih(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(S){const D=!!S.before,L=S.values||[];return new lh(L,D)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const D=!S.before,L=S.values||[];return new lh(L,D)})(i.endAt)),nR(e,l,d,c,p,"F",y,v)}function UR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function AE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ja(i.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ja(i.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ja(i.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ja(i.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ot.create(Ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((r=>AE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function zR(s){return NR[s]}function BR(s){return RR[s]}function qR(s){return CR[s]}function Za(s){return{fieldPath:s.canonicalString()}}function Ja(s){return Yt.fromServerFormat(s.fieldPath)}function xE(s){return s instanceof Ot?(function(i){if(i.op==="=="){if(X0(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NAN"}};if(Q0(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(X0(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NAN"}};if(Q0(i.value))return{unaryFilter:{field:Za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(i.field),op:BR(i.op),value:i.value}}})(s):s instanceof Mi?(function(i){const r=i.getFilters().map((l=>xE(l)));return r.length===1?r[0]:{compositeFilter:{op:qR(i.op),filters:r}}})(s):be(54877,{filter:s})}function HR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function SE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class tr{constructor(e,i,r,l,c=Ae.min(),d=Ae.min(),p=Qt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class FR{constructor(e){this.yt=e}}function GR(s){const e=LR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?wm(e,e.limit,"L"):e}class KR{constructor(){this.Cn=new YR}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(or.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(or.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class YR{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Vt(lt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Vt(lt.comparator)).toArray()}}const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(wE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}const cv="LruGarbageCollector",QR=1048576;function hv([s,e],[i,r]){const l=Pe(s,i);return l===0?Pe(e,r):l}class XR{constructor(e){this.Ir=e,this.buffer=new Vt(hv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();hv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $R{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(cv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?ae(cv,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Vr(3e5)}))}}class ZR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Ch.ce);const r=new XR(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(uv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,c,d,p,y,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),Xa()<=ke.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(v-y)+`ms
Total Duration: ${v-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function JR(s,e){return new ZR(s,e)}class WR{constructor(){this.changes=new sa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class e2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class t2{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Ol(r.mutation,l,Wn.empty(),ut.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Le()){const l=Yr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=xl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Yr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Le())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,l){let c=fs();const d=Dl(),p=(function(){return Dl()})();return i.forEach(((y,v)=>{const T=r.get(v.key);l.has(v.key)&&(T===void 0||T.mutation instanceof ra)?c=c.insert(v.key,v):T!==void 0?(d.set(v.key,T.mutation.getFieldMask()),Ol(T.mutation,v,T.mutation.getFieldMask(),ut.now())):d.set(v.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((v,T)=>d.set(v,T))),i.forEach(((v,T)=>p.set(v,new e2(T,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=Dl();let l=new dt(((d,p)=>d-p)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let T=r.get(y)||Wn.empty();T=p.applyToLocalView(v,T),r.set(y,T);const S=(l.get(p.batchId)||Le()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,T=y.value,S=oE();T.forEach((D=>{if(!c.has(D)){const L=dE(i.get(D),r.get(D));L!==null&&S.set(D,L),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,S))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):iR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):X.resolve(Yr());let p=kl,y=c;return d.next((v=>X.forEach(v,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(e,T).next((D=>{y=y.insert(T,D)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,y,v,Le()))).next((T=>({batchId:p,changes:aE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((r=>{let l=xl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,c).next((p=>X.forEach(p,(y=>{const v=(function(S,D){return new Oh(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,l).next((T=>{T.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((y,v)=>{const T=v.getKey();d.get(T)===null&&(d=d.insert(T,Jt.newInvalidDocument(T)))}));let p=xl();return d.forEach(((y,v)=>{const T=c.get(y);T!==void 0&&Ol(T.mutation,v,Wn.empty(),ut.now()),Vh(i,v)&&(p=p.insert(y,v))})),p}))}}class n2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:GR(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),X.resolve()}}class i2{constructor(){this.overlays=new dt(pe.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Yr();return X.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.St(e,i,c)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const l=Yr(),c=i.length+1,d=new pe(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new dt(((v,T)=>v-T));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let T=c.get(v.largestBatchId);T===null&&(T=Yr(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const p=Yr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,T)=>p.set(v,T))),!(p.size()>=l)););return X.resolve(p)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ER(i,r));let c=this.qr.get(i);c===void 0&&(c=Le(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class s2{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}class ug{constructor(){this.Qr=new Vt(Lt.$r),this.Ur=new Vt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Lt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Lt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new pe(new lt([])),r=new Lt(i,e),l=new Lt(i,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pe(new lt([])),r=new Lt(i,e),l=new Lt(i,e+1);let c=Le();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Lt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pe.comparator(e.key,i.key)||Pe(e.Yr,i.Yr)}static Kr(e,i){return Pe(e.Yr,i.Yr)||pe.comparator(e.key,i.key)}}class r2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Lt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bR(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Lt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Wm:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Lt(i,0),l=new Lt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Vt(Pe);return i.forEach((l=>{const c=new Lt(l,0),d=new Lt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;pe.isDocumentKey(c)||(c=c.child(""));const d=new Lt(new pe(c),0);let p=new Vt(Pe);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){$e(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Lt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Lt(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class a2{constructor(e){this.ri=e,this.docs=(function(){return new dt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(i))}getEntries(e,i){let r=fs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Jt.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=fs();const d=i.path,p=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:T}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||VN(MN(T),r)<=0||(l.has(T.key)||Vh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,r,l){be(9500)}ii(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new o2(this)}getSize(e){return X.resolve(this.size)}}class o2 extends WR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class l2{constructor(e){this.persistence=e,this.si=new sa((i=>ng(i)),ig),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=uo.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new uo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}class NE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new s2,this.referenceDelegate=e(this),this.Pi=new l2(this),this.indexManager=new KR,this.remoteDocumentCache=(function(l){return new a2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new FR(i),this.Ii=new n2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new i2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new r2(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ae("MemoryPersistence","Starting transaction:",e);const l=new u2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class u2 extends kN{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new ug,this.Vi=null}static mi(e){return new cg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=pe.fromPath(r);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.pi=new sa((r=>UN(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=JR(this,i)}static mi(e,i){return new dh(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}br(e,i,r){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=Le(),l=Le();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hg(e,i.fromCache,r,l)}}class c2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class h2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qx()?8:PN(Wt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new c2;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Xa()<=ke.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",$a(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Xa()<=ke.DEBUG&&ae("QueryEngine","Query:",$a(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Xa()<=ke.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",$a(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(i))):X.resolve())}ys(e,i){if(W0(i))return X.resolve(null);let r=Ri(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=wm(i,null,"F"),r=Ri(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Le(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(e,wm(i,null,"F")):this.vs(e,v,i,y)}))))})))))}ws(e,i,r,l){return W0(i)||l.isEqual(Ae.min())?X.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(Xa()<=ke.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(i)),this.vs(e,d,i,ON(l,kl)).next((p=>p)))}))}Ds(e,i){let r=new Vt(sE(e));return i.forEach(((l,c)=>{Vh(e,c)&&(r=r.add(c))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,r){return Xa()<=ke.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",$a(i)),this.ps.getDocumentsMatchingQuery(e,i,or.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const fg="LocalStore",f2=3e8;class d2{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new dt(Pe),this.xs=new sa((c=>ng(c)),ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function m2(s,e,i,r){return new d2(s,e,i,r)}async function RE(s,e){const i=Se(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Le();for(const v of l){d.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}for(const v of c){p.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function g2(s,e){const i=Se(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,T){const S=v.batch,D=S.keys();let L=X.resolve();return D.forEach((J=>{L=L.next((()=>T.getEntry(y,J))).next((ee=>{const $=v.docVersions.get(J);$e($!==null,48541),ee.version.compareTo($)<0&&(S.applyToRemoteDocument(ee,v),ee.isValidDocument()&&(ee.setReadTime(v.commitVersion),T.addEntry(ee)))}))})),L.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Le();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function CE(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function p2(s,e){const i=Se(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const D=l.get(S);if(!D)return;p.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let L=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,r)),l=l.insert(S,L),(function(ee,$,fe){return ee.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=f2?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(D,L,T)&&p.push(i.Pi.updateTargetData(c,L))}));let y=fs(),v=Le();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(y2(c,d,e.documentUpdates).next((T=>{y=T.ks,v=T.qs}))),!r.isEqual(Ae.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function y2(s,e,i){let r=Le(),l=Le();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=fs();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(p,y)):ae(fg,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function _2(s,e){const i=Se(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Wm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function v2(s,e){const i=Se(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new tr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Dm(s,e,i){const r=Se(s),l=r.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;ae(fg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function fv(s,e,i){const r=Se(s);let l=Ae.min(),c=Le();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,T){const S=Se(y),D=S.xs.get(T);return D!==void 0?X.resolve(S.Ms.get(D)):S.Pi.getTargetData(v,T)})(r,d,Ri(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:Ae.min(),i?c:Le()))).next((p=>(b2(r,rR(e),p),{documents:p,Qs:c})))))}function b2(s,e,i){let r=s.Os.get(e)||Ae.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class dv{constructor(){this.activeTargetIds=hR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E2{constructor(){this.Mo=new dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dv,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class T2{Oo(e){}shutdown(){}}const mv="ConnectivityMonitor";class gv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(mv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(mv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Om(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const om="RestConnection",A2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===ah?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,c){const d=Om(),p=this.zo(e,i.toUriEncodedString());ae(om,`Sending RPC '${e}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:v}=new URL(p),T=ds(v);return this.Jo(e,p,y,r,T).then((S=>(ae(om,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw ro(om,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,i,r,l,c,d){return this.Go(e,i,r,l,c)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const r=A2[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class S2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class w2 extends x2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,c){const d=Om();return new Promise(((p,y)=>{const v=new Ob;v.setWithCredentials(!0),v.listenOnce(Mb.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Gc.NO_ERROR:const S=v.getResponseJson();ae($t,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case Gc.TIMEOUT:ae($t,`RPC '${e}' ${d} timed out`),y(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const D=v.getStatus();if(ae($t,`RPC '${e}' ${d} failed with status:`,D,"response text:",v.getResponseText()),D>0){let L=v.getResponseJson();Array.isArray(L)&&(L=L[0]);const J=L?.error;if(J&&J.status&&J.message){const ee=(function(fe){const _e=fe.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(_e)>=0?_e:Z.UNKNOWN})(J.status);y(new ce(ee,J.message))}else y(new ce(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ae($t,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);ae($t,`RPC '${e}' ${d} sending request:`,l),v.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Om(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=kb(),p=jb(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const T=c.join("");ae($t,`Creating RPC '${e}' stream ${l}: ${T}`,y);const S=d.createWebChannel(T,y);this.I_(S);let D=!1,L=!1;const J=new S2({Yo:$=>{L?ae($t,`Not sending because RPC '${e}' stream ${l} is closed:`,$):(D||(ae($t,`Opening RPC '${e}' stream ${l} transport.`),S.open(),D=!0),ae($t,`RPC '${e}' stream ${l} sending:`,$),S.send($))},Zo:()=>S.close()}),ee=($,fe,_e)=>{$.listen(fe,(de=>{try{_e(de)}catch(Ee){setTimeout((()=>{throw Ee}),0)}}))};return ee(S,Al.EventType.OPEN,(()=>{L||(ae($t,`RPC '${e}' stream ${l} transport opened.`),J.o_())})),ee(S,Al.EventType.CLOSE,(()=>{L||(L=!0,ae($t,`RPC '${e}' stream ${l} transport closed`),J.a_(),this.E_(S))})),ee(S,Al.EventType.ERROR,($=>{L||(L=!0,ro($t,`RPC '${e}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),ee(S,Al.EventType.MESSAGE,($=>{if(!L){const fe=$.data[0];$e(!!fe,16349);const _e=fe,de=_e?.error||_e[0]?.error;if(de){ae($t,`RPC '${e}' stream ${l} received error:`,de);const Ee=de.status;let He=(function(x){const N=Ct[x];if(N!==void 0)return pE(N)})(Ee),we=de.message;He===void 0&&(He=Z.INTERNAL,we="Unknown error status: "+Ee+" with message "+de.message),L=!0,J.a_(new ce(He,we)),S.close()}else ae($t,`RPC '${e}' stream ${l} received:`,fe),J.u_(fe)}})),ee(p,Vb.STAT_EVENT,($=>{$.stat===bm.PROXY?ae($t,`RPC '${e}' stream ${l} detected buffering proxy`):$.stat===bm.NOPROXY&&ae($t,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function lm(){return typeof document<"u"?document:null}function Lh(s){return new IR(s,!0)}class IE{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const pv="PersistentStream";class DE{constructor(e,i,r,l,c,d,p,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ce(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(pv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ae(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N2 extends DE{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=MR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Ci(d.readTime):Ae.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Im(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Sm(y)?{documents:kR(c,y)}:{query:PR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=vE(c,d.resumeToken);const v=Nm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=fh(c,d.snapshotVersion.toTimestamp());const v=Nm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=UR(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Im(this.serializer),i.removeTarget=e,this.q_(i)}}class R2 extends DE{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=jR(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Im(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>VR(this.serializer,r)))};this.q_(i)}}class C2{}class I2 extends C2{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Rm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Z.UNKNOWN,c.toString())}))}Ho(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Rm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class D2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class O2{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{aa(this)&&(ae(ea,"Restarting streams for network reachability change."),await(async function(y){const v=Se(y);v.Ea.add(4),await Jl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Uh(v)})(this))}))})),this.Ra=new D2(r,l)}}async function Uh(s){if(aa(s))for(const e of s.da)await e(!0)}async function Jl(s){for(const e of s.da)await e(!1)}function OE(s,e){const i=Se(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pg(i)?gg(i):yo(i).O_()&&mg(i,e))}function dg(s,e){const i=Se(s),r=yo(i);i.Ia.delete(e),r.O_()&&ME(i,e),i.Ia.size===0&&(r.O_()?r.L_():aa(i)&&i.Ra.set("Unknown"))}function mg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}yo(s).Y_(e)}function ME(s,e){s.Va.Ue(e),yo(s).Z_(e)}function gg(s){s.Va=new wR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),yo(s).start(),s.Ra.ua()}function pg(s){return aa(s)&&!yo(s).x_()&&s.Ia.size>0}function aa(s){return Se(s).Ea.size===0}function VE(s){s.Va=void 0}async function M2(s){s.Ra.set("Online")}async function V2(s){s.Ia.forEach(((e,i)=>{mg(s,e)}))}async function j2(s,e){VE(s),pg(s)?(s.Ra.ha(e),gg(s)):s.Ra.set("Unknown")}async function k2(s,e,i){if(s.Ra.set("Online"),e instanceof _E&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){ae(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mh(s,r)}else if(e instanceof Xc?s.Va.Ze(e):e instanceof yE?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ae.min()))try{const r=await CE(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(v);T&&c.Ia.set(v,T.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),ME(c,y);const S=new tr(T.target,y,v,T.sequenceNumber);mg(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ae(ea,"Failed to raise snapshot:",r),await mh(s,r)}}async function mh(s,e,i){if(!po(e))throw e;s.Ea.add(1),await Jl(s),s.Ra.set("Offline"),i||(i=()=>CE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(ea,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Uh(s)}))}function jE(s,e){return e().catch((i=>mh(s,i,e)))}async function zh(s){const e=Se(s),i=hr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Wm;for(;P2(e);)try{const l=await _2(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,L2(e,l)}catch(l){await mh(e,l)}kE(e)&&PE(e)}function P2(s){return aa(s)&&s.Ta.length<10}function L2(s,e){s.Ta.push(e);const i=hr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function kE(s){return aa(s)&&!hr(s).x_()&&s.Ta.length>0}function PE(s){hr(s).start()}async function U2(s){hr(s).ra()}async function z2(s){const e=hr(s);for(const i of s.Ta)e.ea(i.mutations)}async function B2(s,e,i){const r=s.Ta.shift(),l=ag.from(r,e,i);await jE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await zh(s)}async function q2(s,e){e&&hr(s).X_&&await(async function(r,l){if((function(d){return AR(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();hr(r).B_(),await jE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await zh(r)}})(s,e),kE(s)&&PE(s)}async function yv(s,e){const i=Se(s);i.asyncQueue.verifyOperationInProgress(),ae(ea,"RemoteStore received new credentials");const r=aa(i);i.Ea.add(3),await Jl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Uh(i)}async function H2(s,e){const i=Se(s);e?(i.Ea.delete(2),await Uh(i)):e||(i.Ea.add(2),await Jl(i),i.Ra.set("Unknown"))}function yo(s){return s.ma||(s.ma=(function(i,r,l){const c=Se(i);return c.sa(),new N2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:M2.bind(null,s),t_:V2.bind(null,s),r_:j2.bind(null,s),H_:k2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),pg(s)?gg(s):s.Ra.set("Unknown")):(await s.ma.stop(),VE(s))}))),s.ma}function hr(s){return s.fa||(s.fa=(function(i,r,l){const c=Se(i);return c.sa(),new R2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:U2.bind(null,s),r_:q2.bind(null,s),ta:z2.bind(null,s),na:B2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class yg{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,p=new yg(e,i,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(s,e){if(hs("AsyncQueue",`${e}: ${s}`),po(s))return new ce(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pe.comparator(i.key,r.key):(i,r)=>pe.comparator(i.key,r.key),this.keyedMap=xl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class _v{constructor(){this.ga=new dt(pe.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class co{constructor(e,i,r,l,c,d,p,y,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new co(e,i,io.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class F2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class G2{constructor(){this.queries=vv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Se(i),c=l.queries;l.queries=vv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function vv(){return new sa((s=>iE(s)),Mh)}async function LE(s,e){const i=Se(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new F2,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=_g(d,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&vg(i)}async function UE(s,e){const i=Se(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function K2(s,e){const i=Se(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&vg(i)}function Y2(s,e,i){const r=Se(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(e)}function vg(s){s.Ca.forEach((e=>{e.next()}))}var Mm,bv;(bv=Mm||(Mm={})).Ma="default",bv.Cache="cache";class zE{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}class BE{constructor(e){this.key=e}}class qE{constructor(e){this.key=e}}class Q2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=sE(e),this.tu=new io(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new _v,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const D=l.get(T),L=Vh(this.query,S)?S:null,J=!!D&&this.mutatedKeys.has(D.key),ee=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let $=!1;D&&L?D.data.isEqual(L.data)?J!==ee&&(r.track({type:3,doc:L}),$=!0):this.su(D,L)||(r.track({type:2,doc:L}),$=!0,(y&&this.eu(L,y)>0||v&&this.eu(L,v)<0)&&(p=!0)):!D&&L?(r.track({type:0,doc:L}),$=!0):D&&!L&&(r.track({type:1,doc:D}),$=!0,(y||v)&&(p=!0)),$&&(L?(d=d.add(L),c=ee?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(L,J){const ee=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:$})}};return ee(L)-ee(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new co(this.query,e.tu,c,d,e.mutatedKeys,y===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new qE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new BE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Le();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bg="SyncEngine";class X2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class $2{constructor(e){this.key=e,this.hu=!1}}class Z2{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>iE(p)),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new dt(pe.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J2(s,e,i=!0){const r=QE(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await HE(r,e,i,!0),l}async function W2(s,e){const i=QE(s);await HE(i,e,!0,!1)}async function HE(s,e,i,r){const l=await v2(s.localStore,Ri(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await eC(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&OE(s.remoteStore,l),p}async function eC(s,e,i,r,l){s.pu=(S,D,L)=>(async function(ee,$,fe,_e){let de=$.view.ru(fe);de.Cs&&(de=await fv(ee.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,de))));const Ee=_e&&_e.targetChanges.get($.targetId),He=_e&&_e.targetMismatches.get($.targetId)!=null,we=$.view.applyChanges(de,ee.isPrimaryClient,Ee,He);return Tv(ee,$.targetId,we.au),we.snapshot})(s,S,D,L);const c=await fv(s.localStore,e,!0),d=new Q2(e,c.Qs),p=d.ru(c.documents),y=Zl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),v=d.applyChanges(p,s.isPrimaryClient,y);Tv(s,i,v.au);const T=new X2(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function tC(s,e,i){const r=Se(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Mh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&dg(r.remoteStore,l.targetId),Vm(r,l.targetId)})).catch(go)):(Vm(r,l.targetId),await Dm(r.localStore,l.targetId,!0))}async function nC(s,e){const i=Se(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),dg(i.remoteStore,r.targetId))}async function iC(s,e,i){const r=cC(s);try{const l=await(function(d,p){const y=Se(d),v=ut.now(),T=p.reduce(((L,J)=>L.add(J.key)),Le());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let J=fs(),ee=Le();return y.Ns.getEntries(L,T).next(($=>{J=$,J.forEach(((fe,_e)=>{_e.isValidDocument()||(ee=ee.add(fe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(L,J))).next(($=>{S=$;const fe=[];for(const _e of p){const de=_R(_e,S.get(_e.key).overlayedDocument);de!=null&&fe.push(new ra(_e.key,de,$b(de.value.mapValue),os.exists(!0)))}return y.mutationQueue.addMutationBatch(L,v,fe,p)})).next(($=>{D=$;const fe=$.applyToLocalDocumentSet(S,ee);return y.documentOverlayCache.saveOverlays(L,$.batchId,fe)}))})).then((()=>({batchId:D.batchId,changes:aE(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new dt(Pe)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(r,l.batchId,i),await Wl(r,l.changes),await zh(r.remoteStore)}catch(l){const c=_g(l,"Failed to persist write");i.reject(c)}}async function FE(s,e){const i=Se(s);try{const r=await p2(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$e(d.hu,14607):l.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await Wl(i,r,e)}catch(r){await go(r)}}function Ev(s,e,i){const r=Se(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=Se(d);y.onlineState=p;let v=!1;y.queries.forEach(((T,S)=>{for(const D of S.Sa)D.va(p)&&(v=!0)})),v&&vg(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sC(s,e,i){const r=Se(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new dt(pe.comparator);d=d.insert(c,Jt.newNoDocument(c,Ae.min()));const p=Le().add(c),y=new Ph(Ae.min(),new Map,new dt(Pe),d,p);await FE(r,y),r.du=r.du.remove(c),r.Au.delete(e),Eg(r)}else await Dm(r.localStore,e,!1).then((()=>Vm(r,e,i))).catch(go)}async function rC(s,e){const i=Se(s),r=e.batch.batchId;try{const l=await g2(i.localStore,e);KE(i,r,null),GE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Wl(i,l)}catch(l){await go(l)}}async function aC(s,e,i){const r=Se(s);try{const l=await(function(d,p){const y=Se(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return y.mutationQueue.lookupMutationBatch(v,p).next((S=>($e(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(v,S)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,T,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>y.localDocuments.getDocuments(v,T)))}))})(r.localStore,e);KE(r,e,i),GE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Wl(r,l)}catch(l){await go(l)}}function GE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function KE(s,e,i){const r=Se(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||YE(s,r)}))}function YE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(dg(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Eg(s))}function Tv(s,e,i){for(const r of i)r instanceof BE?(s.Ru.addReference(r.key,e),oC(s,r)):r instanceof qE?(ae(bg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||YE(s,r.key)):be(19791,{wu:r})}function oC(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ae(bg,"New document in limbo: "+i),s.Eu.add(r),Eg(s))}function Eg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(lt.fromString(e)),r=s.fu.next();s.Au.set(r,new $2(i)),s.du=s.du.insert(i,r),OE(s.remoteStore,new tr(Ri(sg(i.path)),r,"TargetPurposeLimboResolution",Ch.ce))}}async function Wl(s,e,i){const r=Se(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,e,i).then((v=>{if((v||i)&&r.isPrimaryClient){const T=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(v){l.push(v);const T=hg.As(y.targetId,v);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,v){const T=Se(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(v,(D=>X.forEach(D.Es,(L=>T.persistence.referenceDelegate.addReference(S,D.targetId,L))).next((()=>X.forEach(D.ds,(L=>T.persistence.referenceDelegate.removeReference(S,D.targetId,L)))))))))}catch(S){if(!po(S))throw S;ae(fg,"Failed to update sequence numbers: "+S)}for(const S of v){const D=S.targetId;if(!S.fromCache){const L=T.Ms.get(D),J=L.snapshotVersion,ee=L.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(D,ee)}}})(r.localStore,c))}async function lC(s,e){const i=Se(s);if(!i.currentUser.isEqual(e)){ae(bg,"User change. New user:",e.toKey());const r=await RE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ce(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wl(i,r.Ls)}}function uC(s,e){const i=Se(s),r=i.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let l=Le();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function QE(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=FE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sC.bind(null,e),e.Pu.H_=K2.bind(null,e.eventManager),e.Pu.yu=Y2.bind(null,e.eventManager),e}function cC(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aC.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return m2(this.persistence,new h2,e.initialUser,this.serializer)}Cu(e){return new NE(cg.mi,this.serializer)}Du(e){return new E2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class hC extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$e(this.persistence.referenceDelegate instanceof dh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $R(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new NE((r=>dh.mi(r,i)),this.serializer)}}class jm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ev(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lC.bind(null,this.syncEngine),await H2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G2})()}createDatastore(e){const i=Lh(e.databaseInfo.databaseId),r=(function(c){return new w2(c)})(e.databaseInfo);return(function(c,d,p,y){return new I2(c,d,p,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,p){return new O2(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>Ev(this.syncEngine,i,0)),(function(){return gv.v()?new gv:new T2})())}createSyncEngine(e,i){return(function(l,c,d,p,y,v,T){const S=new Z2(l,c,d,p,y,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Se(i);ae(ea,"RemoteStore shutting down."),r.Ea.add(5),await Jl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};class XE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const fr="FirestoreClient";class fC{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Zt.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ae(fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ae(fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=_g(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function um(s,e){s.asyncQueue.verifyOperationInProgress(),ae(fr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await RE(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Av(s,e){s.asyncQueue.verifyOperationInProgress();const i=await dC(s);ae(fr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>yv(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>yv(e.remoteStore,l))),s._onlineComponents=e}async function dC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(fr,"Using user provided OfflineComponentProvider");try{await um(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ro("Error using user provided cache. Falling back to memory cache: "+i),await um(s,new gh)}}else ae(fr,"Using default OfflineComponentProvider"),await um(s,new hC(void 0));return s._offlineComponents}async function $E(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(fr,"Using user provided OnlineComponentProvider"),await Av(s,s._uninitializedComponentsProvider._online)):(ae(fr,"Using default OnlineComponentProvider"),await Av(s,new jm))),s._onlineComponents}function mC(s){return $E(s).then((e=>e.syncEngine))}async function ZE(s){const e=await $E(s),i=e.eventManager;return i.onListen=J2.bind(null,e.syncEngine),i.onUnlisten=tC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=W2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=nC.bind(null,e.syncEngine),i}function gC(s,e,i={}){const r=new as;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,v){const T=new XE({next:D=>{T.Nu(),d.enqueueAndForget((()=>UE(c,S)));const L=D.docs.has(p);!L&&D.fromCache?v.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&D.fromCache&&y&&y.source==="server"?v.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(D)},error:D=>v.reject(D)}),S=new zE(sg(p.path),T,{includeMetadataChanges:!0,qa:!0});return LE(c,S)})(await ZE(s),s.asyncQueue,e,i,r))),r.promise}function pC(s,e,i={}){const r=new as;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,v){const T=new XE({next:D=>{T.Nu(),d.enqueueAndForget((()=>UE(c,S))),D.fromCache&&y.source==="server"?v.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(D)},error:D=>v.reject(D)}),S=new zE(p,T,{includeMetadataChanges:!0,qa:!0});return LE(c,S)})(await ZE(s),s.asyncQueue,e,i,r))),r.promise}function JE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const xv=new Map;const WE="firestore.googleapis.com",Sv=!0;class wv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WE,this.ssl=Sv}else this.host=e.host,this.ssl=e.ssl??Sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QR)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new EN;switch(r.type){case"firstParty":return new SN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=xv.get(i);r&&(ae("ComponentProvider","Removing Datastore"),xv.delete(i),r.terminate())})(this),Promise.resolve()}}function yC(s,e,i,r={}){s=Wr(s,Bh);const l=ds(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Ah(`https://${p}`),xh("Firestore",!0)),c.host!==WE&&c.host!==p&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!Xr(y,d)&&(s._setSettings(y),r.mockUserToken)){let v,T;if(typeof r.mockUserToken=="string")v=r.mockUserToken,T=Zt.MOCK_USER;else{v=Gv(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(S)}s._authCredentials=new TN(new Lb(v,T))}}class qh{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qh(this.firestore,e,this._query)}}class Mt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Xl(i,Mt._jsonSchema))return new Mt(e,r||null,new pe(lt.fromString(i.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:It("string",Mt._jsonSchemaVersion),referencePath:It("string")};class rr extends qh{constructor(e,i,r){super(e,i,sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new pe(e))}withConverter(e){return new rr(this.firestore,e,this._path)}}function _C(s,e,...i){if(s=Ut(s),Ub("collection","path",e),s instanceof Bh){const r=lt.fromString(e,...i);return z0(r),new rr(s,null,r)}{if(!(s instanceof Mt||s instanceof rr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(lt.fromString(e,...i));return z0(r),new rr(s.firestore,null,r)}}function km(s,e,...i){if(s=Ut(s),arguments.length===1&&(e=Zm.newId()),Ub("doc","path",e),s instanceof Bh){const r=lt.fromString(e,...i);return U0(r),new Mt(s,null,new pe(r))}{if(!(s instanceof Mt||s instanceof rr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(lt.fromString(e,...i));return U0(r),new Mt(s.firestore,s instanceof rr?s.converter:null,new pe(r))}}const Nv="AsyncQueue";class Rv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IE(this,"async_queue_retry"),this._c=()=>{const r=lm();r&&ae(Nv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=lm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=lm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!po(e))throw e;ae(Nv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",Cv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=yg.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&be(47125,{Pc:Cv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Cv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Hh extends Bh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new Rv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rv(e),this._firestoreClient=void 0,await e}}}function vC(s,e){const i=typeof s=="object"?s:Sh(),r=typeof s=="string"?s:ah,l=Fl(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Um("firestore");c&&yC(l,...c)}return l}function Tg(s){if(s._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||bC(s),s._firestoreClient}function bC(s){const e=s._freezeSettings(),i=(function(l,c,d,p){return new qN(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,JE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new fC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Qt.fromBase64String(e))}catch(i){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xl(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:It("string",Ln._jsonSchemaVersion),bytes:It("string")};class Ag{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class eT{constructor(e){this._methodName=e}}class Ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(Xl(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:It("string",Ii._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class Di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xl(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Di(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:It("string",Di._jsonSchemaVersion),vectorValues:It("object")};const EC=/^__.*__$/;class TC{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}function tT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:s})}}class xg{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tT(this.Ac)&&EC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AC{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Lh(e)}Cc(e,i,r,l=!1){return new xg({Ac:e,methodName:i,Dc:r,path:Yt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xC(s){const e=s._freezeSettings(),i=Lh(s._databaseId);return new AC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function SC(s,e,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);rT("Data must be an object, but it was:",d,r);const p=iT(r,d);let y,v;if(c.merge)y=new Wn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const D=wC(e,S,i);if(!d.contains(D))throw new ce(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);RC(T,D)||T.push(D)}y=new Wn(T),v=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,v=d.fieldTransforms;return new TC(new Pn(p),y,v)}function nT(s,e){if(sT(s=Ut(s)))return rT("Unsupported field value:",e,s),iT(s,e);if(s instanceof eT)return(function(r,l){if(!tT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=nT(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ut.fromDate(r);return{timestampValue:fh(l.serializer,c)}}if(r instanceof ut){const c=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(l.serializer,c)}}if(r instanceof Ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:vE(l.serializer,r._byteString)};if(r instanceof Mt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Di)return(function(d,p){return{mapValue:{fields:{[Qb]:{stringValue:Xb},[oh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return rg(p.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Jm(r)}`)})(s,e)}function iT(s,e){const i={};return qb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(s,((r,l)=>{const c=nT(l,e.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function sT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ut||s instanceof Ii||s instanceof Ln||s instanceof Mt||s instanceof eT||s instanceof Di)}function rT(s,e,i){if(!sT(i)||!zb(i)){const r=Jm(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function wC(s,e,i){if((e=Ut(e))instanceof Ag)return e._internalPath;if(typeof e=="string")return aT(s,e);throw ph("Field path arguments must be of type string or ",s,!1,void 0,i)}const NC=new RegExp("[~\\*/\\[\\]]");function aT(s,e,i){if(e.search(NC)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ag(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ph(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ce(Z.INVALID_ARGUMENT,p+s+y)}function RC(s,e){return s.some((i=>i.isEqual(e)))}class oT{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(lT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CC extends oT{data(){return super.data()}}function lT(s,e){return typeof e=="string"?aT(s,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}function IC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DC{convertValue(e,i="none"){switch(cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return ia(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){const i=e.fields?.[oh].arrayValue?.values?.map((r=>bt(r.doubleValue)));return new Di(i)}convertGeoPoint(e){return new Ii(bt(e.latitude),bt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Dh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const i=lr(e);return new ut(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=lt.fromString(e);$e(SE(r),9688,{name:e});const l=new Ll(r.get(1),r.get(3)),c=new pe(r.popFirst(5));return l.isEqual(i)||hs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function OC(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class wl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qr extends oT{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(lT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:It("string",Qr._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class $c extends Qr{data(e={}){return super.data(e)}}class so{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new $c(this._firestore,this._userDataWriter,r.key,r,new wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new $c(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,T=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:MC(p.type),doc:y,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}function uT(s){s=Wr(s,Mt);const e=Wr(s.firestore,Hh);return gC(Tg(e),s._key).then((i=>PC(e,s,i)))}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:It("string",so._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class cT extends DC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,i)}}function VC(s){s=Wr(s,qh);const e=Wr(s.firestore,Hh),i=Tg(e),r=new cT(e);return IC(s._query),pC(i,s._query).then((l=>new so(e,r,s,l)))}function jC(s,e,i){s=Wr(s,Mt);const r=Wr(s.firestore,Hh),l=OC(s.converter,e);return kC(r,[SC(xC(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,os.none())])}function kC(s,e){return(function(r,l){const c=new as;return r.asyncQueue.enqueueAndForget((async()=>iC(await mC(r),l,c))),c.promise})(Tg(s),e)}function PC(s,e,i){const r=i.docs.get(e._key),l=new cT(s);return new Qr(s,l,e._key,r,new wl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){mo=l})(ta),ar(new ls("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Hh(new AN(r.getProvider("auth-internal")),new wN(d,r.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(v.options.projectId,T)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Un(j0,k0,e),Un(j0,k0,"esm2020")})();var LC="firebase",UC="12.7.0";Un(LC,UC,"app");const hT="firebasestorage.googleapis.com",zC="storageBucket",BC=120*1e3,qC=600*1e3;class ji extends ii{constructor(e,i,r=0){super(cm(e),`Firebase Storage: ${i} (${cm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ji.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vi;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vi||(Vi={}));function cm(s){return"storage/"+s}function HC(){const s="An unknown error occurred, please check the error payload for server response.";return new ji(Vi.UNKNOWN,s)}function FC(){return new ji(Vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GC(){return new ji(Vi.CANCELED,"User canceled the upload/download.")}function KC(s){return new ji(Vi.INVALID_URL,"Invalid URL '"+s+"'.")}function YC(s){return new ji(Vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Iv(s){return new ji(Vi.INVALID_ARGUMENT,s)}function fT(){return new ji(Vi.APP_DELETED,"The Firebase app was deleted.")}function QC(s){return new ji(Vi.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ei{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let r;try{r=ei.makeFromUrl(e,i)}catch{return new ei(e,"")}if(r.path==="")return r;throw YC(e)}static makeFromUrl(e,i){let r=null;const l="([A-Za-z0-9.\\-_]+)";function c(Ee){Ee.path.charAt(Ee.path.length-1)==="/"&&(Ee.path_=Ee.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+l+d,"i"),y={bucket:1,path:3};function v(Ee){Ee.path_=decodeURIComponent(Ee.path)}const T="v[A-Za-z0-9_]+",S=i.replace(/[.]/g,"\\."),D="(/([^?#]*).*)?$",L=new RegExp(`^https?://${S}/${T}/b/${l}/o${D}`,"i"),J={bucket:1,path:3},ee=i===hT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,$="([^?#]*)",fe=new RegExp(`^https?://${ee}/${l}/${$}`,"i"),de=[{regex:p,indices:y,postModify:c},{regex:L,indices:J,postModify:v},{regex:fe,indices:{bucket:1,path:2},postModify:v}];for(let Ee=0;Ee<de.length;Ee++){const He=de[Ee],we=He.regex.exec(e);if(we){const I=we[He.indices.bucket];let x=we[He.indices.path];x||(x=""),r=new ei(I,x),He.postModify(r);break}}if(r==null)throw KC(e);return r}}class XC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $C(s,e,i){let r=1,l=null,c=null,d=!1,p=0;function y(){return p===2}let v=!1;function T(...$){v||(v=!0,e.apply(null,$))}function S($){l=setTimeout(()=>{l=null,s(L,y())},$)}function D(){c&&clearTimeout(c)}function L($,...fe){if(v){D();return}if($){D(),T.call(null,$,...fe);return}if(y()||d){D(),T.call(null,$,...fe);return}r<64&&(r*=2);let de;p===1?(p=2,de=0):de=(r+Math.random())*1e3,S(de)}let J=!1;function ee($){J||(J=!0,D(),!v&&(l!==null?($||(p=2),clearTimeout(l),S(0)):$||(p=1)))}return S(0),c=setTimeout(()=>{d=!0,ee(!0)},i),ee}function ZC(s){s(!1)}function JC(s){return s!==void 0}function Dv(s,e,i,r){if(r<e)throw Iv(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>i)throw Iv(`Invalid value for '${s}'. Expected ${i} or less.`)}function WC(s){const e=encodeURIComponent;let i="?";for(const r in s)if(s.hasOwnProperty(r)){const l=e(r)+"="+e(s[r]);i=i+l+"&"}return i=i.slice(0,-1),i}var yh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(yh||(yh={}));function eI(s,e){const i=s>=500&&s<600,l=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return i||l||c}class tI{constructor(e,i,r,l,c,d,p,y,v,T,S,D=!0,L=!1){this.url_=e,this.method_=i,this.headers_=r,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=y,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=S,this.retry=D,this.isUsingEmulator=L,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((J,ee)=>{this.resolve_=J,this.reject_=ee,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new Lc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const y=p.loaded,v=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,v)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===yh.NO_ERROR,y=c.getStatus();if(!p||eI(y,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===yh.ABORT;r(!1,new Lc(!1,null,T));return}const v=this.successCodes_.indexOf(y)!==-1;r(!0,new Lc(v,c))})},i=(r,l)=>{const c=this.resolve_,d=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());JC(y)?c(y):c()}catch(y){d(y)}else if(p!==null){const y=HC();y.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,y)):d(y)}else if(l.canceled){const y=this.appDelete_?fT():GC();d(y)}else{const y=FC();d(y)}};this.canceled_?i(!1,new Lc(!1,null,!0)):this.backoffId_=$C(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lc{constructor(e,i,r){this.wasSuccessCode=e,this.connection=i,this.canceled=!!r}}function nI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function iI(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sI(s,e){e&&(s["X-Firebase-GMPID"]=e)}function rI(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function aI(s,e,i,r,l,c,d=!0,p=!1){const y=WC(s.urlParams),v=s.url+y,T=Object.assign({},s.headers);return sI(T,e),nI(T,i),iI(T,c),rI(T,r),new tI(v,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,l,d,p)}function oI(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function lI(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}class _h{constructor(e,i){this._service=e,i instanceof ei?this._location=i:this._location=ei.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new _h(e,i)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lI(this._location.path)}get storage(){return this._service}get parent(){const e=oI(this._location.path);if(e===null)return null;const i=new ei(this._location.bucket,e);return new _h(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw QC(e)}}function Ov(s,e){const i=e?.[zC];return i==null?null:ei.makeFromBucketSpec(i,s)}function uI(s,e,i,r={}){s.host=`${e}:${i}`;const l=ds(e);l&&(Ah(`https://${s.host}/b`),xh("Storage",!0)),s._isUsingEmulator=!0,s._protocol=l?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:Gv(c,s.app.options.projectId))}class cI{constructor(e,i,r,l,c,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=r,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=hT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BC,this._maxUploadRetryTime=qC,this._requests=new Set,l!=null?this._bucket=ei.makeFromBucketSpec(l,this._host):this._bucket=Ov(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=Ov(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _h(this,e)}_makeRequest(e,i,r,l,c=!0){if(this._deleted)return new XC(fT());{const d=aI(e,this._appId,r,l,i,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,r,l).getPromise()}}const Mv="@firebase/storage",Vv="0.14.0";const dT="storage";function hI(s=Sh(),e){s=Ut(s);const r=Fl(s,dT).getImmediate({identifier:e}),l=Um("storage");return l&&fI(r,...l),r}function fI(s,e,i,r={}){uI(s,e,i,r)}function dI(s,{instanceIdentifier:e}){const i=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),l=s.getProvider("app-check-internal");return new cI(i,r,l,e,ta)}function mI(){ar(new ls(dT,dI,"PUBLIC").setMultipleInstances(!0)),Un(Mv,Vv,""),Un(Mv,Vv,"esm2020")}mI();const gI="type.googleapis.com/google.protobuf.Int64Value",pI="type.googleapis.com/google.protobuf.UInt64Value";function mT(s,e){const i={};for(const r in s)s.hasOwnProperty(r)&&(i[r]=e(s[r]));return i}function vh(s){if(s==null)return null;if(s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&isFinite(s)||s===!0||s===!1||Object.prototype.toString.call(s)==="[object String]")return s;if(s instanceof Date)return s.toISOString();if(Array.isArray(s))return s.map(e=>vh(e));if(typeof s=="function"||typeof s=="object")return mT(s,e=>vh(e));throw new Error("Data cannot be encoded in JSON: "+s)}function ho(s){if(s==null)return s;if(s["@type"])switch(s["@type"]){case gI:case pI:{const e=Number(s.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+s);return e}default:throw new Error("Data cannot be decoded from JSON: "+s)}return Array.isArray(s)?s.map(e=>ho(e)):typeof s=="function"||typeof s=="object"?mT(s,e=>ho(e)):s}const Sg="functions";const jv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dn extends ii{constructor(e,i,r){super(`${Sg}/${e}`,i||""),this.details=r,Object.setPrototypeOf(this,dn.prototype)}}function yI(s){if(s>=200&&s<300)return"ok";switch(s){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function bh(s,e){let i=yI(s),r=i,l;try{const c=e&&e.error;if(c){const d=c.status;if(typeof d=="string"){if(!jv[d])return new dn("internal","internal");i=jv[d],r=d}const p=c.message;typeof p=="string"&&(r=p),l=c.details,l!==void 0&&(l=ho(l))}}catch{}return i==="ok"?null:new dn(i,r,l)}class _I{constructor(e,i,r,l){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,fn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=i.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||i.get().then(c=>this.auth=c,()=>{}),this.messaging||r.get().then(c=>this.messaging=c,()=>{}),this.appCheck||l?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const i=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return i.error?null:i.token}return null}async getContext(e){const i=await this.getAuthToken(),r=await this.getMessagingToken(),l=await this.getAppCheckToken(e);return{authToken:i,messagingToken:r,appCheckToken:l}}}const Pm="us-central1",vI=/^data: (.*?)(?:\n|$)/;function bI(s){let e=null;return{promise:new Promise((i,r)=>{e=setTimeout(()=>{r(new dn("deadline-exceeded","deadline-exceeded"))},s)}),cancel:()=>{e&&clearTimeout(e)}}}class EI{constructor(e,i,r,l,c=Pm,d=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new _I(e,i,r,l),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(c);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=Pm}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(e){const i=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${i}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${i}.cloudfunctions.net/${e}`}}function TI(s,e,i){const r=ds(e);s.emulatorOrigin=`http${r?"s":""}://${e}:${i}`,r&&(Ah(s.emulatorOrigin+"/backends"),xh("Functions",!0))}function AI(s,e,i){const r=l=>SI(s,e,l,{});return r.stream=(l,c)=>NI(s,e,l,c),r}function gT(s){return s.emulatorOrigin&&ds(s.emulatorOrigin)?"include":void 0}async function xI(s,e,i,r,l){i["Content-Type"]="application/json";let c;try{c=await r(s,{method:"POST",body:JSON.stringify(e),headers:i,credentials:gT(l)})}catch{return{status:0,json:null}}let d=null;try{d=await c.json()}catch{}return{status:c.status,json:d}}async function pT(s,e){const i={},r=await s.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(i.Authorization="Bearer "+r.authToken),r.messagingToken&&(i["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=r.appCheckToken),i}function SI(s,e,i,r){const l=s._url(e);return wI(s,l,i,r)}async function wI(s,e,i,r){i=vh(i);const l={data:i},c=await pT(s,r),d=r.timeout||7e4,p=bI(d),y=await Promise.race([xI(e,l,c,s.fetchImpl,s),p.promise,s.cancelAllRequests]);if(p.cancel(),!y)throw new dn("cancelled","Firebase Functions instance was deleted.");const v=bh(y.status,y.json);if(v)throw v;if(!y.json)throw new dn("internal","Response is not valid JSON object.");let T=y.json.data;if(typeof T>"u"&&(T=y.json.result),typeof T>"u")throw new dn("internal","Response is missing data field.");return{data:ho(T)}}function NI(s,e,i,r){const l=s._url(e);return RI(s,l,i,r||{})}async function RI(s,e,i,r){i=vh(i);const l={data:i},c=await pT(s,r);c["Content-Type"]="application/json",c.Accept="text/event-stream";let d;try{d=await s.fetchImpl(e,{method:"POST",body:JSON.stringify(l),headers:c,signal:r?.signal,credentials:gT(s)})}catch(D){if(D instanceof Error&&D.name==="AbortError"){const J=new dn("cancelled","Request was cancelled.");return{data:Promise.reject(J),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(J)}}}}}}const L=bh(0,null);return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}let p,y;const v=new Promise((D,L)=>{p=D,y=L});r?.signal?.addEventListener("abort",()=>{const D=new dn("cancelled","Request was cancelled.");y(D)});const T=d.body.getReader(),S=CI(T,p,y,r?.signal);return{stream:{[Symbol.asyncIterator](){const D=S.getReader();return{async next(){const{value:L,done:J}=await D.read();return{value:L,done:J}},async return(){return await D.cancel(),{done:!0,value:void 0}}}}},data:v}}function CI(s,e,i,r){const l=(d,p)=>{const y=d.match(vI);if(!y)return;const v=y[1];try{const T=JSON.parse(v);if("result"in T){e(ho(T.result));return}if("message"in T){p.enqueue(ho(T.message));return}if("error"in T){const S=bh(0,T);p.error(S),i(S);return}}catch(T){if(T instanceof dn){p.error(T),i(T);return}}},c=new TextDecoder;return new ReadableStream({start(d){let p="";return y();async function y(){if(r?.aborted){const v=new dn("cancelled","Request was cancelled");return d.error(v),i(v),Promise.resolve()}try{const{value:v,done:T}=await s.read();if(T){p.trim()&&l(p.trim(),d),d.close();return}if(r?.aborted){const D=new dn("cancelled","Request was cancelled");d.error(D),i(D),await s.cancel();return}p+=c.decode(v,{stream:!0});const S=p.split(`
`);p=S.pop()||"";for(const D of S)D.trim()&&l(D.trim(),d);return y()}catch(v){const T=v instanceof dn?v:bh(0,null);d.error(T),i(T)}}},cancel(){return s.cancel()}})}const kv="@firebase/functions",Pv="0.13.1";const II="auth-internal",DI="app-check-internal",OI="messaging-internal";function MI(s){const e=(i,{instanceIdentifier:r})=>{const l=i.getProvider("app").getImmediate(),c=i.getProvider(II),d=i.getProvider(OI),p=i.getProvider(DI);return new EI(l,c,d,p,r)};ar(new ls(Sg,e,"PUBLIC").setMultipleInstances(!0)),Un(kv,Pv,s),Un(kv,Pv,"esm2020")}function yT(s=Sh(),e=Pm){const r=Fl(Ut(s),Sg).getImmediate({identifier:e}),l=Um("functions");return l&&VI(r,...l),r}function VI(s,e,i){TI(Ut(s),e,i)}function jI(s,e,i){return AI(Ut(s),e)}MI();const kI={apiKey:"AIzaSyAZ_SrlZz1glZXeOBuOqg2OFUMQMs7BOAw",authDomain:"innovend-980b3.firebaseapp.com",projectId:"innovend-980b3",storageBucket:"innovend-980b3.firebasestorage.app",messagingSenderId:"522982439138",appId:"1:522982439138:web:bf17d2b52af19e4b6446bb"},Fh=Qv(kI),Uc=vN(Fh),Eh=vC(Fh);hI(Fh);yT(Fh);const _T=Ie.createContext({}),zc=()=>{const s=Ie.useContext(_T);if(!s)throw new Error("useAuth must be used within AuthProvider");return s},PI=({children:s})=>{const[e,i]=Ie.useState(null),[r,l]=Ie.useState(null),[c,d]=Ie.useState(!0),[p,y]=Ie.useState(null);Ie.useEffect(()=>{const L=o1(Uc,async J=>{if(y(null),J){i(J);try{const ee=await uT(km(Eh,"users",J.uid));ee.exists()?l({uid:J.uid,...ee.data()}):(console.warn("User profile not found in Firestore"),l(null))}catch(ee){console.error("Error fetching user profile:",ee),y("Failed to load user profile")}}else i(null),l(null);d(!1)});return()=>L()},[]);const D={user:e,userProfile:r,loading:c,error:p,signIn:async(L,J)=>{y(null);try{return await s1(Uc,L,J)}catch(ee){throw y(ee.message),ee}},signOut:async()=>{y(null);try{await l1(Uc),i(null),l(null)}catch(L){throw y(L.message),L}},createAccount:async(L,J,ee)=>{y(null);try{const $=await i1(Uc,L,J);return await jC(km(Eh,"users",$.user.uid),{uid:$.user.uid,email:L,...ee,createdAt:new Date,updatedAt:new Date}),$}catch($){throw y($.message),$}},isAdmin:r?.role==="admin",isAuthenticated:!!e};return m.jsx(_T.Provider,{value:D,children:!c&&s})},LI=()=>{const{user:s,userProfile:e,signOut:i,isAuthenticated:r,isAdmin:l}=zc(),[c,d]=Ie.useState(!1),[p,y]=Ie.useState(!1),[v,T]=Ie.useState(!1),[S,D]=Ie.useState(1),[L,J]=Ie.useState({email:"",firstName:"",lastName:"",businessName:"",phone:"",contactMethod:"",hearAbout:"",referral:"",additionalInfo:"",termsAgreed:!1,finalTermsAgreed:!1}),[ee,$]=Ie.useState(!1),[fe,_e]=Ie.useState(!1),[de,Ee]=Ie.useState(!1),[He,we]=Ie.useState(!1),[I,x]=Ie.useState("home"),N=(w,V)=>{J(W=>({...W,[w]:V}))},j=w=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w),O=L.email&&j(L.email)&&L.termsAgreed,P=L.firstName&&L.lastName&&L.businessName&&L.phone&&L.contactMethod,R=L.finalTermsAgreed,rt=()=>{alert("Form submitted successfully! We will be in touch soon. (In production, this would send to your backend/email service)"),d(!1),D(1),J({email:"",firstName:"",lastName:"",businessName:"",phone:"",contactMethod:"",hearAbout:"",referral:"",additionalInfo:"",termsAgreed:!1,finalTermsAgreed:!1})},Ke=w=>{const V=document.getElementById(w);V&&(V.scrollIntoView({behavior:"smooth"}),T(!1))};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-white",children:[m.jsx("nav",{className:"fixed top-0 w-full bg-slate-900/95 backdrop-blur-sm z-50 border-b border-blue-500/20",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-lg flex items-center justify-center font-bold text-slate-900",children:"IV"}),m.jsx("span",{className:"text-xl font-bold",children:"InnoVend LLC"})]}),m.jsxs("div",{className:"hidden md:flex space-x-6 items-center",children:[m.jsx("button",{onClick:()=>{Ke("home"),x("home")},className:"hover:text-blue-400 transition",children:"Home"}),m.jsx("button",{onClick:()=>{Ke("about"),x("home")},className:"hover:text-blue-400 transition",children:"About"}),m.jsx("button",{onClick:()=>{Ke("services"),x("home")},className:"hover:text-blue-400 transition",children:"Services"}),m.jsx("button",{onClick:()=>{Ke("machines"),x("home")},className:"hover:text-blue-400 transition",children:"Machines"}),m.jsx("button",{onClick:()=>{Ke("products"),x("home")},className:"hover:text-blue-400 transition",children:"Products"}),m.jsx("button",{onClick:()=>d(!0),className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition",children:"Request Services"}),r?m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>we(!He),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 px-4 py-2 rounded-lg transition flex items-center space-x-2",children:[m.jsx("span",{children:"My Account"}),m.jsx(fx,{className:"w-4 h-4"})]}),He&&m.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-slate-800 rounded-lg shadow-xl border border-blue-400/30 py-2 z-50",children:[m.jsx("button",{onClick:()=>{x("dashboard"),we(!1),window.scrollTo(0,0)},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition",children:"Dashboard"}),l&&m.jsx("button",{onClick:()=>{x("admin"),we(!1),window.scrollTo(0,0)},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition",children:"Admin Panel"}),m.jsx("hr",{className:"my-2 border-gray-700"}),m.jsx("button",{onClick:async()=>{await i(),we(!1),x("home")},className:"block w-full text-left px-4 py-2 hover:bg-slate-700 transition text-red-400",children:"Log Out"})]})]}):m.jsx("button",{onClick:()=>$(!0),className:"bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded-lg transition",children:"Log In"})]}),m.jsx("button",{onClick:()=>T(!v),className:"md:hidden",children:m.jsx(vx,{className:"w-6 h-6"})})]}),v&&m.jsxs("div",{className:"md:hidden py-4 space-y-2",children:[m.jsx("button",{onClick:()=>{Ke("home"),x("home"),T(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Home"}),m.jsx("button",{onClick:()=>{Ke("about"),x("home"),T(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"About"}),m.jsx("button",{onClick:()=>{Ke("services"),x("home"),T(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Services"}),m.jsx("button",{onClick:()=>{Ke("machines"),x("home"),T(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Machines"}),m.jsx("button",{onClick:()=>{Ke("products"),x("home"),T(!1)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Products"}),m.jsx("button",{onClick:()=>{d(!0),T(!1)},className:"block w-full text-left bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg transition",children:"Request Services"}),r?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>{x("dashboard"),T(!1),window.scrollTo(0,0)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Dashboard"}),l&&m.jsx("button",{onClick:()=>{x("admin"),T(!1),window.scrollTo(0,0)},className:"block w-full text-left py-2 hover:text-blue-400 transition",children:"Admin Panel"}),m.jsx("button",{onClick:async()=>{await i(),T(!1),x("home")},className:"block w-full text-left py-2 hover:text-red-400 transition",children:"Log Out"})]}):m.jsx("button",{onClick:()=>{$(!0),T(!1)},className:"block w-full text-left bg-cyan-500 hover:bg-cyan-600 px-4 py-2 rounded-lg transition",children:"Log In"})]})]})}),I==="home"&&m.jsxs(m.Fragment,{children:[m.jsx("section",{id:"home",className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[m.jsx("div",{className:"inline-block mb-4 px-4 py-2 bg-blue-500/20 rounded-full border border-blue-400/30",children:m.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"Serving North Potomac, Rockville, Gaithersburg & Surrounding Areas"})}),m.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-400 via-cyan-300 to-blue-400 bg-clip-text text-transparent",children:["Innovating Convenience",m.jsx("br",{}),"One Vend at a Time"]}),m.jsx("p",{className:"text-xl sm:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Providing Convenient Vending Solutions for Local Businesses  At No Cost To You"}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-8 py-4 rounded-lg font-semibold text-lg transition transform hover:scale-105 shadow-lg flex items-center justify-center",children:["Request Services ",m.jsx(mx,{className:"ml-2"})]}),m.jsx("button",{onClick:()=>Ke("about"),className:"bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white px-8 py-4 rounded-lg font-semibold text-lg transition border border-white/20",children:"Learn More"})]})]})}),m.jsx("section",{id:"about",className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-800/50",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Who We Are"}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"InnoVend LLC is a premier vending machine service provider dedicated to enhancing your business environment with convenient, modern vending solutions. We specialize in placing and maintaining state-of-the-art vending machines at businesses throughout the North Potomac, Rockville, and Gaithersburg areas."}),m.jsx("p",{className:"text-lg text-gray-300 mb-6",children:"Our mission is simple: to provide your customers, employees, or clients with easy access to quality snacks and beverages while improving the overall experience at your facility  all at zero cost to you."}),m.jsx("p",{className:"text-lg text-gray-300",children:"With cutting-edge technology, including touchscreen interfaces and UV sanitization, we bring innovation and convenience to every location we serve. We handle everything from installation to restocking, so you can focus on running your business."})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[m.jsx(Dc,{className:"w-12 h-12 text-blue-400 mb-4"}),m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Modern Technology"}),m.jsx("p",{className:"text-sm text-gray-300",children:"Touchscreen interfaces & UV sanitization"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[m.jsx(Zd,{className:"w-12 h-12 text-blue-400 mb-4"}),m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Zero Cost"}),m.jsx("p",{className:"text-sm text-gray-300",children:"Free placement & maintenance"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[m.jsx(Ic,{className:"w-12 h-12 text-blue-400 mb-4"}),m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Customizable"}),m.jsx("p",{className:"text-sm text-gray-300",children:"Product selection tailored to you"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[m.jsx(Cc,{className:"w-12 h-12 text-blue-400 mb-4"}),m.jsx("h3",{className:"font-bold text-lg mb-2",children:"Full Service"}),m.jsx("p",{className:"text-sm text-gray-300",children:"We handle restocking & cleaning"})]})]})]})]})}),m.jsx("section",{id:"services",className:"py-20 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Why Choose InnoVend?"}),m.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"We provide complete vending solutions that enhance your business and delight your customers  all at no cost to you."}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:m.jsx($d,{className:"w-8 h-8 text-blue-400"})}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Completely Free"}),m.jsx("p",{className:"text-gray-300",children:"No upfront costs, no monthly fees, no hidden charges. We cover everything  you only provide power and WiFi. Plus, we may offer commission opportunities to our partners."})]}),m.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:m.jsx(Ic,{className:"w-8 h-8 text-blue-400"})}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Enhance Customer Experience"}),m.jsx("p",{className:"text-gray-300",children:"Improve client satisfaction and drive return visits by offering convenient access to snacks and beverages. A well-placed vending machine can transform your waiting area or break room into a more welcoming space."})]}),m.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:m.jsx(Zd,{className:"w-8 h-8 text-blue-400"})}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Hassle-Free Maintenance"}),m.jsx("p",{className:"text-gray-300",children:"We handle all restocking, cleaning, and repairs. Our machines feature modern touchscreen technology and UV sanitization to ensure a clean, professional appearance that reflects well on your business."})]}),m.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:m.jsx(Dc,{className:"w-8 h-8 text-blue-400"})}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Customizable Selection"}),m.jsx("p",{className:"text-gray-300",children:"You have input on what products go into your machine. We work with you to stock items that match your clientele's preferences and dietary needs."})]}),m.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:m.jsx(i0,{className:"w-8 h-8 text-blue-400"})}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Local Service"}),m.jsx("p",{className:"text-gray-300",children:"We're a local business serving North Potomac, Rockville, Gaithersburg, and surrounding areas. Quick response times and personalized service you can count on."})]}),m.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20 hover:border-blue-400/40 transition",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-lg flex items-center justify-center mb-6",children:m.jsx(Cc,{className:"w-8 h-8 text-blue-400"})}),m.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Perfect For High-Traffic Locations"}),m.jsx("p",{className:"text-gray-300",children:"Ideal for salons, laundromats, fitness centers, office buildings, medical offices, car washes, and any location where customers wait or need convenient refreshments."})]})]})]})}),m.jsx("section",{id:"machines",className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-800/50",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"Our Vending Machines"}),m.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"We offer a variety of state-of-the-art vending machines to fit your space and needs."}),m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:m.jsx("span",{className:"text-6xl",children:""})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Snack Machines"}),m.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"MarketOne 6 Wide with 48 selections and up to 738 items. Features touchscreen interface, guaranteed delivery, and UV sanitization."}),m.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[m.jsx("li",{children:' 10.1" Touchscreen'}),m.jsx("li",{children:" iVend Guaranteed Delivery"}),m.jsx("li",{children:" UVend Sanitization"}),m.jsx("li",{children:" 48 Product Selections"})]})]}),m.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:m.jsx("span",{className:"text-6xl",children:""})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Drink Machines"}),m.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'Cold Drink Elevator Machine with 36 selections and 216 items. Features pre-cool storage area and 7" touchscreen.'}),m.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[m.jsx("li",{children:' 7" Touchscreen'}),m.jsx("li",{children:" Pre-Cool Storage"}),m.jsx("li",{children:" UVend Sanitization"}),m.jsx("li",{children:" 36 Product Selections"})]})]}),m.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:m.jsx("span",{className:"text-6xl",children:""})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Combo Machines"}),m.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'MarketOne 5 Wide Combo offering both snacks and drinks. Features anti-fog heated glass and 7" touchscreen.'}),m.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[m.jsx("li",{children:' 7" Touchscreen'}),m.jsx("li",{children:" Snacks & Drinks"}),m.jsx("li",{children:" Anti-Fog Heated Glass"}),m.jsx("li",{children:" 38 Product Selections"})]})]}),m.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:m.jsx("span",{className:"text-6xl",children:""})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Coffee Machines"}),m.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"MarketOne Coffee Machine with 34 combo options including coffee, tea, cappuccino, and espresso. Fresh brew technology."}),m.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[m.jsx("li",{children:" Fresh Brew Technology"}),m.jsx("li",{children:" 34 Beverage Options"}),m.jsx("li",{children:" UVend Sanitization"}),m.jsx("li",{children:" Hot Chocolate & Tea"})]})]}),m.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:m.jsx("span",{className:"text-6xl",children:""})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ice Cream Machines"}),m.jsx("p",{className:"text-gray-300 text-sm mb-4",children:'Specialized ice cream vending with 36 selections. Features anti-fog heated glass and 7" touchscreen for easy selection.'}),m.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[m.jsx("li",{children:' 7" Touchscreen'}),m.jsx("li",{children:" 36 Ice Cream Selections"}),m.jsx("li",{children:" Anti-Fog Heated Glass"}),m.jsx("li",{children:" Temperature Controlled"})]})]}),m.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 h-48 rounded-lg mb-4 flex items-center justify-center",children:m.jsx("span",{className:"text-6xl",children:""})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Specialty Machines"}),m.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Fitness centers, laundromats, car washes, and more. We have specialized machines for unique business needs."}),m.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[m.jsx("li",{children:" Fitness & Wellness Products"}),m.jsx("li",{children:" Laundry Supplies"}),m.jsx("li",{children:" School Supplies"}),m.jsx("li",{children:" PPE Options"})]})]})]})]})}),m.jsx("section",{id:"products",className:"py-20 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"What We Offer"}),m.jsx("p",{className:"text-center text-gray-300 mb-12 max-w-2xl mx-auto",children:"A wide selection of popular snacks and beverages to keep your customers satisfied."}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20",children:[m.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[m.jsx("span",{className:"text-3xl mr-3",children:""})," Beverages"]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Sodas & Soft Drinks"}),m.jsxs("ul",{className:"text-gray-300 space-y-1",children:[m.jsx("li",{children:" Coca-Cola & Diet Coke"}),m.jsx("li",{children:" Pepsi & Diet Pepsi"}),m.jsx("li",{children:" Dr. Pepper"}),m.jsx("li",{children:" Mountain Dew"}),m.jsx("li",{children:" Sprite & Fanta"}),m.jsx("li",{children:" 7-Up & Root Beer"})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Energy & Sports"}),m.jsxs("ul",{className:"text-gray-300 space-y-1",children:[m.jsx("li",{children:" Monster Energy"}),m.jsx("li",{children:" Bang Energy"}),m.jsx("li",{children:" Gatorade"}),m.jsx("li",{children:" Powerade"}),m.jsx("li",{children:" Prime"})]}),m.jsx("p",{className:"font-semibold text-blue-300 mb-2 mt-4",children:"Other"}),m.jsxs("ul",{className:"text-gray-300 space-y-1",children:[m.jsx("li",{children:" Water & Smart Water"}),m.jsx("li",{children:" Starbucks Frappuccino"}),m.jsx("li",{children:" Arizona Tea"}),m.jsx("li",{children:" Gold Peak Tea"})]})]})]})]}),m.jsxs("div",{className:"bg-slate-800/50 p-8 rounded-xl border border-blue-400/20",children:[m.jsxs("h3",{className:"text-2xl font-bold mb-4 flex items-center",children:[m.jsx("span",{className:"text-3xl mr-3",children:""})," Snacks"]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Chips & Savory"}),m.jsxs("ul",{className:"text-gray-300 space-y-1",children:[m.jsx("li",{children:" Doritos"}),m.jsx("li",{children:" Ruffles"}),m.jsx("li",{children:" Takis"}),m.jsx("li",{children:" Sun Chips"}),m.jsx("li",{children:" Pretzels"}),m.jsx("li",{children:" Goldfish"}),m.jsx("li",{children:" Skinny Pop"})]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-blue-300 mb-2",children:"Candy & Sweets"}),m.jsxs("ul",{className:"text-gray-300 space-y-1",children:[m.jsx("li",{children:" Snickers & Twix"}),m.jsx("li",{children:" M&M's & Skittles"}),m.jsx("li",{children:" Reese's"}),m.jsx("li",{children:" KitKat"}),m.jsx("li",{children:" Starburst"}),m.jsx("li",{children:" Sour Patch Kids"})]}),m.jsx("p",{className:"font-semibold text-blue-300 mb-2 mt-4",children:"Healthy Options"}),m.jsxs("ul",{className:"text-gray-300 space-y-1",children:[m.jsx("li",{children:" Nature Valley Bars"}),m.jsx("li",{children:" Kind Bars"}),m.jsx("li",{children:" Rice Krispies"})]})]})]})]})]}),m.jsx("p",{className:"text-center text-gray-400 mt-8",children:"*Prices range from $1.00 - $3.00. Product selection can be customized based on your preferences."})]})}),m.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-600 to-cyan-600",children:m.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[m.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Get Started?"}),m.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join local businesses who have enhanced their customer experience with InnoVend's convenient vending solutions."}),m.jsx("button",{onClick:()=>d(!0),className:"bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 rounded-lg font-semibold text-lg transition transform hover:scale-105 shadow-lg",children:"Request Services Today"})]})}),m.jsx("footer",{className:"py-12 px-4 sm:px-6 lg:px-8 bg-slate-900 border-t border-blue-500/20",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-8",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-lg flex items-center justify-center font-bold text-slate-900",children:"IV"}),m.jsx("span",{className:"text-xl font-bold",children:"InnoVend LLC"})]}),m.jsx("p",{className:"text-gray-400",children:"Innovating Convenience, One Vend at a Time"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold mb-4",children:"Contact Us"}),m.jsxs("div",{className:"space-y-2 text-gray-400",children:[m.jsxs("p",{className:"flex items-center",children:[m.jsx(px,{className:"w-4 h-4 mr-2"})," hello@innovend.net"]}),m.jsxs("p",{className:"flex items-center",children:[m.jsx(i0,{className:"w-4 h-4 mr-2"})," North Potomac, MD 20878"]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold mb-4",children:"Quick Links"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("button",{onClick:()=>d(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Request Services"}),m.jsx("button",{onClick:()=>y(!0),className:"block text-gray-400 hover:text-blue-400 transition",children:"Terms & Conditions"})]})]})]}),m.jsx("div",{className:"border-t border-gray-800 pt-8 text-center text-gray-400",children:m.jsx("p",{children:" 2026 InnoVend LLC. All Rights Reserved."})})]})})]}),I==="dashboard"&&e&&m.jsx(Ue,{}),I==="admin"&&l&&m.jsx(Ye,{}),c&&m.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:m.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl",children:[m.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"InnoVend Services Request"}),m.jsx("button",{onClick:()=>{d(!1),D(1)},className:"text-gray-400 hover:text-white",children:m.jsx(Qa,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("div",{className:"flex justify-between mb-8",children:[1,2,3,4].map(w=>m.jsxs("div",{className:"flex items-center flex-1",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${S>=w?"bg-blue-500 text-white":"bg-gray-700 text-gray-400"}`,children:S>w?m.jsx($d,{className:"w-5 h-5"}):w}),w<4&&m.jsx("div",{className:`flex-1 h-1 mx-2 ${S>w?"bg-blue-500":"bg-gray-700"}`})]},w))}),S===1&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Welcome!"}),m.jsx("p",{className:"text-gray-300 mb-4",children:"Thank you for your interest in requesting our services for your business. Complete the following form accurately and we will get back to you soon regarding placing a machine at your business location."}),m.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 mb-4",children:[m.jsx("p",{className:"text-sm text-gray-300 mb-2",children:m.jsx("strong",{children:"A few things to note:"})}),m.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside",children:[m.jsx("li",{children:"The purpose of this form is for InnoVend LLC to place a machine at your facility/location. This will be of no cost to you, aside from WiFi connectivity and power costs."}),m.jsx("li",{children:"This form does not guarantee that a Vending Machine will be placed at your location. We will be in touch with you shortly regarding your services request."})]})]}),m.jsxs("p",{className:"text-gray-300 mb-4",children:["Again, thank you for your interest in our services and we look forward to speaking with you. If you have any questions, please contact us at ",m.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:underline",children:"hello@innovend.net"})," and we will get back to you as soon as we can."]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),m.jsx("input",{type:"email",value:L.email,onChange:w=>N("email",w.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"your.email@example.com"})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("input",{type:"checkbox",checked:L.termsAgreed,onChange:w=>N("termsAgreed",w.target.checked),className:"mt-1 mr-3"}),m.jsxs("label",{className:"text-sm text-gray-300",children:["By continuing with this form, I confirm that I have read, understood, and agree to the"," ",m.jsx("button",{onClick:()=>y(!0),className:"text-blue-400 hover:underline",children:"Terms and Conditions"}),"."]})]}),m.jsx("button",{onClick:()=>D(2),disabled:!O,className:`w-full py-3 rounded-lg font-semibold transition ${O?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Next"})]}),S===2&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Personal Information"}),m.jsx("p",{className:"text-gray-300 mb-4",children:"This section is for your personal information so we can efficiently contact you in the future."})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),m.jsx("input",{type:"text",value:L.firstName,onChange:w=>N("firstName",w.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),m.jsx("input",{type:"text",value:L.lastName,onChange:w=>N("lastName",w.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Legal Name of Your Business *"}),m.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This should be the official legal entity name your business is filed under."}),m.jsx("input",{type:"text",value:L.businessName,onChange:w=>N("businessName",w.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),m.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Message and data rates may apply."}),m.jsx("input",{type:"tel",value:L.phone,onChange:w=>N("phone",w.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"(555) 123-4567"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Method of Contact *"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"Email",checked:L.contactMethod==="Email",onChange:w=>N("contactMethod",w.target.value),className:"mr-2"}),"Email"]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"Phone",checked:L.contactMethod==="Phone",onChange:w=>N("contactMethod",w.target.value),className:"mr-2"}),"Phone"]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",value:"Other",checked:L.contactMethod==="Other",onChange:w=>N("contactMethod",w.target.value),className:"mr-2"}),"Other"]})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:()=>D(1),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),m.jsx("button",{onClick:()=>D(3),disabled:!P,className:`flex-1 py-3 rounded-lg font-semibold transition ${P?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Next"})]})]}),S===3&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Additional Information"}),m.jsx("p",{className:"text-gray-300 mb-4",children:"This section is just some additional information we would like (Optional)."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"How did you hear about us?"}),m.jsx("input",{type:"text",value:L.hearAbout,onChange:w=>N("hearAbout",w.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"e.g., Google search, referral, social media"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Do you have a business or person referral?"}),m.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"If so, type it below. Otherwise, leave blank."}),m.jsx("input",{type:"text",value:L.referral,onChange:w=>N("referral",w.target.value),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Name of person or business"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Would you like to share any additional information?"}),m.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"If so, type it below. Otherwise, leave blank."}),m.jsx("textarea",{value:L.additionalInfo,onChange:w=>N("additionalInfo",w.target.value),rows:4,className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Any additional details about your location, business hours, customer demographics, etc."})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:()=>D(2),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),m.jsx("button",{onClick:()=>D(4),className:"flex-1 py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Next"})]})]}),S===4&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Submission"}),m.jsx("p",{className:"text-gray-300 mb-4",children:"Thank you so much for your continued interest in our services! InnoVend LLC will be in touch with you soon, and we look forward to your business."}),m.jsxs("p",{className:"text-gray-300 mb-4",children:["When you are ready, please click the Submit button below to submit your responses to us. If you have any questions, feel free to email us at"," ",m.jsx("a",{href:"mailto:hello@innovend.net",className:"text-blue-400 hover:underline",children:"hello@innovend.net"})," and we will get back to you as soon as we can."]})]}),m.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm font-medium mb-2",children:"Review Your Information:"}),m.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Email:"})," ",L.email]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Name:"})," ",L.firstName," ",L.lastName]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Business:"})," ",L.businessName]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Phone:"})," ",L.phone]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Preferred Contact:"})," ",L.contactMethod]})]})]}),m.jsxs("div",{className:"flex items-start",children:[m.jsx("input",{type:"checkbox",checked:L.finalTermsAgreed,onChange:w=>N("finalTermsAgreed",w.target.checked),className:"mt-1 mr-3"}),m.jsxs("label",{className:"text-sm text-gray-300",children:["By submitting the form, I confirm that I have read, understood, and agree to the"," ",m.jsx("button",{onClick:()=>y(!0),className:"text-blue-400 hover:underline",children:"Terms and Conditions"}),". *"]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:()=>D(3),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold transition",children:"Back"}),m.jsx("button",{onClick:rt,disabled:!R,className:`flex-1 py-3 rounded-lg font-semibold transition ${R?"bg-green-500 hover:bg-green-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:"Submit Request"})]})]})]})]})}),p&&m.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:m.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-4xl w-full my-8 border border-blue-400/30 shadow-2xl max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Terms and Conditions for Service Request Form"}),m.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white",children:m.jsx(Qa,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Last Updated: December 3, 2024"}),m.jsxs("div",{className:"space-y-6 text-gray-300",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"1. Purpose of Information Collection"}),m.jsx("p",{children:"The information collected through this form will be used solely to evaluate and process your service request. By submitting this form, you acknowledge and consent to our use of the provided information for this purpose."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"2. Privacy Policy"}),m.jsx("p",{children:"We respect your privacy. Any personal or contact information submitted through this form will be securely stored and used only to fulfill your request. Your data will not be shared with any third parties without your explicit consent, except as required by law."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"3. Fees and Costs"}),m.jsx("p",{children:"If applicable, fees for services will be clearly communicated to you after your request has been reviewed. Submission of this form does not create a binding contract or obligation to pay unless explicitly agreed upon in writing."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"4. Service Limitations"}),m.jsx("p",{children:"While we strive to fulfill all requests to the best of our ability, submission of this form does not guarantee service. We reserve the right to decline any request that falls outside our scope of offerings or for any reason."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"5. Liability"}),m.jsx("p",{children:"We are not liable for delays, interruptions, or issues arising from unforeseen circumstances beyond our control. Any costs, damages, or inconveniences incurred as a result of using our services are limited to the extent permitted by law."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"6. Consent to Contact"}),m.jsx("p",{children:"By submitting this form, you agree to be contacted using the email or phone number provided. Standard message and data rates may apply for SMS or calls."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"7. Modifications"}),m.jsx("p",{children:"We reserve the right to update or modify these terms and conditions at any time. Changes will be effective immediately upon posting to the form or via direct communication."})]})]})]}),m.jsx("div",{className:"p-6 border-t border-gray-700 flex-shrink-0",children:m.jsx("button",{onClick:()=>y(!1),className:"w-full py-3 bg-blue-500 hover:bg-blue-600 rounded-lg font-semibold transition",children:"Close"})})]})}),ee&&m.jsx(G,{}),fe&&m.jsx(ie,{}),de&&m.jsx(me,{})]});function G(){const{signIn:w}=zc(),[V,W]=Ie.useState({email:"",password:""}),[ne,se]=Ie.useState(""),[le,Te]=Ie.useState(!1),De=V.email&&V.password,ze=async()=>{se(""),Te(!0);try{await w(V.email,V.password),$(!1),x("dashboard"),window.scrollTo(0,0)}catch(he){he.code==="auth/user-not-found"?se("No account found with this email. Would you like to sign up?"):he.code==="auth/wrong-password"||he.code==="auth/invalid-credential"?se("Incorrect password. Please try again."):he.code==="auth/invalid-email"?se("Please enter a valid email address."):he.code==="auth/network-request-failed"?se("Network error. Please check your connection."):se("Login failed. Please try again.")}finally{Te(!1)}};return m.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[m.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Log In to InnoVend"}),m.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white",children:m.jsx(Qa,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[ne&&m.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:ne}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),m.jsx("input",{type:"email",value:V.email,onChange:he=>W({...V,email:he.target.value}),onKeyPress:he=>he.key==="Enter"&&De&&ze(),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"your.email@example.com",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),m.jsx("input",{type:"password",value:V.password,onChange:he=>W({...V,password:he.target.value}),onKeyPress:he=>he.key==="Enter"&&De&&ze(),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",placeholder:""})]}),m.jsx("button",{onClick:ze,disabled:!De||le,className:`w-full py-3 rounded-lg font-semibold transition ${De&&!le?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:le?"Logging in...":"Log In"}),m.jsxs("div",{className:"text-center space-y-2 text-sm",children:[m.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[m.jsx("span",{children:"Don't have an account?"}),m.jsx("button",{onClick:()=>{$(!1),_e(!0)},className:"text-cyan-400 hover:underline font-medium",children:"Sign Up"})]}),m.jsx("button",{onClick:()=>{$(!1),Ee(!0)},className:"text-gray-500 hover:text-gray-300 text-xs block w-full mt-4",children:"Admin Login "})]})]})]})})}function ie(){const{signIn:w}=zc(),[V,W]=Ie.useState({firstName:"",lastName:"",email:"",phone:"",username:"",password:"",confirmPassword:"",clientCode:""}),[ne,se]=Ie.useState(""),[le,Te]=Ie.useState(!1),[De,ze]=Ie.useState(null),[he,ms]=Ie.useState({});Ie.useEffect(()=>{V.confirmPassword?ze(V.password===V.confirmPassword):ze(null)},[V.password,V.confirmPassword]);const gs=re=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(re),ps=re=>re.replace(/\D/g,"").length===10,An=re=>re.length>=8&&/[A-Z]/.test(re)&&/[a-z]/.test(re)&&/[0-9]/.test(re),gr=re=>{const ft=re.replace(/\D/g,"").slice(0,10);W({...V,phone:ft})},ki=()=>{const re={};return V.firstName.trim()||(re.firstName="First name is required"),V.lastName.trim()||(re.lastName="Last name is required"),V.email.trim()?gs(V.email)||(re.email="Please enter a valid email address"):re.email="Email is required",V.phone?ps(V.phone)||(re.phone="Must be exactly 10 digits"):re.phone="Phone number is required",V.username.trim()||(re.username="Username is required"),V.password?An(V.password)||(re.password="Password must be at least 8 characters with uppercase, lowercase, and number"):re.password="Password is required",V.confirmPassword?V.password!==V.confirmPassword&&(re.confirmPassword="Passwords do not match"):re.confirmPassword="Please confirm your password",V.clientCode.trim()||(re.clientCode="Client code is required"),ms(re),Object.keys(re).length===0},ys=V.firstName&&V.lastName&&V.email&&V.phone&&V.username&&V.password&&V.confirmPassword&&V.clientCode&&De,pr=async()=>{if(ki()){se(""),Te(!0);try{const re=yT();(await jI(re,"validateAndCreateAccount")({email:V.email,password:V.password,firstName:V.firstName,lastName:V.lastName,phone:V.phone,username:V.username,clientCode:V.clientCode})).data.success&&(await w(V.email,V.password),_e(!1),x("dashboard"),window.scrollTo(0,0))}catch(re){console.error("Signup error:",re),re.code==="functions/not-found"?se("Invalid client code. Please check your code and try again."):re.code==="functions/already-exists"?se(re.message||"This client code has already been used or email is already registered."):re.code==="functions/invalid-argument"?se(re.message||"Your details do not match the client code on file. Please verify and try again."):re.code==="functions/failed-precondition"?se(re.message||"This client code has expired. Please contact support."):re.code==="functions/unauthenticated"?se("Authentication error. Please try again."):se(re.message||"Signup failed. Please try again or contact support.")}finally{Te(!1)}}};return m.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:m.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-2xl w-full my-8 border border-blue-400/30 shadow-2xl",children:[m.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Create Your Account"}),m.jsx("button",{onClick:()=>_e(!1),className:"text-gray-400 hover:text-white",children:m.jsx(Qa,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[ne&&m.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:ne}),m.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4 text-sm text-gray-300",children:[m.jsx("p",{className:"font-semibold mb-2",children:"Before you start:"}),m.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[m.jsx("li",{children:"You must have a valid Client Code to sign up"}),m.jsx("li",{children:"Your details must match the information on file"}),m.jsx("li",{children:"Client Codes are one-time use only"})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name *"}),m.jsx("input",{type:"text",value:V.firstName,onChange:re=>W({...V,firstName:re.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${he.firstName?"border-red-500":"border-gray-700"}`,placeholder:"John"}),he.firstName&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:he.firstName})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name *"}),m.jsx("input",{type:"text",value:V.lastName,onChange:re=>W({...V,lastName:re.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${he.lastName?"border-red-500":"border-gray-700"}`,placeholder:"Doe"}),he.lastName&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:he.lastName})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address *"}),m.jsx("input",{type:"email",value:V.email,onChange:re=>W({...V,email:re.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${he.email?"border-red-500":"border-gray-700"}`,placeholder:"your.email@example.com"}),he.email&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:he.email})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),m.jsx("input",{type:"tel",value:V.phone,onChange:re=>gr(re.target.value),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${he.phone?"border-red-500":"border-gray-700"}`,placeholder:"5551234567",maxLength:10}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"10 digits only (no dashes or spaces)"}),he.phone&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:he.phone})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username *"}),m.jsx("input",{type:"text",value:V.username,onChange:re=>W({...V,username:re.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${he.username?"border-red-500":"border-gray-700"}`,placeholder:"johndoe"}),he.username&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:he.username})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password *"}),m.jsx("input",{type:"password",value:V.password,onChange:re=>W({...V,password:re.target.value}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${he.password?"border-red-500":"border-gray-700"}`,placeholder:""}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Must be at least 8 characters with uppercase, lowercase, and number"}),he.password&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:he.password})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password *"}),m.jsx("input",{type:"password",value:V.confirmPassword,onChange:re=>W({...V,confirmPassword:re.target.value}),onPaste:re=>re.preventDefault(),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 ${he.confirmPassword?"border-red-500":"border-gray-700"}`,placeholder:""}),De!==null&&m.jsx("div",{className:`flex items-center space-x-2 mt-2 text-sm ${De?"text-green-400":"text-red-400"}`,children:De?m.jsxs(m.Fragment,{children:[m.jsx($d,{className:"w-4 h-4"}),m.jsx("span",{children:"Passwords match"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Qa,{className:"w-4 h-4"}),m.jsx("span",{children:"Passwords don't match"})]})}),he.confirmPassword&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:he.confirmPassword})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client Code *"}),m.jsx("input",{type:"text",value:V.clientCode,onChange:re=>W({...V,clientCode:re.target.value.toUpperCase()}),className:`w-full px-4 py-2 bg-slate-800 border rounded-lg focus:outline-none focus:border-blue-500 font-mono ${he.clientCode?"border-red-500":"border-gray-700"}`,placeholder:"ABC123XYZ",style:{textTransform:"uppercase"}}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Enter the unique client code provided to you by InnoVend"}),he.clientCode&&m.jsx("p",{className:"text-xs text-red-400 mt-1",children:he.clientCode})]}),m.jsx("button",{onClick:pr,disabled:!ys||le,className:`w-full py-3 rounded-lg font-semibold transition ${ys&&!le?"bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:le?"Creating Account...":"Create Account"}),m.jsx("div",{className:"text-center text-sm",children:m.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-400",children:[m.jsx("span",{children:"Already have an account?"}),m.jsx("button",{onClick:()=>{_e(!1),$(!0)},className:"text-cyan-400 hover:underline font-medium",children:"Log In"})]})})]})]})})}function me(){const{signIn:w}=zc(),[V,W]=Ie.useState({email:"",password:""}),[ne,se]=Ie.useState(""),[le,Te]=Ie.useState(!1),De=V.email&&V.password,ze=async()=>{se(""),Te(!0);try{await w(V.email,V.password),Ee(!1),x("admin"),window.scrollTo(0,0)}catch(he){he.code==="auth/user-not-found"?se("No admin account found with this email."):he.code==="auth/wrong-password"||he.code==="auth/invalid-credential"?se("Incorrect password."):se("Admin login failed. Please try again.")}finally{Te(!1)}};return m.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-slate-900 rounded-2xl max-w-md w-full border border-blue-400/30 shadow-2xl",children:[m.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Admin Login"}),m.jsx("button",{onClick:()=>Ee(!1),className:"text-gray-400 hover:text-white",children:m.jsx(Qa,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 text-yellow-400 text-sm",children:" Admin access only. Unauthorized access attempts will be logged."}),ne&&m.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400 text-sm",children:ne}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Email"}),m.jsx("input",{type:"email",value:V.email,onChange:he=>W({...V,email:he.target.value}),onKeyPress:he=>he.key==="Enter"&&De&&ze(),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Password"}),m.jsx("input",{type:"password",value:V.password,onChange:he=>W({...V,password:he.target.value}),onKeyPress:he=>he.key==="Enter"&&De&&ze(),className:"w-full px-4 py-2 bg-slate-800 border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"})]}),m.jsx("button",{onClick:ze,disabled:!De||le,className:`w-full py-3 rounded-lg font-semibold transition ${De&&!le?"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:le?"Logging in...":"Admin Login"}),m.jsx("div",{className:"text-center text-sm",children:m.jsx("button",{onClick:()=>{Ee(!1),$(!0)},className:"text-gray-500 hover:text-gray-300",children:" Back to Regular Login"})})]})]})})}function Ue(){const[w,V]=Ie.useState(null),[W,ne]=Ie.useState(!0);return Ie.useEffect(()=>{(async()=>{if(!e?.machineId){ne(!1);return}try{const le=await uT(km(Eh,"machines",e.machineId));le.exists()&&V(le.data())}catch(le){console.error("Error fetching machine data:",le)}finally{ne(!1)}})()},[e?.machineId]),W?m.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-block w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),m.jsx("p",{className:"text-gray-400",children:"Loading your dashboard..."})]})}):m.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["Welcome back, ",e?.firstName,"!"]}),m.jsxs("p",{className:"text-gray-400",children:[e?.businessName,"  Member since"," ",e?.createdAt?new Date(e.createdAt.toDate()).toLocaleDateString():"N/A"]})]}),e?.machineId?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Sales"}),m.jsx(Cc,{className:"w-5 h-5 text-green-400"})]}),m.jsxs("p",{className:"text-3xl font-bold",children:["$",w?.stats?.totalSales?.toFixed(2)||"0.00"]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),m.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Transactions"}),m.jsx(Ic,{className:"w-5 h-5 text-blue-400"})]}),m.jsx("p",{className:"text-3xl font-bold",children:w?.stats?.totalTransactions||0}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),m.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Status"}),m.jsx(Zd,{className:"w-5 h-5 text-cyan-400"})]}),m.jsx("p",{className:"text-2xl font-bold capitalize",children:w?.status||"Active"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Current"})]}),m.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Machine Type"}),m.jsx(Dc,{className:"w-5 h-5 text-purple-400"})]}),m.jsx("p",{className:"text-2xl font-bold capitalize",children:w?.machineType||"Combo"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type"})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Your Vending Machine"}),w?.machinePhotoUrl?m.jsx("img",{src:w.machinePhotoUrl,alt:"Vending machine",className:"w-full h-64 object-cover rounded-lg mb-4"}):m.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-6xl",children:""})}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Location:"})," ",w?.location?.address||e?.businessName]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Installed:"})," ",w?.installDate?new Date(w.installDate.toDate()).toLocaleDateString():"N/A"]})]})]}),m.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Contract Information"}),w?.contractPdfUrl?m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-lg p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center",children:m.jsx("span",{className:"text-2xl",children:""})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold",children:"Signed Contract"}),m.jsx("p",{className:"text-xs text-gray-400",children:"PDF Document"})]})]}),m.jsx("a",{href:w.contractPdfUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-lg text-sm transition",children:"View PDF"})]})}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Contract End Date"}),m.jsx("p",{className:"font-semibold",children:w?.contractEndDate?new Date(w.contractEndDate.toDate()).toLocaleDateString():"N/A"})]}),w?.contractEndDate&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Time Remaining"}),m.jsxs("p",{className:"font-semibold text-cyan-400",children:[Math.max(0,Math.ceil((w.contractEndDate.toDate()-new Date)/(1e3*60*60*24)))," ","days"]})]})]})]}):m.jsx("div",{className:"text-center py-8 text-gray-400",children:m.jsx("p",{children:"Contract document will be available soon"})})]})]}),m.jsxs("div",{className:"mt-8 bg-slate-800/50 p-6 rounded-xl border border-blue-400/20",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Recent Activity"}),m.jsx("div",{className:"text-center py-8 text-gray-400",children:m.jsx("p",{children:"Live stats and transaction history coming soon!"})})]})]}):m.jsxs("div",{className:"bg-blue-500/10 border border-blue-400/30 rounded-xl p-8 text-center",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"No Machine Assigned Yet"}),m.jsx("p",{className:"text-gray-300",children:"Your vending machine will be assigned soon. We'll notify you once it's ready!"})]})]})})}function Ye(){const[w,V]=Ie.useState([]),[W,ne]=Ie.useState(!0);return Ie.useEffect(()=>{(async()=>{try{const Te=(await VC(_C(Eh,"users"))).docs.map(De=>({id:De.id,...De.data()}));V(Te)}catch(le){console.error("Error fetching users:",le)}finally{ne(!1)}})()},[]),W?m.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-block w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mb-4"}),m.jsx("p",{className:"text-gray-400",children:"Loading admin dashboard..."})]})}):m.jsx("div",{className:"min-h-screen pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Admin Dashboard"}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 p-6 rounded-xl border border-purple-400/30",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Users"}),m.jsx(Ic,{className:"w-5 h-5 text-purple-400"})]}),m.jsx("p",{className:"text-3xl font-bold",children:w.length})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 p-6 rounded-xl border border-blue-400/30",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Active Machines"}),m.jsx(Dc,{className:"w-5 h-5 text-blue-400"})]}),m.jsx("p",{className:"text-3xl font-bold",children:"0"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-cyan-500/20 p-6 rounded-xl border border-green-400/30",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Total Revenue"}),m.jsx(Cc,{className:"w-5 h-5 text-green-400"})]}),m.jsx("p",{className:"text-3xl font-bold",children:"$0.00"})]})]}),m.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-blue-400/20 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-gray-700",children:m.jsxs("h2",{className:"text-2xl font-bold",children:["User Accounts (",w.length,")"]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-slate-900",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Name"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Email"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Business"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Role"}),m.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Joined"})]})}),m.jsx("tbody",{children:w.length>0?w.map(se=>m.jsxs("tr",{className:"border-t border-gray-700 hover:bg-slate-700/50",children:[m.jsxs("td",{className:"px-6 py-4",children:[se.firstName," ",se.lastName]}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:se.email}),m.jsx("td",{className:"px-6 py-4 text-sm",children:se.businessName||"N/A"}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${se.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:se.role||"client"})}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:se.createdAt?new Date(se.createdAt.toDate()).toLocaleDateString():"N/A"})]},se.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-400",children:"No users found"})})})]})})]}),m.jsxs("div",{className:"mt-8 bg-blue-500/10 border border-blue-400/30 rounded-xl p-6",children:[m.jsx("h3",{className:"text-lg font-bold mb-2",children:"Admin Features Coming Soon"}),m.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[m.jsx("li",{children:" Create and manage Client Codes"}),m.jsx("li",{children:" Add and assign vending machines"}),m.jsx("li",{children:" View detailed analytics and reports"}),m.jsx("li",{children:" Manage contracts and billing"})]})]})]})})}};sx.createRoot(document.getElementById("root")).render(m.jsx(Ie.StrictMode,{children:m.jsx(PI,{children:m.jsx(LI,{})})}));
